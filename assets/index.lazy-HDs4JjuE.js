var Ra=Object.defineProperty;var $a=(t,i,e)=>i in t?Ra(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e;var Ze=(t,i,e)=>($a(t,typeof i!="symbol"?i+"":i,e),e);import{d as commonjsGlobal,e as getAugmentedNamespace,r as reactExports,j as jsxRuntimeExports,$ as $6vYhU$react,f as getDefaultExportFromCjs,h as createRoot,i as reactDomExports,k as $2AODx$react,m as $7SXl2$reactdom,c as createLazyFileRoute,a as useAppDispatch,u as useAppSelector,n as getFilesInBucket,o as getCurrentFileReview,p as updateReviews,q as clearCurrentFieReview,t as resetSubmitted,F as FullPageSpinner,S as Spinner,v as setReviews,w as saveReviewsForFile,x as getSignedUrl,y as getFilesFromStudentFolder}from"./index-BiFf_Ng5.js";import{u as useNavigate,B as BaseLayout}from"./BaseLayout-C7pQkym0.js";import{B as Button,b as $6ed0406888f73fc4$export$c7b2cbe3552a0d05,$ as $8927f6f2acc4f386$export$250ffa63cdc0d034,_ as _extends,c as $8927f6f2acc4f386$export$6d1a0317bde7de7f,a as $5e63c961fc1ce211$export$8c6ed5c666ac1360}from"./index-D984-yMA.js";import{c as cn,C as Card,b as CardHeader,d as CardTitle,f as CardContent,g as CardFooter}from"./card-CiRKOvfl.js";import{B as Badge,g as getRelativeDate,w as withAuthenticatedLayout}from"./date.utils-4zyRbXdc.js";var pdf_viewer={exports:{}};function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}},dommatrix={exports:{}};/*!
* DOMMatrix v1.0.3 (https://thednp.github.io/dommatrix/)
* Copyright 2022 Â© thednp
* Licensed under MIT (https://github.com/thednp/DOMMatrix/blob/master/LICENSE)
*/var hasRequiredDommatrix;function requireDommatrix(){return hasRequiredDommatrix||(hasRequiredDommatrix=1,function(t,i){(function(e,n){t.exports=n()})(commonjsGlobal,function(){function e(m){var b=new x,y=Array.from(m);if(!y.every(function(H){return!Number.isNaN(H)}))throw TypeError('CSSMatrix: "'+m+'" must only have numbers.');if(y.length===16){var h=y[0],v=y[1],A=y[2],P=y[3],R=y[4],$=y[5],D=y[6],X=y[7],W=y[8],U=y[9],N=y[10],z=y[11],B=y[12],I=y[13],j=y[14],J=y[15];b.m11=h,b.a=h,b.m21=R,b.c=R,b.m31=W,b.m41=B,b.e=B,b.m12=v,b.b=v,b.m22=$,b.d=$,b.m32=U,b.m42=I,b.f=I,b.m13=A,b.m23=D,b.m33=N,b.m43=j,b.m14=P,b.m24=X,b.m34=z,b.m44=J}else if(y.length===6){var Q=y[0],re=y[1],de=y[2],Y=y[3],M=y[4],k=y[5];b.m11=Q,b.a=Q,b.m12=re,b.b=re,b.m21=de,b.c=de,b.m22=Y,b.d=Y,b.m41=M,b.e=M,b.m42=k,b.f=k}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return b}function n(m){var b=Object.keys(new x);if(typeof m=="object"&&b.every(function(y){return y in m}))return e([m.m11,m.m12,m.m13,m.m14,m.m21,m.m22,m.m23,m.m24,m.m31,m.m32,m.m33,m.m34,m.m41,m.m42,m.m43,m.m44]);throw TypeError('CSSMatrix: "'+JSON.stringify(m)+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function a(m){if(typeof m!="string")throw TypeError('CSSMatrix: "'+m+'" is not a string.');var b=String(m).replace(/\s/g,""),y=new x,h='CSSMatrix: invalid transform string "'+m+'"';return b.split(")").filter(function(v){return v}).forEach(function(v){var A=v.split("("),P=A[0],R=A[1];if(!R)throw TypeError(h);var $=R.split(",").map(function(M){return M.includes("rad")?parseFloat(M)*(180/Math.PI):parseFloat(M)}),D=$[0],X=$[1],W=$[2],U=$[3],N=[D,X,W],z=[D,X,W,U];if(P==="perspective"&&D&&[X,W].every(function(M){return M===void 0}))y.m34=-1/D;else if(P.includes("matrix")&&[6,16].includes($.length)&&$.every(function(M){return!Number.isNaN(+M)})){var B=$.map(function(M){return Math.abs(M)<1e-6?0:M});y=y.multiply(e(B))}else if(P==="translate3d"&&N.every(function(M){return!Number.isNaN(+M)}))y=y.translate(D,X,W);else if(P==="translate"&&D&&W===void 0)y=y.translate(D,X||0,0);else if(P==="rotate3d"&&z.every(function(M){return!Number.isNaN(+M)})&&U)y=y.rotateAxisAngle(D,X,W,U);else if(P==="rotate"&&D&&[X,W].every(function(M){return M===void 0}))y=y.rotate(0,0,D);else if(P==="scale3d"&&N.every(function(M){return!Number.isNaN(+M)})&&N.some(function(M){return M!==1}))y=y.scale(D,X,W);else if(P==="scale"&&!Number.isNaN(D)&&D!==1&&W===void 0){var I=Number.isNaN(+X),j=I?D:X;y=y.scale(D,j,1)}else if(P==="skew"&&(D||!Number.isNaN(D)&&X)&&W===void 0)y=y.skew(D,X||0);else if(/[XYZ]/.test(P)&&D&&[X,W].every(function(M){return M===void 0})&&["translate","rotate","scale","skew"].some(function(M){return P.includes(M)}))if(["skewX","skewY"].includes(P))y=y[P](D);else{var J=P.replace(/[XYZ]/,""),Q=P.replace(J,""),re=["X","Y","Z"].indexOf(Q),de=J==="scale"?1:0,Y=[re===0?D:de,re===1?D:de,re===2?D:de];y=y[J].apply(y,Y)}else throw TypeError(h)}),y}function l(m,b){return b?[m.a,m.b,m.c,m.d,m.e,m.f]:[m.m11,m.m12,m.m13,m.m14,m.m21,m.m22,m.m23,m.m24,m.m31,m.m32,m.m33,m.m34,m.m41,m.m42,m.m43,m.m44]}function c(m,b,y){var h=new x;return h.m41=m,h.e=m,h.m42=b,h.f=b,h.m43=y,h}function o(m,b,y){var h=new x,v=Math.PI/180,A=m*v,P=b*v,R=y*v,$=Math.cos(A),D=-Math.sin(A),X=Math.cos(P),W=-Math.sin(P),U=Math.cos(R),N=-Math.sin(R),z=X*U,B=-X*N;h.m11=z,h.a=z,h.m12=B,h.b=B,h.m13=W;var I=D*W*U+$*N;h.m21=I,h.c=I;var j=$*U-D*W*N;return h.m22=j,h.d=j,h.m23=-D*X,h.m31=D*N-$*W*U,h.m32=D*U+$*W*N,h.m33=$*X,h}function f(m,b,y,h){var v=new x,A=Math.sqrt(m*m+b*b+y*y);if(A===0)return v;var P=m/A,R=b/A,$=y/A,D=h*(Math.PI/360),X=Math.sin(D),W=Math.cos(D),U=X*X,N=P*P,z=R*R,B=$*$,I=1-2*(z+B)*U;v.m11=I,v.a=I;var j=2*(P*R*U+$*X*W);v.m12=j,v.b=j,v.m13=2*(P*$*U-R*X*W);var J=2*(R*P*U-$*X*W);v.m21=J,v.c=J;var Q=1-2*(B+N)*U;return v.m22=Q,v.d=Q,v.m23=2*(R*$*U+P*X*W),v.m31=2*($*P*U+R*X*W),v.m32=2*($*R*U-P*X*W),v.m33=1-2*(N+z)*U,v}function u(m,b,y){var h=new x;return h.m11=m,h.a=m,h.m22=b,h.d=b,h.m33=y,h}function d(m,b){var y=new x;if(m){var h=m*Math.PI/180,v=Math.tan(h);y.m21=v,y.c=v}if(b){var A=b*Math.PI/180,P=Math.tan(A);y.m12=P,y.b=P}return y}function E(m){return d(m,0)}function p(m){return d(0,m)}function g(m,b){var y=b.m11*m.m11+b.m12*m.m21+b.m13*m.m31+b.m14*m.m41,h=b.m11*m.m12+b.m12*m.m22+b.m13*m.m32+b.m14*m.m42,v=b.m11*m.m13+b.m12*m.m23+b.m13*m.m33+b.m14*m.m43,A=b.m11*m.m14+b.m12*m.m24+b.m13*m.m34+b.m14*m.m44,P=b.m21*m.m11+b.m22*m.m21+b.m23*m.m31+b.m24*m.m41,R=b.m21*m.m12+b.m22*m.m22+b.m23*m.m32+b.m24*m.m42,$=b.m21*m.m13+b.m22*m.m23+b.m23*m.m33+b.m24*m.m43,D=b.m21*m.m14+b.m22*m.m24+b.m23*m.m34+b.m24*m.m44,X=b.m31*m.m11+b.m32*m.m21+b.m33*m.m31+b.m34*m.m41,W=b.m31*m.m12+b.m32*m.m22+b.m33*m.m32+b.m34*m.m42,U=b.m31*m.m13+b.m32*m.m23+b.m33*m.m33+b.m34*m.m43,N=b.m31*m.m14+b.m32*m.m24+b.m33*m.m34+b.m34*m.m44,z=b.m41*m.m11+b.m42*m.m21+b.m43*m.m31+b.m44*m.m41,B=b.m41*m.m12+b.m42*m.m22+b.m43*m.m32+b.m44*m.m42,I=b.m41*m.m13+b.m42*m.m23+b.m43*m.m33+b.m44*m.m43,j=b.m41*m.m14+b.m42*m.m24+b.m43*m.m34+b.m44*m.m44;return e([y,h,v,A,P,R,$,D,X,W,U,N,z,B,I,j])}var x=function(){for(var b=[],y=arguments.length;y--;)b[y]=arguments[y];var h=this;if(h.a=1,h.b=0,h.c=0,h.d=1,h.e=0,h.f=0,h.m11=1,h.m12=0,h.m13=0,h.m14=0,h.m21=0,h.m22=1,h.m23=0,h.m24=0,h.m31=0,h.m32=0,h.m33=1,h.m34=0,h.m41=0,h.m42=0,h.m43=0,h.m44=1,b.length){var v=[16,6].some(function(A){return A===b.length})?b:b[0];return h.setMatrixValue(v)}return h},S={isIdentity:{configurable:!0},is2D:{configurable:!0}};S.isIdentity.get=function(){var m=this;return m.m11===1&&m.m12===0&&m.m13===0&&m.m14===0&&m.m21===0&&m.m22===1&&m.m23===0&&m.m24===0&&m.m31===0&&m.m32===0&&m.m33===1&&m.m34===0&&m.m41===0&&m.m42===0&&m.m43===0&&m.m44===1},S.is2D.get=function(){var m=this;return m.m31===0&&m.m32===0&&m.m33===1&&m.m34===0&&m.m43===0&&m.m44===1},x.prototype.setMatrixValue=function(b){var y=this;return typeof b=="string"&&b.length&&b!=="none"?a(b):[Array,Float64Array,Float32Array].some(function(h){return b instanceof h})?e(b):[x,DOMMatrix,Object].some(function(h){return b instanceof h})?n(b):y},x.prototype.toFloat32Array=function(b){return Float32Array.from(l(this,b))},x.prototype.toFloat64Array=function(b){return Float64Array.from(l(this,b))},x.prototype.toString=function(){var b=this,y=b.is2D,h=b.toFloat64Array(y).join(", "),v=y?"matrix":"matrix3d";return v+"("+h+")"},x.prototype.toJSON=function(){var b=this,y=b.is2D,h=b.isIdentity;return Object.assign({},b,{is2D:y,isIdentity:h})},x.prototype.multiply=function(b){return g(this,b)},x.prototype.translate=function(b,y,h){var v=b,A=y,P=h;return A===void 0&&(A=0),P===void 0&&(P=0),g(this,c(v,A,P))},x.prototype.scale=function(b,y,h){var v=b,A=y,P=h;return A===void 0&&(A=b),P===void 0&&(P=1),g(this,u(v,A,P))},x.prototype.rotate=function(b,y,h){var v=b,A=y||0,P=h||0;return typeof b=="number"&&y===void 0&&h===void 0&&(P=v,v=0,A=0),g(this,o(v,A,P))},x.prototype.rotateAxisAngle=function(b,y,h,v){if([b,y,h,v].some(function(A){return Number.isNaN(+A)}))throw new TypeError("CSSMatrix: expecting 4 values");return g(this,f(b,y,h,v))},x.prototype.skewX=function(b){return g(this,E(b))},x.prototype.skewY=function(b){return g(this,p(b))},x.prototype.skew=function(b,y){return g(this,d(b,y))},x.prototype.transformPoint=function(b){var y=this,h=y.m11*b.x+y.m21*b.y+y.m31*b.z+y.m41*b.w,v=y.m12*b.x+y.m22*b.y+y.m32*b.z+y.m42*b.w,A=y.m13*b.x+y.m23*b.y+y.m33*b.z+y.m43*b.w,P=y.m14*b.x+y.m24*b.y+y.m34*b.z+y.m44*b.w;return b instanceof DOMPoint?new DOMPoint(h,v,A,P):{x:h,y:v,z:A,w:P}},Object.defineProperties(x.prototype,S),Object.assign(x,{Translate:c,Rotate:o,RotateAxisAngle:f,Scale:u,SkewX:E,SkewY:p,Skew:d,Multiply:g,fromArray:e,fromMatrix:n,fromString:a,toArray:l});var w="1.0.3",T=w;return Object.assign(x,{Version:T}),x})}(dommatrix)),dommatrix.exports}var ponyfill={exports:{}};/**
 * @license
 * web-streams-polyfill v3.3.3
 * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */var hasRequiredPonyfill;function requirePonyfill(){return hasRequiredPonyfill||(hasRequiredPonyfill=1,function(t,i){(function(e,n){n(i)})(commonjsGlobal,function(e){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(s){return"Symbol(".concat(s,")")};function a(s,_){var L={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},ee,ce,me,Ce;return Ce={next:We(0),throw:We(1),return:We(2)},typeof Symbol=="function"&&(Ce[Symbol.iterator]=function(){return this}),Ce;function We(Be){return function(Xe){return He([Be,Xe])}}function He(Be){if(ee)throw new TypeError("Generator is already executing.");for(;Ce&&(Ce=0,Be[0]&&(L=0)),L;)try{if(ee=1,ce&&(me=Be[0]&2?ce.return:Be[0]?ce.throw||((me=ce.return)&&me.call(ce),0):ce.next)&&!(me=me.call(ce,Be[1])).done)return me;switch(ce=0,me&&(Be=[Be[0]&2,me.value]),Be[0]){case 0:case 1:me=Be;break;case 4:return L.label++,{value:Be[1],done:!1};case 5:L.label++,ce=Be[1],Be=[0];continue;case 7:Be=L.ops.pop(),L.trys.pop();continue;default:if(me=L.trys,!(me=me.length>0&&me[me.length-1])&&(Be[0]===6||Be[0]===2)){L=0;continue}if(Be[0]===3&&(!me||Be[1]>me[0]&&Be[1]<me[3])){L.label=Be[1];break}if(Be[0]===6&&L.label<me[1]){L.label=me[1],me=Be;break}if(me&&L.label<me[2]){L.label=me[2],L.ops.push(Be);break}me[2]&&L.ops.pop(),L.trys.pop();continue}Be=_.call(s,L)}catch(Xe){Be=[6,Xe],ce=0}finally{ee=me=0}if(Be[0]&5)throw Be[1];return{value:Be[0]?Be[1]:void 0,done:!0}}}function l(s){var _=typeof Symbol=="function"&&Symbol.iterator,L=_&&s[_],ee=0;if(L)return L.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&ee>=s.length&&(s=void 0),{value:s&&s[ee++],done:!s}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(s){return this instanceof c?(this.v=s,this):new c(s)}function o(s,_,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee=L.apply(s,_||[]),ce,me=[];return ce={},Ce("next"),Ce("throw"),Ce("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function Ce(Je){ee[Je]&&(ce[Je]=function(ct){return new Promise(function(vt,_t){me.push([Je,ct,vt,_t])>1||We(Je,ct)})})}function We(Je,ct){try{He(ee[Je](ct))}catch(vt){Qe(me[0][3],vt)}}function He(Je){Je.value instanceof c?Promise.resolve(Je.value.v).then(Be,Xe):Qe(me[0][2],Je)}function Be(Je){We("next",Je)}function Xe(Je){We("throw",Je)}function Qe(Je,ct){Je(ct),me.shift(),me.length&&We(me[0][0],me[0][1])}}function f(s){var _,L;return _={},ee("next"),ee("throw",function(ce){throw ce}),ee("return"),_[Symbol.iterator]=function(){return this},_;function ee(ce,me){_[ce]=s[ce]?function(Ce){return(L=!L)?{value:c(s[ce](Ce)),done:!1}:me?me(Ce):Ce}:me}}function u(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _=s[Symbol.asyncIterator],L;return _?_.call(s):(s=typeof l=="function"?l(s):s[Symbol.iterator](),L={},ee("next"),ee("throw"),ee("return"),L[Symbol.asyncIterator]=function(){return this},L);function ee(me){L[me]=s[me]&&function(Ce){return new Promise(function(We,He){Ce=s[me](Ce),ce(We,He,Ce.done,Ce.value)})}}function ce(me,Ce,We,He){Promise.resolve(He).then(function(Be){me({value:Be,done:We})},Ce)}}typeof SuppressedError=="function"&&SuppressedError;function d(){}function E(s){return typeof s=="object"&&s!==null||typeof s=="function"}var p=d;function g(s,_){try{Object.defineProperty(s,"name",{value:_,configurable:!0})}catch{}}var x=Promise,S=Promise.prototype.then,w=Promise.reject.bind(x);function T(s){return new x(s)}function m(s){return T(function(_){return _(s)})}function b(s){return w(s)}function y(s,_,L){return S.call(s,_,L)}function h(s,_,L){y(y(s,_,L),void 0,p)}function v(s,_){h(s,_)}function A(s,_){h(s,void 0,_)}function P(s,_,L){return y(s,_,L)}function R(s){y(s,void 0,p)}var $=function(s){if(typeof queueMicrotask=="function")$=queueMicrotask;else{var _=m(void 0);$=function(L){return y(_,L)}}return $(s)};function D(s,_,L){if(typeof s!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(s,_,L)}function X(s,_,L){try{return m(D(s,_,L))}catch(ee){return b(ee)}}var W=16384,U=function(){function s(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(s.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),s.prototype.push=function(_){var L=this._back,ee=L;L._elements.length===W-1&&(ee={_elements:[],_next:void 0}),L._elements.push(_),ee!==L&&(this._back=ee,L._next=ee),++this._size},s.prototype.shift=function(){var _=this._front,L=_,ee=this._cursor,ce=ee+1,me=_._elements,Ce=me[ee];return ce===W&&(L=_._next,ce=0),--this._size,this._cursor=ce,_!==L&&(this._front=L),me[ee]=void 0,Ce},s.prototype.forEach=function(_){for(var L=this._cursor,ee=this._front,ce=ee._elements;(L!==ce.length||ee._next!==void 0)&&!(L===ce.length&&(ee=ee._next,ce=ee._elements,L=0,ce.length===0));)_(ce[L]),++L},s.prototype.peek=function(){var _=this._front,L=this._cursor;return _._elements[L]},s}(),N=n("[[AbortSteps]]"),z=n("[[ErrorSteps]]"),B=n("[[CancelSteps]]"),I=n("[[PullSteps]]"),j=n("[[ReleaseSteps]]");function J(s,_){s._ownerReadableStream=_,_._reader=s,_._state==="readable"?Y(s):_._state==="closed"?k(s):M(s,_._storedError)}function Q(s,_){var L=s._ownerReadableStream;return Et(L,_)}function re(s){var _=s._ownerReadableStream;_._state==="readable"?H(s,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):q(s,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),_._readableStreamController[j](),_._reader=void 0,s._ownerReadableStream=void 0}function de(s){return new TypeError("Cannot "+s+" a stream using a released reader")}function Y(s){s._closedPromise=T(function(_,L){s._closedPromise_resolve=_,s._closedPromise_reject=L})}function M(s,_){Y(s),H(s,_)}function k(s){Y(s),C(s)}function H(s,_){s._closedPromise_reject!==void 0&&(R(s._closedPromise),s._closedPromise_reject(_),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0)}function q(s,_){M(s,_)}function C(s){s._closedPromise_resolve!==void 0&&(s._closedPromise_resolve(void 0),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0)}var O=Number.isFinite||function(s){return typeof s=="number"&&isFinite(s)},F=Math.trunc||function(s){return s<0?Math.ceil(s):Math.floor(s)};function V(s){return typeof s=="object"||typeof s=="function"}function K(s,_){if(s!==void 0&&!V(s))throw new TypeError("".concat(_," is not an object."))}function Z(s,_){if(typeof s!="function")throw new TypeError("".concat(_," is not a function."))}function ae(s){return typeof s=="object"&&s!==null||typeof s=="function"}function le(s,_){if(!ae(s))throw new TypeError("".concat(_," is not an object."))}function pe(s,_,L){if(s===void 0)throw new TypeError("Parameter ".concat(_," is required in '").concat(L,"'."))}function be(s,_,L){if(s===void 0)throw new TypeError("".concat(_," is required in '").concat(L,"'."))}function ve(s){return Number(s)}function ye(s){return s===0?0:s}function Pe(s){return ye(F(s))}function ke(s,_){var L=0,ee=Number.MAX_SAFE_INTEGER,ce=Number(s);if(ce=ye(ce),!O(ce))throw new TypeError("".concat(_," is not a finite number"));if(ce=Pe(ce),ce<L||ce>ee)throw new TypeError("".concat(_," is outside the accepted range of ").concat(L," to ").concat(ee,", inclusive"));return!O(ce)||ce===0?0:ce}function Ie(s,_){if(!Dt(s))throw new TypeError("".concat(_," is not a ReadableStream."))}function De(s){return new Oe(s)}function Ve(s,_){s._reader._readRequests.push(_)}function ge(s,_,L){var ee=s._reader,ce=ee._readRequests.shift();L?ce._closeSteps():ce._chunkSteps(_)}function $e(s){return s._reader._readRequests.length}function Fe(s){var _=s._reader;return!(_===void 0||!Te(_))}var Oe=function(){function s(_){if(pe(_,1,"ReadableStreamDefaultReader"),Ie(_,"First parameter"),It(_))throw new TypeError("This stream has already been locked for exclusive reading by another reader");J(this,_),this._readRequests=new U}return Object.defineProperty(s.prototype,"closed",{get:function(){return Te(this)?this._closedPromise:b(Ee("closed"))},enumerable:!1,configurable:!0}),s.prototype.cancel=function(_){return _===void 0&&(_=void 0),Te(this)?this._ownerReadableStream===void 0?b(de("cancel")):Q(this,_):b(Ee("cancel"))},s.prototype.read=function(){if(!Te(this))return b(Ee("read"));if(this._ownerReadableStream===void 0)return b(de("read from"));var _,L,ee=T(function(me,Ce){_=me,L=Ce}),ce={_chunkSteps:function(me){return _({value:me,done:!1})},_closeSteps:function(){return _({value:void 0,done:!0})},_errorSteps:function(me){return L(me)}};return te(this,ce),ee},s.prototype.releaseLock=function(){if(!Te(this))throw Ee("releaseLock");this._ownerReadableStream!==void 0&&G(this)},s}();Object.defineProperties(Oe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),g(Oe.prototype.cancel,"cancel"),g(Oe.prototype.read,"read"),g(Oe.prototype.releaseLock,"releaseLock"),typeof n.toStringTag=="symbol"&&Object.defineProperty(Oe.prototype,n.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Te(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_readRequests")?!1:s instanceof Oe}function te(s,_){var L=s._ownerReadableStream;L._disturbed=!0,L._state==="closed"?_._closeSteps():L._state==="errored"?_._errorSteps(L._storedError):L._readableStreamController[I](_)}function G(s){re(s);var _=new TypeError("Reader was released");se(s,_)}function se(s,_){var L=s._readRequests;s._readRequests=new U,L.forEach(function(ee){ee._errorSteps(_)})}function Ee(s){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(s," can only be used on a ReadableStreamDefaultReader"))}var fe,Ae,Me;function ue(s){return s.slice()}function ne(s,_,L,ee,ce){new Uint8Array(s).set(new Uint8Array(L,ee,ce),_)}var oe=function(s){return typeof s.transfer=="function"?oe=function(_){return _.transfer()}:typeof structuredClone=="function"?oe=function(_){return structuredClone(_,{transfer:[_]})}:oe=function(_){return _},oe(s)},we=function(s){return typeof s.detached=="boolean"?we=function(_){return _.detached}:we=function(_){return _.byteLength===0},we(s)};function Se(s,_,L){if(s.slice)return s.slice(_,L);var ee=L-_,ce=new ArrayBuffer(ee);return ne(ce,0,s,_,ee),ce}function xe(s,_){var L=s[_];if(L!=null){if(typeof L!="function")throw new TypeError("".concat(String(_)," is not a function"));return L}}function he(s){var _,L=(_={},_[n.iterator]=function(){return s.iterator},_),ee=function(){return o(this,arguments,function(){return a(this,function(me){switch(me.label){case 0:return[5,l(f(u(L)))];case 1:return[4,c.apply(void 0,[me.sent()])];case 2:return[4,c.apply(void 0,[me.sent()])];case 3:return[2,me.sent()]}})})}(),ce=ee.next;return{iterator:ee,nextMethod:ce,done:!1}}var ie=(Me=(fe=n.asyncIterator)!==null&&fe!==void 0?fe:(Ae=n.for)===null||Ae===void 0?void 0:Ae.call(n,"Symbol.asyncIterator"))!==null&&Me!==void 0?Me:"@@asyncIterator";function _e(s,_,L){if(_===void 0&&(_="sync"),L===void 0)if(_==="async"){if(L=xe(s,ie),L===void 0){var ee=xe(s,n.iterator),ce=_e(s,"sync",ee);return he(ce)}}else L=xe(s,n.iterator);if(L===void 0)throw new TypeError("The object is not iterable");var me=D(L,s,[]);if(!E(me))throw new TypeError("The iterator method must return an object");var Ce=me.next;return{iterator:me,nextMethod:Ce,done:!1}}function Re(s){var _=D(s.nextMethod,s.iterator,[]);if(!E(_))throw new TypeError("The iterator.next() method must return an object");return _}function Le(s){return!!s.done}function ze(s){return s.value}var Ue,je=(Ue={},Ue[ie]=function(){return this},Ue);Object.defineProperty(je,ie,{enumerable:!1});var Ne=function(){function s(_,L){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=_,this._preventCancel=L}return s.prototype.next=function(){var _=this,L=function(){return _._nextSteps()};return this._ongoingPromise=this._ongoingPromise?P(this._ongoingPromise,L,L):L(),this._ongoingPromise},s.prototype.return=function(_){var L=this,ee=function(){return L._returnSteps(_)};return this._ongoingPromise?P(this._ongoingPromise,ee,ee):ee()},s.prototype._nextSteps=function(){var _=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var L=this._reader,ee,ce,me=T(function(We,He){ee=We,ce=He}),Ce={_chunkSteps:function(We){_._ongoingPromise=void 0,$(function(){return ee({value:We,done:!1})})},_closeSteps:function(){_._ongoingPromise=void 0,_._isFinished=!0,re(L),ee({value:void 0,done:!0})},_errorSteps:function(We){_._ongoingPromise=void 0,_._isFinished=!0,re(L),ce(We)}};return te(L,Ce),me},s.prototype._returnSteps=function(_){if(this._isFinished)return Promise.resolve({value:_,done:!0});this._isFinished=!0;var L=this._reader;if(!this._preventCancel){var ee=Q(L,_);return re(L),P(ee,function(){return{value:_,done:!0}})}return re(L),m({value:_,done:!0})},s}(),Ge={next:function(){return Ye(this)?this._asyncIteratorImpl.next():b(Ke("next"))},return:function(s){return Ye(this)?this._asyncIteratorImpl.return(s):b(Ke("return"))}};Object.setPrototypeOf(Ge,je);function rt(s,_){var L=De(s),ee=new Ne(L,_),ce=Object.create(Ge);return ce._asyncIteratorImpl=ee,ce}function Ye(s){if(!E(s)||!Object.prototype.hasOwnProperty.call(s,"_asyncIteratorImpl"))return!1;try{return s._asyncIteratorImpl instanceof Ne}catch{return!1}}function Ke(s){return new TypeError("ReadableStreamAsyncIterator.".concat(s," can only be used on a ReadableSteamAsyncIterator"))}var et=Number.isNaN||function(s){return s!==s};function tt(s){return!(typeof s!="number"||et(s)||s<0)}function lt(s){var _=Se(s.buffer,s.byteOffset,s.byteOffset+s.byteLength);return new Uint8Array(_)}function it(s){var _=s._queue.shift();return s._queueTotalSize-=_.size,s._queueTotalSize<0&&(s._queueTotalSize=0),_.value}function ot(s,_,L){if(!tt(L)||L===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");s._queue.push({value:_,size:L}),s._queueTotalSize+=L}function yt(s){var _=s._queue.peek();return _.value}function ht(s){s._queue=new U,s._queueTotalSize=0}function ft(s){return s===DataView}function ut(s){return ft(s.constructor)}function pt(s){return ft(s)?1:s.BYTES_PER_ELEMENT}var dt=function(){function s(){throw new TypeError("Illegal constructor")}return Object.defineProperty(s.prototype,"view",{get:function(){if(!kr(this))throw Nr("view");return this._view},enumerable:!1,configurable:!0}),s.prototype.respond=function(_){if(!kr(this))throw Nr("respond");if(pe(_,1,"respond"),_=ke(_,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(we(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");dr(this._associatedReadableByteStreamController,_)},s.prototype.respondWithNewView=function(_){if(!kr(this))throw Nr("respondWithNewView");if(pe(_,1,"respondWithNewView"),!ArrayBuffer.isView(_))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(we(_.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");hr(this._associatedReadableByteStreamController,_)},s}();Object.defineProperties(dt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),g(dt.prototype.respond,"respond"),g(dt.prototype.respondWithNewView,"respondWithNewView"),typeof n.toStringTag=="symbol"&&Object.defineProperty(dt.prototype,n.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Tt=function(){function s(){throw new TypeError("Illegal constructor")}return Object.defineProperty(s.prototype,"byobRequest",{get:function(){if(!Nt(this))throw er("byobRequest");return Fr(this)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"desiredSize",{get:function(){if(!Nt(this))throw er("desiredSize");return pn(this)},enumerable:!1,configurable:!0}),s.prototype.close=function(){if(!Nt(this))throw er("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var _=this._controlledReadableByteStream._state;if(_!=="readable")throw new TypeError("The stream (in ".concat(_," state) is not in the readable state and cannot be closed"));Jt(this)},s.prototype.enqueue=function(_){if(!Nt(this))throw er("enqueue");if(pe(_,1,"enqueue"),!ArrayBuffer.isView(_))throw new TypeError("chunk must be an array buffer view");if(_.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(_.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var L=this._controlledReadableByteStream._state;if(L!=="readable")throw new TypeError("The stream (in ".concat(L," state) is not in the readable state and cannot be enqueued to"));ur(this,_)},s.prototype.error=function(_){if(_===void 0&&(_=void 0),!Nt(this))throw er("error");St(this,_)},s.prototype[B]=function(_){nn(this),ht(this);var L=this._cancelAlgorithm(_);return cr(this),L},s.prototype[I]=function(_){var L=this._controlledReadableByteStream;if(this._queueTotalSize>0){fn(this,_);return}var ee=this._autoAllocateChunkSize;if(ee!==void 0){var ce=void 0;try{ce=new ArrayBuffer(ee)}catch(Ce){_._errorSteps(Ce);return}var me={buffer:ce,bufferByteLength:ee,byteOffset:0,byteLength:ee,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(me)}Ve(L,_),Bt(this)},s.prototype[j]=function(){if(this._pendingPullIntos.length>0){var _=this._pendingPullIntos.peek();_.readerType="none",this._pendingPullIntos=new U,this._pendingPullIntos.push(_)}},s}();Object.defineProperties(Tt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),g(Tt.prototype.close,"close"),g(Tt.prototype.enqueue,"enqueue"),g(Tt.prototype.error,"error"),typeof n.toStringTag=="symbol"&&Object.defineProperty(Tt.prototype,n.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Nt(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledReadableByteStream")?!1:s instanceof Tt}function kr(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_associatedReadableByteStreamController")?!1:s instanceof dt}function Bt(s){var _=si(s);if(_){if(s._pulling){s._pullAgain=!0;return}s._pulling=!0;var L=s._pullAlgorithm();h(L,function(){return s._pulling=!1,s._pullAgain&&(s._pullAgain=!1,Bt(s)),null},function(ee){return St(s,ee),null})}}function nn(s){Ir(s),s._pendingPullIntos=new U}function Dr(s,_){var L=!1;s._state==="closed"&&(L=!0);var ee=an(_);_.readerType==="default"?ge(s,ee,L):hi(s,ee,L)}function an(s){var _=s.bytesFilled,L=s.elementSize;return new s.viewConstructor(s.buffer,s.byteOffset,_/L)}function lr(s,_,L,ee){s._queue.push({buffer:_,byteOffset:L,byteLength:ee}),s._queueTotalSize+=ee}function sn(s,_,L,ee){var ce;try{ce=Se(_,L,L+ee)}catch(me){throw St(s,me),me}lr(s,ce,0,ee)}function on(s,_){_.bytesFilled>0&&sn(s,_.buffer,_.byteOffset,_.bytesFilled),Ht(s)}function ln(s,_){var L=Math.min(s._queueTotalSize,_.byteLength-_.bytesFilled),ee=_.bytesFilled+L,ce=L,me=!1,Ce=ee%_.elementSize,We=ee-Ce;We>=_.minimumFill&&(ce=We-_.bytesFilled,me=!0);for(var He=s._queue;ce>0;){var Be=He.peek(),Xe=Math.min(ce,Be.byteLength),Qe=_.byteOffset+_.bytesFilled;ne(_.buffer,Qe,Be.buffer,Be.byteOffset,Xe),Be.byteLength===Xe?He.shift():(Be.byteOffset+=Xe,Be.byteLength-=Xe),s._queueTotalSize-=Xe,un(s,Xe,_),ce-=Xe}return me}function un(s,_,L){L.bytesFilled+=_}function dn(s){s._queueTotalSize===0&&s._closeRequested?(cr(s),sr(s._controlledReadableByteStream)):Bt(s)}function Ir(s){s._byobRequest!==null&&(s._byobRequest._associatedReadableByteStreamController=void 0,s._byobRequest._view=null,s._byobRequest=null)}function Lr(s){for(;s._pendingPullIntos.length>0;){if(s._queueTotalSize===0)return;var _=s._pendingPullIntos.peek();ln(s,_)&&(Ht(s),Dr(s._controlledReadableByteStream,_))}}function ri(s){for(var _=s._controlledReadableByteStream._reader;_._readRequests.length>0;){if(s._queueTotalSize===0)return;var L=_._readRequests.shift();fn(s,L)}}function ni(s,_,L,ee){var ce=s._controlledReadableByteStream,me=_.constructor,Ce=pt(me),We=_.byteOffset,He=_.byteLength,Be=L*Ce,Xe;try{Xe=oe(_.buffer)}catch(_t){ee._errorSteps(_t);return}var Qe={buffer:Xe,bufferByteLength:Xe.byteLength,byteOffset:We,byteLength:He,bytesFilled:0,minimumFill:Be,elementSize:Ce,viewConstructor:me,readerType:"byob"};if(s._pendingPullIntos.length>0){s._pendingPullIntos.push(Qe),vn(ce,ee);return}if(ce._state==="closed"){var Je=new me(Qe.buffer,Qe.byteOffset,0);ee._closeSteps(Je);return}if(s._queueTotalSize>0){if(ln(s,Qe)){var ct=an(Qe);dn(s),ee._chunkSteps(ct);return}if(s._closeRequested){var vt=new TypeError("Insufficient bytes to fill elements in the given buffer");St(s,vt),ee._errorSteps(vt);return}}s._pendingPullIntos.push(Qe),vn(ce,ee),Bt(s)}function ii(s,_){_.readerType==="none"&&Ht(s);var L=s._controlledReadableByteStream;if(Br(L))for(;bn(L)>0;){var ee=Ht(s);Dr(L,ee)}}function ai(s,_,L){if(un(s,_,L),L.readerType==="none"){on(s,L),Lr(s);return}if(!(L.bytesFilled<L.minimumFill)){Ht(s);var ee=L.bytesFilled%L.elementSize;if(ee>0){var ce=L.byteOffset+L.bytesFilled;sn(s,L.buffer,ce-ee,ee)}L.bytesFilled-=ee,Dr(s._controlledReadableByteStream,L),Lr(s)}}function hn(s,_){var L=s._pendingPullIntos.peek();Ir(s);var ee=s._controlledReadableByteStream._state;ee==="closed"?ii(s,L):ai(s,_,L),Bt(s)}function Ht(s){var _=s._pendingPullIntos.shift();return _}function si(s){var _=s._controlledReadableByteStream;if(_._state!=="readable"||s._closeRequested||!s._started)return!1;if(Fe(_)&&$e(_)>0||Br(_)&&bn(_)>0)return!0;var L=pn(s);return L>0}function cr(s){s._pullAlgorithm=void 0,s._cancelAlgorithm=void 0}function Jt(s){var _=s._controlledReadableByteStream;if(!(s._closeRequested||_._state!=="readable")){if(s._queueTotalSize>0){s._closeRequested=!0;return}if(s._pendingPullIntos.length>0){var L=s._pendingPullIntos.peek();if(L.bytesFilled%L.elementSize!==0){var ee=new TypeError("Insufficient bytes to fill elements in the given buffer");throw St(s,ee),ee}}cr(s),sr(_)}}function ur(s,_){var L=s._controlledReadableByteStream;if(!(s._closeRequested||L._state!=="readable")){var ee=_.buffer,ce=_.byteOffset,me=_.byteLength;if(we(ee))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");var Ce=oe(ee);if(s._pendingPullIntos.length>0){var We=s._pendingPullIntos.peek();if(we(We.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Ir(s),We.buffer=oe(We.buffer),We.readerType==="none"&&on(s,We)}if(Fe(L))if(ri(s),$e(L)===0)lr(s,Ce,ce,me);else{s._pendingPullIntos.length>0&&Ht(s);var He=new Uint8Array(Ce,ce,me);ge(L,He,!1)}else Br(L)?(lr(s,Ce,ce,me),Lr(s)):lr(s,Ce,ce,me);Bt(s)}}function St(s,_){var L=s._controlledReadableByteStream;L._state==="readable"&&(nn(s),ht(s),cr(s),zn(L,_))}function fn(s,_){var L=s._queue.shift();s._queueTotalSize-=L.byteLength,dn(s);var ee=new Uint8Array(L.buffer,L.byteOffset,L.byteLength);_._chunkSteps(ee)}function Fr(s){if(s._byobRequest===null&&s._pendingPullIntos.length>0){var _=s._pendingPullIntos.peek(),L=new Uint8Array(_.buffer,_.byteOffset+_.bytesFilled,_.byteLength-_.bytesFilled),ee=Object.create(dt.prototype);li(ee,s,L),s._byobRequest=ee}return s._byobRequest}function pn(s){var _=s._controlledReadableByteStream._state;return _==="errored"?null:_==="closed"?0:s._strategyHWM-s._queueTotalSize}function dr(s,_){var L=s._pendingPullIntos.peek(),ee=s._controlledReadableByteStream._state;if(ee==="closed"){if(_!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(_===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(L.bytesFilled+_>L.byteLength)throw new RangeError("bytesWritten out of range")}L.buffer=oe(L.buffer),hn(s,_)}function hr(s,_){var L=s._pendingPullIntos.peek(),ee=s._controlledReadableByteStream._state;if(ee==="closed"){if(_.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(_.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(L.byteOffset+L.bytesFilled!==_.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(L.bufferByteLength!==_.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(L.bytesFilled+_.byteLength>L.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var ce=_.byteLength;L.buffer=oe(_.buffer),hn(s,ce)}function gn(s,_,L,ee,ce,me,Ce){_._controlledReadableByteStream=s,_._pullAgain=!1,_._pulling=!1,_._byobRequest=null,_._queue=_._queueTotalSize=void 0,ht(_),_._closeRequested=!1,_._started=!1,_._strategyHWM=me,_._pullAlgorithm=ee,_._cancelAlgorithm=ce,_._autoAllocateChunkSize=Ce,_._pendingPullIntos=new U,s._readableStreamController=_;var We=L();h(m(We),function(){return _._started=!0,Bt(_),null},function(He){return St(_,He),null})}function oi(s,_,L){var ee=Object.create(Tt.prototype),ce,me,Ce;_.start!==void 0?ce=function(){return _.start(ee)}:ce=function(){},_.pull!==void 0?me=function(){return _.pull(ee)}:me=function(){return m(void 0)},_.cancel!==void 0?Ce=function(He){return _.cancel(He)}:Ce=function(){return m(void 0)};var We=_.autoAllocateChunkSize;if(We===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");gn(s,ee,ce,me,Ce,L,We)}function li(s,_,L){s._associatedReadableByteStreamController=_,s._view=L}function Nr(s){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(s," can only be used on a ReadableStreamBYOBRequest"))}function er(s){return new TypeError("ReadableByteStreamController.prototype.".concat(s," can only be used on a ReadableByteStreamController"))}function ci(s,_){K(s,_);var L=s==null?void 0:s.mode;return{mode:L===void 0?void 0:ui(L,"".concat(_," has member 'mode' that"))}}function ui(s,_){if(s="".concat(s),s!=="byob")throw new TypeError("".concat(_," '").concat(s,"' is not a valid enumeration value for ReadableStreamReaderMode"));return s}function di(s,_){var L;K(s,_);var ee=(L=s==null?void 0:s.min)!==null&&L!==void 0?L:1;return{min:ke(ee,"".concat(_," has member 'min' that"))}}function mn(s){return new Ot(s)}function vn(s,_){s._reader._readIntoRequests.push(_)}function hi(s,_,L){var ee=s._reader,ce=ee._readIntoRequests.shift();L?ce._closeSteps(_):ce._chunkSteps(_)}function bn(s){return s._reader._readIntoRequests.length}function Br(s){var _=s._reader;return!(_===void 0||!Wt(_))}var Ot=function(){function s(_){if(pe(_,1,"ReadableStreamBYOBReader"),Ie(_,"First parameter"),It(_))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Nt(_._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");J(this,_),this._readIntoRequests=new U}return Object.defineProperty(s.prototype,"closed",{get:function(){return Wt(this)?this._closedPromise:b(fr("closed"))},enumerable:!1,configurable:!0}),s.prototype.cancel=function(_){return _===void 0&&(_=void 0),Wt(this)?this._ownerReadableStream===void 0?b(de("cancel")):Q(this,_):b(fr("cancel"))},s.prototype.read=function(_,L){if(L===void 0&&(L={}),!Wt(this))return b(fr("read"));if(!ArrayBuffer.isView(_))return b(new TypeError("view must be an array buffer view"));if(_.byteLength===0)return b(new TypeError("view must have non-zero byteLength"));if(_.buffer.byteLength===0)return b(new TypeError("view's buffer must have non-zero byteLength"));if(we(_.buffer))return b(new TypeError("view's buffer has been detached"));var ee;try{ee=di(L,"options")}catch(Be){return b(Be)}var ce=ee.min;if(ce===0)return b(new TypeError("options.min must be greater than 0"));if(ut(_)){if(ce>_.byteLength)return b(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(ce>_.length)return b(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return b(de("read from"));var me,Ce,We=T(function(Be,Xe){me=Be,Ce=Xe}),He={_chunkSteps:function(Be){return me({value:Be,done:!1})},_closeSteps:function(Be){return me({value:Be,done:!0})},_errorSteps:function(Be){return Ce(Be)}};return yn(this,_,ce,He),We},s.prototype.releaseLock=function(){if(!Wt(this))throw fr("releaseLock");this._ownerReadableStream!==void 0&&fi(this)},s}();Object.defineProperties(Ot.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),g(Ot.prototype.cancel,"cancel"),g(Ot.prototype.read,"read"),g(Ot.prototype.releaseLock,"releaseLock"),typeof n.toStringTag=="symbol"&&Object.defineProperty(Ot.prototype,n.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Wt(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_readIntoRequests")?!1:s instanceof Ot}function yn(s,_,L,ee){var ce=s._ownerReadableStream;ce._disturbed=!0,ce._state==="errored"?ee._errorSteps(ce._storedError):ni(ce._readableStreamController,_,L,ee)}function fi(s){re(s);var _=new TypeError("Reader was released");Sn(s,_)}function Sn(s,_){var L=s._readIntoRequests;s._readIntoRequests=new U,L.forEach(function(ee){ee._errorSteps(_)})}function fr(s){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(s," can only be used on a ReadableStreamBYOBReader"))}function tr(s,_){var L=s.highWaterMark;if(L===void 0)return _;if(et(L)||L<0)throw new RangeError("Invalid highWaterMark");return L}function pr(s){var _=s.size;return _||function(){return 1}}function gr(s,_){K(s,_);var L=s==null?void 0:s.highWaterMark,ee=s==null?void 0:s.size;return{highWaterMark:L===void 0?void 0:ve(L),size:ee===void 0?void 0:pi(ee,"".concat(_," has member 'size' that"))}}function pi(s,_){return Z(s,_),function(L){return ve(s(L))}}function gi(s,_){K(s,_);var L=s==null?void 0:s.abort,ee=s==null?void 0:s.close,ce=s==null?void 0:s.start,me=s==null?void 0:s.type,Ce=s==null?void 0:s.write;return{abort:L===void 0?void 0:mi(L,s,"".concat(_," has member 'abort' that")),close:ee===void 0?void 0:vi(ee,s,"".concat(_," has member 'close' that")),start:ce===void 0?void 0:bi(ce,s,"".concat(_," has member 'start' that")),write:Ce===void 0?void 0:yi(Ce,s,"".concat(_," has member 'write' that")),type:me}}function mi(s,_,L){return Z(s,L),function(ee){return X(s,_,[ee])}}function vi(s,_,L){return Z(s,L),function(){return X(s,_,[])}}function bi(s,_,L){return Z(s,L),function(ee){return D(s,_,[ee])}}function yi(s,_,L){return Z(s,L),function(ee,ce){return X(s,_,[ee,ce])}}function _n(s,_){if(!Gt(s))throw new TypeError("".concat(_," is not a WritableStream."))}function Si(s){if(typeof s!="object"||s===null)return!1;try{return typeof s.aborted=="boolean"}catch{return!1}}var _i=typeof AbortController=="function";function xi(){if(_i)return new AbortController}var kt=function(){function s(_,L){_===void 0&&(_={}),L===void 0&&(L={}),_===void 0?_=null:le(_,"First parameter");var ee=gr(L,"Second parameter"),ce=gi(_,"First parameter");En(this);var me=ce.type;if(me!==void 0)throw new RangeError("Invalid type is specified");var Ce=pr(ee),We=tr(ee,1);Li(this,ce,We,Ce)}return Object.defineProperty(s.prototype,"locked",{get:function(){if(!Gt(this))throw Sr("locked");return Xt(this)},enumerable:!1,configurable:!0}),s.prototype.abort=function(_){return _===void 0&&(_=void 0),Gt(this)?Xt(this)?b(new TypeError("Cannot abort a stream that already has a writer")):mr(this,_):b(Sr("abort"))},s.prototype.close=function(){return Gt(this)?Xt(this)?b(new TypeError("Cannot close a stream that already has a writer")):wt(this)?b(new TypeError("Cannot close an already-closing stream")):wn(this):b(Sr("close"))},s.prototype.getWriter=function(){if(!Gt(this))throw Sr("getWriter");return xn(this)},s}();Object.defineProperties(kt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),g(kt.prototype.abort,"abort"),g(kt.prototype.close,"close"),g(kt.prototype.getWriter,"getWriter"),typeof n.toStringTag=="symbol"&&Object.defineProperty(kt.prototype,n.toStringTag,{value:"WritableStream",configurable:!0});function xn(s){return new Rt(s)}function Ei(s,_,L,ee,ce,me){ce===void 0&&(ce=1),me===void 0&&(me=function(){return 1});var Ce=Object.create(kt.prototype);En(Ce);var We=Object.create(Yt.prototype);return $n(Ce,We,s,_,L,ee,ce,me),Ce}function En(s){s._state="writable",s._storedError=void 0,s._writer=void 0,s._writableStreamController=void 0,s._writeRequests=new U,s._inFlightWriteRequest=void 0,s._closeRequest=void 0,s._inFlightCloseRequest=void 0,s._pendingAbortRequest=void 0,s._backpressure=!1}function Gt(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_writableStreamController")?!1:s instanceof kt}function Xt(s){return s._writer!==void 0}function mr(s,_){var L;if(s._state==="closed"||s._state==="errored")return m(void 0);s._writableStreamController._abortReason=_,(L=s._writableStreamController._abortController)===null||L===void 0||L.abort(_);var ee=s._state;if(ee==="closed"||ee==="errored")return m(void 0);if(s._pendingAbortRequest!==void 0)return s._pendingAbortRequest._promise;var ce=!1;ee==="erroring"&&(ce=!0,_=void 0);var me=T(function(Ce,We){s._pendingAbortRequest={_promise:void 0,_resolve:Ce,_reject:We,_reason:_,_wasAlreadyErroring:ce}});return s._pendingAbortRequest._promise=me,ce||jr(s,_),me}function wn(s){var _=s._state;if(_==="closed"||_==="errored")return b(new TypeError("The stream (in ".concat(_," state) is not in the writable state and cannot be closed")));var L=T(function(ce,me){var Ce={_resolve:ce,_reject:me};s._closeRequest=Ce}),ee=s._writer;return ee!==void 0&&s._backpressure&&_==="writable"&&qr(ee),Fi(s._writableStreamController),L}function wi(s){var _=T(function(L,ee){var ce={_resolve:L,_reject:ee};s._writeRequests.push(ce)});return _}function Wr(s,_){var L=s._state;if(L==="writable"){jr(s,_);return}zr(s)}function jr(s,_){var L=s._writableStreamController;s._state="erroring",s._storedError=_;var ee=s._writer;ee!==void 0&&Pn(ee,_),!Ri(s)&&L._started&&zr(s)}function zr(s){s._state="errored",s._writableStreamController[z]();var _=s._storedError;if(s._writeRequests.forEach(function(ce){ce._reject(_)}),s._writeRequests=new U,s._pendingAbortRequest===void 0){vr(s);return}var L=s._pendingAbortRequest;if(s._pendingAbortRequest=void 0,L._wasAlreadyErroring){L._reject(_),vr(s);return}var ee=s._writableStreamController[N](L._reason);h(ee,function(){return L._resolve(),vr(s),null},function(ce){return L._reject(ce),vr(s),null})}function Ai(s){s._inFlightWriteRequest._resolve(void 0),s._inFlightWriteRequest=void 0}function Pi(s,_){s._inFlightWriteRequest._reject(_),s._inFlightWriteRequest=void 0,Wr(s,_)}function Ci(s){s._inFlightCloseRequest._resolve(void 0),s._inFlightCloseRequest=void 0;var _=s._state;_==="erroring"&&(s._storedError=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._resolve(),s._pendingAbortRequest=void 0)),s._state="closed";var L=s._writer;L!==void 0&&Dn(L)}function Ti(s,_){s._inFlightCloseRequest._reject(_),s._inFlightCloseRequest=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._reject(_),s._pendingAbortRequest=void 0),Wr(s,_)}function wt(s){return!(s._closeRequest===void 0&&s._inFlightCloseRequest===void 0)}function Ri(s){return!(s._inFlightWriteRequest===void 0&&s._inFlightCloseRequest===void 0)}function $i(s){s._inFlightCloseRequest=s._closeRequest,s._closeRequest=void 0}function Mi(s){s._inFlightWriteRequest=s._writeRequests.shift()}function vr(s){s._closeRequest!==void 0&&(s._closeRequest._reject(s._storedError),s._closeRequest=void 0);var _=s._writer;_!==void 0&&Xr(_,s._storedError)}function Ur(s,_){var L=s._writer;L!==void 0&&_!==s._backpressure&&(_?Vi(L):qr(L)),s._backpressure=_}var Rt=function(){function s(_){if(pe(_,1,"WritableStreamDefaultWriter"),_n(_,"First parameter"),Xt(_))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=_,_._writer=this;var L=_._state;if(L==="writable")!wt(_)&&_._backpressure?xr(this):In(this),_r(this);else if(L==="erroring")Yr(this,_._storedError),_r(this);else if(L==="closed")In(this),zi(this);else{var ee=_._storedError;Yr(this,ee),kn(this,ee)}}return Object.defineProperty(s.prototype,"closed",{get:function(){return jt(this)?this._closedPromise:b(zt("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"desiredSize",{get:function(){if(!jt(this))throw zt("desiredSize");if(this._ownerWritableStream===void 0)throw nr("desiredSize");return Ii(this)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ready",{get:function(){return jt(this)?this._readyPromise:b(zt("ready"))},enumerable:!1,configurable:!0}),s.prototype.abort=function(_){return _===void 0&&(_=void 0),jt(this)?this._ownerWritableStream===void 0?b(nr("abort")):Oi(this,_):b(zt("abort"))},s.prototype.close=function(){if(!jt(this))return b(zt("close"));var _=this._ownerWritableStream;return _===void 0?b(nr("close")):wt(_)?b(new TypeError("Cannot close an already-closing stream")):An(this)},s.prototype.releaseLock=function(){if(!jt(this))throw zt("releaseLock");var _=this._ownerWritableStream;_!==void 0&&Cn(this)},s.prototype.write=function(_){return _===void 0&&(_=void 0),jt(this)?this._ownerWritableStream===void 0?b(nr("write to")):Tn(this,_):b(zt("write"))},s}();Object.defineProperties(Rt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),g(Rt.prototype.abort,"abort"),g(Rt.prototype.close,"close"),g(Rt.prototype.releaseLock,"releaseLock"),g(Rt.prototype.write,"write"),typeof n.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,n.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function jt(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_ownerWritableStream")?!1:s instanceof Rt}function Oi(s,_){var L=s._ownerWritableStream;return mr(L,_)}function An(s){var _=s._ownerWritableStream;return wn(_)}function ki(s){var _=s._ownerWritableStream,L=_._state;return wt(_)||L==="closed"?m(void 0):L==="errored"?b(_._storedError):An(s)}function Di(s,_){s._closedPromiseState==="pending"?Xr(s,_):Ui(s,_)}function Pn(s,_){s._readyPromiseState==="pending"?Ln(s,_):Hi(s,_)}function Ii(s){var _=s._ownerWritableStream,L=_._state;return L==="errored"||L==="erroring"?null:L==="closed"?0:Mn(_._writableStreamController)}function Cn(s){var _=s._ownerWritableStream,L=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Pn(s,L),Di(s,L),_._writer=void 0,s._ownerWritableStream=void 0}function Tn(s,_){var L=s._ownerWritableStream,ee=L._writableStreamController,ce=Ni(ee,_);if(L!==s._ownerWritableStream)return b(nr("write to"));var me=L._state;if(me==="errored")return b(L._storedError);if(wt(L)||me==="closed")return b(new TypeError("The stream is closing or closed and cannot be written to"));if(me==="erroring")return b(L._storedError);var Ce=wi(L);return Bi(ee,_,ce),Ce}var Rn={},Yt=function(){function s(){throw new TypeError("Illegal constructor")}return Object.defineProperty(s.prototype,"abortReason",{get:function(){if(!Vr(this))throw Gr("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"signal",{get:function(){if(!Vr(this))throw Gr("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),s.prototype.error=function(_){if(_===void 0&&(_=void 0),!Vr(this))throw Gr("error");var L=this._controlledWritableStream._state;L==="writable"&&On(this,_)},s.prototype[N]=function(_){var L=this._abortAlgorithm(_);return br(this),L},s.prototype[z]=function(){ht(this)},s}();Object.defineProperties(Yt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Yt.prototype,n.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Vr(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledWritableStream")?!1:s instanceof Yt}function $n(s,_,L,ee,ce,me,Ce,We){_._controlledWritableStream=s,s._writableStreamController=_,_._queue=void 0,_._queueTotalSize=void 0,ht(_),_._abortReason=void 0,_._abortController=xi(),_._started=!1,_._strategySizeAlgorithm=We,_._strategyHWM=Ce,_._writeAlgorithm=ee,_._closeAlgorithm=ce,_._abortAlgorithm=me;var He=Hr(_);Ur(s,He);var Be=L(),Xe=m(Be);h(Xe,function(){return _._started=!0,yr(_),null},function(Qe){return _._started=!0,Wr(s,Qe),null})}function Li(s,_,L,ee){var ce=Object.create(Yt.prototype),me,Ce,We,He;_.start!==void 0?me=function(){return _.start(ce)}:me=function(){},_.write!==void 0?Ce=function(Be){return _.write(Be,ce)}:Ce=function(){return m(void 0)},_.close!==void 0?We=function(){return _.close()}:We=function(){return m(void 0)},_.abort!==void 0?He=function(Be){return _.abort(Be)}:He=function(){return m(void 0)},$n(s,ce,me,Ce,We,He,L,ee)}function br(s){s._writeAlgorithm=void 0,s._closeAlgorithm=void 0,s._abortAlgorithm=void 0,s._strategySizeAlgorithm=void 0}function Fi(s){ot(s,Rn,0),yr(s)}function Ni(s,_){try{return s._strategySizeAlgorithm(_)}catch(L){return rr(s,L),1}}function Mn(s){return s._strategyHWM-s._queueTotalSize}function Bi(s,_,L){try{ot(s,_,L)}catch(me){rr(s,me);return}var ee=s._controlledWritableStream;if(!wt(ee)&&ee._state==="writable"){var ce=Hr(s);Ur(ee,ce)}yr(s)}function yr(s){var _=s._controlledWritableStream;if(s._started&&_._inFlightWriteRequest===void 0){var L=_._state;if(L==="erroring"){zr(_);return}if(s._queue.length!==0){var ee=yt(s);ee===Rn?Wi(s):ji(s,ee)}}}function rr(s,_){s._controlledWritableStream._state==="writable"&&On(s,_)}function Wi(s){var _=s._controlledWritableStream;$i(_),it(s);var L=s._closeAlgorithm();br(s),h(L,function(){return Ci(_),null},function(ee){return Ti(_,ee),null})}function ji(s,_){var L=s._controlledWritableStream;Mi(L);var ee=s._writeAlgorithm(_);h(ee,function(){Ai(L);var ce=L._state;if(it(s),!wt(L)&&ce==="writable"){var me=Hr(s);Ur(L,me)}return yr(s),null},function(ce){return L._state==="writable"&&br(s),Pi(L,ce),null})}function Hr(s){var _=Mn(s);return _<=0}function On(s,_){var L=s._controlledWritableStream;br(s),jr(L,_)}function Sr(s){return new TypeError("WritableStream.prototype.".concat(s," can only be used on a WritableStream"))}function Gr(s){return new TypeError("WritableStreamDefaultController.prototype.".concat(s," can only be used on a WritableStreamDefaultController"))}function zt(s){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(s," can only be used on a WritableStreamDefaultWriter"))}function nr(s){return new TypeError("Cannot "+s+" a stream using a released writer")}function _r(s){s._closedPromise=T(function(_,L){s._closedPromise_resolve=_,s._closedPromise_reject=L,s._closedPromiseState="pending"})}function kn(s,_){_r(s),Xr(s,_)}function zi(s){_r(s),Dn(s)}function Xr(s,_){s._closedPromise_reject!==void 0&&(R(s._closedPromise),s._closedPromise_reject(_),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0,s._closedPromiseState="rejected")}function Ui(s,_){kn(s,_)}function Dn(s){s._closedPromise_resolve!==void 0&&(s._closedPromise_resolve(void 0),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0,s._closedPromiseState="resolved")}function xr(s){s._readyPromise=T(function(_,L){s._readyPromise_resolve=_,s._readyPromise_reject=L}),s._readyPromiseState="pending"}function Yr(s,_){xr(s),Ln(s,_)}function In(s){xr(s),qr(s)}function Ln(s,_){s._readyPromise_reject!==void 0&&(R(s._readyPromise),s._readyPromise_reject(_),s._readyPromise_resolve=void 0,s._readyPromise_reject=void 0,s._readyPromiseState="rejected")}function Vi(s){xr(s)}function Hi(s,_){Yr(s,_)}function qr(s){s._readyPromise_resolve!==void 0&&(s._readyPromise_resolve(void 0),s._readyPromise_resolve=void 0,s._readyPromise_reject=void 0,s._readyPromiseState="fulfilled")}function Gi(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof commonjsGlobal<"u")return commonjsGlobal}var Kr=Gi();function Xi(s){if(!(typeof s=="function"||typeof s=="object")||s.name!=="DOMException")return!1;try{return new s,!0}catch{return!1}}function Yi(){var s=Kr==null?void 0:Kr.DOMException;return Xi(s)?s:void 0}function qi(){var s=function(L,ee){this.message=L||"",this.name=ee||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return g(s,"DOMException"),s.prototype=Object.create(Error.prototype),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,configurable:!0}),s}var Ki=Yi()||qi();function Fn(s,_,L,ee,ce,me){var Ce=De(s),We=xn(_);s._disturbed=!0;var He=!1,Be=m(void 0);return T(function(Xe,Qe){var Je;if(me!==void 0){if(Je=function(){var qe=me.reason!==void 0?me.reason:new Ki("Aborted","AbortError"),nt=[];ee||nt.push(function(){return _._state==="writable"?mr(_,qe):m(void 0)}),ce||nt.push(function(){return s._state==="readable"?Et(s,qe):m(void 0)}),bt(function(){return Promise.all(nt.map(function(st){return st()}))},!0,qe)},me.aborted){Je();return}me.addEventListener("abort",Je)}function ct(){return T(function(qe,nt){function st(Ct){Ct?qe():y(vt(),st,nt)}st(!1)})}function vt(){return He?m(!0):y(We._readyPromise,function(){return T(function(qe,nt){te(Ce,{_chunkSteps:function(st){Be=y(Tn(We,st),void 0,d),qe(!1)},_closeSteps:function(){return qe(!0)},_errorSteps:nt})})})}if(gt(s,Ce._closedPromise,function(qe){return ee?Mt(!0,qe):bt(function(){return mr(_,qe)},!0,qe),null}),gt(_,We._closedPromise,function(qe){return ce?Mt(!0,qe):bt(function(){return Et(s,qe)},!0,qe),null}),Pt(s,Ce._closedPromise,function(){return L?Mt():bt(function(){return ki(We)}),null}),wt(_)||_._state==="closed"){var _t=new TypeError("the destination writable stream closed before all data could be piped to it");ce?Mt(!0,_t):bt(function(){return Et(s,_t)},!0,_t)}R(ct());function At(){var qe=Be;return y(Be,function(){return qe!==Be?At():void 0})}function gt(qe,nt,st){qe._state==="errored"?st(qe._storedError):A(nt,st)}function Pt(qe,nt,st){qe._state==="closed"?st():v(nt,st)}function bt(qe,nt,st){if(He)return;He=!0,_._state==="writable"&&!wt(_)?v(At(),Ct):Ct();function Ct(){return h(qe(),function(){return at(nt,st)},function(Ft){return at(!0,Ft)}),null}}function Mt(qe,nt){He||(He=!0,_._state==="writable"&&!wt(_)?v(At(),function(){return at(qe,nt)}):at(qe,nt))}function at(qe,nt){return Cn(We),re(Ce),me!==void 0&&me.removeEventListener("abort",Je),qe?Qe(nt):Xe(void 0),null}})}var $t=function(){function s(){throw new TypeError("Illegal constructor")}return Object.defineProperty(s.prototype,"desiredSize",{get:function(){if(!Er(this))throw Ar("desiredSize");return Qr(this)},enumerable:!1,configurable:!0}),s.prototype.close=function(){if(!Er(this))throw Ar("close");if(!Kt(this))throw new TypeError("The stream is not in a state that permits close");Ut(this)},s.prototype.enqueue=function(_){if(_===void 0&&(_=void 0),!Er(this))throw Ar("enqueue");if(!Kt(this))throw new TypeError("The stream is not in a state that permits enqueue");return qt(this,_)},s.prototype.error=function(_){if(_===void 0&&(_=void 0),!Er(this))throw Ar("error");xt(this,_)},s.prototype[B]=function(_){ht(this);var L=this._cancelAlgorithm(_);return wr(this),L},s.prototype[I]=function(_){var L=this._controlledReadableStream;if(this._queue.length>0){var ee=it(this);this._closeRequested&&this._queue.length===0?(wr(this),sr(L)):ir(this),_._chunkSteps(ee)}else Ve(L,_),ir(this)},s.prototype[j]=function(){},s}();Object.defineProperties($t.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),g($t.prototype.close,"close"),g($t.prototype.enqueue,"enqueue"),g($t.prototype.error,"error"),typeof n.toStringTag=="symbol"&&Object.defineProperty($t.prototype,n.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Er(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledReadableStream")?!1:s instanceof $t}function ir(s){var _=Nn(s);if(_){if(s._pulling){s._pullAgain=!0;return}s._pulling=!0;var L=s._pullAlgorithm();h(L,function(){return s._pulling=!1,s._pullAgain&&(s._pullAgain=!1,ir(s)),null},function(ee){return xt(s,ee),null})}}function Nn(s){var _=s._controlledReadableStream;if(!Kt(s)||!s._started)return!1;if(It(_)&&$e(_)>0)return!0;var L=Qr(s);return L>0}function wr(s){s._pullAlgorithm=void 0,s._cancelAlgorithm=void 0,s._strategySizeAlgorithm=void 0}function Ut(s){if(Kt(s)){var _=s._controlledReadableStream;s._closeRequested=!0,s._queue.length===0&&(wr(s),sr(_))}}function qt(s,_){if(Kt(s)){var L=s._controlledReadableStream;if(It(L)&&$e(L)>0)ge(L,_,!1);else{var ee=void 0;try{ee=s._strategySizeAlgorithm(_)}catch(ce){throw xt(s,ce),ce}try{ot(s,_,ee)}catch(ce){throw xt(s,ce),ce}}ir(s)}}function xt(s,_){var L=s._controlledReadableStream;L._state==="readable"&&(ht(s),wr(s),zn(L,_))}function Qr(s){var _=s._controlledReadableStream._state;return _==="errored"?null:_==="closed"?0:s._strategyHWM-s._queueTotalSize}function Qi(s){return!Nn(s)}function Kt(s){var _=s._controlledReadableStream._state;return!s._closeRequested&&_==="readable"}function Bn(s,_,L,ee,ce,me,Ce){_._controlledReadableStream=s,_._queue=void 0,_._queueTotalSize=void 0,ht(_),_._started=!1,_._closeRequested=!1,_._pullAgain=!1,_._pulling=!1,_._strategySizeAlgorithm=Ce,_._strategyHWM=me,_._pullAlgorithm=ee,_._cancelAlgorithm=ce,s._readableStreamController=_;var We=L();h(m(We),function(){return _._started=!0,ir(_),null},function(He){return xt(_,He),null})}function Zi(s,_,L,ee){var ce=Object.create($t.prototype),me,Ce,We;_.start!==void 0?me=function(){return _.start(ce)}:me=function(){},_.pull!==void 0?Ce=function(){return _.pull(ce)}:Ce=function(){return m(void 0)},_.cancel!==void 0?We=function(He){return _.cancel(He)}:We=function(){return m(void 0)},Bn(s,ce,me,Ce,We,L,ee)}function Ar(s){return new TypeError("ReadableStreamDefaultController.prototype.".concat(s," can only be used on a ReadableStreamDefaultController"))}function Ji(s,_){return Nt(s._readableStreamController)?ta(s):ea(s)}function ea(s,_){var L=De(s),ee=!1,ce=!1,me=!1,Ce=!1,We,He,Be,Xe,Qe,Je=T(function(gt){Qe=gt});function ct(){if(ee)return ce=!0,m(void 0);ee=!0;var gt={_chunkSteps:function(Pt){$(function(){ce=!1;var bt=Pt,Mt=Pt;me||qt(Be._readableStreamController,bt),Ce||qt(Xe._readableStreamController,Mt),ee=!1,ce&&ct()})},_closeSteps:function(){ee=!1,me||Ut(Be._readableStreamController),Ce||Ut(Xe._readableStreamController),(!me||!Ce)&&Qe(void 0)},_errorSteps:function(){ee=!1}};return te(L,gt),m(void 0)}function vt(gt){if(me=!0,We=gt,Ce){var Pt=ue([We,He]),bt=Et(s,Pt);Qe(bt)}return Je}function _t(gt){if(Ce=!0,He=gt,me){var Pt=ue([We,He]),bt=Et(s,Pt);Qe(bt)}return Je}function At(){}return Be=ar(At,ct,vt),Xe=ar(At,ct,_t),A(L._closedPromise,function(gt){return xt(Be._readableStreamController,gt),xt(Xe._readableStreamController,gt),(!me||!Ce)&&Qe(void 0),null}),[Be,Xe]}function ta(s){var _=De(s),L=!1,ee=!1,ce=!1,me=!1,Ce=!1,We,He,Be,Xe,Qe,Je=T(function(at){Qe=at});function ct(at){A(at._closedPromise,function(qe){return at!==_||(St(Be._readableStreamController,qe),St(Xe._readableStreamController,qe),(!me||!Ce)&&Qe(void 0)),null})}function vt(){Wt(_)&&(re(_),_=De(s),ct(_));var at={_chunkSteps:function(qe){$(function(){ee=!1,ce=!1;var nt=qe,st=qe;if(!me&&!Ce)try{st=lt(qe)}catch(Ct){St(Be._readableStreamController,Ct),St(Xe._readableStreamController,Ct),Qe(Et(s,Ct));return}me||ur(Be._readableStreamController,nt),Ce||ur(Xe._readableStreamController,st),L=!1,ee?At():ce&&gt()})},_closeSteps:function(){L=!1,me||Jt(Be._readableStreamController),Ce||Jt(Xe._readableStreamController),Be._readableStreamController._pendingPullIntos.length>0&&dr(Be._readableStreamController,0),Xe._readableStreamController._pendingPullIntos.length>0&&dr(Xe._readableStreamController,0),(!me||!Ce)&&Qe(void 0)},_errorSteps:function(){L=!1}};te(_,at)}function _t(at,qe){Te(_)&&(re(_),_=mn(s),ct(_));var nt=qe?Xe:Be,st=qe?Be:Xe,Ct={_chunkSteps:function(Ft){$(function(){ee=!1,ce=!1;var Zt=qe?Ce:me,or=qe?me:Ce;if(or)Zt||hr(nt._readableStreamController,Ft);else{var ti=void 0;try{ti=lt(Ft)}catch(rn){St(nt._readableStreamController,rn),St(st._readableStreamController,rn),Qe(Et(s,rn));return}Zt||hr(nt._readableStreamController,Ft),ur(st._readableStreamController,ti)}L=!1,ee?At():ce&&gt()})},_closeSteps:function(Ft){L=!1;var Zt=qe?Ce:me,or=qe?me:Ce;Zt||Jt(nt._readableStreamController),or||Jt(st._readableStreamController),Ft!==void 0&&(Zt||hr(nt._readableStreamController,Ft),!or&&st._readableStreamController._pendingPullIntos.length>0&&dr(st._readableStreamController,0)),(!Zt||!or)&&Qe(void 0)},_errorSteps:function(){L=!1}};yn(_,at,1,Ct)}function At(){if(L)return ee=!0,m(void 0);L=!0;var at=Fr(Be._readableStreamController);return at===null?vt():_t(at._view,!1),m(void 0)}function gt(){if(L)return ce=!0,m(void 0);L=!0;var at=Fr(Xe._readableStreamController);return at===null?vt():_t(at._view,!0),m(void 0)}function Pt(at){if(me=!0,We=at,Ce){var qe=ue([We,He]),nt=Et(s,qe);Qe(nt)}return Je}function bt(at){if(Ce=!0,He=at,me){var qe=ue([We,He]),nt=Et(s,qe);Qe(nt)}return Je}function Mt(){}return Be=jn(Mt,At,Pt),Xe=jn(Mt,gt,bt),ct(_),[Be,Xe]}function ra(s){return E(s)&&typeof s.getReader<"u"}function na(s){return ra(s)?aa(s.getReader()):ia(s)}function ia(s){var _,L=_e(s,"async"),ee=d;function ce(){var Ce;try{Ce=Re(L)}catch(He){return b(He)}var We=m(Ce);return P(We,function(He){if(!E(He))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");var Be=Le(He);if(Be)Ut(_._readableStreamController);else{var Xe=ze(He);qt(_._readableStreamController,Xe)}})}function me(Ce){var We=L.iterator,He;try{He=xe(We,"return")}catch(Qe){return b(Qe)}if(He===void 0)return m(void 0);var Be;try{Be=D(He,We,[Ce])}catch(Qe){return b(Qe)}var Xe=m(Be);return P(Xe,function(Qe){if(!E(Qe))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return _=ar(ee,ce,me,0),_}function aa(s){var _,L=d;function ee(){var me;try{me=s.read()}catch(Ce){return b(Ce)}return P(me,function(Ce){if(!E(Ce))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(Ce.done)Ut(_._readableStreamController);else{var We=Ce.value;qt(_._readableStreamController,We)}})}function ce(me){try{return m(s.cancel(me))}catch(Ce){return b(Ce)}}return _=ar(L,ee,ce,0),_}function sa(s,_){K(s,_);var L=s,ee=L==null?void 0:L.autoAllocateChunkSize,ce=L==null?void 0:L.cancel,me=L==null?void 0:L.pull,Ce=L==null?void 0:L.start,We=L==null?void 0:L.type;return{autoAllocateChunkSize:ee===void 0?void 0:ke(ee,"".concat(_," has member 'autoAllocateChunkSize' that")),cancel:ce===void 0?void 0:oa(ce,L,"".concat(_," has member 'cancel' that")),pull:me===void 0?void 0:la(me,L,"".concat(_," has member 'pull' that")),start:Ce===void 0?void 0:ca(Ce,L,"".concat(_," has member 'start' that")),type:We===void 0?void 0:ua(We,"".concat(_," has member 'type' that"))}}function oa(s,_,L){return Z(s,L),function(ee){return X(s,_,[ee])}}function la(s,_,L){return Z(s,L),function(ee){return X(s,_,[ee])}}function ca(s,_,L){return Z(s,L),function(ee){return D(s,_,[ee])}}function ua(s,_){if(s="".concat(s),s!=="bytes")throw new TypeError("".concat(_," '").concat(s,"' is not a valid enumeration value for ReadableStreamType"));return s}function da(s,_){K(s,_);var L=s==null?void 0:s.preventCancel;return{preventCancel:!!L}}function Wn(s,_){K(s,_);var L=s==null?void 0:s.preventAbort,ee=s==null?void 0:s.preventCancel,ce=s==null?void 0:s.preventClose,me=s==null?void 0:s.signal;return me!==void 0&&ha(me,"".concat(_," has member 'signal' that")),{preventAbort:!!L,preventCancel:!!ee,preventClose:!!ce,signal:me}}function ha(s,_){if(!Si(s))throw new TypeError("".concat(_," is not an AbortSignal."))}function fa(s,_){K(s,_);var L=s==null?void 0:s.readable;be(L,"readable","ReadableWritablePair"),Ie(L,"".concat(_," has member 'readable' that"));var ee=s==null?void 0:s.writable;return be(ee,"writable","ReadableWritablePair"),_n(ee,"".concat(_," has member 'writable' that")),{readable:L,writable:ee}}var mt=function(){function s(_,L){_===void 0&&(_={}),L===void 0&&(L={}),_===void 0?_=null:le(_,"First parameter");var ee=gr(L,"Second parameter"),ce=sa(_,"First parameter");if(Zr(this),ce.type==="bytes"){if(ee.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var me=tr(ee,0);oi(this,ce,me)}else{var Ce=pr(ee),me=tr(ee,1);Zi(this,ce,me,Ce)}}return Object.defineProperty(s.prototype,"locked",{get:function(){if(!Dt(this))throw Vt("locked");return It(this)},enumerable:!1,configurable:!0}),s.prototype.cancel=function(_){return _===void 0&&(_=void 0),Dt(this)?It(this)?b(new TypeError("Cannot cancel a stream that already has a reader")):Et(this,_):b(Vt("cancel"))},s.prototype.getReader=function(_){if(_===void 0&&(_=void 0),!Dt(this))throw Vt("getReader");var L=ci(_,"First parameter");return L.mode===void 0?De(this):mn(this)},s.prototype.pipeThrough=function(_,L){if(L===void 0&&(L={}),!Dt(this))throw Vt("pipeThrough");pe(_,1,"pipeThrough");var ee=fa(_,"First parameter"),ce=Wn(L,"Second parameter");if(It(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Xt(ee.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var me=Fn(this,ee.writable,ce.preventClose,ce.preventAbort,ce.preventCancel,ce.signal);return R(me),ee.readable},s.prototype.pipeTo=function(_,L){if(L===void 0&&(L={}),!Dt(this))return b(Vt("pipeTo"));if(_===void 0)return b("Parameter 1 is required in 'pipeTo'.");if(!Gt(_))return b(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var ee;try{ee=Wn(L,"Second parameter")}catch(ce){return b(ce)}return It(this)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Xt(_)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Fn(this,_,ee.preventClose,ee.preventAbort,ee.preventCancel,ee.signal)},s.prototype.tee=function(){if(!Dt(this))throw Vt("tee");var _=Ji(this);return ue(_)},s.prototype.values=function(_){if(_===void 0&&(_=void 0),!Dt(this))throw Vt("values");var L=da(_,"First parameter");return rt(this,L.preventCancel)},s.prototype[ie]=function(_){return this.values(_)},s.from=function(_){return na(_)},s}();Object.defineProperties(mt,{from:{enumerable:!0}}),Object.defineProperties(mt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),g(mt.from,"from"),g(mt.prototype.cancel,"cancel"),g(mt.prototype.getReader,"getReader"),g(mt.prototype.pipeThrough,"pipeThrough"),g(mt.prototype.pipeTo,"pipeTo"),g(mt.prototype.tee,"tee"),g(mt.prototype.values,"values"),typeof n.toStringTag=="symbol"&&Object.defineProperty(mt.prototype,n.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(mt.prototype,ie,{value:mt.prototype.values,writable:!0,configurable:!0});function ar(s,_,L,ee,ce){ee===void 0&&(ee=1),ce===void 0&&(ce=function(){return 1});var me=Object.create(mt.prototype);Zr(me);var Ce=Object.create($t.prototype);return Bn(me,Ce,s,_,L,ee,ce),me}function jn(s,_,L){var ee=Object.create(mt.prototype);Zr(ee);var ce=Object.create(Tt.prototype);return gn(ee,ce,s,_,L,0,void 0),ee}function Zr(s){s._state="readable",s._reader=void 0,s._storedError=void 0,s._disturbed=!1}function Dt(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_readableStreamController")?!1:s instanceof mt}function It(s){return s._reader!==void 0}function Et(s,_){if(s._disturbed=!0,s._state==="closed")return m(void 0);if(s._state==="errored")return b(s._storedError);sr(s);var L=s._reader;if(L!==void 0&&Wt(L)){var ee=L._readIntoRequests;L._readIntoRequests=new U,ee.forEach(function(me){me._closeSteps(void 0)})}var ce=s._readableStreamController[B](_);return P(ce,d)}function sr(s){s._state="closed";var _=s._reader;if(_!==void 0&&(C(_),Te(_))){var L=_._readRequests;_._readRequests=new U,L.forEach(function(ee){ee._closeSteps()})}}function zn(s,_){s._state="errored",s._storedError=_;var L=s._reader;L!==void 0&&(H(L,_),Te(L)?se(L,_):Sn(L,_))}function Vt(s){return new TypeError("ReadableStream.prototype.".concat(s," can only be used on a ReadableStream"))}function Un(s,_){K(s,_);var L=s==null?void 0:s.highWaterMark;return be(L,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ve(L)}}var Vn=function(s){return s.byteLength};g(Vn,"size");var Pr=function(){function s(_){pe(_,1,"ByteLengthQueuingStrategy"),_=Un(_,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=_.highWaterMark}return Object.defineProperty(s.prototype,"highWaterMark",{get:function(){if(!Gn(this))throw Hn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){if(!Gn(this))throw Hn("size");return Vn},enumerable:!1,configurable:!0}),s}();Object.defineProperties(Pr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Pr.prototype,n.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Hn(s){return new TypeError("ByteLengthQueuingStrategy.prototype.".concat(s," can only be used on a ByteLengthQueuingStrategy"))}function Gn(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_byteLengthQueuingStrategyHighWaterMark")?!1:s instanceof Pr}var Xn=function(){return 1};g(Xn,"size");var Cr=function(){function s(_){pe(_,1,"CountQueuingStrategy"),_=Un(_,"First parameter"),this._countQueuingStrategyHighWaterMark=_.highWaterMark}return Object.defineProperty(s.prototype,"highWaterMark",{get:function(){if(!qn(this))throw Yn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){if(!qn(this))throw Yn("size");return Xn},enumerable:!1,configurable:!0}),s}();Object.defineProperties(Cr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Cr.prototype,n.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Yn(s){return new TypeError("CountQueuingStrategy.prototype.".concat(s," can only be used on a CountQueuingStrategy"))}function qn(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_countQueuingStrategyHighWaterMark")?!1:s instanceof Cr}function pa(s,_){K(s,_);var L=s==null?void 0:s.cancel,ee=s==null?void 0:s.flush,ce=s==null?void 0:s.readableType,me=s==null?void 0:s.start,Ce=s==null?void 0:s.transform,We=s==null?void 0:s.writableType;return{cancel:L===void 0?void 0:ba(L,s,"".concat(_," has member 'cancel' that")),flush:ee===void 0?void 0:ga(ee,s,"".concat(_," has member 'flush' that")),readableType:ce,start:me===void 0?void 0:ma(me,s,"".concat(_," has member 'start' that")),transform:Ce===void 0?void 0:va(Ce,s,"".concat(_," has member 'transform' that")),writableType:We}}function ga(s,_,L){return Z(s,L),function(ee){return X(s,_,[ee])}}function ma(s,_,L){return Z(s,L),function(ee){return D(s,_,[ee])}}function va(s,_,L){return Z(s,L),function(ee,ce){return X(s,_,[ee,ce])}}function ba(s,_,L){return Z(s,L),function(ee){return X(s,_,[ee])}}var Tr=function(){function s(_,L,ee){_===void 0&&(_={}),L===void 0&&(L={}),ee===void 0&&(ee={}),_===void 0&&(_=null);var ce=gr(L,"Second parameter"),me=gr(ee,"Third parameter"),Ce=pa(_,"First parameter");if(Ce.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Ce.writableType!==void 0)throw new RangeError("Invalid writableType specified");var We=tr(me,0),He=pr(me),Be=tr(ce,1),Xe=pr(ce),Qe,Je=T(function(ct){Qe=ct});ya(this,Je,Be,Xe,We,He),_a(this,Ce),Ce.start!==void 0?Qe(Ce.start(this._transformStreamController)):Qe(void 0)}return Object.defineProperty(s.prototype,"readable",{get:function(){if(!Kn(this))throw ei("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"writable",{get:function(){if(!Kn(this))throw ei("writable");return this._writable},enumerable:!1,configurable:!0}),s}();Object.defineProperties(Tr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Tr.prototype,n.toStringTag,{value:"TransformStream",configurable:!0});function ya(s,_,L,ee,ce,me){function Ce(){return _}function We(Je){return wa(s,Je)}function He(Je){return Aa(s,Je)}function Be(){return Pa(s)}s._writable=Ei(Ce,We,Be,He,L,ee);function Xe(){return Ca(s)}function Qe(Je){return Ta(s,Je)}s._readable=ar(Ce,Xe,Qe,ce,me),s._backpressure=void 0,s._backpressureChangePromise=void 0,s._backpressureChangePromise_resolve=void 0,Rr(s,!0),s._transformStreamController=void 0}function Kn(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_transformStreamController")?!1:s instanceof Tr}function Qn(s,_){xt(s._readable._readableStreamController,_),Jr(s,_)}function Jr(s,_){Mr(s._transformStreamController),rr(s._writable._writableStreamController,_),en(s)}function en(s){s._backpressure&&Rr(s,!1)}function Rr(s,_){s._backpressureChangePromise!==void 0&&s._backpressureChangePromise_resolve(),s._backpressureChangePromise=T(function(L){s._backpressureChangePromise_resolve=L}),s._backpressure=_}var Lt=function(){function s(){throw new TypeError("Illegal constructor")}return Object.defineProperty(s.prototype,"desiredSize",{get:function(){if(!$r(this))throw Or("desiredSize");var _=this._controlledTransformStream._readable._readableStreamController;return Qr(_)},enumerable:!1,configurable:!0}),s.prototype.enqueue=function(_){if(_===void 0&&(_=void 0),!$r(this))throw Or("enqueue");Zn(this,_)},s.prototype.error=function(_){if(_===void 0&&(_=void 0),!$r(this))throw Or("error");xa(this,_)},s.prototype.terminate=function(){if(!$r(this))throw Or("terminate");Ea(this)},s}();Object.defineProperties(Lt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),g(Lt.prototype.enqueue,"enqueue"),g(Lt.prototype.error,"error"),g(Lt.prototype.terminate,"terminate"),typeof n.toStringTag=="symbol"&&Object.defineProperty(Lt.prototype,n.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function $r(s){return!E(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledTransformStream")?!1:s instanceof Lt}function Sa(s,_,L,ee,ce){_._controlledTransformStream=s,s._transformStreamController=_,_._transformAlgorithm=L,_._flushAlgorithm=ee,_._cancelAlgorithm=ce,_._finishPromise=void 0,_._finishPromise_resolve=void 0,_._finishPromise_reject=void 0}function _a(s,_){var L=Object.create(Lt.prototype),ee,ce,me;_.transform!==void 0?ee=function(Ce){return _.transform(Ce,L)}:ee=function(Ce){try{return Zn(L,Ce),m(void 0)}catch(We){return b(We)}},_.flush!==void 0?ce=function(){return _.flush(L)}:ce=function(){return m(void 0)},_.cancel!==void 0?me=function(Ce){return _.cancel(Ce)}:me=function(){return m(void 0)},Sa(s,L,ee,ce,me)}function Mr(s){s._transformAlgorithm=void 0,s._flushAlgorithm=void 0,s._cancelAlgorithm=void 0}function Zn(s,_){var L=s._controlledTransformStream,ee=L._readable._readableStreamController;if(!Kt(ee))throw new TypeError("Readable side is not in a state that permits enqueue");try{qt(ee,_)}catch(me){throw Jr(L,me),L._readable._storedError}var ce=Qi(ee);ce!==L._backpressure&&Rr(L,!0)}function xa(s,_){Qn(s._controlledTransformStream,_)}function Jn(s,_){var L=s._transformAlgorithm(_);return P(L,void 0,function(ee){throw Qn(s._controlledTransformStream,ee),ee})}function Ea(s){var _=s._controlledTransformStream,L=_._readable._readableStreamController;Ut(L);var ee=new TypeError("TransformStream terminated");Jr(_,ee)}function wa(s,_){var L=s._transformStreamController;if(s._backpressure){var ee=s._backpressureChangePromise;return P(ee,function(){var ce=s._writable,me=ce._state;if(me==="erroring")throw ce._storedError;return Jn(L,_)})}return Jn(L,_)}function Aa(s,_){var L=s._transformStreamController;if(L._finishPromise!==void 0)return L._finishPromise;var ee=s._readable;L._finishPromise=T(function(me,Ce){L._finishPromise_resolve=me,L._finishPromise_reject=Ce});var ce=L._cancelAlgorithm(_);return Mr(L),h(ce,function(){return ee._state==="errored"?Qt(L,ee._storedError):(xt(ee._readableStreamController,_),tn(L)),null},function(me){return xt(ee._readableStreamController,me),Qt(L,me),null}),L._finishPromise}function Pa(s){var _=s._transformStreamController;if(_._finishPromise!==void 0)return _._finishPromise;var L=s._readable;_._finishPromise=T(function(ce,me){_._finishPromise_resolve=ce,_._finishPromise_reject=me});var ee=_._flushAlgorithm();return Mr(_),h(ee,function(){return L._state==="errored"?Qt(_,L._storedError):(Ut(L._readableStreamController),tn(_)),null},function(ce){return xt(L._readableStreamController,ce),Qt(_,ce),null}),_._finishPromise}function Ca(s){return Rr(s,!1),s._backpressureChangePromise}function Ta(s,_){var L=s._transformStreamController;if(L._finishPromise!==void 0)return L._finishPromise;var ee=s._writable;L._finishPromise=T(function(me,Ce){L._finishPromise_resolve=me,L._finishPromise_reject=Ce});var ce=L._cancelAlgorithm(_);return Mr(L),h(ce,function(){return ee._state==="errored"?Qt(L,ee._storedError):(rr(ee._writableStreamController,_),en(s),tn(L)),null},function(me){return rr(ee._writableStreamController,me),en(s),Qt(L,me),null}),L._finishPromise}function Or(s){return new TypeError("TransformStreamDefaultController.prototype.".concat(s," can only be used on a TransformStreamDefaultController"))}function tn(s){s._finishPromise_resolve!==void 0&&(s._finishPromise_resolve(),s._finishPromise_resolve=void 0,s._finishPromise_reject=void 0)}function Qt(s,_){s._finishPromise_reject!==void 0&&(R(s._finishPromise),s._finishPromise_reject(_),s._finishPromise_resolve=void 0,s._finishPromise_reject=void 0)}function ei(s){return new TypeError("TransformStream.prototype.".concat(s," can only be used on a TransformStream"))}e.ByteLengthQueuingStrategy=Pr,e.CountQueuingStrategy=Cr,e.ReadableByteStreamController=Tt,e.ReadableStream=mt,e.ReadableStreamBYOBReader=Ot,e.ReadableStreamBYOBRequest=dt,e.ReadableStreamDefaultController=$t,e.ReadableStreamDefaultReader=Oe,e.TransformStream=Tr,e.TransformStreamDefaultController=Lt,e.WritableStream=kt,e.WritableStreamDefaultController=Yt,e.WritableStreamDefaultWriter=Rt})}(ponyfill,ponyfill.exports)),ponyfill.exports}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$7=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(i,e){module.exports=e()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.UNSUPPORTED_FEATURES=i.TextRenderingMode=i.StreamType=i.RenderingIntentFlag=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FontType=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.AnnotationType=i.AnnotationStateModelType=i.AnnotationReviewState=i.AnnotationReplyType=i.AnnotationMode=i.AnnotationMarkedState=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.arrayByteLength=pe,i.arraysToBytes=be,i.assert=de,i.bytesToString=ae,i.createPromiseCapability=Me,i.createValidAbsoluteUrl=M,i.escapeString=Oe,i.getModificationDate=Ae,i.getVerbosityLevel=j,i.info=J,i.isArrayBuffer=Ee,i.isArrayEqual=fe,i.isAscii=Te,i.objectFromMap=Pe,i.objectSize=ye,i.setVerbosityLevel=I,i.shadow=k,i.string32=ve,i.stringToBytes=le,i.stringToPDFString=Fe,i.stringToUTF16BEString=te,i.stringToUTF8String=G,i.unreachable=re,i.utf8StringToString=se,i.warn=Q,e(2);const n=[1,0,0,1,0,0];i.IDENTITY_MATRIX=n;const a=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=a;const l=1.35;i.LINE_FACTOR=l;const c=.35;i.LINE_DESCENT_FACTOR=c;const o={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=o;const f={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=f;const u="pdfjs_internal_editor_";i.AnnotationEditorPrefix=u;const d={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};i.AnnotationEditorType=d;const E={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};i.AnnotationEditorParamsType=E;const p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=p;const g={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=g;const x={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=x;const S={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=S;const w={MARKED:"Marked",REVIEW:"Review"};i.AnnotationStateModelType=w;const T={MARKED:"Marked",UNMARKED:"Unmarked"};i.AnnotationMarkedState=T;const m={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};i.AnnotationReviewState=m;const b={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=b;const y={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=y;const h={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=h;const v={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=v;const A={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=A;const P={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=P;const R={O:"PageOpen",C:"PageClose"};i.PageActionEventType=R;const $={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};i.StreamType=$;const D={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};i.FontType=D;const X={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=X;const W={NONE:0,BINARY:1,STREAM:2};i.CMapCompressionType=W;const U={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=U;const N={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};i.UNSUPPORTED_FEATURES=N;const z={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=z;let B=X.WARNINGS;function I(ue){Number.isInteger(ue)&&(B=ue)}function j(){return B}function J(ue){B>=X.INFOS&&console.log(`Info: ${ue}`)}function Q(ue){B>=X.WARNINGS&&console.log(`Warning: ${ue}`)}function re(ue){throw new Error(ue)}function de(ue,ne){ue||re(ne)}function Y(ue){if(!ue)return!1;switch(ue.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function M(ue){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!ue)return null;try{if(oe&&typeof ue=="string"){if(oe.addDefaultProtocol&&ue.startsWith("www.")){const Se=ue.match(/\./g);Se&&Se.length>=2&&(ue=`http://${ue}`)}if(oe.tryConvertEncoding)try{ue=G(ue)}catch{}}const we=ne?new URL(ue,ne):new URL(ue);if(Y(we))return we}catch{}return null}function k(ue,ne,oe){return Object.defineProperty(ue,ne,{value:oe,enumerable:!0,configurable:!0,writable:!1}),oe}const H=function(){function ne(oe,we){this.constructor===ne&&re("Cannot initialize BaseException."),this.message=oe,this.name=we}return ne.prototype=new Error,ne.constructor=ne,ne}();i.BaseException=H;class q extends H{constructor(ne,oe){super(ne,"PasswordException"),this.code=oe}}i.PasswordException=q;class C extends H{constructor(ne,oe){super(ne,"UnknownErrorException"),this.details=oe}}i.UnknownErrorException=C;class O extends H{constructor(ne){super(ne,"InvalidPDFException")}}i.InvalidPDFException=O;class F extends H{constructor(ne){super(ne,"MissingPDFException")}}i.MissingPDFException=F;class V extends H{constructor(ne,oe){super(ne,"UnexpectedResponseException"),this.status=oe}}i.UnexpectedResponseException=V;class K extends H{constructor(ne){super(ne,"FormatError")}}i.FormatError=K;class Z extends H{constructor(ne){super(ne,"AbortException")}}i.AbortException=Z;function ae(ue){(typeof ue!="object"||ue===null||ue.length===void 0)&&re("Invalid argument for bytesToString");const ne=ue.length,oe=8192;if(ne<oe)return String.fromCharCode.apply(null,ue);const we=[];for(let Se=0;Se<ne;Se+=oe){const xe=Math.min(Se+oe,ne),he=ue.subarray(Se,xe);we.push(String.fromCharCode.apply(null,he))}return we.join("")}function le(ue){typeof ue!="string"&&re("Invalid argument for stringToBytes");const ne=ue.length,oe=new Uint8Array(ne);for(let we=0;we<ne;++we)oe[we]=ue.charCodeAt(we)&255;return oe}function pe(ue){if(ue.length!==void 0)return ue.length;if(ue.byteLength!==void 0)return ue.byteLength;re("Invalid argument for arrayByteLength")}function be(ue){const ne=ue.length;if(ne===1&&ue[0]instanceof Uint8Array)return ue[0];let oe=0;for(let xe=0;xe<ne;xe++)oe+=pe(ue[xe]);let we=0;const Se=new Uint8Array(oe);for(let xe=0;xe<ne;xe++){let he=ue[xe];he instanceof Uint8Array||(typeof he=="string"?he=le(he):he=new Uint8Array(he));const ie=he.byteLength;Se.set(he,we),we+=ie}return Se}function ve(ue){return String.fromCharCode(ue>>24&255,ue>>16&255,ue>>8&255,ue&255)}function ye(ue){return Object.keys(ue).length}function Pe(ue){const ne=Object.create(null);for(const[oe,we]of ue)ne[oe]=we;return ne}function ke(){const ue=new Uint8Array(4);return ue[0]=1,new Uint32Array(ue.buffer,0,1)[0]===1}function Ie(){try{return new Function(""),!0}catch{return!1}}class De{static get isLittleEndian(){return k(this,"isLittleEndian",ke())}static get isEvalSupported(){return k(this,"isEvalSupported",Ie())}static get isOffscreenCanvasSupported(){return k(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}i.FeatureTest=De;const Ve=[...Array(256).keys()].map(ue=>ue.toString(16).padStart(2,"0"));class ge{static makeHexColor(ne,oe,we){return`#${Ve[ne]}${Ve[oe]}${Ve[we]}`}static scaleMinMax(ne,oe){let we;ne[0]?(ne[0]<0&&(we=oe[0],oe[0]=oe[1],oe[1]=we),oe[0]*=ne[0],oe[1]*=ne[0],ne[3]<0&&(we=oe[2],oe[2]=oe[3],oe[3]=we),oe[2]*=ne[3],oe[3]*=ne[3]):(we=oe[0],oe[0]=oe[2],oe[2]=we,we=oe[1],oe[1]=oe[3],oe[3]=we,ne[1]<0&&(we=oe[2],oe[2]=oe[3],oe[3]=we),oe[2]*=ne[1],oe[3]*=ne[1],ne[2]<0&&(we=oe[0],oe[0]=oe[1],oe[1]=we),oe[0]*=ne[2],oe[1]*=ne[2]),oe[0]+=ne[4],oe[1]+=ne[4],oe[2]+=ne[5],oe[3]+=ne[5]}static transform(ne,oe){return[ne[0]*oe[0]+ne[2]*oe[1],ne[1]*oe[0]+ne[3]*oe[1],ne[0]*oe[2]+ne[2]*oe[3],ne[1]*oe[2]+ne[3]*oe[3],ne[0]*oe[4]+ne[2]*oe[5]+ne[4],ne[1]*oe[4]+ne[3]*oe[5]+ne[5]]}static applyTransform(ne,oe){const we=ne[0]*oe[0]+ne[1]*oe[2]+oe[4],Se=ne[0]*oe[1]+ne[1]*oe[3]+oe[5];return[we,Se]}static applyInverseTransform(ne,oe){const we=oe[0]*oe[3]-oe[1]*oe[2],Se=(ne[0]*oe[3]-ne[1]*oe[2]+oe[2]*oe[5]-oe[4]*oe[3])/we,xe=(-ne[0]*oe[1]+ne[1]*oe[0]+oe[4]*oe[1]-oe[5]*oe[0])/we;return[Se,xe]}static getAxialAlignedBoundingBox(ne,oe){const we=ge.applyTransform(ne,oe),Se=ge.applyTransform(ne.slice(2,4),oe),xe=ge.applyTransform([ne[0],ne[3]],oe),he=ge.applyTransform([ne[2],ne[1]],oe);return[Math.min(we[0],Se[0],xe[0],he[0]),Math.min(we[1],Se[1],xe[1],he[1]),Math.max(we[0],Se[0],xe[0],he[0]),Math.max(we[1],Se[1],xe[1],he[1])]}static inverseTransform(ne){const oe=ne[0]*ne[3]-ne[1]*ne[2];return[ne[3]/oe,-ne[1]/oe,-ne[2]/oe,ne[0]/oe,(ne[2]*ne[5]-ne[4]*ne[3])/oe,(ne[4]*ne[1]-ne[5]*ne[0])/oe]}static apply3dTransform(ne,oe){return[ne[0]*oe[0]+ne[1]*oe[1]+ne[2]*oe[2],ne[3]*oe[0]+ne[4]*oe[1]+ne[5]*oe[2],ne[6]*oe[0]+ne[7]*oe[1]+ne[8]*oe[2]]}static singularValueDecompose2dScale(ne){const oe=[ne[0],ne[2],ne[1],ne[3]],we=ne[0]*oe[0]+ne[1]*oe[2],Se=ne[0]*oe[1]+ne[1]*oe[3],xe=ne[2]*oe[0]+ne[3]*oe[2],he=ne[2]*oe[1]+ne[3]*oe[3],ie=(we+he)/2,_e=Math.sqrt((we+he)**2-4*(we*he-xe*Se))/2,Re=ie+_e||1,Le=ie-_e||1;return[Math.sqrt(Re),Math.sqrt(Le)]}static normalizeRect(ne){const oe=ne.slice(0);return ne[0]>ne[2]&&(oe[0]=ne[2],oe[2]=ne[0]),ne[1]>ne[3]&&(oe[1]=ne[3],oe[3]=ne[1]),oe}static intersect(ne,oe){const we=Math.max(Math.min(ne[0],ne[2]),Math.min(oe[0],oe[2])),Se=Math.min(Math.max(ne[0],ne[2]),Math.max(oe[0],oe[2]));if(we>Se)return null;const xe=Math.max(Math.min(ne[1],ne[3]),Math.min(oe[1],oe[3])),he=Math.min(Math.max(ne[1],ne[3]),Math.max(oe[1],oe[3]));return xe>he?null:[we,xe,Se,he]}static bezierBoundingBox(ne,oe,we,Se,xe,he,ie,_e){const Re=[],Le=[[],[]];let ze,Ue,je,Ne,Ge,rt,Ye,Ke;for(let it=0;it<2;++it){if(it===0?(Ue=6*ne-12*we+6*xe,ze=-3*ne+9*we-9*xe+3*ie,je=3*we-3*ne):(Ue=6*oe-12*Se+6*he,ze=-3*oe+9*Se-9*he+3*_e,je=3*Se-3*oe),Math.abs(ze)<1e-12){if(Math.abs(Ue)<1e-12)continue;Ne=-je/Ue,0<Ne&&Ne<1&&Re.push(Ne);continue}Ye=Ue*Ue-4*je*ze,Ke=Math.sqrt(Ye),!(Ye<0)&&(Ge=(-Ue+Ke)/(2*ze),0<Ge&&Ge<1&&Re.push(Ge),rt=(-Ue-Ke)/(2*ze),0<rt&&rt<1&&Re.push(rt))}let et=Re.length,tt;const lt=et;for(;et--;)Ne=Re[et],tt=1-Ne,Le[0][et]=tt*tt*tt*ne+3*tt*tt*Ne*we+3*tt*Ne*Ne*xe+Ne*Ne*Ne*ie,Le[1][et]=tt*tt*tt*oe+3*tt*tt*Ne*Se+3*tt*Ne*Ne*he+Ne*Ne*Ne*_e;return Le[0][lt]=ne,Le[1][lt]=oe,Le[0][lt+1]=ie,Le[1][lt+1]=_e,Le[0].length=Le[1].length=lt+2,[Math.min(...Le[0]),Math.min(...Le[1]),Math.max(...Le[0]),Math.max(...Le[1])]}}i.Util=ge;const $e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Fe(ue){if(ue[0]>="Ã¯"){let oe;if(ue[0]==="Ã¾"&&ue[1]==="Ã¿"?oe="utf-16be":ue[0]==="Ã¿"&&ue[1]==="Ã¾"?oe="utf-16le":ue[0]==="Ã¯"&&ue[1]==="Â»"&&ue[2]==="Â¿"&&(oe="utf-8"),oe)try{const we=new TextDecoder(oe,{fatal:!0}),Se=le(ue);return we.decode(Se)}catch(we){Q(`stringToPDFString: "${we}".`)}}const ne=[];for(let oe=0,we=ue.length;oe<we;oe++){const Se=$e[ue.charCodeAt(oe)];ne.push(Se?String.fromCharCode(Se):ue.charAt(oe))}return ne.join("")}function Oe(ue){return ue.replace(/([()\\\n\r])/g,ne=>ne===`
`?"\\n":ne==="\r"?"\\r":`\\${ne}`)}function Te(ue){return/^[\x00-\x7F]*$/.test(ue)}function te(ue){const ne=["Ã¾Ã¿"];for(let oe=0,we=ue.length;oe<we;oe++){const Se=ue.charCodeAt(oe);ne.push(String.fromCharCode(Se>>8&255),String.fromCharCode(Se&255))}return ne.join("")}function G(ue){return decodeURIComponent(escape(ue))}function se(ue){return unescape(encodeURIComponent(ue))}function Ee(ue){return typeof ue=="object"&&ue!==null&&ue.byteLength!==void 0}function fe(ue,ne){if(ue.length!==ne.length)return!1;for(let oe=0,we=ue.length;oe<we;oe++)if(ue[oe]!==ne[oe])return!1;return!0}function Ae(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[ue.getUTCFullYear().toString(),(ue.getUTCMonth()+1).toString().padStart(2,"0"),ue.getUTCDate().toString().padStart(2,"0"),ue.getUTCHours().toString().padStart(2,"0"),ue.getUTCMinutes().toString().padStart(2,"0"),ue.getUTCSeconds().toString().padStart(2,"0")].join("")}function Me(){const ue=Object.create(null);let ne=!1;return Object.defineProperty(ue,"settled",{get(){return ne}}),ue.promise=new Promise(function(oe,we){ue.resolve=function(Se){ne=!0,oe(Se)},ue.reject=function(Se){ne=!0,we(Se)}}),ue}},(t,i,e)=>{var n=e(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!n.isNodeJS||(globalThis.btoa=function(l){return Buffer.from(l,"binary").toString("base64")})}(),function(){globalThis.atob||!n.isNodeJS||(globalThis.atob=function(l){return Buffer.from(l,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!n.isNodeJS||(globalThis.DOMMatrix=requireDommatrix())}(),function(){globalThis.ReadableStream||!n.isNodeJS||(globalThis.ReadableStream=requirePonyfill().ReadableStream)}(),function(){Array.prototype.at||e(4)}(),function(){Uint8Array.prototype.at||e(76)}(),function(){globalThis.structuredClone||e(86)}())},(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isNodeJS=void 0;const e=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=e},(t,i,e)=>{e(5);var n=e(75);t.exports=n("Array","at")},(t,i,e)=>{var n=e(6),a=e(41),l=e(65),c=e(63),o=e(70);n({target:"Array",proto:!0},{at:function(u){var d=a(this),E=l(d),p=c(u),g=p>=0?p:E+p;return g<0||g>=E?void 0:d[g]}}),o("at")},(t,i,e)=>{var n=e(7),a=e(8).f,l=e(45),c=e(49),o=e(39),f=e(57),u=e(69);t.exports=function(d,E){var p=d.target,g=d.global,x=d.stat,S,w,T,m,b,y;if(g?w=n:x?w=n[p]||o(p,{}):w=(n[p]||{}).prototype,w)for(T in E){if(b=E[T],d.dontCallGetSet?(y=a(w,T),m=y&&y.value):m=w[T],S=u(g?T:p+(x?".":"#")+T,d.forced),!S&&m!==void 0){if(typeof b==typeof m)continue;f(b,m)}(d.sham||m&&m.sham)&&l(b,"sham",!0),c(w,T,b,d)}}},t=>{var i=function(e){return e&&e.Math==Math&&e};t.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")()},(t,i,e)=>{var n=e(9),a=e(11),l=e(13),c=e(14),o=e(15),f=e(20),u=e(40),d=e(43),E=Object.getOwnPropertyDescriptor;i.f=n?E:function(g,x){if(g=o(g),x=f(x),d)try{return E(g,x)}catch{}if(u(g,x))return c(!a(l.f,g,x),g[x])}},(t,i,e)=>{var n=e(10);t.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},t=>{t.exports=function(i){try{return!!i()}catch{return!0}}},(t,i,e)=>{var n=e(12),a=Function.prototype.call;t.exports=n?a.bind(a):function(){return a.apply(a,arguments)}},(t,i,e)=>{var n=e(10);t.exports=!n(function(){var a=(function(){}).bind();return typeof a!="function"||a.hasOwnProperty("prototype")})},(t,i)=>{var e={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!e.call({1:2},1);i.f=a?function(c){var o=n(this,c);return!!o&&o.enumerable}:e},t=>{t.exports=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}},(t,i,e)=>{var n=e(16),a=e(19);t.exports=function(l){return n(a(l))}},(t,i,e)=>{var n=e(17),a=e(10),l=e(18),c=Object,o=n("".split);t.exports=a(function(){return!c("z").propertyIsEnumerable(0)})?function(f){return l(f)=="String"?o(f,""):c(f)}:c},(t,i,e)=>{var n=e(12),a=Function.prototype,l=a.bind,c=a.call,o=n&&l.bind(c,c);t.exports=n?function(f){return f&&o(f)}:function(f){return f&&function(){return c.apply(f,arguments)}}},(t,i,e)=>{var n=e(17),a=n({}.toString),l=n("".slice);t.exports=function(c){return l(a(c),8,-1)}},t=>{var i=TypeError;t.exports=function(e){if(e==null)throw i("Can't call method on "+e);return e}},(t,i,e)=>{var n=e(21),a=e(24);t.exports=function(l){var c=n(l,"string");return a(c)?c:c+""}},(t,i,e)=>{var n=e(11),a=e(22),l=e(24),c=e(31),o=e(34),f=e(35),u=TypeError,d=f("toPrimitive");t.exports=function(E,p){if(!a(E)||l(E))return E;var g=c(E,d),x;if(g){if(p===void 0&&(p="default"),x=n(g,E,p),!a(x)||l(x))return x;throw u("Can't convert object to primitive value")}return p===void 0&&(p="number"),o(E,p)}},(t,i,e)=>{var n=e(23);t.exports=function(a){return typeof a=="object"?a!==null:n(a)}},t=>{t.exports=function(i){return typeof i=="function"}},(t,i,e)=>{var n=e(25),a=e(23),l=e(26),c=e(27),o=Object;t.exports=c?function(f){return typeof f=="symbol"}:function(f){var u=n("Symbol");return a(u)&&l(u.prototype,o(f))}},(t,i,e)=>{var n=e(7),a=e(23),l=function(c){return a(c)?c:void 0};t.exports=function(c,o){return arguments.length<2?l(n[c]):n[c]&&n[c][o]}},(t,i,e)=>{var n=e(17);t.exports=n({}.isPrototypeOf)},(t,i,e)=>{var n=e(28);t.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(t,i,e)=>{var n=e(29),a=e(10);t.exports=!!Object.getOwnPropertySymbols&&!a(function(){var l=Symbol();return!String(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&n&&n<41})},(t,i,e)=>{var n=e(7),a=e(30),l=n.process,c=n.Deno,o=l&&l.versions||c&&c.version,f=o&&o.v8,u,d;f&&(u=f.split("."),d=u[0]>0&&u[0]<4?1:+(u[0]+u[1])),!d&&a&&(u=a.match(/Edge\/(\d+)/),(!u||u[1]>=74)&&(u=a.match(/Chrome\/(\d+)/),u&&(d=+u[1]))),t.exports=d},(t,i,e)=>{var n=e(25);t.exports=n("navigator","userAgent")||""},(t,i,e)=>{var n=e(32);t.exports=function(a,l){var c=a[l];return c==null?void 0:n(c)}},(t,i,e)=>{var n=e(23),a=e(33),l=TypeError;t.exports=function(c){if(n(c))return c;throw l(a(c)+" is not a function")}},t=>{var i=String;t.exports=function(e){try{return i(e)}catch{return"Object"}}},(t,i,e)=>{var n=e(11),a=e(23),l=e(22),c=TypeError;t.exports=function(o,f){var u,d;if(f==="string"&&a(u=o.toString)&&!l(d=n(u,o))||a(u=o.valueOf)&&!l(d=n(u,o))||f!=="string"&&a(u=o.toString)&&!l(d=n(u,o)))return d;throw c("Can't convert object to primitive value")}},(t,i,e)=>{var n=e(7),a=e(36),l=e(40),c=e(42),o=e(28),f=e(27),u=a("wks"),d=n.Symbol,E=d&&d.for,p=f?d:d&&d.withoutSetter||c;t.exports=function(g){if(!l(u,g)||!(o||typeof u[g]=="string")){var x="Symbol."+g;o&&l(d,g)?u[g]=d[g]:f&&E?u[g]=E(x):u[g]=p(x)}return u[g]}},(t,i,e)=>{var n=e(37),a=e(38);(t.exports=function(l,c){return a[l]||(a[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.24.1",mode:n?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},t=>{t.exports=!1},(t,i,e)=>{var n=e(7),a=e(39),l="__core-js_shared__",c=n[l]||a(l,{});t.exports=c},(t,i,e)=>{var n=e(7),a=Object.defineProperty;t.exports=function(l,c){try{a(n,l,{value:c,configurable:!0,writable:!0})}catch{n[l]=c}return c}},(t,i,e)=>{var n=e(17),a=e(41),l=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(o,f){return l(a(o),f)}},(t,i,e)=>{var n=e(19),a=Object;t.exports=function(l){return a(n(l))}},(t,i,e)=>{var n=e(17),a=0,l=Math.random(),c=n(1 .toString);t.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+c(++a+l,36)}},(t,i,e)=>{var n=e(9),a=e(10),l=e(44);t.exports=!n&&!a(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},(t,i,e)=>{var n=e(7),a=e(22),l=n.document,c=a(l)&&a(l.createElement);t.exports=function(o){return c?l.createElement(o):{}}},(t,i,e)=>{var n=e(9),a=e(46),l=e(14);t.exports=n?function(c,o,f){return a.f(c,o,l(1,f))}:function(c,o,f){return c[o]=f,c}},(t,i,e)=>{var n=e(9),a=e(43),l=e(47),c=e(48),o=e(20),f=TypeError,u=Object.defineProperty,d=Object.getOwnPropertyDescriptor,E="enumerable",p="configurable",g="writable";i.f=n?l?function(S,w,T){if(c(S),w=o(w),c(T),typeof S=="function"&&w==="prototype"&&"value"in T&&g in T&&!T[g]){var m=d(S,w);m&&m[g]&&(S[w]=T.value,T={configurable:p in T?T[p]:m[p],enumerable:E in T?T[E]:m[E],writable:!1})}return u(S,w,T)}:u:function(S,w,T){if(c(S),w=o(w),c(T),a)try{return u(S,w,T)}catch{}if("get"in T||"set"in T)throw f("Accessors not supported");return"value"in T&&(S[w]=T.value),S}},(t,i,e)=>{var n=e(9),a=e(10);t.exports=n&&a(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},(t,i,e)=>{var n=e(22),a=String,l=TypeError;t.exports=function(c){if(n(c))return c;throw l(a(c)+" is not an object")}},(t,i,e)=>{var n=e(23),a=e(46),l=e(50),c=e(39);t.exports=function(o,f,u,d){d||(d={});var E=d.enumerable,p=d.name!==void 0?d.name:f;if(n(u)&&l(u,p,d),d.global)E?o[f]=u:c(f,u);else{try{d.unsafe?o[f]&&(E=!0):delete o[f]}catch{}E?o[f]=u:a.f(o,f,{value:u,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return o}},(t,i,e)=>{var n=e(10),a=e(23),l=e(40),c=e(9),o=e(51).CONFIGURABLE,f=e(52),u=e(53),d=u.enforce,E=u.get,p=Object.defineProperty,g=c&&!n(function(){return p(function(){},"length",{value:8}).length!==8}),x=String(String).split("String"),S=t.exports=function(w,T,m){String(T).slice(0,7)==="Symbol("&&(T="["+String(T).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),m&&m.getter&&(T="get "+T),m&&m.setter&&(T="set "+T),(!l(w,"name")||o&&w.name!==T)&&(c?p(w,"name",{value:T,configurable:!0}):w.name=T),g&&m&&l(m,"arity")&&w.length!==m.arity&&p(w,"length",{value:m.arity});try{m&&l(m,"constructor")&&m.constructor?c&&p(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch{}var b=d(w);return l(b,"source")||(b.source=x.join(typeof T=="string"?T:"")),w};Function.prototype.toString=S(function(){return a(this)&&E(this).source||f(this)},"toString")},(t,i,e)=>{var n=e(9),a=e(40),l=Function.prototype,c=n&&Object.getOwnPropertyDescriptor,o=a(l,"name"),f=o&&(function(){}).name==="something",u=o&&(!n||n&&c(l,"name").configurable);t.exports={EXISTS:o,PROPER:f,CONFIGURABLE:u}},(t,i,e)=>{var n=e(17),a=e(23),l=e(38),c=n(Function.toString);a(l.inspectSource)||(l.inspectSource=function(o){return c(o)}),t.exports=l.inspectSource},(t,i,e)=>{var n=e(54),a=e(7),l=e(17),c=e(22),o=e(45),f=e(40),u=e(38),d=e(55),E=e(56),p="Object already initialized",g=a.TypeError,x=a.WeakMap,S,w,T,m=function(R){return T(R)?w(R):S(R,{})},b=function(R){return function($){var D;if(!c($)||(D=w($)).type!==R)throw g("Incompatible receiver, "+R+" required");return D}};if(n||u.state){var y=u.state||(u.state=new x),h=l(y.get),v=l(y.has),A=l(y.set);S=function(R,$){if(v(y,R))throw new g(p);return $.facade=R,A(y,R,$),$},w=function(R){return h(y,R)||{}},T=function(R){return v(y,R)}}else{var P=d("state");E[P]=!0,S=function(R,$){if(f(R,P))throw new g(p);return $.facade=R,o(R,P,$),$},w=function(R){return f(R,P)?R[P]:{}},T=function(R){return f(R,P)}}t.exports={set:S,get:w,has:T,enforce:m,getterFor:b}},(t,i,e)=>{var n=e(7),a=e(23),l=e(52),c=n.WeakMap;t.exports=a(c)&&/native code/.test(l(c))},(t,i,e)=>{var n=e(36),a=e(42),l=n("keys");t.exports=function(c){return l[c]||(l[c]=a(c))}},t=>{t.exports={}},(t,i,e)=>{var n=e(40),a=e(58),l=e(8),c=e(46);t.exports=function(o,f,u){for(var d=a(f),E=c.f,p=l.f,g=0;g<d.length;g++){var x=d[g];!n(o,x)&&!(u&&n(u,x))&&E(o,x,p(f,x))}}},(t,i,e)=>{var n=e(25),a=e(17),l=e(59),c=e(68),o=e(48),f=a([].concat);t.exports=n("Reflect","ownKeys")||function(d){var E=l.f(o(d)),p=c.f;return p?f(E,p(d)):E}},(t,i,e)=>{var n=e(60),a=e(67),l=a.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(o){return n(o,l)}},(t,i,e)=>{var n=e(17),a=e(40),l=e(15),c=e(61).indexOf,o=e(56),f=n([].push);t.exports=function(u,d){var E=l(u),p=0,g=[],x;for(x in E)!a(o,x)&&a(E,x)&&f(g,x);for(;d.length>p;)a(E,x=d[p++])&&(~c(g,x)||f(g,x));return g}},(t,i,e)=>{var n=e(15),a=e(62),l=e(65),c=function(o){return function(f,u,d){var E=n(f),p=l(E),g=a(d,p),x;if(o&&u!=u){for(;p>g;)if(x=E[g++],x!=x)return!0}else for(;p>g;g++)if((o||g in E)&&E[g]===u)return o||g||0;return!o&&-1}};t.exports={includes:c(!0),indexOf:c(!1)}},(t,i,e)=>{var n=e(63),a=Math.max,l=Math.min;t.exports=function(c,o){var f=n(c);return f<0?a(f+o,0):l(f,o)}},(t,i,e)=>{var n=e(64);t.exports=function(a){var l=+a;return l!==l||l===0?0:n(l)}},t=>{var i=Math.ceil,e=Math.floor;t.exports=Math.trunc||function(a){var l=+a;return(l>0?e:i)(l)}},(t,i,e)=>{var n=e(66);t.exports=function(a){return n(a.length)}},(t,i,e)=>{var n=e(63),a=Math.min;t.exports=function(l){return l>0?a(n(l),9007199254740991):0}},t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(t,i)=>{i.f=Object.getOwnPropertySymbols},(t,i,e)=>{var n=e(10),a=e(23),l=/#|\.prototype\./,c=function(E,p){var g=f[o(E)];return g==d?!0:g==u?!1:a(p)?n(p):!!p},o=c.normalize=function(E){return String(E).replace(l,".").toLowerCase()},f=c.data={},u=c.NATIVE="N",d=c.POLYFILL="P";t.exports=c},(t,i,e)=>{var n=e(35),a=e(71),l=e(46).f,c=n("unscopables"),o=Array.prototype;o[c]==null&&l(o,c,{configurable:!0,value:a(null)}),t.exports=function(f){o[c][f]=!0}},(t,i,e)=>{var n=e(48),a=e(72),l=e(67),c=e(56),o=e(74),f=e(44),u=e(55),d=">",E="<",p="prototype",g="script",x=u("IE_PROTO"),S=function(){},w=function(h){return E+g+d+h+E+"/"+g+d},T=function(h){h.write(w("")),h.close();var v=h.parentWindow.Object;return h=null,v},m=function(){var h=f("iframe"),v="java"+g+":",A;return h.style.display="none",o.appendChild(h),h.src=String(v),A=h.contentWindow.document,A.open(),A.write(w("document.F=Object")),A.close(),A.F},b,y=function(){try{b=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&b?T(b):m():T(b);for(var h=l.length;h--;)delete y[p][l[h]];return y()};c[x]=!0,t.exports=Object.create||function(v,A){var P;return v!==null?(S[p]=n(v),P=new S,S[p]=null,P[x]=v):P=y(),A===void 0?P:a.f(P,A)}},(t,i,e)=>{var n=e(9),a=e(47),l=e(46),c=e(48),o=e(15),f=e(73);i.f=n&&!a?Object.defineProperties:function(d,E){c(d);for(var p=o(E),g=f(E),x=g.length,S=0,w;x>S;)l.f(d,w=g[S++],p[w]);return d}},(t,i,e)=>{var n=e(60),a=e(67);t.exports=Object.keys||function(c){return n(c,a)}},(t,i,e)=>{var n=e(25);t.exports=n("document","documentElement")},(t,i,e)=>{var n=e(7),a=e(17);t.exports=function(l,c){return a(n[l].prototype[c])}},(t,i,e)=>{e(77)},(t,i,e)=>{var n=e(78),a=e(65),l=e(63),c=n.aTypedArray,o=n.exportTypedArrayMethod;o("at",function(u){var d=c(this),E=a(d),p=l(u),g=p>=0?p:E+p;return g<0||g>=E?void 0:d[g]})},(t,i,e)=>{var n=e(79),a=e(9),l=e(7),c=e(23),o=e(22),f=e(40),u=e(80),d=e(33),E=e(45),p=e(49),g=e(46).f,x=e(26),S=e(82),w=e(84),T=e(35),m=e(42),b=e(53),y=b.enforce,h=b.get,v=l.Int8Array,A=v&&v.prototype,P=l.Uint8ClampedArray,R=P&&P.prototype,$=v&&S(v),D=A&&S(A),X=Object.prototype,W=l.TypeError,U=T("toStringTag"),N=m("TYPED_ARRAY_TAG"),z="TypedArrayConstructor",B=n&&!!w&&u(l.opera)!=="Opera",I=!1,j,J,Q,re={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},de={BigInt64Array:8,BigUint64Array:8},Y=function(V){if(!o(V))return!1;var K=u(V);return K==="DataView"||f(re,K)||f(de,K)},M=function(F){var V=S(F);if(o(V)){var K=h(V);return K&&f(K,z)?K[z]:M(V)}},k=function(F){if(!o(F))return!1;var V=u(F);return f(re,V)||f(de,V)},H=function(F){if(k(F))return F;throw W("Target is not a typed array")},q=function(F){if(c(F)&&(!w||x($,F)))return F;throw W(d(F)+" is not a typed array constructor")},C=function(F,V,K,Z){if(a){if(K)for(var ae in re){var le=l[ae];if(le&&f(le.prototype,F))try{delete le.prototype[F]}catch{try{le.prototype[F]=V}catch{}}}(!D[F]||K)&&p(D,F,K?V:B&&A[F]||V,Z)}},O=function(F,V,K){var Z,ae;if(a){if(w){if(K){for(Z in re)if(ae=l[Z],ae&&f(ae,F))try{delete ae[F]}catch{}}if(!$[F]||K)try{return p($,F,K?V:B&&$[F]||V)}catch{}else return}for(Z in re)ae=l[Z],ae&&(!ae[F]||K)&&p(ae,F,V)}};for(j in re)J=l[j],Q=J&&J.prototype,Q?y(Q)[z]=J:B=!1;for(j in de)J=l[j],Q=J&&J.prototype,Q&&(y(Q)[z]=J);if((!B||!c($)||$===Function.prototype)&&($=function(){throw W("Incorrect invocation")},B))for(j in re)l[j]&&w(l[j],$);if((!B||!D||D===X)&&(D=$.prototype,B))for(j in re)l[j]&&w(l[j].prototype,D);if(B&&S(R)!==D&&w(R,D),a&&!f(D,U)){I=!0,g(D,U,{get:function(){return o(this)?this[N]:void 0}});for(j in re)l[j]&&E(l[j],N,j)}t.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:I&&N,aTypedArray:H,aTypedArrayConstructor:q,exportTypedArrayMethod:C,exportTypedArrayStaticMethod:O,getTypedArrayConstructor:M,isView:Y,isTypedArray:k,TypedArray:$,TypedArrayPrototype:D}},t=>{t.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(t,i,e)=>{var n=e(81),a=e(23),l=e(18),c=e(35),o=c("toStringTag"),f=Object,u=l(function(){return arguments}())=="Arguments",d=function(E,p){try{return E[p]}catch{}};t.exports=n?l:function(E){var p,g,x;return E===void 0?"Undefined":E===null?"Null":typeof(g=d(p=f(E),o))=="string"?g:u?l(p):(x=l(p))=="Object"&&a(p.callee)?"Arguments":x}},(t,i,e)=>{var n=e(35),a=n("toStringTag"),l={};l[a]="z",t.exports=String(l)==="[object z]"},(t,i,e)=>{var n=e(40),a=e(23),l=e(41),c=e(55),o=e(83),f=c("IE_PROTO"),u=Object,d=u.prototype;t.exports=o?u.getPrototypeOf:function(E){var p=l(E);if(n(p,f))return p[f];var g=p.constructor;return a(g)&&p instanceof g?g.prototype:p instanceof u?d:null}},(t,i,e)=>{var n=e(10);t.exports=!n(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},(t,i,e)=>{var n=e(17),a=e(48),l=e(85);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,o={},f;try{f=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),f(o,[]),c=o instanceof Array}catch{}return function(d,E){return a(d),l(E),c?f(d,E):d.__proto__=E,d}}():void 0)},(t,i,e)=>{var n=e(23),a=String,l=TypeError;t.exports=function(c){if(typeof c=="object"||n(c))return c;throw l("Can't set "+a(c)+" as a prototype")}},(t,i,e)=>{e(87),e(93),e(95),e(117),e(119);var n=e(128);t.exports=n.structuredClone},(t,i,e)=>{var n=e(15),a=e(70),l=e(88),c=e(53),o=e(46).f,f=e(89),u=e(37),d=e(9),E="Array Iterator",p=c.set,g=c.getterFor(E);t.exports=f(Array,"Array",function(S,w){p(this,{type:E,target:n(S),index:0,kind:w})},function(){var S=g(this),w=S.target,T=S.kind,m=S.index++;return!w||m>=w.length?(S.target=void 0,{value:void 0,done:!0}):T=="keys"?{value:m,done:!1}:T=="values"?{value:w[m],done:!1}:{value:[m,w[m]],done:!1}},"values");var x=l.Arguments=l.Array;if(a("keys"),a("values"),a("entries"),!u&&d&&x.name!=="values")try{o(x,"name",{value:"values"})}catch{}},t=>{t.exports={}},(t,i,e)=>{var n=e(6),a=e(11),l=e(37),c=e(51),o=e(23),f=e(90),u=e(82),d=e(84),E=e(92),p=e(45),g=e(49),x=e(35),S=e(88),w=e(91),T=c.PROPER,m=c.CONFIGURABLE,b=w.IteratorPrototype,y=w.BUGGY_SAFARI_ITERATORS,h=x("iterator"),v="keys",A="values",P="entries",R=function(){return this};t.exports=function($,D,X,W,U,N,z){f(X,D,W);var B=function(H){if(H===U&&re)return re;if(!y&&H in J)return J[H];switch(H){case v:return function(){return new X(this,H)};case A:return function(){return new X(this,H)};case P:return function(){return new X(this,H)}}return function(){return new X(this)}},I=D+" Iterator",j=!1,J=$.prototype,Q=J[h]||J["@@iterator"]||U&&J[U],re=!y&&Q||B(U),de=D=="Array"&&J.entries||Q,Y,M,k;if(de&&(Y=u(de.call(new $)),Y!==Object.prototype&&Y.next&&(!l&&u(Y)!==b&&(d?d(Y,b):o(Y[h])||g(Y,h,R)),E(Y,I,!0,!0),l&&(S[I]=R))),T&&U==A&&Q&&Q.name!==A&&(!l&&m?p(J,"name",A):(j=!0,re=function(){return a(Q,this)})),U)if(M={values:B(A),keys:N?re:B(v),entries:B(P)},z)for(k in M)(y||j||!(k in J))&&g(J,k,M[k]);else n({target:D,proto:!0,forced:y||j},M);return(!l||z)&&J[h]!==re&&g(J,h,re,{name:U}),S[D]=re,M}},(t,i,e)=>{var n=e(91).IteratorPrototype,a=e(71),l=e(14),c=e(92),o=e(88),f=function(){return this};t.exports=function(u,d,E,p){var g=d+" Iterator";return u.prototype=a(n,{next:l(+!p,E)}),c(u,g,!1,!0),o[g]=f,u}},(t,i,e)=>{var n=e(10),a=e(23),l=e(71),c=e(82),o=e(49),f=e(35),u=e(37),d=f("iterator"),E=!1,p,g,x;[].keys&&(x=[].keys(),"next"in x?(g=c(c(x)),g!==Object.prototype&&(p=g)):E=!0);var S=p==null||n(function(){var w={};return p[d].call(w)!==w});S?p={}:u&&(p=l(p)),a(p[d])||o(p,d,function(){return this}),t.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:E}},(t,i,e)=>{var n=e(46).f,a=e(40),l=e(35),c=l("toStringTag");t.exports=function(o,f,u){o&&!u&&(o=o.prototype),o&&!a(o,c)&&n(o,c,{configurable:!0,value:f})}},(t,i,e)=>{var n=e(81),a=e(49),l=e(94);n||a(Object.prototype,"toString",l,{unsafe:!0})},(t,i,e)=>{var n=e(81),a=e(80);t.exports=n?{}.toString:function(){return"[object "+a(this)+"]"}},(t,i,e)=>{e(96)},(t,i,e)=>{var n=e(97),a=e(114);n("Map",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},a)},(t,i,e)=>{var n=e(6),a=e(7),l=e(17),c=e(69),o=e(49),f=e(98),u=e(105),d=e(111),E=e(23),p=e(22),g=e(10),x=e(112),S=e(92),w=e(113);t.exports=function(T,m,b){var y=T.indexOf("Map")!==-1,h=T.indexOf("Weak")!==-1,v=y?"set":"add",A=a[T],P=A&&A.prototype,R=A,$={},D=function(I){var j=l(P[I]);o(P,I,I=="add"?function(Q){return j(this,Q===0?0:Q),this}:I=="delete"?function(J){return h&&!p(J)?!1:j(this,J===0?0:J)}:I=="get"?function(Q){return h&&!p(Q)?void 0:j(this,Q===0?0:Q)}:I=="has"?function(Q){return h&&!p(Q)?!1:j(this,Q===0?0:Q)}:function(Q,re){return j(this,Q===0?0:Q,re),this})},X=c(T,!E(A)||!(h||P.forEach&&!g(function(){new A().entries().next()})));if(X)R=b.getConstructor(m,T,y,v),f.enable();else if(c(T,!0)){var W=new R,U=W[v](h?{}:-0,1)!=W,N=g(function(){W.has(1)}),z=x(function(I){new A(I)}),B=!h&&g(function(){for(var I=new A,j=5;j--;)I[v](j,j);return!I.has(-0)});z||(R=m(function(I,j){d(I,P);var J=w(new A,I,R);return j!=null&&u(j,J[v],{that:J,AS_ENTRIES:y}),J}),R.prototype=P,P.constructor=R),(N||B)&&(D("delete"),D("has"),y&&D("get")),(B||U)&&D(v),h&&P.clear&&delete P.clear}return $[T]=R,n({global:!0,constructor:!0,forced:R!=A},$),S(R,T),h||b.setStrong(R,T,y),R}},(t,i,e)=>{var n=e(6),a=e(17),l=e(56),c=e(22),o=e(40),f=e(46).f,u=e(59),d=e(99),E=e(102),p=e(42),g=e(104),x=!1,S=p("meta"),w=0,T=function(A){f(A,S,{value:{objectID:"O"+w++,weakData:{}}})},m=function(A,P){if(!c(A))return typeof A=="symbol"?A:(typeof A=="string"?"S":"P")+A;if(!o(A,S)){if(!E(A))return"F";if(!P)return"E";T(A)}return A[S].objectID},b=function(A,P){if(!o(A,S)){if(!E(A))return!0;if(!P)return!1;T(A)}return A[S].weakData},y=function(A){return g&&x&&E(A)&&!o(A,S)&&T(A),A},h=function(){v.enable=function(){},x=!0;var A=u.f,P=a([].splice),R={};R[S]=1,A(R).length&&(u.f=function($){for(var D=A($),X=0,W=D.length;X<W;X++)if(D[X]===S){P(D,X,1);break}return D},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},v=t.exports={enable:h,fastKey:m,getWeakData:b,onFreeze:y};l[S]=!0},(t,i,e)=>{var n=e(18),a=e(15),l=e(59).f,c=e(100),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(u){try{return l(u)}catch{return c(o)}};t.exports.f=function(d){return o&&n(d)=="Window"?f(d):l(a(d))}},(t,i,e)=>{var n=e(62),a=e(65),l=e(101),c=Array,o=Math.max;t.exports=function(f,u,d){for(var E=a(f),p=n(u,E),g=n(d===void 0?E:d,E),x=c(o(g-p,0)),S=0;p<g;p++,S++)l(x,S,f[p]);return x.length=S,x}},(t,i,e)=>{var n=e(20),a=e(46),l=e(14);t.exports=function(c,o,f){var u=n(o);u in c?a.f(c,u,l(0,f)):c[u]=f}},(t,i,e)=>{var n=e(10),a=e(22),l=e(18),c=e(103),o=Object.isExtensible,f=n(function(){});t.exports=f||c?function(d){return!a(d)||c&&l(d)=="ArrayBuffer"?!1:o?o(d):!0}:o},(t,i,e)=>{var n=e(10);t.exports=n(function(){if(typeof ArrayBuffer=="function"){var a=new ArrayBuffer(8);Object.isExtensible(a)&&Object.defineProperty(a,"a",{value:8})}})},(t,i,e)=>{var n=e(10);t.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},(t,i,e)=>{var n=e(106),a=e(11),l=e(48),c=e(33),o=e(107),f=e(65),u=e(26),d=e(108),E=e(109),p=e(110),g=TypeError,x=function(w,T){this.stopped=w,this.result=T},S=x.prototype;t.exports=function(w,T,m){var b=m&&m.that,y=!!(m&&m.AS_ENTRIES),h=!!(m&&m.IS_RECORD),v=!!(m&&m.IS_ITERATOR),A=!!(m&&m.INTERRUPTED),P=n(T,b),R,$,D,X,W,U,N,z=function(I){return R&&p(R,"normal",I),new x(!0,I)},B=function(I){return y?(l(I),A?P(I[0],I[1],z):P(I[0],I[1])):A?P(I,z):P(I)};if(h)R=w.iterator;else if(v)R=w;else{if($=E(w),!$)throw g(c(w)+" is not iterable");if(o($)){for(D=0,X=f(w);X>D;D++)if(W=B(w[D]),W&&u(S,W))return W;return new x(!1)}R=d(w,$)}for(U=h?w.next:R.next;!(N=a(U,R)).done;){try{W=B(N.value)}catch(I){p(R,"throw",I)}if(typeof W=="object"&&W&&u(S,W))return W}return new x(!1)}},(t,i,e)=>{var n=e(17),a=e(32),l=e(12),c=n(n.bind);t.exports=function(o,f){return a(o),f===void 0?o:l?c(o,f):function(){return o.apply(f,arguments)}}},(t,i,e)=>{var n=e(35),a=e(88),l=n("iterator"),c=Array.prototype;t.exports=function(o){return o!==void 0&&(a.Array===o||c[l]===o)}},(t,i,e)=>{var n=e(11),a=e(32),l=e(48),c=e(33),o=e(109),f=TypeError;t.exports=function(u,d){var E=arguments.length<2?o(u):d;if(a(E))return l(n(E,u));throw f(c(u)+" is not iterable")}},(t,i,e)=>{var n=e(80),a=e(31),l=e(88),c=e(35),o=c("iterator");t.exports=function(f){if(f!=null)return a(f,o)||a(f,"@@iterator")||l[n(f)]}},(t,i,e)=>{var n=e(11),a=e(48),l=e(31);t.exports=function(c,o,f){var u,d;a(c);try{if(u=l(c,"return"),!u){if(o==="throw")throw f;return f}u=n(u,c)}catch(E){d=!0,u=E}if(o==="throw")throw f;if(d)throw u;return a(u),f}},(t,i,e)=>{var n=e(26),a=TypeError;t.exports=function(l,c){if(n(c,l))return l;throw a("Incorrect invocation")}},(t,i,e)=>{var n=e(35),a=n("iterator"),l=!1;try{var c=0,o={next:function(){return{done:!!c++}},return:function(){l=!0}};o[a]=function(){return this},Array.from(o,function(){throw 2})}catch{}t.exports=function(f,u){if(!u&&!l)return!1;var d=!1;try{var E={};E[a]=function(){return{next:function(){return{done:d=!0}}}},f(E)}catch{}return d}},(t,i,e)=>{var n=e(23),a=e(22),l=e(84);t.exports=function(c,o,f){var u,d;return l&&n(u=o.constructor)&&u!==f&&a(d=u.prototype)&&d!==f.prototype&&l(c,d),c}},(t,i,e)=>{var n=e(46).f,a=e(71),l=e(115),c=e(106),o=e(111),f=e(105),u=e(89),d=e(116),E=e(9),p=e(98).fastKey,g=e(53),x=g.set,S=g.getterFor;t.exports={getConstructor:function(w,T,m,b){var y=w(function(R,$){o(R,h),x(R,{type:T,index:a(null),first:void 0,last:void 0,size:0}),E||(R.size=0),$!=null&&f($,R[b],{that:R,AS_ENTRIES:m})}),h=y.prototype,v=S(T),A=function(R,$,D){var X=v(R),W=P(R,$),U,N;return W?W.value=D:(X.last=W={index:N=p($,!0),key:$,value:D,previous:U=X.last,next:void 0,removed:!1},X.first||(X.first=W),U&&(U.next=W),E?X.size++:R.size++,N!=="F"&&(X.index[N]=W)),R},P=function(R,$){var D=v(R),X=p($),W;if(X!=="F")return D.index[X];for(W=D.first;W;W=W.next)if(W.key==$)return W};return l(h,{clear:function(){for(var $=this,D=v($),X=D.index,W=D.first;W;)W.removed=!0,W.previous&&(W.previous=W.previous.next=void 0),delete X[W.index],W=W.next;D.first=D.last=void 0,E?D.size=0:$.size=0},delete:function(R){var $=this,D=v($),X=P($,R);if(X){var W=X.next,U=X.previous;delete D.index[X.index],X.removed=!0,U&&(U.next=W),W&&(W.previous=U),D.first==X&&(D.first=W),D.last==X&&(D.last=U),E?D.size--:$.size--}return!!X},forEach:function($){for(var D=v(this),X=c($,arguments.length>1?arguments[1]:void 0),W;W=W?W.next:D.first;)for(X(W.value,W.key,this);W&&W.removed;)W=W.previous},has:function($){return!!P(this,$)}}),l(h,m?{get:function($){var D=P(this,$);return D&&D.value},set:function($,D){return A(this,$===0?0:$,D)}}:{add:function($){return A(this,$=$===0?0:$,$)}}),E&&n(h,"size",{get:function(){return v(this).size}}),y},setStrong:function(w,T,m){var b=T+" Iterator",y=S(T),h=S(b);u(w,T,function(v,A){x(this,{type:b,target:v,state:y(v),kind:A,last:void 0})},function(){for(var v=h(this),A=v.kind,P=v.last;P&&P.removed;)P=P.previous;return!v.target||!(v.last=P=P?P.next:v.state.first)?(v.target=void 0,{value:void 0,done:!0}):A=="keys"?{value:P.key,done:!1}:A=="values"?{value:P.value,done:!1}:{value:[P.key,P.value],done:!1}},m?"entries":"values",!m,!0),d(T)}}},(t,i,e)=>{var n=e(49);t.exports=function(a,l,c){for(var o in l)n(a,o,l[o],c);return a}},(t,i,e)=>{var n=e(25),a=e(46),l=e(35),c=e(9),o=l("species");t.exports=function(f){var u=n(f),d=a.f;c&&u&&!u[o]&&d(u,o,{configurable:!0,get:function(){return this}})}},(t,i,e)=>{e(118)},(t,i,e)=>{var n=e(97),a=e(114);n("Set",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},a)},(t,i,e)=>{var n=e(37),a=e(6),l=e(7),c=e(25),o=e(17),f=e(10),u=e(42),d=e(23),E=e(120),p=e(22),g=e(24),x=e(105),S=e(48),w=e(80),T=e(40),m=e(101),b=e(45),y=e(65),h=e(121),v=e(122),A=e(124),P=e(29),R=e(125),$=e(126),D=e(127),X=l.Object,W=l.Date,U=l.Error,N=l.EvalError,z=l.RangeError,B=l.ReferenceError,I=l.SyntaxError,j=l.TypeError,J=l.URIError,Q=l.PerformanceMark,re=l.WebAssembly,de=re&&re.CompileError||U,Y=re&&re.LinkError||U,M=re&&re.RuntimeError||U,k=c("DOMException"),H=c("Set"),q=c("Map"),C=q.prototype,O=o(C.has),F=o(C.get),V=o(C.set),K=o(H.prototype.add),Z=c("Object","keys"),ae=o([].push),le=o((!0).valueOf),pe=o(1 .valueOf),be=o("".valueOf),ve=o(W.prototype.getTime),ye=u("structuredClone"),Pe="DataCloneError",ke="Transferring",Ie=function(fe){return!f(function(){var Ae=new l.Set([7]),Me=fe(Ae),ue=fe(X(7));return Me==Ae||!Me.has(7)||typeof ue!="object"||ue!=7})&&fe},De=function(fe,Ae){return!f(function(){var Me=new Ae,ue=fe({a:Me,b:Me});return!(ue&&ue.a===ue.b&&ue.a instanceof Ae&&ue.a.stack===Me.stack)})},Ve=function(fe){return!f(function(){var Ae=fe(new l.AggregateError([1],ye,{cause:3}));return Ae.name!="AggregateError"||Ae.errors[0]!=1||Ae.message!=ye||Ae.cause!=3})},ge=l.structuredClone,$e=n||!De(ge,U)||!De(ge,k)||!Ve(ge),Fe=!ge&&Ie(function(fe){return new Q(ye,{detail:fe}).detail}),Oe=Ie(ge)||Fe,Te=function(fe){throw new k("Uncloneable type: "+fe,Pe)},te=function(fe,Ae){throw new k((Ae||"Cloning")+" of "+fe+" cannot be properly polyfilled in this engine",Pe)},G=function(fe,Ae){if(g(fe)&&Te("Symbol"),!p(fe))return fe;if(Ae){if(O(Ae,fe))return F(Ae,fe)}else Ae=new q;var Me=w(fe),ue=!1,ne,oe,we,Se,xe,he,ie,_e,Re,Le;switch(Me){case"Array":we=[],ue=!0;break;case"Object":we={},ue=!0;break;case"Map":we=new q,ue=!0;break;case"Set":we=new H,ue=!0;break;case"RegExp":we=new RegExp(fe.source,v(fe));break;case"Error":switch(oe=fe.name,oe){case"AggregateError":we=c("AggregateError")([]);break;case"EvalError":we=N();break;case"RangeError":we=z();break;case"ReferenceError":we=B();break;case"SyntaxError":we=I();break;case"TypeError":we=j();break;case"URIError":we=J();break;case"CompileError":we=de();break;case"LinkError":we=Y();break;case"RuntimeError":we=M();break;default:we=U()}ue=!0;break;case"DOMException":we=new k(fe.message,fe.name),ue=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":ne=l[Me],p(ne)||te(Me),we=new ne(G(fe.buffer,Ae),fe.byteOffset,Me==="DataView"?fe.byteLength:fe.length);break;case"DOMQuad":try{we=new DOMQuad(G(fe.p1,Ae),G(fe.p2,Ae),G(fe.p3,Ae),G(fe.p4,Ae))}catch{Oe?we=Oe(fe):te(Me)}break;case"FileList":if(ne=l.DataTransfer,E(ne)){for(Se=new ne,xe=0,he=y(fe);xe<he;xe++)Se.items.add(G(fe[xe],Ae));we=Se.files}else Oe?we=Oe(fe):te(Me);break;case"ImageData":try{we=new ImageData(G(fe.data,Ae),fe.width,fe.height,{colorSpace:fe.colorSpace})}catch{Oe?we=Oe(fe):te(Me)}break;default:if(Oe)we=Oe(fe);else switch(Me){case"BigInt":we=X(fe.valueOf());break;case"Boolean":we=X(le(fe));break;case"Number":we=X(pe(fe));break;case"String":we=X(be(fe));break;case"Date":we=new W(ve(fe));break;case"ArrayBuffer":ne=l.DataView,!ne&&typeof fe.slice!="function"&&te(Me);try{if(typeof fe.slice=="function")we=fe.slice(0);else for(he=fe.byteLength,we=new ArrayBuffer(he),Re=new ne(fe),Le=new ne(we),xe=0;xe<he;xe++)Le.setUint8(xe,Re.getUint8(xe))}catch{throw new k("ArrayBuffer is detached",Pe)}break;case"SharedArrayBuffer":we=fe;break;case"Blob":try{we=fe.slice(0,fe.size,fe.type)}catch{te(Me)}break;case"DOMPoint":case"DOMPointReadOnly":ne=l[Me];try{we=ne.fromPoint?ne.fromPoint(fe):new ne(fe.x,fe.y,fe.z,fe.w)}catch{te(Me)}break;case"DOMRect":case"DOMRectReadOnly":ne=l[Me];try{we=ne.fromRect?ne.fromRect(fe):new ne(fe.x,fe.y,fe.width,fe.height)}catch{te(Me)}break;case"DOMMatrix":case"DOMMatrixReadOnly":ne=l[Me];try{we=ne.fromMatrix?ne.fromMatrix(fe):new ne(fe)}catch{te(Me)}break;case"AudioData":case"VideoFrame":d(fe.clone)||te(Me);try{we=fe.clone()}catch{Te(Me)}break;case"File":try{we=new File([fe],fe.name,fe)}catch{te(Me)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":te(Me);default:Te(Me)}}if(V(Ae,fe,we),ue)switch(Me){case"Array":case"Object":for(ie=Z(fe),xe=0,he=y(ie);xe<he;xe++)_e=ie[xe],m(we,_e,G(fe[_e],Ae));break;case"Map":fe.forEach(function(ze,Ue){V(we,G(Ue,Ae),G(ze,Ae))});break;case"Set":fe.forEach(function(ze){K(we,G(ze,Ae))});break;case"Error":b(we,"message",G(fe.message,Ae)),T(fe,"cause")&&b(we,"cause",G(fe.cause,Ae)),oe=="AggregateError"&&(we.errors=G(fe.errors,Ae));case"DOMException":A&&b(we,"stack",G(fe.stack,Ae))}return we},se=ge&&!f(function(){if($&&P>92||D&&P>94||R&&P>97)return!1;var fe=new ArrayBuffer(8),Ae=ge(fe,{transfer:[fe]});return fe.byteLength!=0||Ae.byteLength!=8}),Ee=function(fe,Ae){if(!p(fe))throw j("Transfer option cannot be converted to a sequence");var Me=[];x(fe,function(Re){ae(Me,S(Re))});var ue=0,ne=y(Me),oe,we,Se,xe,he,ie,_e;if(se)for(xe=ge(Me,{transfer:Me});ue<ne;)V(Ae,Me[ue],xe[ue++]);else for(;ue<ne;){if(oe=Me[ue++],O(Ae,oe))throw new k("Duplicate transferable",Pe);switch(we=w(oe),we){case"ImageBitmap":Se=l.OffscreenCanvas,E(Se)||te(we,ke);try{ie=new Se(oe.width,oe.height),_e=ie.getContext("bitmaprenderer"),_e.transferFromImageBitmap(oe),he=ie.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!d(oe.clone)||!d(oe.close))&&te(we,ke);try{he=oe.clone(),oe.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":te(we,ke)}if(he===void 0)throw new k("This object cannot be transferred: "+we,Pe);V(Ae,oe,he)}};a({global:!0,enumerable:!0,sham:!se,forced:$e},{structuredClone:function(Ae){var Me=h(arguments.length,1)>1&&arguments[1]!=null?S(arguments[1]):void 0,ue=Me?Me.transfer:void 0,ne;return ue!==void 0&&(ne=new q,Ee(ue,ne)),G(Ae,ne)}})},(t,i,e)=>{var n=e(17),a=e(10),l=e(23),c=e(80),o=e(25),f=e(52),u=function(){},d=[],E=o("Reflect","construct"),p=/^\s*(?:class|function)\b/,g=n(p.exec),x=!p.exec(u),S=function(m){if(!l(m))return!1;try{return E(u,d,m),!0}catch{return!1}},w=function(m){if(!l(m))return!1;switch(c(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return x||!!g(p,f(m))}catch{return!0}};w.sham=!0,t.exports=!E||a(function(){var T;return S(S.call)||!S(Object)||!S(function(){T=!0})||T})?w:S},t=>{var i=TypeError;t.exports=function(e,n){if(e<n)throw i("Not enough arguments");return e}},(t,i,e)=>{var n=e(11),a=e(40),l=e(26),c=e(123),o=RegExp.prototype;t.exports=function(f){var u=f.flags;return u===void 0&&!("flags"in o)&&!a(f,"flags")&&l(o,f)?n(c,f):u}},(t,i,e)=>{var n=e(48);t.exports=function(){var a=n(this),l="";return a.hasIndices&&(l+="d"),a.global&&(l+="g"),a.ignoreCase&&(l+="i"),a.multiline&&(l+="m"),a.dotAll&&(l+="s"),a.unicode&&(l+="u"),a.unicodeSets&&(l+="v"),a.sticky&&(l+="y"),l}},(t,i,e)=>{var n=e(10),a=e(14);t.exports=!n(function(){var l=Error("a");return"stack"in l?(Object.defineProperty(l,"stack",a(1,7)),l.stack!==7):!0})},(t,i,e)=>{var n=e(126),a=e(127);t.exports=!n&&!a&&typeof window=="object"&&typeof document=="object"},t=>{t.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(t,i,e)=>{var n=e(18),a=e(7);t.exports=n(a.process)=="process"},(t,i,e)=>{var n=e(7);t.exports=n},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(130),_display_utils=__w_pdfjs_require__(133),_font_loader=__w_pdfjs_require__(136),_canvas=__w_pdfjs_require__(137),_worker_options=__w_pdfjs_require__(140),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(141),_metadata=__w_pdfjs_require__(142),_optional_content_config=__w_pdfjs_require__(143),_transport_stream=__w_pdfjs_require__(144),_xfa_text=__w_pdfjs_require__(145);function _classPrivateMethodInitSpec(t,i){_checkPrivateRedeclaration(t,i),i.add(t)}function _classPrivateMethodGet(t,i,e){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return e}function _classPrivateFieldInitSpec(t,i,e){_checkPrivateRedeclaration(t,i),i.set(t,e)}function _checkPrivateRedeclaration(t,i){if(i.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(t,i,e){var n=_classExtractFieldDescriptor(t,i,"set");return _classApplyDescriptorSet(t,n,e),e}function _classPrivateFieldGet(t,i){var e=_classExtractFieldDescriptor(t,i,"get");return _classApplyDescriptorGet(t,e)}function _classExtractFieldDescriptor(t,i,e){if(!i.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return i.get(t)}function _classStaticPrivateFieldSpecSet(t,i,e,n){return _classCheckPrivateStaticAccess(t,i),_classCheckPrivateStaticFieldDescriptor(e,"set"),_classApplyDescriptorSet(t,e,n),n}function _classApplyDescriptorSet(t,i,e){if(i.set)i.set.call(t,e);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=e}}function _classStaticPrivateFieldSpecGet(t,i,e){return _classCheckPrivateStaticAccess(t,i),_classCheckPrivateStaticFieldDescriptor(e,"get"),_classApplyDescriptorGet(t,e)}function _classCheckPrivateStaticFieldDescriptor(t,i){if(t===void 0)throw new TypeError("attempted to "+i+" private static field before its declaration")}function _classCheckPrivateStaticAccess(t,i){if(t!==i)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(t,i){return i.get?i.get.call(t):i.value}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:t,NodeCMapReaderFactory:i,NodeStandardFontDataFactory:e}=__w_pdfjs_require__(146);exports.DefaultCanvasFactory=DefaultCanvasFactory=t,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=i,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=e}let createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){const i=new PDFDocumentLoadingTask;let e;if(typeof t=="string"||t instanceof URL)e={url:t};else if((0,_util.isArrayBuffer)(t))e={data:t};else if(t instanceof PDFDataRangeTransport)e={range:t};else{if(typeof t!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");e=t}const n=Object.create(null);let a=null,l=null;for(const o in e){const f=e[o];switch(o){case"url":if(typeof window<"u")try{n[o]=new URL(f,window.location).href;continue}catch(u){(0,_util.warn)(`Cannot create valid URL: "${u}".`)}else if(typeof f=="string"||f instanceof URL){n[o]=f.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":a=f;continue;case"worker":l=f;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&f instanceof Buffer)n[o]=new Uint8Array(f);else{if(f instanceof Uint8Array)break;if(typeof f=="string")n[o]=(0,_util.stringToBytes)(f);else if(typeof f=="object"&&f!==null&&!isNaN(f.length))n[o]=new Uint8Array(f);else if((0,_util.isArrayBuffer)(f))n[o]=new Uint8Array(f);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}n[o]=f}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=n.stopAtErrors!==!0,n.fontExtraProperties=n.fontExtraProperties===!0,n.pdfBug=n.pdfBug===!0,n.enableXfa=n.enableXfa===!0,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof n.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),typeof n.cMapUrl!="string"&&(n.cMapUrl=null),typeof n.standardFontDataUrl!="string"&&(n.standardFontDataUrl=null),typeof n.useWorkerFetch!="boolean"&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof n.isEvalSupported!="boolean"&&(n.isEvalSupported=!0),typeof n.disableFontFace!="boolean"&&(n.disableFontFace=_is_node.isNodeJS),typeof n.useSystemFonts!="boolean"&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),(typeof n.ownerDocument!="object"||n.ownerDocument===null)&&(n.ownerDocument=globalThis.document),typeof n.disableRange!="boolean"&&(n.disableRange=!1),typeof n.disableStream!="boolean"&&(n.disableStream=!1),typeof n.disableAutoFetch!="boolean"&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!l){const o={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};l=o.port?PDFWorker.fromPort(o):new PDFWorker(o),i._worker=l}const c=i.docId;return l.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");const o=_fetchDocument(l,n,a,c),f=new Promise(function(u){let d;a?d=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},a):n.data||(d=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),u(d)});return Promise.all([o,f]).then(function(u){let[d,E]=u;if(i.destroyed)throw new Error("Loading aborted");const p=new _message_handler.MessageHandler(c,d,l.port),g=new WorkerTransport(p,i,E,n);i._transport=g,p.send("Ready",null)})}).catch(i._capability.reject),i}async function _fetchDocument(t,i,e,n){if(t.destroyed)throw new Error("Worker was destroyed");e&&(i.length=e.length,i.initialData=e.initialData,i.progressiveDone=e.progressiveDone,i.contentDispositionFilename=e.contentDispositionFilename);const a=await t.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.16.105",source:{data:i.data,url:i.url,password:i.password,disableAutoFetch:i.disableAutoFetch,rangeChunkSize:i.rangeChunkSize,length:i.length},maxImageSize:i.maxImageSize,disableFontFace:i.disableFontFace,docBaseUrl:i.docBaseUrl,ignoreErrors:i.ignoreErrors,isEvalSupported:i.isEvalSupported,fontExtraProperties:i.fontExtraProperties,enableXfa:i.enableXfa,useSystemFonts:i.useSystemFonts,cMapUrl:i.useWorkerFetch?i.cMapUrl:null,standardFontDataUrl:i.useWorkerFetch?i.standardFontDataUrl:null});if(i.data&&(i.data=null),t.destroyed)throw new Error("Worker was destroyed");return a}class PDFDocumentLoadingTask{constructor(){var i,e;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(i=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),e=i++,i)),e}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var i;this.destroyed=!0,await((i=this._transport)===null||i===void 0?void 0:i.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var _docId={writable:!0,value:0};class PDFDataRangeTransport{constructor(i,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=i,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(i){this._rangeListeners.push(i)}addProgressListener(i){this._progressListeners.push(i)}addProgressiveReadListener(i){this._progressiveReadListeners.push(i)}addProgressiveDoneListener(i){this._progressiveDoneListeners.push(i)}onDataRange(i,e){for(const n of this._rangeListeners)n(i,e)}onDataProgress(i,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(i,e)})}onDataProgressiveRead(i){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(i)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const i of this._progressiveDoneListeners)i()})}transportReady(){this._readyCapability.resolve()}requestDataRange(i,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(i,e){this._pdfInfo=i,this._transport=e,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(i){return this._transport.getPage(i)}getPageIndex(i){return this._transport.getPageIndex(i)}getDestinations(){return this._transport.getDestinations()}getDestination(i){return this._transport.getDestination(i)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(i||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(i,e,n,a){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;this._pageIndex=i,this._pageInfo=e,this._ownerDocument=a,this._transport=n,this._stats=l?new _display_utils.StatTimer:null,this._pdfBug=l,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:i,rotation:e=this.rotate,offsetX:n=0,offsetY:a=0,dontFlip:l=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:i,rotation:e,offsetX:n,offsetY:a,dontFlip:l})}getAnnotations(){let{intent:i="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=this._transport.getRenderingIntent(i);let n=this._annotationPromises.get(e.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,e.renderingIntent),this._annotationPromises.set(e.cacheKey,n),n=n.then(a=>{for(const l of a)l.titleObj!==void 0&&Object.defineProperty(l,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),l.titleObj.str}}),l.contentsObj!==void 0&&Object.defineProperty(l,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),l.contentsObj.str}});return a})),n}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var i;return((i=this._transport._htmlForXfa)===null||i===void 0?void 0:i.children[this._pageIndex])||null}render(i){var e,n,a;let{canvasContext:l,viewport:c,intent:o="display",annotationMode:f=_util.AnnotationMode.ENABLE,transform:u=null,imageLayer:d=null,canvasFactory:E=null,background:p=null,optionalContentConfigPromise:g=null,annotationCanvasMap:x=null,pageColors:S=null,printAnnotationStorage:w=null}=i;((e=arguments[0])===null||e===void 0?void 0:e.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&f===_util.AnnotationMode.ENABLE&&(f=_util.AnnotationMode.ENABLE_FORMS)),((n=arguments[0])===null||n===void 0?void 0:n.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&f===_util.AnnotationMode.ENABLE&&(f=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const T=this._transport.getRenderingIntent(o,f,w);this.pendingCleanup=!1,g||(g=this._transport.getOptionalContentConfig());let m=this._intentStates.get(T.cacheKey);m||(m=Object.create(null),this._intentStates.set(T.cacheKey,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const b=E||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),y=!!(T.renderingIntent&_util.RenderingIntentFlag.PRINT);m.displayReadyCapability||(m.displayReadyCapability=(0,_util.createPromiseCapability)(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(T));const h=P=>{m.renderTasks.delete(v),(this.cleanupAfterRender||y)&&(this.pendingCleanup=!0),this._tryCleanup(),P?(v.capability.reject(P),this._abortOperatorList({intentState:m,reason:P instanceof Error?P:new Error(P)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},v=new InternalRenderTask({callback:h,params:{canvasContext:l,viewport:c,transform:u,imageLayer:d,background:p},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:x,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:b,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:S});((a=m).renderTasks||(a.renderTasks=new Set)).add(v);const A=v.task;return Promise.all([m.displayReadyCapability.promise,g]).then(P=>{let[R,$]=P;if(this.pendingCleanup){h();return}this._stats&&this._stats.time("Rendering"),v.initializeGraphics({transparency:R,optionalContentConfig:$}),v.operatorListChanged()}).catch(h),A}getOperatorList(){let{intent:i="display",annotationMode:e=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(o))}const l=this._transport.getRenderingIntent(i,e,n,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let o;if(!c.opListReadCapability){var f;o=Object.create(null),o.operatorListChanged=a,c.opListReadCapability=(0,_util.createPromiseCapability)(),((f=c).renderTasks||(f.renderTasks=new Set)).add(o),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(l)}return c.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:i=!1,includeMarkedContent:e=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:i!==!0,includeMarkedContent:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));const e=this.streamTextContent(i);return new Promise(function(n,a){function l(){c.read().then(function(f){let{value:u,done:d}=f;if(d){n(o);return}Object.assign(o.styles,u.styles),o.items.push(...u.items),l()},a)}const c=e.getReader(),o={items:[],styles:Object.create(null)};l()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const i=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)i.push(n.completed),n.cancel();this.objs.clear();for(const e of this._bitmaps)e.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(i)}cleanup(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(i)}_tryCleanup(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,i&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const e of this._bitmaps)e.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(i,e){const n=this._intentStates.get(e);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(i))}_renderPageChunk(i,e){for(let n=0,a=i.length;n<a;n++)e.operatorList.fnArray.push(i.fnArray[n]),e.operatorList.argsArray.push(i.argsArray[n]);e.operatorList.lastChunk=i.lastChunk,e.operatorList.separateAnnots=i.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();i.lastChunk&&this._tryCleanup()}_pumpOperatorList(i){let{renderingIntent:e,cacheKey:n,annotationStorageMap:a}=i;const c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a}).getReader(),o=this._intentStates.get(n);o.streamReader=c;const f=()=>{c.read().then(u=>{let{value:d,done:E}=u;if(E){o.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,o),f())},u=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const d of o.renderTasks)d.operatorListChanged();this._tryCleanup()}if(o.displayReadyCapability)o.displayReadyCapability.reject(u);else if(o.opListReadCapability)o.opListReadCapability.reject(u);else throw u}})};f()}_abortOperatorList(i){let{intentState:e,reason:n,force:a=!1}=i;if(e.streamReader){if(!a){if(e.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException){e.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:e,reason:n,force:!0}),e.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(e.streamReader.cancel(new _util.AbortException(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[l,c]of this._intentStates)if(c===e){this._intentStates.delete(l);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(i,e){const n={data:structuredClone(i,e)};this._deferred.then(()=>{for(const a of this._listeners)a.call(this,n)})}addEventListener(i,e){this._listeners.push(e)}removeEventListener(i,e){const n=this._listeners.indexOf(e);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){var _document,_document$currentScri;const t=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,i){let e;try{if(e=new URL(t),!e.origin||e.origin==="null")return!1}catch{return!1}const n=new URL(i,e);return e.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(t){const i=`importScripts("${t}");`;return URL.createObjectURL(new Blob([i]))}}class PDFWorker{constructor(){let{name:t=null,port:i=null,verbosity:e=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(i&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(i))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=e,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,i){_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));const i=new Worker(t),e=new _message_handler.MessageHandler("main","worker",i),n=()=>{i.removeEventListener("error",a),e.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=()=>{this._webWorker||n()};i.addEventListener("error",a),e.on("test",c=>{if(i.removeEventListener("error",a),this.destroyed){n();return}c?(this._messageHandler=e,this._port=i,this._webWorker=i,this._readyCapability.resolve(),e.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),e.destroy(),i.terminate())}),e.on("ready",c=>{if(i.removeEventListener("error",a),this.destroyed){n();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const c=new Uint8Array;e.send("test",c,[c.buffer])};l();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new LoopbackPort;this._port=i;const e=`fake${PDFWorkerUtil.fakeWorkerId++}`,n=new _message_handler.MessageHandler(e+"_worker",e,i);t.setup(n,i);const a=new _message_handler.MessageHandler(e,e+"_worker",i);this._messageHandler=a,this._readyCapability.resolve(),a.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(t.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(t.port):new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var t;return((t=globalThis.pdfjsWorker)===null||t===void 0?void 0:t.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;var _workerPorts={writable:!0,value:new WeakMap};PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(i,e,n,a){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=i,this.loadingTask=e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:e.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this._params=a,a.useWorkerFetch||(this.CMapReaderFactory=new a.CMapReaderFactory({baseUrl:a.cMapUrl,isCompressed:a.cMapPacked}),this.StandardFontDataFactory=new a.StandardFontDataFactory({baseUrl:a.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=_util.RenderingIntentFlag.DISPLAY,c=null;switch(i){case"any":l=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":l=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${i}`)}switch(e){case _util.AnnotationMode.DISABLE:l+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:l+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:l+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,c=(l&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${e}`)}return a&&(l+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:l,cacheKey:`${l}_${_annotation_storage.AnnotationStorage.getHash(c)}`,annotationStorageMap:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const i=[];for(const n of _classPrivateFieldGet(this,_pageCache).values())i.push(n._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return i.push(e),Promise.all(i).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:i,loadingTask:e}=this;i.on("GetReader",(n,a)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},a.onPull=()=>{this._fullReader.read().then(function(l){let{value:c,done:o}=l;if(o){a.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(c),"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(c),1,[c])}).catch(l=>{a.error(l)})},a.onCancel=l=>{this._fullReader.cancel(l),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),i.on("ReaderHeadersReady",n=>{const a=(0,_util.createPromiseCapability)(),l=this._fullReader;return l.headersReady.then(()=>{if(!l.isStreamingSupported||!l.isRangeSupported){if(this._lastProgress){var c;(c=e.onProgress)===null||c===void 0||c.call(e,this._lastProgress)}l.onProgress=o=>{var f;(f=e.onProgress)===null||f===void 0||f.call(e,{loaded:o.loaded,total:o.total})}}a.resolve({isStreamingSupported:l.isStreamingSupported,isRangeSupported:l.isRangeSupported,contentLength:l.contentLength})},a.reject),a.promise}),i.on("GetRangeReader",(n,a)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(n.begin,n.end);if(!l){a.close();return}a.onPull=()=>{l.read().then(function(c){let{value:o,done:f}=c;if(f){a.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(o),"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(c=>{a.error(c)})},a.onCancel=c=>{l.cancel(c),a.ready.catch(o=>{if(!this.destroyed)throw o})}}),i.on("GetDoc",n=>{let{pdfInfo:a}=n;this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,e._capability.resolve(new PDFDocumentProxy(a,this))}),i.on("DocException",function(n){let a;switch(n.name){case"PasswordException":a=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":a=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":a=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":a=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":a=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}e._capability.reject(a)}),i.on("PasswordRequest",n=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),e.onPassword){const a=l=>{l instanceof Error?this._passwordCapability.reject(l):this._passwordCapability.resolve({password:l})};try{e.onPassword(a,n.code)}catch(l){this._passwordCapability.reject(l)}}else this._passwordCapability.reject(new _util.PasswordException(n.message,n.code));return this._passwordCapability.promise}),i.on("DataLoaded",n=>{var a;(a=e.onProgress)===null||a===void 0||a.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),i.on("StartRenderPage",n=>{if(this.destroyed)return;_classPrivateFieldGet(this,_pageCache).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),i.on("commonobj",n=>{var a;let[l,c,o]=n;if(!this.destroyed&&!this.commonObjs.has(l))switch(c){case"Font":const f=this._params;if("error"in o){const E=o.error;(0,_util.warn)(`Error during font loading: ${E}`),this.commonObjs.resolve(l,E);break}let u=null;f.pdfBug&&(a=globalThis.FontInspector)!==null&&a!==void 0&&a.enabled&&(u={registerFont(E,p){globalThis.FontInspector.fontAdded(E,p)}});const d=new _font_loader.FontFaceObject(o,{isEvalSupported:f.isEvalSupported,disableFontFace:f.disableFontFace,ignoreErrors:f.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:u});this.fontLoader.bind(d).catch(E=>i.sendWithPromise("FontFallback",{id:l})).finally(()=>{!f.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(l,d)});break;case"FontPath":case"Image":this.commonObjs.resolve(l,o);break;default:throw new Error(`Got unknown common object type ${c}`)}}),i.on("obj",n=>{let[a,l,c,o]=n;if(this.destroyed)return;const f=_classPrivateFieldGet(this,_pageCache).get(l);if(!f.objs.has(a))switch(c){case"Image":f.objs.resolve(a,o);const d=8e6;if(o){let E;if(o.bitmap){const{bitmap:p,width:g,height:x}=o;E=g*x*4,f._bitmaps.add(p)}else{var u;E=((u=o.data)===null||u===void 0?void 0:u.length)||0}E>d&&(f.cleanupAfterRender=!0)}break;case"Pattern":f.objs.resolve(a,o);break;default:throw new Error(`Got unknown object type ${c}`)}}),i.on("DocProgress",n=>{var a;this.destroyed||(a=e.onProgress)===null||a===void 0||a.call(e,{loaded:n.loaded,total:n.total})}),i.on("DocStats",n=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(n.streamTypes),fontTypes:Object.freeze(n.fontTypes)}))}),i.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),i.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),i.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature(i){var e,n;let{featureId:a}=i;this.destroyed||(e=(n=this.loadingTask).onUnsupportedFeature)===null||e===void 0||e.call(n,a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(i){if(!Number.isInteger(i)||i<=0||i>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=i-1,n=_classPrivateFieldGet(this,_pagePromises).get(e);if(n)return n;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");const c=new PDFPageProxy(e,l,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(e,c),c});return _classPrivateFieldGet(this,_pagePromises).set(e,a),a}getPageIndex(i){return typeof i!="object"||i===null||!Number.isInteger(i.num)||i.num<0||!Number.isInteger(i.gen)||i.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:i.num,gen:i.gen})}getAnnotations(i,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:i,intent:e})}saveDocument(){var i,e;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(i=(e=this._fullReader)===null||e===void 0?void 0:e.filename)!==null&&i!==void 0?i:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(i){return typeof i!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:i})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(i){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:i})}getStructTree(i){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:i})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(i=>new _optional_content_config.OptionalContentConfig(i))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(i=>{var e,n,a,l;return{info:i[0],metadata:i[1]?new _metadata.Metadata(i[1]):null,contentDispositionFilename:(e=(n=this._fullReader)===null||n===void 0?void 0:n.filename)!==null&&e!==void 0?e:null,contentLength:(a=(l=this._fullReader)===null||l===void 0?void 0:l.contentLength)!==null&&a!==void 0?a:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const e of _classPrivateFieldGet(this,_pageCache).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),i||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const i=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:i.disableAutoFetch,enableXfa:i.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(e){const a=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,i);return a.capability.promise.then(()=>e(a.data)),null}const n=_classPrivateFieldGet(this,_objs)[i];if(!(n!=null&&n.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${i}.`);return n.data}has(i){const e=_classPrivateFieldGet(this,_objs)[i];return(e==null?void 0:e.capability.settled)||!1}resolve(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const n=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,i);n.data=e,n.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(t){const i=_classPrivateFieldGet(this,_objs)[t];return i||(_classPrivateFieldGet(this,_objs)[t]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(i){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,i),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){_classPrivateFieldGet(this,_internalRenderTask).cancel()}get separateAnnots(){const{separateAnnots:i}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!i)return!1;const{annotationCanvasMap:e}=_classPrivateFieldGet(this,_internalRenderTask);return i.form||i.canvas&&(e==null?void 0:e.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(i){let{callback:e,params:n,objs:a,commonObjs:l,annotationCanvasMap:c,operatorList:o,pageIndex:f,canvasFactory:u,useRequestAnimationFrame:d=!1,pdfBug:E=!1,pageColors:p=null}=i;this.callback=e,this.params=n,this.objs=a,this.commonObjs=l,this.annotationCanvasMap=c,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=f,this.canvasFactory=u,this._pdfBug=E,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(i){var e;let{transparency:n=!1,optionalContentConfig:a}=i;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&(e=globalThis.StepperManager)!==null&&e!==void 0&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:l,viewport:c,transform:o,imageLayer:f,background:u}=this.params;this.gfx=new _canvas.CanvasGraphics(l,this.commonObjs,this.objs,this.canvasFactory,f,a,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:c,transparency:n,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(i||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback())))}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var n=e(1),a=e(131),l=e(135);function c(y,h,v){g(y,h),h.set(y,v)}function o(y,h){var v=d(y,h,"get");return f(y,v)}function f(y,h){return h.get?h.get.call(y):h.value}function u(y,h,v){var A=d(y,h,"set");return E(y,A,v),v}function d(y,h,v){if(!h.has(y))throw new TypeError("attempted to "+v+" private field on non-instance");return h.get(y)}function E(y,h,v){if(h.set)h.set.call(y,v);else{if(!h.writable)throw new TypeError("attempted to set read only private field");h.value=v}}function p(y,h){g(y,h),h.add(y)}function g(y,h){if(h.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function x(y,h,v){if(!h.has(y))throw new TypeError("attempted to get private field on non-instance");return v}var S=new WeakSet;class w{constructor(){p(this,S),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(h,v){const A=this._storage.get(h);return A===void 0?v:Object.assign(v,A)}getRawValue(h){return this._storage.get(h)}remove(h){if(this._storage.delete(h),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const v of this._storage.values())if(v instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(h,v){const A=this._storage.get(h);let P=!1;if(A!==void 0)for(const[R,$]of Object.entries(v))A[R]!==$&&(P=!0,A[R]=$);else P=!0,this._storage.set(h,v);P&&x(this,S,T).call(this),v instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(v.constructor._type)}has(h){return this._storage.has(h)}getAll(){return this._storage.size>0?(0,n.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b(this)}get serializable(){if(this._storage.size===0)return null;const h=new Map;for(const[v,A]of this._storage){const P=A instanceof a.AnnotationEditor?A.serialize():A;P&&h.set(v,P)}return h}static getHash(h){if(!h)return"";const v=new l.MurmurHash3_64;for(const[A,P]of h)v.update(`${A}:${JSON.stringify(P)}`);return v.hexdigest()}}i.AnnotationStorage=w;function T(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}var m=new WeakMap;class b extends w{constructor(h){super(),c(this,m,{writable:!0,value:null}),u(this,m,structuredClone(h.serializable))}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return o(this,m)}}i.PrintAnnotationStorage=b},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var n=e(132),a=e(1);function l(y,h,v){return h in y?Object.defineProperty(y,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):y[h]=v,y}function c(y,h,v){o(y,h),h.set(y,v)}function o(y,h){if(h.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(y,h,v){var A=E(y,h,"set");return u(y,A,v),v}function u(y,h,v){if(h.set)h.set.call(y,v);else{if(!h.writable)throw new TypeError("attempted to set read only private field");h.value=v}}function d(y,h){var v=E(y,h,"get");return p(y,v)}function E(y,h,v){if(!h.has(y))throw new TypeError("attempted to "+v+" private field on non-instance");return h.get(y)}function p(y,h){return h.get?h.get.call(y):h.value}var g=new WeakMap,x=new WeakMap,S=new WeakMap,w=new WeakMap,T=new WeakMap,m=new WeakMap;class b{constructor(h){c(this,g,{writable:!0,value:this.focusin.bind(this)}),c(this,x,{writable:!0,value:this.focusout.bind(this)}),c(this,S,{writable:!0,value:!1}),c(this,w,{writable:!0,value:!1}),c(this,T,{writable:!0,value:!1}),c(this,m,{writable:!0,value:b._zIndex++}),this.constructor===b&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=h.parent,this.id=h.id,this.width=this.height=null,this.pageIndex=h.parent.pageIndex,this.name=h.name,this.div=null;const[v,A]=this.parent.viewportBaseDimensions;this.x=h.x/v,this.y=h.y/A,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,m)}focusin(h){d(this,S)?f(this,S,!1):this.parent.setSelected(this)}focusout(h){if(!this.isAttachedToDOM)return;const v=h.relatedTarget;v!=null&&v.closest(`#${this.id}`)||(h.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(h){const v=this.parent.div.getBoundingClientRect();this.startX=h.clientX-v.x,this.startY=h.clientY-v.y,h.dataTransfer.setData("text/plain",this.id),h.dataTransfer.effectAllowed="move"}setAt(h,v,A,P){const[R,$]=this.parent.viewportBaseDimensions;[A,P]=this.screenToPageTranslation(A,P),this.x=(h+A)/R,this.y=(v+P)/$,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(h,v){const[A,P]=this.parent.viewportBaseDimensions;[h,v]=this.screenToPageTranslation(h,v),this.x+=h/A,this.y+=v/P,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(h,v){const{rotation:A}=this.parent.viewport;switch(A){case 90:return[v,-h];case 180:return[-h,-v];case 270:return[-v,h];default:return[h,v]}}setDims(h,v){const[A,P]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*h/A}%`,this.div.style.height=`${100*v/P}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",d(this,g)),this.div.addEventListener("focusout",d(this,x));const[h,v]=this.getInitialTranslation();return this.translate(h,v),(0,n.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(h){const v=n.KeyboardManager.platform.isMac;if(h.button!==0||h.ctrlKey&&v){h.preventDefault();return}h.ctrlKey&&!v||h.shiftKey||h.metaKey&&v?this.parent.toggleSelected(this):this.parent.setSelected(this),f(this,S,!0)}getRect(h,v){const[A,P]=this.parent.viewportBaseDimensions,[R,$]=this.parent.pageDimensions,D=R*h/A,X=$*v/P,W=this.x*R,U=this.y*$,N=this.width*R,z=this.height*$;switch(this.rotation){case 0:return[W+D,$-U-X-z,W+D+N,$-U-X];case 90:return[W+X,$-U+D,W+X+z,$-U+D+N];case 180:return[W-D-N,$-U+X,W-D,$-U+X+z];case 270:return[W-X-z,$-U-D-N,W-X,$-U-D];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(h,v){const[A,P,R,$]=h,D=R-A,X=$-P;switch(this.rotation){case 0:return[A,v-$,D,X];case 90:return[A,v-P,X,D];case 180:return[R,v-P,D,X];case 270:return[R,v-$,X,D];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){f(this,T,!0)}disableEditMode(){f(this,T,!1)}isInEditMode(){return d(this,T)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var h;(h=this.div)===null||h===void 0||h.addEventListener("focusin",d(this,g))}serialize(){(0,a.unreachable)("An editor must be serializable")}static deserialize(h,v){const A=new this.prototype.constructor({parent:v,id:v.getNextId()});A.rotation=h.rotation;const[P,R]=v.pageDimensions,[$,D,X,W]=A.getRectInCurrentCoords(h.rect,R);return A.x=$/P,A.y=D/R,A.width=X/P,A.height=W/R,A}remove(){this.div.removeEventListener("focusin",d(this,g)),this.div.removeEventListener("focusout",d(this,x)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var h;(h=this.div)===null||h===void 0||h.classList.add("selectedEditor")}unselect(){var h;(h=this.div)===null||h===void 0||h.classList.remove("selectedEditor")}updateParams(h,v){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return d(this,w)}set isEditing(h){f(this,w,h),h?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}i.AnnotationEditor=b,l(b,"_colorManager",new n.ColorManager),l(b,"_zIndex",1)},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=S,i.opacityToHex=w;var n=e(1),a=e(133);function l(Te,te,G){return te in Te?Object.defineProperty(Te,te,{value:G,enumerable:!0,configurable:!0,writable:!0}):Te[te]=G,Te}function c(Te,te){u(Te,te),te.add(Te)}function o(Te,te,G){if(!te.has(Te))throw new TypeError("attempted to get private field on non-instance");return G}function f(Te,te,G){u(Te,te),te.set(Te,G)}function u(Te,te){if(te.has(Te))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(Te,te,G){var se=g(Te,te,"set");return E(Te,se,G),G}function E(Te,te,G){if(te.set)te.set.call(Te,G);else{if(!te.writable)throw new TypeError("attempted to set read only private field");te.value=G}}function p(Te,te){var G=g(Te,te,"get");return x(Te,G)}function g(Te,te,G){if(!te.has(Te))throw new TypeError("attempted to "+G+" private field on non-instance");return te.get(Te)}function x(Te,te){return te.get?te.get.call(Te):te.value}function S(Te,te,G){for(const se of G)te.addEventListener(se,Te[se].bind(Te))}function w(Te){return Math.round(Math.min(255,Math.max(1,255*Te))).toString(16).padStart(2,"0")}var T=new WeakMap;class m{constructor(){f(this,T,{writable:!0,value:0})}getId(){var te,G;return`${n.AnnotationEditorPrefix}${d(this,T,(te=p(this,T),G=te++,te)),G}`}}var b=new WeakMap,y=new WeakMap,h=new WeakMap,v=new WeakMap;class A{constructor(){let te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;f(this,b,{writable:!0,value:[]}),f(this,y,{writable:!0,value:!1}),f(this,h,{writable:!0,value:void 0}),f(this,v,{writable:!0,value:-1}),d(this,h,te)}add(te){let{cmd:G,undo:se,mustExec:Ee,type:fe=NaN,overwriteIfSameType:Ae=!1,keepUndo:Me=!1}=te;if(Ee&&G(),p(this,y))return;const ue={cmd:G,undo:se,type:fe};if(p(this,v)===-1){p(this,b).length>0&&(p(this,b).length=0),d(this,v,0),p(this,b).push(ue);return}if(Ae&&p(this,b)[p(this,v)].type===fe){Me&&(ue.undo=p(this,b)[p(this,v)].undo),p(this,b)[p(this,v)]=ue;return}const ne=p(this,v)+1;ne===p(this,h)?p(this,b).splice(0,1):(d(this,v,ne),ne<p(this,b).length&&p(this,b).splice(ne)),p(this,b).push(ue)}undo(){p(this,v)!==-1&&(d(this,y,!0),p(this,b)[p(this,v)].undo(),d(this,y,!1),d(this,v,p(this,v)-1))}redo(){p(this,v)<p(this,b).length-1&&(d(this,v,p(this,v)+1),d(this,y,!0),p(this,b)[p(this,v)].cmd(),d(this,y,!1))}hasSomethingToUndo(){return p(this,v)!==-1}hasSomethingToRedo(){return p(this,v)<p(this,b).length-1}destroy(){d(this,b,null)}}i.CommandManager=A;var P=new WeakSet;class R{constructor(te){c(this,P),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const G=R.platform.isMac;for(const[se,Ee]of te)for(const fe of se){const Ae=fe.startsWith("mac+");G&&Ae?(this.callbacks.set(fe.slice(4),Ee),this.allKeys.add(fe.split("+").at(-1))):!G&&!Ae&&(this.callbacks.set(fe,Ee),this.allKeys.add(fe.split("+").at(-1)))}}static get platform(){const te=typeof navigator<"u"?navigator.platform:"";return(0,n.shadow)(this,"platform",{isWin:te.includes("Win"),isMac:te.includes("Mac")})}exec(te,G){if(!this.allKeys.has(G.key))return;const se=this.callbacks.get(o(this,P,$).call(this,G));se&&(se.bind(te)(),G.stopPropagation(),G.preventDefault())}}i.KeyboardManager=R;function $(Te){Te.altKey&&this.buffer.push("alt"),Te.ctrlKey&&this.buffer.push("ctrl"),Te.metaKey&&this.buffer.push("meta"),Te.shiftKey&&this.buffer.push("shift"),this.buffer.push(Te.key);const te=this.buffer.join("+");return this.buffer.length=0,te}var D=new WeakMap;class X{constructor(){f(this,D,{writable:!0,value:null})}copy(te){te&&(Array.isArray(te)?d(this,D,te.map(G=>G.serialize())):d(this,D,[te.serialize()]),d(this,D,p(this,D).filter(G=>!!G)),p(this,D).length===0&&d(this,D,null))}paste(){return p(this,D)}isEmpty(){return p(this,D)===null}destroy(){d(this,D,null)}}class W{get _colors(){const te=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(te),(0,n.shadow)(this,"_colors",te)}convert(te){const G=(0,a.getRGB)(te);if(!window.matchMedia("(forced-colors: active)").matches)return G;for(const[se,Ee]of this._colors)if(Ee.every((fe,Ae)=>fe===G[Ae]))return W._colorsMapping.get(se);return G}getHexCode(te){const G=this._colors.get(te);return G?n.Util.makeHexColor(...G):te}}i.ColorManager=W,l(W,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var U=new WeakMap,N=new WeakMap,z=new WeakMap,B=new WeakMap,I=new WeakMap,j=new WeakMap,J=new WeakMap,Q=new WeakMap,re=new WeakMap,de=new WeakMap,Y=new WeakMap,M=new WeakMap,k=new WeakMap,H=new WeakMap,q=new WeakMap,C=new WeakMap,O=new WeakMap,F=new WeakSet,V=new WeakSet,K=new WeakSet,Z=new WeakSet,ae=new WeakSet,le=new WeakSet,pe=new WeakSet,be=new WeakSet,ve=new WeakSet;class ye{constructor(te,G){c(this,ve),c(this,be),c(this,pe),c(this,le),c(this,ae),c(this,Z),c(this,K),c(this,V),c(this,F),f(this,U,{writable:!0,value:null}),f(this,N,{writable:!0,value:new Map}),f(this,z,{writable:!0,value:new Map}),f(this,B,{writable:!0,value:new X}),f(this,I,{writable:!0,value:new A}),f(this,j,{writable:!0,value:0}),f(this,J,{writable:!0,value:null}),f(this,Q,{writable:!0,value:null}),f(this,re,{writable:!0,value:new m}),f(this,de,{writable:!0,value:!1}),f(this,Y,{writable:!0,value:n.AnnotationEditorType.NONE}),f(this,M,{writable:!0,value:new Set}),f(this,k,{writable:!0,value:this.keydown.bind(this)}),f(this,H,{writable:!0,value:this.onEditingAction.bind(this)}),f(this,q,{writable:!0,value:this.onPageChanging.bind(this)}),f(this,C,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),f(this,O,{writable:!0,value:null}),d(this,O,te),d(this,Q,G),p(this,Q)._on("editingaction",p(this,H)),p(this,Q)._on("pagechanging",p(this,q))}destroy(){o(this,V,ke).call(this),p(this,Q)._off("editingaction",p(this,H)),p(this,Q)._off("pagechanging",p(this,q));for(const te of p(this,z).values())te.destroy();p(this,z).clear(),p(this,N).clear(),d(this,U,null),p(this,M).clear(),p(this,B).destroy(),p(this,I).destroy()}onPageChanging(te){let{pageNumber:G}=te;d(this,j,G-1)}focusMainContainer(){p(this,O).focus()}keydown(te){var G;(G=this.getActive())!==null&&G!==void 0&&G.shouldGetKeyboardEvents()||ye._keyboardManager.exec(this,te)}onEditingAction(te){["undo","redo","cut","copy","paste","delete","selectAll"].includes(te.name)&&this[te.name]()}setEditingState(te){te?(o(this,F,Pe).call(this),o(this,K,Ie).call(this,{isEditing:p(this,Y)!==n.AnnotationEditorType.NONE,isEmpty:o(this,be,Fe).call(this),hasSomethingToUndo:p(this,I).hasSomethingToUndo(),hasSomethingToRedo:p(this,I).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:p(this,B).isEmpty()})):(o(this,V,ke).call(this),o(this,K,Ie).call(this,{isEditing:!1}))}registerEditorTypes(te){d(this,J,te);for(const G of p(this,J))o(this,Z,De).call(this,G.defaultPropertiesToUpdate)}getId(){return p(this,re).getId()}addLayer(te){p(this,z).set(te.pageIndex,te),p(this,de)?te.enable():te.disable()}removeLayer(te){p(this,z).delete(te.pageIndex)}updateMode(te){if(d(this,Y,te),te===n.AnnotationEditorType.NONE)this.setEditingState(!1),o(this,le,ge).call(this);else{this.setEditingState(!0),o(this,ae,Ve).call(this);for(const G of p(this,z).values())G.updateMode(te)}}updateToolbar(te){te!==p(this,Y)&&p(this,Q).dispatch("switchannotationeditormode",{source:this,mode:te})}updateParams(te,G){for(const se of p(this,M))se.updateParams(te,G);for(const se of p(this,J))se.updateDefaultParams(te,G)}getEditors(te){const G=[];for(const se of p(this,N).values())se.pageIndex===te&&G.push(se);return G}getEditor(te){return p(this,N).get(te)}addEditor(te){p(this,N).set(te.id,te)}removeEditor(te){p(this,N).delete(te.id),this.unselect(te)}setActiveEditor(te){p(this,U)!==te&&(d(this,U,te),te&&o(this,Z,De).call(this,te.propertiesToUpdate))}toggleSelected(te){if(p(this,M).has(te)){p(this,M).delete(te),te.unselect(),o(this,K,Ie).call(this,{hasSelectedEditor:this.hasSelection});return}p(this,M).add(te),te.select(),o(this,Z,De).call(this,te.propertiesToUpdate),o(this,K,Ie).call(this,{hasSelectedEditor:!0})}setSelected(te){for(const G of p(this,M))G!==te&&G.unselect();p(this,M).clear(),p(this,M).add(te),te.select(),o(this,Z,De).call(this,te.propertiesToUpdate),o(this,K,Ie).call(this,{hasSelectedEditor:!0})}isSelected(te){return p(this,M).has(te)}unselect(te){te.unselect(),p(this,M).delete(te),o(this,K,Ie).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return p(this,M).size!==0}undo(){p(this,I).undo(),o(this,K,Ie).call(this,{hasSomethingToUndo:p(this,I).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:o(this,be,Fe).call(this)})}redo(){p(this,I).redo(),o(this,K,Ie).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:p(this,I).hasSomethingToRedo(),isEmpty:o(this,be,Fe).call(this)})}addCommands(te){p(this,I).add(te),o(this,K,Ie).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:o(this,be,Fe).call(this)})}delete(){if(p(this,U)&&p(this,U).commitOrRemove(),!this.hasSelection)return;const te=[...p(this,M)],G=()=>{for(const Ee of te)Ee.remove()},se=()=>{for(const Ee of te)o(this,pe,$e).call(this,Ee)};this.addCommands({cmd:G,undo:se,mustExec:!0})}copy(){if(p(this,U)&&p(this,U).commitOrRemove(),this.hasSelection){const te=[];for(const G of p(this,M))G.isEmpty()||te.push(G);if(te.length===0)return;p(this,B).copy(te),o(this,K,Ie).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(p(this,B).isEmpty())return;this.unselectAll();const te=p(this,z).get(p(this,j)),G=p(this,B).paste().map(fe=>te.deserialize(fe)),se=()=>{for(const fe of G)o(this,pe,$e).call(this,fe);o(this,ve,Oe).call(this,G)},Ee=()=>{for(const fe of G)fe.remove()};this.addCommands({cmd:se,undo:Ee,mustExec:!0})}selectAll(){for(const te of p(this,M))te.commit();o(this,ve,Oe).call(this,p(this,N).values())}unselectAll(){if(p(this,U)){p(this,U).commitOrRemove();return}if(o(this,ve,Oe).size!==0){for(const te of p(this,M))te.unselect();p(this,M).clear(),o(this,K,Ie).call(this,{hasSelectedEditor:!1})}}isActive(te){return p(this,U)===te}getActive(){return p(this,U)}getMode(){return p(this,Y)}}i.AnnotationEditorUIManager=ye;function Pe(){p(this,O).addEventListener("keydown",p(this,k))}function ke(){p(this,O).removeEventListener("keydown",p(this,k))}function Ie(Te){Object.entries(Te).some(G=>{let[se,Ee]=G;return p(this,C)[se]!==Ee})&&p(this,Q).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(p(this,C),Te)})}function De(Te){p(this,Q).dispatch("annotationeditorparamschanged",{source:this,details:Te})}function Ve(){if(!p(this,de)){d(this,de,!0);for(const Te of p(this,z).values())Te.enable()}}function ge(){if(this.unselectAll(),p(this,de)){d(this,de,!1);for(const Te of p(this,z).values())Te.disable()}}function $e(Te){const te=p(this,z).get(Te.pageIndex);te?te.addOrRebuild(Te):this.addEditor(Te)}function Fe(){if(p(this,N).size===0)return!0;if(p(this,N).size===1)for(const Te of p(this,N).values())return Te.isEmpty();return!1}function Oe(Te){p(this,M).clear();for(const te of Te)te.isEmpty()||(p(this,M).add(te),te.select());o(this,K,Ie).call(this,{hasSelectedEditor:!0})}l(ye,"_keyboardManager",new R([[["ctrl+a","mac+meta+a"],ye.prototype.selectAll],[["ctrl+c","mac+meta+c"],ye.prototype.copy],[["ctrl+v","mac+meta+v"],ye.prototype.paste],[["ctrl+x","mac+meta+x"],ye.prototype.cut],[["ctrl+z","mac+meta+z"],ye.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],ye.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],ye.prototype.delete],[["Escape","mac+Escape"],ye.prototype.unselectAll]]))},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=i.AnnotationPrefix=void 0,i.deprecated=A,i.getColorValues=X,i.getCurrentTransform=W,i.getCurrentTransformInverse=U,i.getFilenameFromUrl=m,i.getPdfFilenameFromUrl=b,i.getRGB=D,i.getXfaPageViewport=$,i.isDataScheme=w,i.isPdfFile=T,i.isValidFetchUrl=h,i.loadScript=v;var n=e(134),a=e(1);function l(N,z,B){return z in N?Object.defineProperty(N,z,{value:B,enumerable:!0,configurable:!0,writable:!0}):N[z]=B,N}const c="http://www.w3.org/2000/svg",o="pdfjs_internal_id_";i.AnnotationPrefix=o;class f{}i.PixelsPerInch=f,l(f,"CSS",96),l(f,"PDF",72),l(f,"PDF_TO_CSS_UNITS",f.CSS/f.PDF);class u extends n.BaseCanvasFactory{constructor(){let{ownerDocument:z=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=z}_createCanvas(z,B){const I=this._document.createElement("canvas");return I.width=z,I.height=B,I}}i.DOMCanvasFactory=u;async function d(N){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(h(N,document.baseURI)){const B=await fetch(N);if(!B.ok)throw new Error(B.statusText);return z?new Uint8Array(await B.arrayBuffer()):(0,a.stringToBytes)(await B.text())}return new Promise((B,I)=>{const j=new XMLHttpRequest;j.open("GET",N,!0),z&&(j.responseType="arraybuffer"),j.onreadystatechange=()=>{if(j.readyState===XMLHttpRequest.DONE){if(j.status===200||j.status===0){let J;if(z&&j.response?J=new Uint8Array(j.response):!z&&j.responseText&&(J=(0,a.stringToBytes)(j.responseText)),J){B(J);return}}I(new Error(j.statusText))}},j.send(null)})}class E extends n.BaseCMapReaderFactory{_fetchData(z,B){return d(z,this.isCompressed).then(I=>({cMapData:I,compressionType:B}))}}i.DOMCMapReaderFactory=E;class p extends n.BaseStandardFontDataFactory{_fetchData(z){return d(z,!0)}}i.DOMStandardFontDataFactory=p;class g extends n.BaseSVGFactory{_createSVG(z){return document.createElementNS(c,z)}}i.DOMSVGFactory=g;class x{constructor(z){let{viewBox:B,scale:I,rotation:j,offsetX:J=0,offsetY:Q=0,dontFlip:re=!1}=z;this.viewBox=B,this.scale=I,this.rotation=j,this.offsetX=J,this.offsetY=Q;const de=(B[2]+B[0])/2,Y=(B[3]+B[1])/2;let M,k,H,q;switch(j%=360,j<0&&(j+=360),j){case 180:M=-1,k=0,H=0,q=1;break;case 90:M=0,k=1,H=1,q=0;break;case 270:M=0,k=-1,H=-1,q=0;break;case 0:M=1,k=0,H=0,q=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}re&&(H=-H,q=-q);let C,O,F,V;M===0?(C=Math.abs(Y-B[1])*I+J,O=Math.abs(de-B[0])*I+Q,F=Math.abs(B[3]-B[1])*I,V=Math.abs(B[2]-B[0])*I):(C=Math.abs(de-B[0])*I+J,O=Math.abs(Y-B[1])*I+Q,F=Math.abs(B[2]-B[0])*I,V=Math.abs(B[3]-B[1])*I),this.transform=[M*I,k*I,H*I,q*I,C-M*I*de-H*I*Y,O-k*I*de-q*I*Y],this.width=F,this.height=V}clone(){let{scale:z=this.scale,rotation:B=this.rotation,offsetX:I=this.offsetX,offsetY:j=this.offsetY,dontFlip:J=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new x({viewBox:this.viewBox.slice(),scale:z,rotation:B,offsetX:I,offsetY:j,dontFlip:J})}convertToViewportPoint(z,B){return a.Util.applyTransform([z,B],this.transform)}convertToViewportRectangle(z){const B=a.Util.applyTransform([z[0],z[1]],this.transform),I=a.Util.applyTransform([z[2],z[3]],this.transform);return[B[0],B[1],I[0],I[1]]}convertToPdfPoint(z,B){return a.Util.applyInverseTransform([z,B],this.transform)}}i.PageViewport=x;class S extends a.BaseException{constructor(z,B){super(z,"RenderingCancelledException"),this.type=B}}i.RenderingCancelledException=S;function w(N){const z=N.length;let B=0;for(;B<z&&N[B].trim()==="";)B++;return N.substring(B,B+5).toLowerCase()==="data:"}function T(N){return typeof N=="string"&&/\.pdf$/i.test(N)}function m(N){const z=N.indexOf("#"),B=N.indexOf("?"),I=Math.min(z>0?z:N.length,B>0?B:N.length);return N.substring(N.lastIndexOf("/",I)+1,I)}function b(N){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof N!="string")return z;if(w(N))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),z;const B=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,I=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,j=B.exec(N);let J=I.exec(j[1])||I.exec(j[2])||I.exec(j[3]);if(J&&(J=J[0],J.includes("%")))try{J=I.exec(decodeURIComponent(J))[0]}catch{}return J||z}class y{constructor(){this.started=Object.create(null),this.times=[]}time(z){z in this.started&&(0,a.warn)(`Timer is already running for ${z}`),this.started[z]=Date.now()}timeEnd(z){z in this.started||(0,a.warn)(`Timer has not been started for ${z}`),this.times.push({name:z,start:this.started[z],end:Date.now()}),delete this.started[z]}toString(){const z=[];let B=0;for(const I of this.times){const j=I.name;j.length>B&&(B=j.length)}for(const I of this.times){const j=I.end-I.start;z.push(`${I.name.padEnd(B)} ${j}ms
`)}return z.join("")}}i.StatTimer=y;function h(N,z){try{const{protocol:B}=z?new URL(N,z):new URL(N);return B==="http:"||B==="https:"}catch{return!1}}function v(N){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((B,I)=>{const j=document.createElement("script");j.src=N,j.onload=function(J){z&&j.remove(),B(J)},j.onerror=function(){I(new Error(`Cannot load script at: ${j.src}`))},(document.head||document.documentElement).append(j)})}function A(N){console.log("Deprecated API usage: "+N)}let P;class R{static toDateObject(z){if(!z||typeof z!="string")return null;P||(P=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const B=P.exec(z);if(!B)return null;const I=parseInt(B[1],10);let j=parseInt(B[2],10);j=j>=1&&j<=12?j-1:0;let J=parseInt(B[3],10);J=J>=1&&J<=31?J:1;let Q=parseInt(B[4],10);Q=Q>=0&&Q<=23?Q:0;let re=parseInt(B[5],10);re=re>=0&&re<=59?re:0;let de=parseInt(B[6],10);de=de>=0&&de<=59?de:0;const Y=B[7]||"Z";let M=parseInt(B[8],10);M=M>=0&&M<=23?M:0;let k=parseInt(B[9],10)||0;return k=k>=0&&k<=59?k:0,Y==="-"?(Q+=M,re+=k):Y==="+"&&(Q-=M,re-=k),new Date(Date.UTC(I,j,J,Q,re,de))}}i.PDFDateString=R;function $(N,z){let{scale:B=1,rotation:I=0}=z;const{width:j,height:J}=N.attributes.style,Q=[0,0,parseInt(j),parseInt(J)];return new x({viewBox:Q,scale:B,rotation:I})}function D(N){if(N.startsWith("#")){const z=parseInt(N.slice(1),16);return[(z&16711680)>>16,(z&65280)>>8,z&255]}return N.startsWith("rgb(")?N.slice(4,-1).split(",").map(z=>parseInt(z)):N.startsWith("rgba(")?N.slice(5,-1).split(",").map(z=>parseInt(z)).slice(0,3):((0,a.warn)(`Not a valid color format: "${N}"`),[0,0,0])}function X(N){const z=document.createElement("span");z.style.visibility="hidden",document.body.append(z);for(const B of N.keys()){z.style.color=B;const I=window.getComputedStyle(z).color;N.set(B,D(I))}z.remove()}function W(N){const{a:z,b:B,c:I,d:j,e:J,f:Q}=N.getTransform();return[z,B,I,j,J,Q]}function U(N){const{a:z,b:B,c:I,d:j,e:J,f:Q}=N.getTransform().invertSelf();return[z,B,I,j,J,Q]}},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var n=e(1);class a{constructor(){this.constructor===a&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(u,d){if(u<=0||d<=0)throw new Error("Invalid canvas size");const E=this._createCanvas(u,d);return{canvas:E,context:E.getContext("2d")}}reset(u,d,E){if(!u.canvas)throw new Error("Canvas is not specified");if(d<=0||E<=0)throw new Error("Invalid canvas size");u.canvas.width=d,u.canvas.height=E}destroy(u){if(!u.canvas)throw new Error("Canvas is not specified");u.canvas.width=0,u.canvas.height=0,u.canvas=null,u.context=null}_createCanvas(u,d){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=a;class l{constructor(u){let{baseUrl:d=null,isCompressed:E=!1}=u;this.constructor===l&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=d,this.isCompressed=E}async fetch(u){let{name:d}=u;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!d)throw new Error("CMap name must be specified.");const E=this.baseUrl+d+(this.isCompressed?".bcmap":""),p=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(E,p).catch(g=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${E}`)})}_fetchData(u,d){(0,n.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=l;class c{constructor(u){let{baseUrl:d=null}=u;this.constructor===c&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=d}async fetch(u){let{filename:d}=u;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!d)throw new Error("Font filename must be specified.");const E=`${this.baseUrl}${d}`;return this._fetchData(E).catch(p=>{throw new Error(`Unable to load font data at: ${E}`)})}_fetchData(u){(0,n.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=c;class o{constructor(){this.constructor===o&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(u,d){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(u<=0||d<=0)throw new Error("Invalid SVG dimensions");const p=this._createSVG("svg:svg");return p.setAttribute("version","1.1"),E||(p.setAttribute("width",`${u}px`),p.setAttribute("height",`${d}px`)),p.setAttribute("preserveAspectRatio","none"),p.setAttribute("viewBox",`0 0 ${u} ${d}`),p}createElement(u){if(typeof u!="string")throw new Error("Invalid SVG element type");return this._createSVG(u)}_createSVG(u){(0,n.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=o},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var n=e(1);const a=3285377520,l=4294901760,c=65535;class o{constructor(u){this.h1=u?u&4294967295:a,this.h2=u?u&4294967295:a}update(u){let d,E;if(typeof u=="string"){d=new Uint8Array(u.length*2),E=0;for(let A=0,P=u.length;A<P;A++){const R=u.charCodeAt(A);R<=255?d[E++]=R:(d[E++]=R>>>8,d[E++]=R&255)}}else if((0,n.isArrayBuffer)(u))d=u.slice(),E=d.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const p=E>>2,g=E-p*4,x=new Uint32Array(d.buffer,0,p);let S=0,w=0,T=this.h1,m=this.h2;const b=3432918353,y=461845907,h=b&c,v=y&c;for(let A=0;A<p;A++)A&1?(S=x[A],S=S*b&l|S*h&c,S=S<<15|S>>>17,S=S*y&l|S*v&c,T^=S,T=T<<13|T>>>19,T=T*5+3864292196):(w=x[A],w=w*b&l|w*h&c,w=w<<15|w>>>17,w=w*y&l|w*v&c,m^=w,m=m<<13|m>>>19,m=m*5+3864292196);switch(S=0,g){case 3:S^=d[p*4+2]<<16;case 2:S^=d[p*4+1]<<8;case 1:S^=d[p*4],S=S*b&l|S*h&c,S=S<<15|S>>>17,S=S*y&l|S*v&c,p&1?T^=S:m^=S}this.h1=T,this.h2=m}hexdigest(){let u=this.h1,d=this.h2;u^=d>>>1,u=u*3981806797&l|u*36045&c,d=d*4283543511&l|((d<<16|u>>>16)*2950163797&l)>>>16,u^=d>>>1,u=u*444984403&l|u*60499&c,d=d*3301882366&l|((d<<16|u>>>16)*3120437893&l)>>>16,u^=d>>>1;const E=(u>>>0).toString(16),p=(d>>>0).toString(16);return E.padStart(8,"0")+p.padStart(8,"0")}}i.MurmurHash3_64=o},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var n=e(1);class a{constructor(f){let{docId:u,onUnsupportedFeature:d,ownerDocument:E=globalThis.document,styleElement:p=null}=f;this.constructor===a&&(0,n.unreachable)("Cannot initialize BaseFontLoader."),this.docId=u,this._onUnsupportedFeature=d,this._document=E,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(f){this.nativeFontFaces.push(f),this._document.fonts.add(f)}insertRule(f){let u=this.styleElement;u||(u=this.styleElement=this._document.createElement("style"),u.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(u));const d=u.sheet;d.insertRule(f,d.cssRules.length)}clear(){for(const f of this.nativeFontFaces)this._document.fonts.delete(f);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(f){if(f.attached||f.missingFile)return;if(f.attached=!0,this.isFontLoadingAPISupported){const d=f.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(E){throw this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,n.warn)(`Failed to load font '${d.family}': '${E}'.`),f.disableFontFace=!0,E}}return}const u=f.createFontFaceRule();if(u){if(this.insertRule(u),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const E=this._queueLoadingCallback(d);this._prepareFontLoadEvent([u],[f],E)})}}_queueLoadingCallback(f){(0,n.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var f;const u=!!((f=this._document)!==null&&f!==void 0&&f.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",u)}get isSyncFontLoadingSupported(){(0,n.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,n.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(f,u,d){(0,n.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let l;i.FontLoader=l,i.FontLoader=l=class extends a{constructor(f){super(f),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let f=!1;if(typeof navigator>"u")f=!0;else{const u=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(u==null?void 0:u[1])>=14&&(f=!0)}return(0,n.shadow)(this,"isSyncFontLoadingSupported",f)}_queueLoadingCallback(f){function u(){for((0,n.assert)(!E.done,"completeRequest() cannot be called twice."),E.done=!0;d.requests.length>0&&d.requests[0].done;){const p=d.requests.shift();setTimeout(p.callback,0)}}const d=this.loadingContext,E={id:`pdfjs-font-loading-${d.nextRequestId++}`,done:!1,complete:u,callback:f};return d.requests.push(E),E}get _loadTestFont(){const f=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,n.shadow)(this,"_loadTestFont",f())}_prepareFontLoadEvent(f,u,d){function E(W,U){return W.charCodeAt(U)<<24|W.charCodeAt(U+1)<<16|W.charCodeAt(U+2)<<8|W.charCodeAt(U+3)&255}function p(W,U,N,z){const B=W.substring(0,U),I=W.substring(U+N);return B+z+I}let g,x;const S=this._document.createElement("canvas");S.width=1,S.height=1;const w=S.getContext("2d");let T=0;function m(W,U){if(T++,T>30){(0,n.warn)("Load test font never loaded."),U();return}if(w.font="30px "+W,w.fillText(".",0,20),w.getImageData(0,0,1,1).data[3]>0){U();return}setTimeout(m.bind(null,W,U))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=p(y,976,b.length,b);const v=16,A=1482184792;let P=E(y,v);for(g=0,x=b.length-3;g<x;g+=4)P=P-A+E(b,g)|0;g<b.length&&(P=P-A+E(b+"XXX",g)|0),y=p(y,v,4,(0,n.string32)(P));const R=`url(data:font/opentype;base64,${btoa(y)});`,$=`@font-face {font-family:"${b}";src:${R}}`;this.insertRule($);const D=[];for(const W of u)D.push(W.loadedName);D.push(b);const X=this._document.createElement("div");X.style.visibility="hidden",X.style.width=X.style.height="10px",X.style.position="absolute",X.style.top=X.style.left="0px";for(const W of D){const U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=W,X.append(U)}this._document.body.append(X),m(b,()=>{X.remove(),d.complete()})}};class c{constructor(f,u){let{isEvalSupported:d=!0,disableFontFace:E=!1,ignoreErrors:p=!1,onUnsupportedFeature:g,fontRegistry:x=null}=u;this.compiledGlyphs=Object.create(null);for(const S in f)this[S]=f[S];this.isEvalSupported=d!==!1,this.disableFontFace=E===!0,this.ignoreErrors=p===!0,this._onUnsupportedFeature=g,this.fontRegistry=x}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let f;if(!this.cssFontInfo)f=new FontFace(this.loadedName,this.data,{});else{const u={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(u.style=`oblique ${this.cssFontInfo.italicAngle}deg`),f=new FontFace(this.cssFontInfo.fontFamily,this.data,u)}return this.fontRegistry&&this.fontRegistry.registerFont(this),f}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const f=(0,n.bytesToString)(this.data),u=`url(data:${this.mimetype};base64,${btoa(f)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${u}}`;else{let E=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(E+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${E}src:${u}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,u),d}getPathGenerator(f,u){if(this.compiledGlyphs[u]!==void 0)return this.compiledGlyphs[u];let d;try{d=f.get(this.loadedName+"_path_"+u)}catch(E){if(!this.ignoreErrors)throw E;return this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,n.warn)(`getPathGenerator - ignoring character: "${E}".`),this.compiledGlyphs[u]=function(p,g){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const E=[];for(const p of d){const g=p.args!==void 0?p.args.join(","):"";E.push("c.",p.cmd,"(",g,`);
`)}return this.compiledGlyphs[u]=new Function("c","size",E.join(""))}return this.compiledGlyphs[u]=function(E,p){for(const g of d)g.cmd==="scale"&&(g.args=[p,-p]),E[g.cmd].apply(E,g.args)}}}i.FontFaceObject=c},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var n=e(133),a=e(1),l=e(138),c=e(139),o=e(3);function f(Y,M){u(Y,M),M.add(Y)}function u(Y,M){if(M.has(Y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(Y,M,k){if(!M.has(Y))throw new TypeError("attempted to get private field on non-instance");return k}const E=16,p=100,g=4096,x=15,S=10,w=o.isNodeJS&&typeof Path2D>"u"?-1:1e3,T=16;function m(Y,M){if(Y._removeMirroring)throw new Error("Context is already forwarding operations.");Y.__originalSave=Y.save,Y.__originalRestore=Y.restore,Y.__originalRotate=Y.rotate,Y.__originalScale=Y.scale,Y.__originalTranslate=Y.translate,Y.__originalTransform=Y.transform,Y.__originalSetTransform=Y.setTransform,Y.__originalResetTransform=Y.resetTransform,Y.__originalClip=Y.clip,Y.__originalMoveTo=Y.moveTo,Y.__originalLineTo=Y.lineTo,Y.__originalBezierCurveTo=Y.bezierCurveTo,Y.__originalRect=Y.rect,Y.__originalClosePath=Y.closePath,Y.__originalBeginPath=Y.beginPath,Y._removeMirroring=()=>{Y.save=Y.__originalSave,Y.restore=Y.__originalRestore,Y.rotate=Y.__originalRotate,Y.scale=Y.__originalScale,Y.translate=Y.__originalTranslate,Y.transform=Y.__originalTransform,Y.setTransform=Y.__originalSetTransform,Y.resetTransform=Y.__originalResetTransform,Y.clip=Y.__originalClip,Y.moveTo=Y.__originalMoveTo,Y.lineTo=Y.__originalLineTo,Y.bezierCurveTo=Y.__originalBezierCurveTo,Y.rect=Y.__originalRect,Y.closePath=Y.__originalClosePath,Y.beginPath=Y.__originalBeginPath,delete Y._removeMirroring},Y.save=function(){M.save(),this.__originalSave()},Y.restore=function(){M.restore(),this.__originalRestore()},Y.translate=function(H,q){M.translate(H,q),this.__originalTranslate(H,q)},Y.scale=function(H,q){M.scale(H,q),this.__originalScale(H,q)},Y.transform=function(H,q,C,O,F,V){M.transform(H,q,C,O,F,V),this.__originalTransform(H,q,C,O,F,V)},Y.setTransform=function(H,q,C,O,F,V){M.setTransform(H,q,C,O,F,V),this.__originalSetTransform(H,q,C,O,F,V)},Y.resetTransform=function(){M.resetTransform(),this.__originalResetTransform()},Y.rotate=function(H){M.rotate(H),this.__originalRotate(H)},Y.clip=function(H){M.clip(H),this.__originalClip(H)},Y.moveTo=function(k,H){M.moveTo(k,H),this.__originalMoveTo(k,H)},Y.lineTo=function(k,H){M.lineTo(k,H),this.__originalLineTo(k,H)},Y.bezierCurveTo=function(k,H,q,C,O,F){M.bezierCurveTo(k,H,q,C,O,F),this.__originalBezierCurveTo(k,H,q,C,O,F)},Y.rect=function(k,H,q,C){M.rect(k,H,q,C),this.__originalRect(k,H,q,C)},Y.closePath=function(){M.closePath(),this.__originalClosePath()},Y.beginPath=function(){M.beginPath(),this.__originalBeginPath()}}class b{constructor(M){this.canvasFactory=M,this.cache=Object.create(null)}getCanvas(M,k,H){let q;return this.cache[M]!==void 0?(q=this.cache[M],this.canvasFactory.reset(q,k,H)):(q=this.canvasFactory.create(k,H),this.cache[M]=q),q}delete(M){delete this.cache[M]}clear(){for(const M in this.cache){const k=this.cache[M];this.canvasFactory.destroy(k),delete this.cache[M]}}}function y(Y,M,k,H,q,C,O,F,V,K){const[Z,ae,le,pe,be,ve]=(0,n.getCurrentTransform)(Y);if(ae===0&&le===0){const ke=O*Z+be,Ie=Math.round(ke),De=F*pe+ve,Ve=Math.round(De),ge=(O+V)*Z+be,$e=Math.abs(Math.round(ge)-Ie)||1,Fe=(F+K)*pe+ve,Oe=Math.abs(Math.round(Fe)-Ve)||1;return Y.setTransform(Math.sign(Z),0,0,Math.sign(pe),Ie,Ve),Y.drawImage(M,k,H,q,C,0,0,$e,Oe),Y.setTransform(Z,ae,le,pe,be,ve),[$e,Oe]}if(Z===0&&pe===0){const ke=F*le+be,Ie=Math.round(ke),De=O*ae+ve,Ve=Math.round(De),ge=(F+K)*le+be,$e=Math.abs(Math.round(ge)-Ie)||1,Fe=(O+V)*ae+ve,Oe=Math.abs(Math.round(Fe)-Ve)||1;return Y.setTransform(0,Math.sign(ae),Math.sign(le),0,Ie,Ve),Y.drawImage(M,k,H,q,C,0,0,Oe,$e),Y.setTransform(Z,ae,le,pe,be,ve),[Oe,$e]}Y.drawImage(M,k,H,q,C,O,F,V,K);const ye=Math.hypot(Z,ae),Pe=Math.hypot(le,pe);return[ye*V,Pe*K]}function h(Y){const{width:M,height:k}=Y;if(M>w||k>w)return null;const H=1e3,q=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),C=M+1;let O=new Uint8Array(C*(k+1)),F,V,K;const Z=M+7&-8;let ae=new Uint8Array(Z*k),le=0;for(const Pe of Y.data){let ke=128;for(;ke>0;)ae[le++]=Pe&ke?0:255,ke>>=1}let pe=0;for(le=0,ae[le]!==0&&(O[0]=1,++pe),V=1;V<M;V++)ae[le]!==ae[le+1]&&(O[V]=ae[le]?2:1,++pe),le++;for(ae[le]!==0&&(O[V]=2,++pe),F=1;F<k;F++){le=F*Z,K=F*C,ae[le-Z]!==ae[le]&&(O[K]=ae[le]?1:8,++pe);let Pe=(ae[le]?4:0)+(ae[le-Z]?8:0);for(V=1;V<M;V++)Pe=(Pe>>2)+(ae[le+1]?4:0)+(ae[le-Z+1]?8:0),q[Pe]&&(O[K+V]=q[Pe],++pe),le++;if(ae[le-Z]!==ae[le]&&(O[K+V]=ae[le]?2:4,++pe),pe>H)return null}for(le=Z*(k-1),K=F*C,ae[le]!==0&&(O[K]=8,++pe),V=1;V<M;V++)ae[le]!==ae[le+1]&&(O[K+V]=ae[le]?4:8,++pe),le++;if(ae[le]!==0&&(O[K+V]=4,++pe),pe>H)return null;const be=new Int32Array([0,C,-1,0,-C,0,0,0,1]),ve=new Path2D;for(F=0;pe&&F<=k;F++){let Pe=F*C;const ke=Pe+M;for(;Pe<ke&&!O[Pe];)Pe++;if(Pe===ke)continue;ve.moveTo(Pe%C,F);const Ie=Pe;let De=O[Pe];do{const Ve=be[De];do Pe+=Ve;while(!O[Pe]);const ge=O[Pe];ge!==5&&ge!==10?(De=ge,O[Pe]=0):(De=ge&51*De>>4,O[Pe]&=De>>2|De<<2),ve.lineTo(Pe%C,Pe/C|0),O[Pe]||--pe}while(Ie!==Pe);--F}return ae=null,O=null,function(Pe){Pe.save(),Pe.scale(1/M,-1/k),Pe.translate(0,-k),Pe.fill(ve),Pe.beginPath(),Pe.restore()}}class v{constructor(M,k){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,M,k])}clone(){const M=Object.create(this);return M.clipBox=this.clipBox.slice(),M}setCurrentPoint(M,k){this.x=M,this.y=k}updatePathMinMax(M,k,H){[k,H]=a.Util.applyTransform([k,H],M),this.minX=Math.min(this.minX,k),this.minY=Math.min(this.minY,H),this.maxX=Math.max(this.maxX,k),this.maxY=Math.max(this.maxY,H)}updateRectMinMax(M,k){const H=a.Util.applyTransform(k,M),q=a.Util.applyTransform(k.slice(2),M);this.minX=Math.min(this.minX,H[0],q[0]),this.minY=Math.min(this.minY,H[1],q[1]),this.maxX=Math.max(this.maxX,H[0],q[0]),this.maxY=Math.max(this.maxY,H[1],q[1])}updateScalingPathMinMax(M,k){a.Util.scaleMinMax(M,k),this.minX=Math.min(this.minX,k[0]),this.maxX=Math.max(this.maxX,k[1]),this.minY=Math.min(this.minY,k[2]),this.maxY=Math.max(this.maxY,k[3])}updateCurvePathMinMax(M,k,H,q,C,O,F,V,K,Z){const ae=a.Util.bezierBoundingBox(k,H,q,C,O,F,V,K);if(Z){Z[0]=Math.min(Z[0],ae[0],ae[2]),Z[1]=Math.max(Z[1],ae[0],ae[2]),Z[2]=Math.min(Z[2],ae[1],ae[3]),Z[3]=Math.max(Z[3],ae[1],ae[3]);return}this.updateRectMinMax(M,ae)}getPathBoundingBox(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l.PathType.FILL,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const H=[this.minX,this.minY,this.maxX,this.maxY];if(M===l.PathType.STROKE){k||(0,a.unreachable)("Stroke bounding box must include transform.");const q=a.Util.singularValueDecompose2dScale(k),C=q[0]*this.lineWidth/2,O=q[1]*this.lineWidth/2;H[0]-=C,H[1]-=O,H[2]+=C,H[3]+=O}return H}updateClipFromPath(){const M=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(M||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(M){this.clipBox=M,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l.PathType.FILL,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return a.Util.intersect(this.clipBox,this.getPathBoundingBox(M,k))}}function A(Y,M){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData<"u"&&M instanceof ImageData){Y.putImageData(M,0,0);return}const H=M.height,q=M.width,C=H%T,O=(H-C)/T,F=C===0?O:O+1,V=Y.createImageData(q,T);let K=0,Z;const ae=M.data,le=V.data;let pe,be,ve,ye,Pe,ke,Ie,De;if(k)switch(k.length){case 1:Pe=k[0],ke=k[0],Ie=k[0],De=k[0];break;case 4:Pe=k[0],ke=k[1],Ie=k[2],De=k[3];break}if(M.kind===a.ImageKind.GRAYSCALE_1BPP){const Ve=ae.byteLength,ge=new Uint32Array(le.buffer,0,le.byteLength>>2),$e=ge.length,Fe=q+7>>3;let Oe=4294967295,Te=a.FeatureTest.isLittleEndian?4278190080:255;for(De&&De[0]===255&&De[255]===0&&([Oe,Te]=[Te,Oe]),pe=0;pe<F;pe++){for(ve=pe<O?T:C,Z=0,be=0;be<ve;be++){const te=Ve-K;let G=0;const se=te>Fe?q:te*8-7,Ee=se&-8;let fe=0,Ae=0;for(;G<Ee;G+=8)Ae=ae[K++],ge[Z++]=Ae&128?Oe:Te,ge[Z++]=Ae&64?Oe:Te,ge[Z++]=Ae&32?Oe:Te,ge[Z++]=Ae&16?Oe:Te,ge[Z++]=Ae&8?Oe:Te,ge[Z++]=Ae&4?Oe:Te,ge[Z++]=Ae&2?Oe:Te,ge[Z++]=Ae&1?Oe:Te;for(;G<se;G++)fe===0&&(Ae=ae[K++],fe=128),ge[Z++]=Ae&fe?Oe:Te,fe>>=1}for(;Z<$e;)ge[Z++]=0;Y.putImageData(V,0,pe*T)}}else if(M.kind===a.ImageKind.RGBA_32BPP){const Ve=!!(Pe||ke||Ie);for(be=0,ye=q*T*4,pe=0;pe<O;pe++){if(le.set(ae.subarray(K,K+ye)),K+=ye,Ve)for(let ge=0;ge<ye;ge+=4)Pe&&(le[ge+0]=Pe[le[ge+0]]),ke&&(le[ge+1]=ke[le[ge+1]]),Ie&&(le[ge+2]=Ie[le[ge+2]]);Y.putImageData(V,0,be),be+=T}if(pe<F){if(ye=q*C*4,le.set(ae.subarray(K,K+ye)),Ve)for(let ge=0;ge<ye;ge+=4)Pe&&(le[ge+0]=Pe[le[ge+0]]),ke&&(le[ge+1]=ke[le[ge+1]]),Ie&&(le[ge+2]=Ie[le[ge+2]]);Y.putImageData(V,0,be)}}else if(M.kind===a.ImageKind.RGB_24BPP){const Ve=!!(Pe||ke||Ie);for(ve=T,ye=q*ve,pe=0;pe<F;pe++){for(pe>=O&&(ve=C,ye=q*ve),Z=0,be=ye;be--;)le[Z++]=ae[K++],le[Z++]=ae[K++],le[Z++]=ae[K++],le[Z++]=255;if(Ve)for(let ge=0;ge<Z;ge+=4)Pe&&(le[ge+0]=Pe[le[ge+0]]),ke&&(le[ge+1]=ke[le[ge+1]]),Ie&&(le[ge+2]=Ie[le[ge+2]]);Y.putImageData(V,0,pe*T)}}else throw new Error(`bad image kind: ${M.kind}`)}function P(Y,M){if(M.bitmap){Y.drawImage(M.bitmap,0,0);return}const k=M.height,H=M.width,q=k%T,C=(k-q)/T,O=q===0?C:C+1,F=Y.createImageData(H,T);let V=0;const K=M.data,Z=F.data;for(let ae=0;ae<O;ae++){const le=ae<C?T:q;({srcPos:V}=(0,c.applyMaskImageData)({src:K,srcPos:V,dest:Z,width:H,height:le})),Y.putImageData(F,0,ae*T)}}function R(Y,M){const k=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let H=0,q=k.length;H<q;H++){const C=k[H];Y[C]!==void 0&&(M[C]=Y[C])}Y.setLineDash!==void 0&&(M.setLineDash(Y.getLineDash()),M.lineDashOffset=Y.lineDashOffset)}function $(Y,M){Y.strokeStyle=Y.fillStyle=M||"#000000",Y.fillRule="nonzero",Y.globalAlpha=1,Y.lineWidth=1,Y.lineCap="butt",Y.lineJoin="miter",Y.miterLimit=10,Y.globalCompositeOperation="source-over",Y.font="10px sans-serif",Y.setLineDash!==void 0&&(Y.setLineDash([]),Y.lineDashOffset=0)}function D(Y,M,k,H){const q=Y.length;for(let C=3;C<q;C+=4){const O=Y[C];if(O===0)Y[C-3]=M,Y[C-2]=k,Y[C-1]=H;else if(O<255){const F=255-O;Y[C-3]=Y[C-3]*O+M*F>>8,Y[C-2]=Y[C-2]*O+k*F>>8,Y[C-1]=Y[C-1]*O+H*F>>8}}}function X(Y,M,k){const H=Y.length,q=1/255;for(let C=3;C<H;C+=4){const O=k?k[Y[C]]:Y[C];M[C]=M[C]*O*q|0}}function W(Y,M,k){const H=Y.length;for(let q=3;q<H;q+=4){const C=Y[q-3]*77+Y[q-2]*152+Y[q-1]*28;M[q]=k?M[q]*k[C>>8]>>8:M[q]*C>>16}}function U(Y,M,k,H,q,C,O,F,V,K,Z){const ae=!!C,le=ae?C[0]:0,pe=ae?C[1]:0,be=ae?C[2]:0;let ve;q==="Luminosity"?ve=W:ve=X;const Pe=Math.min(H,Math.ceil(1048576/k));for(let ke=0;ke<H;ke+=Pe){const Ie=Math.min(Pe,H-ke),De=Y.getImageData(F-K,ke+(V-Z),k,Ie),Ve=M.getImageData(F,ke+V,k,Ie);ae&&D(De.data,le,pe,be),ve(De.data,Ve.data,O),M.putImageData(Ve,F,ke+V)}}function N(Y,M,k,H){const q=H[0],C=H[1],O=H[2]-q,F=H[3]-C;O===0||F===0||(U(M.context,k,O,F,M.subtype,M.backdrop,M.transferMap,q,C,M.offsetX,M.offsetY),Y.save(),Y.globalAlpha=1,Y.globalCompositeOperation="source-over",Y.setTransform(1,0,0,1,0,0),Y.drawImage(k.canvas,0,0),Y.restore())}function z(Y,M){const k=a.Util.singularValueDecompose2dScale(Y);k[0]=Math.fround(k[0]),k[1]=Math.fround(k[1]);const H=Math.fround((globalThis.devicePixelRatio||1)*n.PixelsPerInch.PDF_TO_CSS_UNITS);return M!==void 0?M:k[0]<=H||k[1]<=H}const B=["butt","round","square"],I=["miter","round","bevel"],j={},J={};var Q=new WeakSet;class re{constructor(M,k,H,q,C,O,F,V){f(this,Q),this.ctx=M,this.current=new v(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=k,this.objs=H,this.canvasFactory=q,this.imageLayer=C,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=O,this.cachedCanvases=new b(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=F,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(V==null?void 0:V.background)||null,this.foregroundColor=(V==null?void 0:V.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(M){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof M=="string"?M.startsWith("g_")?this.commonObjs.get(M):this.objs.get(M):k}beginDrawing(M){let{transform:k,viewport:H,transparency:q=!1,background:C=null}=M;const O=this.ctx.canvas.width,F=this.ctx.canvas.height,V=C||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const K=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Z=this.backgroundColor=this.ctx.fillStyle;let ae=!0,le=V;if(this.ctx.fillStyle=V,le=this.ctx.fillStyle,ae=typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le),K==="#000000"&&Z==="#ffffff"||K===Z||!ae)this.foregroundColor=this.backgroundColor=null;else{const[pe,be,ve]=(0,n.getRGB)(le),ye=ke=>(ke/=255,ke<=.03928?ke/12.92:((ke+.055)/1.055)**2.4),Pe=Math.round(.2126*ye(pe)+.7152*ye(be)+.0722*ye(ve));this.selectColor=(ke,Ie,De)=>{const Ve=.2126*ye(ke)+.7152*ye(Ie)+.0722*ye(De);return Math.round(Ve)===Pe?Z:K}}}if(this.ctx.fillStyle=this.backgroundColor||V,this.ctx.fillRect(0,0,O,F),this.ctx.restore(),q){const K=this.cachedCanvases.getCanvas("transparent",O,F);this.compositeCtx=this.ctx,this.transparentCanvas=K.canvas,this.ctx=K.context,this.ctx.save(),this.ctx.transform(...(0,n.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),$(this.ctx,this.foregroundColor),k&&(this.ctx.transform(...k),this.outputScaleX=k[0],this.outputScaleY=k[0]),this.ctx.transform(...H.transform),this.viewportScale=H.scale,this.baseTransform=(0,n.getCurrentTransform)(this.ctx),this.imageLayer&&((0,n.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(M,k,H,q){const C=M.argsArray,O=M.fnArray;let F=k||0;const V=C.length;if(V===F)return F;const K=V-F>S&&typeof H=="function",Z=K?Date.now()+x:0;let ae=0;const le=this.commonObjs,pe=this.objs;let be;for(;;){if(q!==void 0&&F===q.nextBreakPoint)return q.breakIt(F,H),F;if(be=O[F],be!==a.OPS.dependency)this[be].apply(this,C[F]);else for(const ve of C[F]){const ye=ve.startsWith("g_")?le:pe;if(!ye.has(ve))return ye.get(ve,H),F}if(F++,F===V)return F;if(K&&++ae>S){if(Date.now()>Z)return H(),F;ae=0}}}endDrawing(){d(this,Q,de).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const M of this._cachedBitmapsMap.values()){for(const k of M.values())typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement&&(k.width=k.height=0);M.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(M,k){const H=M.width,q=M.height;let C=Math.max(Math.hypot(k[0],k[1]),1),O=Math.max(Math.hypot(k[2],k[3]),1),F=H,V=q,K="prescale1",Z,ae;for(;C>2&&F>1||O>2&&V>1;){let le=F,pe=V;C>2&&F>1&&(le=Math.ceil(F/2),C/=F/le),O>2&&V>1&&(pe=Math.ceil(V/2),O/=V/pe),Z=this.cachedCanvases.getCanvas(K,le,pe),ae=Z.context,ae.clearRect(0,0,le,pe),ae.drawImage(M,0,0,F,V,0,0,le,pe),M=Z.canvas,F=le,V=pe,K=K==="prescale1"?"prescale2":"prescale1"}return{img:M,paintWidth:F,paintHeight:V}}_createMaskCanvas(M){const k=this.ctx,{width:H,height:q}=M,C=this.current.fillColor,O=this.current.patternFill,F=(0,n.getCurrentTransform)(k);let V,K,Z,ae;if((M.bitmap||M.data)&&M.count>1){const $e=M.bitmap||M.data.buffer,Fe=F.slice(0,4);K=JSON.stringify(O?Fe:[Fe,C]),V=this._cachedBitmapsMap.get($e),V||(V=new Map,this._cachedBitmapsMap.set($e,V));const Oe=V.get(K);if(Oe&&!O){const Te=Math.round(Math.min(F[0],F[2])+F[4]),te=Math.round(Math.min(F[1],F[3])+F[5]);return{canvas:Oe,offsetX:Te,offsetY:te}}Z=Oe}Z||(ae=this.cachedCanvases.getCanvas("maskCanvas",H,q),P(ae.context,M));let le=a.Util.transform(F,[1/H,0,0,-1/q,0,0]);le=a.Util.transform(le,[1,0,0,1,0,-q]);const pe=a.Util.applyTransform([0,0],le),be=a.Util.applyTransform([H,q],le),ve=a.Util.normalizeRect([pe[0],pe[1],be[0],be[1]]),ye=Math.round(ve[2]-ve[0])||1,Pe=Math.round(ve[3]-ve[1])||1,ke=this.cachedCanvases.getCanvas("fillCanvas",ye,Pe),Ie=ke.context,De=Math.min(pe[0],be[0]),Ve=Math.min(pe[1],be[1]);Ie.translate(-De,-Ve),Ie.transform(...le),Z||(Z=this._scaleImage(ae.canvas,(0,n.getCurrentTransformInverse)(Ie)),Z=Z.img,V&&O&&V.set(K,Z)),Ie.imageSmoothingEnabled=z((0,n.getCurrentTransform)(Ie),M.interpolate),y(Ie,Z,0,0,Z.width,Z.height,0,0,H,q),Ie.globalCompositeOperation="source-in";const ge=a.Util.transform((0,n.getCurrentTransformInverse)(Ie),[1,0,0,1,-De,-Ve]);return Ie.fillStyle=O?C.getPattern(k,this,ge,l.PathType.FILL):C,Ie.fillRect(0,0,H,q),V&&!O&&(this.cachedCanvases.delete("fillCanvas"),V.set(K,ke.canvas)),{canvas:ke.canvas,offsetX:Math.round(De),offsetY:Math.round(Ve)}}setLineWidth(M){M!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=M,this.ctx.lineWidth=M}setLineCap(M){this.ctx.lineCap=B[M]}setLineJoin(M){this.ctx.lineJoin=I[M]}setMiterLimit(M){this.ctx.miterLimit=M}setDash(M,k){const H=this.ctx;H.setLineDash!==void 0&&(H.setLineDash(M),H.lineDashOffset=k)}setRenderingIntent(M){}setFlatness(M){}setGState(M){for(let k=0,H=M.length;k<H;k++){const q=M[k],C=q[0],O=q[1];switch(C){case"LW":this.setLineWidth(O);break;case"LC":this.setLineCap(O);break;case"LJ":this.setLineJoin(O);break;case"ML":this.setMiterLimit(O);break;case"D":this.setDash(O[0],O[1]);break;case"RI":this.setRenderingIntent(O);break;case"FL":this.setFlatness(O);break;case"Font":this.setFont(O[0],O[1]);break;case"CA":this.current.strokeAlpha=q[1];break;case"ca":this.current.fillAlpha=q[1],this.ctx.globalAlpha=q[1];break;case"BM":this.ctx.globalCompositeOperation=O;break;case"SMask":this.current.activeSMask=O?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=O}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const M=this.inSMaskMode;this.current.activeSMask&&!M?this.beginSMaskMode():!this.current.activeSMask&&M&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const M=this.ctx.canvas.width,k=this.ctx.canvas.height,H="smaskGroupAt"+this.groupLevel,q=this.cachedCanvases.getCanvas(H,M,k);this.suspendedCtx=this.ctx,this.ctx=q.context;const C=this.ctx;C.setTransform(...(0,n.getCurrentTransform)(this.suspendedCtx)),R(this.suspendedCtx,C),m(C,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),R(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(M){if(!this.current.activeSMask)return;M?(M[0]=Math.floor(M[0]),M[1]=Math.floor(M[1]),M[2]=Math.ceil(M[2]),M[3]=Math.ceil(M[3])):M=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const k=this.current.activeSMask,H=this.suspendedCtx;N(H,k,this.ctx,M),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(R(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const M=this.current;this.stateStack.push(M),this.current=M.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),R(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(M,k,H,q,C,O){this.ctx.transform(M,k,H,q,C,O),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(M,k,H){const q=this.ctx,C=this.current;let O=C.x,F=C.y,V,K;const Z=(0,n.getCurrentTransform)(q),ae=Z[0]===0&&Z[3]===0||Z[1]===0&&Z[2]===0,le=ae?H.slice(0):null;for(let pe=0,be=0,ve=M.length;pe<ve;pe++)switch(M[pe]|0){case a.OPS.rectangle:O=k[be++],F=k[be++];const ye=k[be++],Pe=k[be++],ke=O+ye,Ie=F+Pe;q.moveTo(O,F),ye===0||Pe===0?q.lineTo(ke,Ie):(q.lineTo(ke,F),q.lineTo(ke,Ie),q.lineTo(O,Ie)),ae||C.updateRectMinMax(Z,[O,F,ke,Ie]),q.closePath();break;case a.OPS.moveTo:O=k[be++],F=k[be++],q.moveTo(O,F),ae||C.updatePathMinMax(Z,O,F);break;case a.OPS.lineTo:O=k[be++],F=k[be++],q.lineTo(O,F),ae||C.updatePathMinMax(Z,O,F);break;case a.OPS.curveTo:V=O,K=F,O=k[be+4],F=k[be+5],q.bezierCurveTo(k[be],k[be+1],k[be+2],k[be+3],O,F),C.updateCurvePathMinMax(Z,V,K,k[be],k[be+1],k[be+2],k[be+3],O,F,le),be+=6;break;case a.OPS.curveTo2:V=O,K=F,q.bezierCurveTo(O,F,k[be],k[be+1],k[be+2],k[be+3]),C.updateCurvePathMinMax(Z,V,K,O,F,k[be],k[be+1],k[be+2],k[be+3],le),O=k[be+2],F=k[be+3],be+=4;break;case a.OPS.curveTo3:V=O,K=F,O=k[be+2],F=k[be+3],q.bezierCurveTo(k[be],k[be+1],O,F,O,F),C.updateCurvePathMinMax(Z,V,K,k[be],k[be+1],O,F,O,F,le),be+=4;break;case a.OPS.closePath:q.closePath();break}ae&&C.updateScalingPathMinMax(Z,le),C.setCurrentPoint(O,F)}closePath(){this.ctx.closePath()}stroke(M){M=typeof M<"u"?M:!0;const k=this.ctx,H=this.current.strokeColor;k.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof H=="object"&&H!==null&&H!==void 0&&H.getPattern?(k.save(),k.strokeStyle=H.getPattern(k,this,(0,n.getCurrentTransformInverse)(k),l.PathType.STROKE),this.rescaleAndStroke(!1),k.restore()):this.rescaleAndStroke(!0)),M&&this.consumePath(this.current.getClippedPathBoundingBox()),k.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(M){M=typeof M<"u"?M:!0;const k=this.ctx,H=this.current.fillColor,q=this.current.patternFill;let C=!1;q&&(k.save(),k.fillStyle=H.getPattern(k,this,(0,n.getCurrentTransformInverse)(k),l.PathType.FILL),C=!0);const O=this.current.getClippedPathBoundingBox();this.contentVisible&&O!==null&&(this.pendingEOFill?(k.fill("evenodd"),this.pendingEOFill=!1):k.fill()),C&&k.restore(),M&&this.consumePath(O)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=j}eoClip(){this.pendingClip=J}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const M=this.pendingTextPaths,k=this.ctx;if(M===void 0){k.beginPath();return}k.save(),k.beginPath();for(const H of M)k.setTransform(...H.transform),k.translate(H.x,H.y),H.addToPath(k,H.fontSize);k.restore(),k.clip(),k.beginPath(),delete this.pendingTextPaths}setCharSpacing(M){this.current.charSpacing=M}setWordSpacing(M){this.current.wordSpacing=M}setHScale(M){this.current.textHScale=M/100}setLeading(M){this.current.leading=-M}setFont(M,k){const H=this.commonObjs.get(M),q=this.current;if(!H)throw new Error(`Can't find font for ${M}`);if(q.fontMatrix=H.fontMatrix||a.FONT_IDENTITY_MATRIX,(q.fontMatrix[0]===0||q.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+M),k<0?(k=-k,q.fontDirection=-1):q.fontDirection=1,this.current.font=H,this.current.fontSize=k,H.isType3Font)return;const C=H.loadedName||"sans-serif";let O="normal";H.black?O="900":H.bold&&(O="bold");const F=H.italic?"italic":"normal",V=`"${C}", ${H.fallbackName}`;let K=k;k<E?K=E:k>p&&(K=p),this.current.fontSizeScale=k/K,this.ctx.font=`${F} ${O} ${K}px ${V}`}setTextRenderingMode(M){this.current.textRenderingMode=M}setTextRise(M){this.current.textRise=M}moveText(M,k){this.current.x=this.current.lineX+=M,this.current.y=this.current.lineY+=k}setLeadingMoveText(M,k){this.setLeading(-k),this.moveText(M,k)}setTextMatrix(M,k,H,q,C,O){this.current.textMatrix=[M,k,H,q,C,O],this.current.textMatrixScale=Math.hypot(M,k),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(M,k,H,q){const C=this.ctx,O=this.current,F=O.font,V=O.textRenderingMode,K=O.fontSize/O.fontSizeScale,Z=V&a.TextRenderingMode.FILL_STROKE_MASK,ae=!!(V&a.TextRenderingMode.ADD_TO_PATH_FLAG),le=O.patternFill&&!F.missingFile;let pe;(F.disableFontFace||ae||le)&&(pe=F.getPathGenerator(this.commonObjs,M)),F.disableFontFace||le?(C.save(),C.translate(k,H),C.beginPath(),pe(C,K),q&&C.setTransform(...q),(Z===a.TextRenderingMode.FILL||Z===a.TextRenderingMode.FILL_STROKE)&&C.fill(),(Z===a.TextRenderingMode.STROKE||Z===a.TextRenderingMode.FILL_STROKE)&&C.stroke(),C.restore()):((Z===a.TextRenderingMode.FILL||Z===a.TextRenderingMode.FILL_STROKE)&&C.fillText(M,k,H),(Z===a.TextRenderingMode.STROKE||Z===a.TextRenderingMode.FILL_STROKE)&&C.strokeText(M,k,H)),ae&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,n.getCurrentTransform)(C),x:k,y:H,fontSize:K,addToPath:pe})}get isFontSubpixelAAEnabled(){const{context:M}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);M.scale(1.5,1),M.fillText("I",0,10);const k=M.getImageData(0,0,10,10).data;let H=!1;for(let q=3;q<k.length;q+=4)if(k[q]>0&&k[q]<255){H=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",H)}showText(M){const k=this.current,H=k.font;if(H.isType3Font)return this.showType3Text(M);const q=k.fontSize;if(q===0)return;const C=this.ctx,O=k.fontSizeScale,F=k.charSpacing,V=k.wordSpacing,K=k.fontDirection,Z=k.textHScale*K,ae=M.length,le=H.vertical,pe=le?1:-1,be=H.defaultVMetrics,ve=q*k.fontMatrix[0],ye=k.textRenderingMode===a.TextRenderingMode.FILL&&!H.disableFontFace&&!k.patternFill;C.save(),C.transform(...k.textMatrix),C.translate(k.x,k.y+k.textRise),K>0?C.scale(Z,-1):C.scale(Z,1);let Pe;if(k.patternFill){C.save();const ge=k.fillColor.getPattern(C,this,(0,n.getCurrentTransformInverse)(C),l.PathType.FILL);Pe=(0,n.getCurrentTransform)(C),C.restore(),C.fillStyle=ge}let ke=k.lineWidth;const Ie=k.textMatrixScale;if(Ie===0||ke===0){const ge=k.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(ge===a.TextRenderingMode.STROKE||ge===a.TextRenderingMode.FILL_STROKE)&&(ke=this.getSinglePixelWidth())}else ke/=Ie;O!==1&&(C.scale(O,O),ke/=O),C.lineWidth=ke;let De=0,Ve;for(Ve=0;Ve<ae;++Ve){const ge=M[Ve];if(typeof ge=="number"){De+=pe*ge*q/1e3;continue}let $e=!1;const Fe=(ge.isSpace?V:0)+F,Oe=ge.fontChar,Te=ge.accent;let te,G,se=ge.width;if(le){const fe=ge.vmetric||be,Ae=-(ge.vmetric?fe[1]:se*.5)*ve,Me=fe[2]*ve;se=fe?-fe[0]:se,te=Ae/O,G=(De+Me)/O}else te=De/O,G=0;if(H.remeasure&&se>0){const fe=C.measureText(Oe).width*1e3/q*O;if(se<fe&&this.isFontSubpixelAAEnabled){const Ae=se/fe;$e=!0,C.save(),C.scale(Ae,1),te/=Ae}else se!==fe&&(te+=(se-fe)/2e3*q/O)}if(this.contentVisible&&(ge.isInFont||H.missingFile)){if(ye&&!Te)C.fillText(Oe,te,G);else if(this.paintChar(Oe,te,G,Pe),Te){const fe=te+q*Te.offset.x/O,Ae=G-q*Te.offset.y/O;this.paintChar(Te.fontChar,fe,Ae,Pe)}}let Ee;le?Ee=se*ve-Fe*K:Ee=se*ve+Fe*K,De+=Ee,$e&&C.restore()}le?k.y-=De:k.x+=De*Z,C.restore(),this.compose()}showType3Text(M){const k=this.ctx,H=this.current,q=H.font,C=H.fontSize,O=H.fontDirection,F=q.vertical?1:-1,V=H.charSpacing,K=H.wordSpacing,Z=H.textHScale*O,ae=H.fontMatrix||a.FONT_IDENTITY_MATRIX,le=M.length,pe=H.textRenderingMode===a.TextRenderingMode.INVISIBLE;let be,ve,ye,Pe;if(!(pe||C===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,k.save(),k.transform(...H.textMatrix),k.translate(H.x,H.y),k.scale(Z,O),be=0;be<le;++be){if(ve=M[be],typeof ve=="number"){Pe=F*ve*C/1e3,this.ctx.translate(Pe,0),H.x+=Pe*Z;continue}const ke=(ve.isSpace?K:0)+V,Ie=q.charProcOperatorList[ve.operatorListId];if(!Ie){(0,a.warn)(`Type3 character "${ve.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ve,this.save(),k.scale(C,C),k.transform(...ae),this.executeOperatorList(Ie),this.restore()),ye=a.Util.applyTransform([ve.width,0],ae)[0]*C+ke,k.translate(ye,0),H.x+=ye*Z}k.restore(),this.processingType3=null}}setCharWidth(M,k){}setCharWidthAndBounds(M,k,H,q,C,O){this.ctx.rect(H,q,C-H,O-q),this.ctx.clip(),this.endPath()}getColorN_Pattern(M){let k;if(M[0]==="TilingPattern"){const H=M[1],q=this.baseTransform||(0,n.getCurrentTransform)(this.ctx),C={createCanvasGraphics:O=>new re(O,this.commonObjs,this.objs,this.canvasFactory)};k=new l.TilingPattern(M,H,this.ctx,C,q)}else k=this._getPattern(M[1],M[2]);return k}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(M,k,H){var q;const C=((q=this.selectColor)===null||q===void 0?void 0:q.call(this,M,k,H))||a.Util.makeHexColor(M,k,H);this.ctx.strokeStyle=C,this.current.strokeColor=C}setFillRGBColor(M,k,H){var q;const C=((q=this.selectColor)===null||q===void 0?void 0:q.call(this,M,k,H))||a.Util.makeHexColor(M,k,H);this.ctx.fillStyle=C,this.current.fillColor=C,this.current.patternFill=!1}_getPattern(M){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,H;return this.cachedPatterns.has(M)?H=this.cachedPatterns.get(M):(H=(0,l.getShadingPattern)(this.objs.get(M)),this.cachedPatterns.set(M,H)),k&&(H.matrix=k),H}shadingFill(M){if(!this.contentVisible)return;const k=this.ctx;this.save();const H=this._getPattern(M);k.fillStyle=H.getPattern(k,this,(0,n.getCurrentTransformInverse)(k),l.PathType.SHADING);const q=(0,n.getCurrentTransformInverse)(k);if(q){const C=k.canvas,O=C.width,F=C.height,V=a.Util.applyTransform([0,0],q),K=a.Util.applyTransform([0,F],q),Z=a.Util.applyTransform([O,0],q),ae=a.Util.applyTransform([O,F],q),le=Math.min(V[0],K[0],Z[0],ae[0]),pe=Math.min(V[1],K[1],Z[1],ae[1]),be=Math.max(V[0],K[0],Z[0],ae[0]),ve=Math.max(V[1],K[1],Z[1],ae[1]);this.ctx.fillRect(le,pe,be-le,ve-pe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(M,k){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(M)&&M.length===6&&this.transform(...M),this.baseTransform=(0,n.getCurrentTransform)(this.ctx),k)){const H=k[2]-k[0],q=k[3]-k[1];this.ctx.rect(k[0],k[1],H,q),this.current.updateRectMinMax((0,n.getCurrentTransform)(this.ctx),k),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(M){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const k=this.ctx;M.isolated||(0,a.info)("TODO: Support non-isolated groups."),M.knockout&&(0,a.warn)("Knockout groups not supported.");const H=(0,n.getCurrentTransform)(k);if(M.matrix&&k.transform(...M.matrix),!M.bbox)throw new Error("Bounding box is required.");let q=a.Util.getAxialAlignedBoundingBox(M.bbox,(0,n.getCurrentTransform)(k));const C=[0,0,k.canvas.width,k.canvas.height];q=a.Util.intersect(q,C)||[0,0,0,0];const O=Math.floor(q[0]),F=Math.floor(q[1]);let V=Math.max(Math.ceil(q[2])-O,1),K=Math.max(Math.ceil(q[3])-F,1),Z=1,ae=1;V>g&&(Z=V/g,V=g),K>g&&(ae=K/g,K=g),this.current.startNewPathAndClipBox([0,0,V,K]);let le="groupAt"+this.groupLevel;M.smask&&(le+="_smask_"+this.smaskCounter++%2);const pe=this.cachedCanvases.getCanvas(le,V,K),be=pe.context;be.scale(1/Z,1/ae),be.translate(-O,-F),be.transform(...H),M.smask?this.smaskStack.push({canvas:pe.canvas,context:be,offsetX:O,offsetY:F,scaleX:Z,scaleY:ae,subtype:M.smask.subtype,backdrop:M.smask.backdrop,transferMap:M.smask.transferMap||null,startTransformInverse:null}):(k.setTransform(1,0,0,1,0,0),k.translate(O,F),k.scale(Z,ae),k.save()),R(k,be),this.ctx=be,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(k),this.groupLevel++}endGroup(M){if(!this.contentVisible)return;this.groupLevel--;const k=this.ctx,H=this.groupStack.pop();if(this.ctx=H,this.ctx.imageSmoothingEnabled=!1,M.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const q=(0,n.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...q);const C=a.Util.getAxialAlignedBoundingBox([0,0,k.canvas.width,k.canvas.height],q);this.ctx.drawImage(k.canvas,0,0),this.ctx.restore(),this.compose(C)}}beginAnnotation(M,k,H,q,C){if(d(this,Q,de).call(this),$(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(k)&&k.length===4){const O=k[2]-k[0],F=k[3]-k[1];if(C&&this.annotationCanvasMap){H=H.slice(),H[4]-=k[0],H[5]-=k[1],k=k.slice(),k[0]=k[1]=0,k[2]=O,k[3]=F;const[V,K]=a.Util.singularValueDecompose2dScale((0,n.getCurrentTransform)(this.ctx)),{viewportScale:Z}=this,ae=Math.ceil(O*this.outputScaleX*Z),le=Math.ceil(F*this.outputScaleY*Z);this.annotationCanvas=this.canvasFactory.create(ae,le);const{canvas:pe,context:be}=this.annotationCanvas;this.annotationCanvasMap.set(M,pe),this.annotationCanvas.savedCtx=this.ctx,this.ctx=be,this.ctx.setTransform(V,0,0,-K,0,F*K),$(this.ctx,this.foregroundColor)}else $(this.ctx,this.foregroundColor),this.ctx.rect(k[0],k[1],O,F),this.ctx.clip(),this.endPath()}this.current=new v(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...H),this.transform(...q)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(M){if(!this.contentVisible)return;const k=M.count;M=this.getObject(M.data,M),M.count=k;const H=this.ctx,q=this.processingType3;if(q&&(q.compiled===void 0&&(q.compiled=h(M)),q.compiled)){q.compiled(H);return}const C=this._createMaskCanvas(M),O=C.canvas;H.save(),H.setTransform(1,0,0,1,0,0),H.drawImage(O,C.offsetX,C.offsetY),H.restore(),this.compose()}paintImageMaskXObjectRepeat(M,k){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,C=arguments.length>4?arguments[4]:void 0,O=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;M=this.getObject(M.data,M);const F=this.ctx;F.save();const V=(0,n.getCurrentTransform)(F);F.transform(k,H,q,C,0,0);const K=this._createMaskCanvas(M);F.setTransform(1,0,0,1,0,0);for(let Z=0,ae=O.length;Z<ae;Z+=2){const le=a.Util.transform(V,[k,H,q,C,O[Z],O[Z+1]]),[pe,be]=a.Util.applyTransform([0,0],le);F.drawImage(K.canvas,pe,be)}F.restore(),this.compose()}paintImageMaskXObjectGroup(M){if(!this.contentVisible)return;const k=this.ctx,H=this.current.fillColor,q=this.current.patternFill;for(const C of M){const{data:O,width:F,height:V,transform:K}=C,Z=this.cachedCanvases.getCanvas("maskCanvas",F,V),ae=Z.context;ae.save();const le=this.getObject(O,C);P(ae,le),ae.globalCompositeOperation="source-in",ae.fillStyle=q?H.getPattern(ae,this,(0,n.getCurrentTransformInverse)(k),l.PathType.FILL):H,ae.fillRect(0,0,F,V),ae.restore(),k.save(),k.transform(...K),k.scale(1,-1),y(k,Z.canvas,0,0,F,V,0,-1,1,1),k.restore()}this.compose()}paintImageXObject(M){if(!this.contentVisible)return;const k=this.getObject(M);if(!k){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(k)}paintImageXObjectRepeat(M,k,H,q){if(!this.contentVisible)return;const C=this.getObject(M);if(!C){(0,a.warn)("Dependent image isn't ready yet");return}const O=C.width,F=C.height,V=[];for(let K=0,Z=q.length;K<Z;K+=2)V.push({transform:[k,0,0,H,q[K],q[K+1]],x:0,y:0,w:O,h:F});this.paintInlineImageXObjectGroup(C,V)}paintInlineImageXObject(M){if(!this.contentVisible)return;const k=M.width,H=M.height,q=this.ctx;this.save(),q.scale(1/k,-1/H);let C;if(typeof HTMLElement=="function"&&M instanceof HTMLElement||!M.data)C=M;else{const K=this.cachedCanvases.getCanvas("inlineImage",k,H),Z=K.context;A(Z,M,this.current.transferMaps),C=K.canvas}const O=this._scaleImage(C,(0,n.getCurrentTransformInverse)(q));q.imageSmoothingEnabled=z((0,n.getCurrentTransform)(q),M.interpolate);const[F,V]=y(q,O.img,0,0,O.paintWidth,O.paintHeight,0,-H,k,H);if(this.imageLayer){const[K,Z]=a.Util.applyTransform([0,-H],(0,n.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:M,left:K,top:Z,width:F,height:V})}this.compose(),this.restore()}paintInlineImageXObjectGroup(M,k){if(!this.contentVisible)return;const H=this.ctx,q=M.width,C=M.height,O=this.cachedCanvases.getCanvas("inlineImage",q,C),F=O.context;A(F,M,this.current.transferMaps);for(const V of k){if(H.save(),H.transform(...V.transform),H.scale(1,-1),y(H,O.canvas,V.x,V.y,V.w,V.h,0,-1,1,1),this.imageLayer){const[K,Z]=a.Util.applyTransform([V.x,V.y],(0,n.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:M,left:K,top:Z,width:q,height:C})}H.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(M){}markPointProps(M,k){}beginMarkedContent(M){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(M,k){M==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(k)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(M){const k=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(M);const H=this.ctx;this.pendingClip&&(k||(this.pendingClip===J?H.clip("evenodd"):H.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),H.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const M=(0,n.getCurrentTransform)(this.ctx);if(M[1]===0&&M[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(M[0]),Math.abs(M[3]));else{const k=Math.abs(M[0]*M[3]-M[2]*M[1]),H=Math.hypot(M[0],M[2]),q=Math.hypot(M[1],M[3]);this._cachedGetSinglePixelWidth=Math.max(H,q)/k}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:M}=this.current,k=(0,n.getCurrentTransform)(this.ctx);let H,q;if(k[1]===0&&k[2]===0){const C=Math.abs(k[0]),O=Math.abs(k[3]);if(M===0)H=1/C,q=1/O;else{const F=C*M,V=O*M;H=F<1?1/F:1,q=V<1?1/V:1}}else{const C=Math.abs(k[0]*k[3]-k[2]*k[1]),O=Math.hypot(k[0],k[1]),F=Math.hypot(k[2],k[3]);if(M===0)H=F/C,q=O/C;else{const V=M*C;H=F>V?F/V:1,q=O>V?O/V:1}}this._cachedScaleForStroking=[H,q]}return this._cachedScaleForStroking}rescaleAndStroke(M){const{ctx:k}=this,{lineWidth:H}=this.current,[q,C]=this.getScaleForStroking();if(k.lineWidth=H||1,q===1&&C===1){k.stroke();return}let O,F,V;M&&(O=(0,n.getCurrentTransform)(k),F=k.getLineDash().slice(),V=k.lineDashOffset),k.scale(q,C);const K=Math.max(q,C);k.setLineDash(k.getLineDash().map(Z=>Z/K)),k.lineDashOffset/=K,k.stroke(),M&&(k.setTransform(...O),k.setLineDash(F),k.lineDashOffset=V)}isContentVisible(){for(let M=this.markedContentStack.length-1;M>=0;M--)if(!this.markedContentStack[M].visible)return!1;return!0}}i.CanvasGraphics=re;function de(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}for(const Y in a.OPS)re.prototype[Y]!==void 0&&(re.prototype[a.OPS[Y]]=re.prototype[Y])},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=x;var n=e(1),a=e(133),l=e(3);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=c;function o(T,m){if(!m||l.isNodeJS)return;const b=m[2]-m[0],y=m[3]-m[1],h=new Path2D;h.rect(m[0],m[1],b,y),T.clip(h)}class f{constructor(){this.constructor===f&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class u extends f{constructor(m){super(),this._type=m[1],this._bbox=m[2],this._colorStops=m[3],this._p0=m[4],this._p1=m[5],this._r0=m[6],this._r1=m[7],this.matrix=null}_createGradient(m){let b;this._type==="axial"?b=m.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(b=m.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const y of this._colorStops)b.addColorStop(y[0],y[1]);return b}getPattern(m,b,y,h){let v;if(h===c.STROKE||h===c.FILL){const A=b.current.getClippedPathBoundingBox(h,(0,a.getCurrentTransform)(m))||[0,0,0,0],P=Math.ceil(A[2]-A[0])||1,R=Math.ceil(A[3]-A[1])||1,$=b.cachedCanvases.getCanvas("pattern",P,R,!0),D=$.context;D.clearRect(0,0,D.canvas.width,D.canvas.height),D.beginPath(),D.rect(0,0,D.canvas.width,D.canvas.height),D.translate(-A[0],-A[1]),y=n.Util.transform(y,[1,0,0,1,A[0],A[1]]),D.transform(...b.baseTransform),this.matrix&&D.transform(...this.matrix),o(D,this._bbox),D.fillStyle=this._createGradient(D),D.fill(),v=m.createPattern($.canvas,"no-repeat");const X=new DOMMatrix(y);try{v.setTransform(X)}catch(W){(0,n.warn)(`RadialAxialShadingPattern.getPattern: "${W==null?void 0:W.message}".`)}}else o(m,this._bbox),v=this._createGradient(m);return v}}function d(T,m,b,y,h,v,A,P){const R=m.coords,$=m.colors,D=T.data,X=T.width*4;let W;R[b+1]>R[y+1]&&(W=b,b=y,y=W,W=v,v=A,A=W),R[y+1]>R[h+1]&&(W=y,y=h,h=W,W=A,A=P,P=W),R[b+1]>R[y+1]&&(W=b,b=y,y=W,W=v,v=A,A=W);const U=(R[b]+m.offsetX)*m.scaleX,N=(R[b+1]+m.offsetY)*m.scaleY,z=(R[y]+m.offsetX)*m.scaleX,B=(R[y+1]+m.offsetY)*m.scaleY,I=(R[h]+m.offsetX)*m.scaleX,j=(R[h+1]+m.offsetY)*m.scaleY;if(N>=j)return;const J=$[v],Q=$[v+1],re=$[v+2],de=$[A],Y=$[A+1],M=$[A+2],k=$[P],H=$[P+1],q=$[P+2],C=Math.round(N),O=Math.round(j);let F,V,K,Z,ae,le,pe,be;for(let ve=C;ve<=O;ve++){if(ve<B){let De;ve<N?De=0:De=(N-ve)/(N-B),F=U-(U-z)*De,V=J-(J-de)*De,K=Q-(Q-Y)*De,Z=re-(re-M)*De}else{let De;ve>j?De=1:B===j?De=0:De=(B-ve)/(B-j),F=z-(z-I)*De,V=de-(de-k)*De,K=Y-(Y-H)*De,Z=M-(M-q)*De}let ye;ve<N?ye=0:ve>j?ye=1:ye=(N-ve)/(N-j),ae=U-(U-I)*ye,le=J-(J-k)*ye,pe=Q-(Q-H)*ye,be=re-(re-q)*ye;const Pe=Math.round(Math.min(F,ae)),ke=Math.round(Math.max(F,ae));let Ie=X*ve+Pe*4;for(let De=Pe;De<=ke;De++)ye=(F-De)/(F-ae),ye<0?ye=0:ye>1&&(ye=1),D[Ie++]=V-(V-le)*ye|0,D[Ie++]=K-(K-pe)*ye|0,D[Ie++]=Z-(Z-be)*ye|0,D[Ie++]=255}}function E(T,m,b){const y=m.coords,h=m.colors;let v,A;switch(m.type){case"lattice":const P=m.verticesPerRow,R=Math.floor(y.length/P)-1,$=P-1;for(v=0;v<R;v++){let D=v*P;for(let X=0;X<$;X++,D++)d(T,b,y[D],y[D+1],y[D+P],h[D],h[D+1],h[D+P]),d(T,b,y[D+P+1],y[D+1],y[D+P],h[D+P+1],h[D+1],h[D+P])}break;case"triangles":for(v=0,A=y.length;v<A;v+=3)d(T,b,y[v],y[v+1],y[v+2],h[v],h[v+1],h[v+2]);break;default:throw new Error("illegal figure")}}class p extends f{constructor(m){super(),this._coords=m[2],this._colors=m[3],this._figures=m[4],this._bounds=m[5],this._bbox=m[7],this._background=m[8],this.matrix=null}_createMeshCanvas(m,b,y){const P=Math.floor(this._bounds[0]),R=Math.floor(this._bounds[1]),$=Math.ceil(this._bounds[2])-P,D=Math.ceil(this._bounds[3])-R,X=Math.min(Math.ceil(Math.abs($*m[0]*1.1)),3e3),W=Math.min(Math.ceil(Math.abs(D*m[1]*1.1)),3e3),U=$/X,N=D/W,z={coords:this._coords,colors:this._colors,offsetX:-P,offsetY:-R,scaleX:1/U,scaleY:1/N},B=X+2*2,I=W+2*2,j=y.getCanvas("mesh",B,I,!1),J=j.context,Q=J.createImageData(X,W);if(b){const de=Q.data;for(let Y=0,M=de.length;Y<M;Y+=4)de[Y]=b[0],de[Y+1]=b[1],de[Y+2]=b[2],de[Y+3]=255}for(const de of this._figures)E(Q,de,z);return J.putImageData(Q,2,2),{canvas:j.canvas,offsetX:P-2*U,offsetY:R-2*N,scaleX:U,scaleY:N}}getPattern(m,b,y,h){o(m,this._bbox);let v;if(h===c.SHADING)v=n.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(m));else if(v=n.Util.singularValueDecompose2dScale(b.baseTransform),this.matrix){const P=n.Util.singularValueDecompose2dScale(this.matrix);v=[v[0]*P[0],v[1]*P[1]]}const A=this._createMeshCanvas(v,h===c.SHADING?null:this._background,b.cachedCanvases);return h!==c.SHADING&&(m.setTransform(...b.baseTransform),this.matrix&&m.transform(...this.matrix)),m.translate(A.offsetX,A.offsetY),m.scale(A.scaleX,A.scaleY),m.createPattern(A.canvas,"no-repeat")}}class g extends f{getPattern(){return"hotpink"}}function x(T){switch(T[0]){case"RadialAxial":return new u(T);case"Mesh":return new p(T);case"Dummy":return new g}throw new Error(`Unknown IR type: ${T[0]}`)}const S={COLORED:1,UNCOLORED:2};class w{static get MAX_PATTERN_SIZE(){return(0,n.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(m,b,y,h,v){this.operatorList=m[2],this.matrix=m[3]||[1,0,0,1,0,0],this.bbox=m[4],this.xstep=m[5],this.ystep=m[6],this.paintType=m[7],this.tilingType=m[8],this.color=b,this.ctx=y,this.canvasGraphicsFactory=h,this.baseTransform=v}createPatternCanvas(m){const b=this.operatorList,y=this.bbox,h=this.xstep,v=this.ystep,A=this.paintType,P=this.tilingType,R=this.color,$=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+P);const D=y[0],X=y[1],W=y[2],U=y[3],N=n.Util.singularValueDecompose2dScale(this.matrix),z=n.Util.singularValueDecompose2dScale(this.baseTransform),B=[N[0]*z[0],N[1]*z[1]],I=this.getSizeAndScale(h,this.ctx.canvas.width,B[0]),j=this.getSizeAndScale(v,this.ctx.canvas.height,B[1]),J=m.cachedCanvases.getCanvas("pattern",I.size,j.size,!0),Q=J.context,re=$.createCanvasGraphics(Q);re.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(re,A,R);let de=D,Y=X,M=W,k=U;return D<0&&(de=0,M+=Math.abs(D)),X<0&&(Y=0,k+=Math.abs(X)),Q.translate(-(I.scale*de),-(j.scale*Y)),re.transform(I.scale,0,0,j.scale,0,0),Q.save(),this.clipBbox(re,de,Y,M,k),re.baseTransform=(0,a.getCurrentTransform)(re.ctx),re.executeOperatorList(b),re.endDrawing(),{canvas:J.canvas,scaleX:I.scale,scaleY:j.scale,offsetX:de,offsetY:Y}}getSizeAndScale(m,b,y){m=Math.abs(m);const h=Math.max(w.MAX_PATTERN_SIZE,b);let v=Math.ceil(m*y);return v>=h?v=h:y=v/m,{scale:y,size:v}}clipBbox(m,b,y,h,v){const A=h-b,P=v-y;m.ctx.rect(b,y,A,P),m.current.updateRectMinMax((0,a.getCurrentTransform)(m.ctx),[b,y,h,v]),m.clip(),m.endPath()}setFillAndStrokeStyleToContext(m,b,y){const h=m.ctx,v=m.current;switch(b){case S.COLORED:const A=this.ctx;h.fillStyle=A.fillStyle,h.strokeStyle=A.strokeStyle,v.fillColor=A.fillStyle,v.strokeColor=A.strokeStyle;break;case S.UNCOLORED:const P=n.Util.makeHexColor(y[0],y[1],y[2]);h.fillStyle=P,h.strokeStyle=P,v.fillColor=P,v.strokeColor=P;break;default:throw new n.FormatError(`Unsupported paint type: ${b}`)}}getPattern(m,b,y,h){let v=y;h!==c.SHADING&&(v=n.Util.transform(v,b.baseTransform),this.matrix&&(v=n.Util.transform(v,this.matrix)));const A=this.createPatternCanvas(b);let P=new DOMMatrix(v);P=P.translate(A.offsetX,A.offsetY),P=P.scale(1/A.scaleX,1/A.scaleY);const R=m.createPattern(A.canvas,"repeat");try{R.setTransform(P)}catch($){(0,n.warn)(`TilingPattern.getPattern: "${$==null?void 0:$.message}".`)}return R}}i.TilingPattern=w},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.applyMaskImageData=a;var n=e(1);function a(l){let{src:c,srcPos:o=0,dest:f,destPos:u=0,width:d,height:E,inverseDecode:p=!1}=l;const g=n.FeatureTest.isLittleEndian?4278190080:255,[x,S]=p?[0,g]:[g,0],w=d>>3,T=d&7,m=c.length;f=new Uint32Array(f.buffer);for(let b=0;b<E;b++){for(const h=o+w;o<h;o++){const v=o<m?c[o]:255;f[u++]=v&128?S:x,f[u++]=v&64?S:x,f[u++]=v&32?S:x,f[u++]=v&16?S:x,f[u++]=v&8?S:x,f[u++]=v&4?S:x,f[u++]=v&2?S:x,f[u++]=v&1?S:x}if(T===0)continue;const y=o<m?c[o++]:255;for(let h=0;h<T;h++)f[u++]=y&1<<7-h?S:x}return{srcPos:o,destPos:u}}},(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const e=Object.create(null);i.GlobalWorkerOptions=e,e.workerPort=e.workerPort===void 0?null:e.workerPort,e.workerSrc=e.workerSrc===void 0?"":e.workerSrc},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var n=e(1);const a={UNKNOWN:0,DATA:1,ERROR:2},l={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function c(f){switch(f instanceof Error||typeof f=="object"&&f!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),f.name){case"AbortException":return new n.AbortException(f.message);case"MissingPDFException":return new n.MissingPDFException(f.message);case"PasswordException":return new n.PasswordException(f.message,f.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(f.message,f.status);case"UnknownErrorException":return new n.UnknownErrorException(f.message,f.details);default:return new n.UnknownErrorException(f.message,f.toString())}}class o{constructor(u,d,E){this.sourceName=u,this.targetName=d,this.comObj=E,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=p=>{const g=p.data;if(g.targetName!==this.sourceName)return;if(g.stream){this._processStreamMessage(g);return}if(g.callback){const S=g.callbackId,w=this.callbackCapabilities[S];if(!w)throw new Error(`Cannot resolve callback ${S}`);if(delete this.callbackCapabilities[S],g.callback===a.DATA)w.resolve(g.data);else if(g.callback===a.ERROR)w.reject(c(g.reason));else throw new Error("Unexpected callback case");return}const x=this.actionHandler[g.action];if(!x)throw new Error(`Unknown action from worker: ${g.action}`);if(g.callbackId){const S=this.sourceName,w=g.sourceName;new Promise(function(T){T(x(g.data))}).then(function(T){E.postMessage({sourceName:S,targetName:w,callback:a.DATA,callbackId:g.callbackId,data:T})},function(T){E.postMessage({sourceName:S,targetName:w,callback:a.ERROR,callbackId:g.callbackId,reason:c(T)})});return}if(g.streamId){this._createStreamSink(g);return}x(g.data)},E.addEventListener("message",this._onComObjOnMessage)}on(u,d){const E=this.actionHandler;if(E[u])throw new Error(`There is already an actionName called "${u}"`);E[u]=d}send(u,d,E){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,data:d},E)}sendWithPromise(u,d,E){const p=this.callbackId++,g=(0,n.createPromiseCapability)();this.callbackCapabilities[p]=g;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:u,callbackId:p,data:d},E)}catch(x){g.reject(x)}return g.promise}sendWithStream(u,d,E,p){const g=this.streamId++,x=this.sourceName,S=this.targetName,w=this.comObj;return new ReadableStream({start:T=>{const m=(0,n.createPromiseCapability)();return this.streamControllers[g]={controller:T,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},w.postMessage({sourceName:x,targetName:S,action:u,streamId:g,data:d,desiredSize:T.desiredSize},p),m.promise},pull:T=>{const m=(0,n.createPromiseCapability)();return this.streamControllers[g].pullCall=m,w.postMessage({sourceName:x,targetName:S,stream:l.PULL,streamId:g,desiredSize:T.desiredSize}),m.promise},cancel:T=>{(0,n.assert)(T instanceof Error,"cancel must have a valid reason");const m=(0,n.createPromiseCapability)();return this.streamControllers[g].cancelCall=m,this.streamControllers[g].isClosed=!0,w.postMessage({sourceName:x,targetName:S,stream:l.CANCEL,streamId:g,reason:c(T)}),m.promise}},E)}_createStreamSink(u){const d=u.streamId,E=this.sourceName,p=u.sourceName,g=this.comObj,x=this,S=this.actionHandler[u.action],w={enqueue(T){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,b=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=m,y>0&&this.desiredSize<=0&&(this.sinkCapability=(0,n.createPromiseCapability)(),this.ready=this.sinkCapability.promise),g.postMessage({sourceName:E,targetName:p,stream:l.ENQUEUE,streamId:d,chunk:T},b)},close(){this.isCancelled||(this.isCancelled=!0,g.postMessage({sourceName:E,targetName:p,stream:l.CLOSE,streamId:d}),delete x.streamSinks[d])},error(T){(0,n.assert)(T instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:E,targetName:p,stream:l.ERROR,streamId:d,reason:c(T)}))},sinkCapability:(0,n.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:u.desiredSize,ready:null};w.sinkCapability.resolve(),w.ready=w.sinkCapability.promise,this.streamSinks[d]=w,new Promise(function(T){T(S(u.data,w))}).then(function(){g.postMessage({sourceName:E,targetName:p,stream:l.START_COMPLETE,streamId:d,success:!0})},function(T){g.postMessage({sourceName:E,targetName:p,stream:l.START_COMPLETE,streamId:d,reason:c(T)})})}_processStreamMessage(u){const d=u.streamId,E=this.sourceName,p=u.sourceName,g=this.comObj,x=this.streamControllers[d],S=this.streamSinks[d];switch(u.stream){case l.START_COMPLETE:u.success?x.startCall.resolve():x.startCall.reject(c(u.reason));break;case l.PULL_COMPLETE:u.success?x.pullCall.resolve():x.pullCall.reject(c(u.reason));break;case l.PULL:if(!S){g.postMessage({sourceName:E,targetName:p,stream:l.PULL_COMPLETE,streamId:d,success:!0});break}S.desiredSize<=0&&u.desiredSize>0&&S.sinkCapability.resolve(),S.desiredSize=u.desiredSize,new Promise(function(w){w(S.onPull&&S.onPull())}).then(function(){g.postMessage({sourceName:E,targetName:p,stream:l.PULL_COMPLETE,streamId:d,success:!0})},function(w){g.postMessage({sourceName:E,targetName:p,stream:l.PULL_COMPLETE,streamId:d,reason:c(w)})});break;case l.ENQUEUE:if((0,n.assert)(x,"enqueue should have stream controller"),x.isClosed)break;x.controller.enqueue(u.chunk);break;case l.CLOSE:if((0,n.assert)(x,"close should have stream controller"),x.isClosed)break;x.isClosed=!0,x.controller.close(),this._deleteStreamController(x,d);break;case l.ERROR:(0,n.assert)(x,"error should have stream controller"),x.controller.error(c(u.reason)),this._deleteStreamController(x,d);break;case l.CANCEL_COMPLETE:u.success?x.cancelCall.resolve():x.cancelCall.reject(c(u.reason)),this._deleteStreamController(x,d);break;case l.CANCEL:if(!S)break;new Promise(function(w){w(S.onCancel&&S.onCancel(c(u.reason)))}).then(function(){g.postMessage({sourceName:E,targetName:p,stream:l.CANCEL_COMPLETE,streamId:d,success:!0})},function(w){g.postMessage({sourceName:E,targetName:p,stream:l.CANCEL_COMPLETE,streamId:d,reason:c(w)})}),S.sinkCapability.reject(c(u.reason)),S.isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(u,d){await Promise.allSettled([u.startCall&&u.startCall.promise,u.pullCall&&u.pullCall.promise,u.cancelCall&&u.cancelCall.promise]),delete this.streamControllers[d]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}i.MessageHandler=o},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var n=e(1);function a(x,S,w){l(x,S),S.set(x,w)}function l(x,S){if(S.has(x))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(x,S){var w=u(x,S,"get");return o(x,w)}function o(x,S){return S.get?S.get.call(x):S.value}function f(x,S,w){var T=u(x,S,"set");return d(x,T,w),w}function u(x,S,w){if(!S.has(x))throw new TypeError("attempted to "+w+" private field on non-instance");return S.get(x)}function d(x,S,w){if(S.set)S.set.call(x,w);else{if(!S.writable)throw new TypeError("attempted to set read only private field");S.value=w}}var E=new WeakMap,p=new WeakMap;class g{constructor(S){let{parsedData:w,rawData:T}=S;a(this,E,{writable:!0,value:void 0}),a(this,p,{writable:!0,value:void 0}),f(this,E,w),f(this,p,T)}getRaw(){return c(this,p)}get(S){var w;return(w=c(this,E).get(S))!==null&&w!==void 0?w:null}getAll(){return(0,n.objectFromMap)(c(this,E))}has(S){return c(this,E).has(S)}}i.Metadata=g},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var n=e(1);function a(A,P){o(A,P),P.add(A)}function l(A,P,R){if(!P.has(A))throw new TypeError("attempted to get private field on non-instance");return R}function c(A,P,R){o(A,P),P.set(A,R)}function o(A,P){if(P.has(A))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f(A,P,R){var $=E(A,P,"set");return u(A,$,R),R}function u(A,P,R){if(P.set)P.set.call(A,R);else{if(!P.writable)throw new TypeError("attempted to set read only private field");P.value=R}}function d(A,P){var R=E(A,P,"get");return p(A,R)}function E(A,P,R){if(!P.has(A))throw new TypeError("attempted to "+R+" private field on non-instance");return P.get(A)}function p(A,P){return P.get?P.get.call(A):P.value}const g=Symbol("INTERNAL");var x=new WeakMap;class S{constructor(P,R){c(this,x,{writable:!0,value:!0}),this.name=P,this.intent=R}get visible(){return d(this,x)}_setVisible(P,R){P!==g&&(0,n.unreachable)("Internal method `_setVisible` called."),f(this,x,R)}}var w=new WeakMap,T=new WeakMap,m=new WeakMap,b=new WeakMap,y=new WeakSet;class h{constructor(P){if(a(this,y),c(this,w,{writable:!0,value:!0}),c(this,T,{writable:!0,value:new Map}),c(this,m,{writable:!0,value:null}),c(this,b,{writable:!0,value:null}),this.name=null,this.creator=null,P!==null){this.name=P.name,this.creator=P.creator,f(this,b,P.order);for(const R of P.groups)d(this,T).set(R.id,new S(R.name,R.intent));if(P.baseState==="OFF")for(const R of d(this,T).values())R._setVisible(g,!1);for(const R of P.on)d(this,T).get(R)._setVisible(g,!0);for(const R of P.off)d(this,T).get(R)._setVisible(g,!1);f(this,m,new Map);for(const[R,$]of d(this,T))d(this,m).set(R,$.visible)}}isVisible(P){if(d(this,T).size===0)return!0;if(!P)return(0,n.warn)("Optional content group not defined."),!0;if(P.type==="OCG")return d(this,T).has(P.id)?d(this,T).get(P.id).visible:((0,n.warn)(`Optional content group not found: ${P.id}`),!0);if(P.type==="OCMD"){if(P.expression)return l(this,y,v).call(this,P.expression);if(!P.policy||P.policy==="AnyOn"){for(const R of P.ids){if(!d(this,T).has(R))return(0,n.warn)(`Optional content group not found: ${R}`),!0;if(d(this,T).get(R).visible)return!0}return!1}else if(P.policy==="AllOn"){for(const R of P.ids){if(!d(this,T).has(R))return(0,n.warn)(`Optional content group not found: ${R}`),!0;if(!d(this,T).get(R).visible)return!1}return!0}else if(P.policy==="AnyOff"){for(const R of P.ids){if(!d(this,T).has(R))return(0,n.warn)(`Optional content group not found: ${R}`),!0;if(!d(this,T).get(R).visible)return!0}return!1}else if(P.policy==="AllOff"){for(const R of P.ids){if(!d(this,T).has(R))return(0,n.warn)(`Optional content group not found: ${R}`),!0;if(d(this,T).get(R).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${P.policy}.`),!0}return(0,n.warn)(`Unknown group type ${P.type}.`),!0}setVisibility(P){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!d(this,T).has(P)){(0,n.warn)(`Optional content group not found: ${P}`);return}d(this,T).get(P)._setVisible(g,!!R),f(this,w,null)}get hasInitialVisibility(){if(d(this,w)!==null)return d(this,w);for(const[P,R]of d(this,T)){const $=d(this,m).get(P);if(R.visible!==$)return f(this,w,!1)}return f(this,w,!0)}getOrder(){return d(this,T).size?d(this,b)?d(this,b).slice():[...d(this,T).keys()]:null}getGroups(){return d(this,T).size>0?(0,n.objectFromMap)(d(this,T)):null}getGroup(P){return d(this,T).get(P)||null}}i.OptionalContentConfig=h;function v(A){const P=A.length;if(P<2)return!0;const R=A[0];for(let $=1;$<P;$++){const D=A[$];let X;if(Array.isArray(D))X=l(this,y,v).call(this,D);else if(d(this,T).has(D))X=d(this,T).get(D).visible;else return(0,n.warn)(`Optional content group not found: ${D}`),!0;switch(R){case"And":if(!X)return!1;break;case"Or":if(X)return!0;break;case"Not":return!X;default:return!0}}return R==="And"}},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var n=e(1),a=e(133);class l{constructor(u,d){(0,n.assert)(d,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=u.progressiveDone||!1,this._contentDispositionFilename=u.contentDispositionFilename||null;const E=u.initialData;if((E==null?void 0:E.length)>0){const p=new Uint8Array(E).buffer;this._queuedChunks.push(p)}this._pdfDataRangeTransport=d,this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._contentLength=u.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((p,g)=>{this._onReceiveData({begin:p,chunk:g})}),this._pdfDataRangeTransport.addProgressListener((p,g)=>{this._onProgress({loaded:p,total:g})}),this._pdfDataRangeTransport.addProgressiveReadListener(p=>{this._onReceiveData({chunk:p})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(u){const d=new Uint8Array(u.chunk).buffer;if(u.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(d):this._queuedChunks.push(d);else{const E=this._rangeReaders.some(function(p){return p._begin!==u.begin?!1:(p._enqueue(d),!0)});(0,n.assert)(E,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var u,d;return(u=(d=this._fullRequestReader)===null||d===void 0?void 0:d._loaded)!==null&&u!==void 0?u:0}_onProgress(u){if(u.total===void 0){const d=this._rangeReaders[0];d!=null&&d.onProgress&&d.onProgress({loaded:u.loaded})}else{const d=this._fullRequestReader;d!=null&&d.onProgress&&d.onProgress({loaded:u.loaded,total:u.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(u){const d=this._rangeReaders.indexOf(u);d>=0&&this._rangeReaders.splice(d,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const u=this._queuedChunks;return this._queuedChunks=null,new c(this,u,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(u,d){if(d<=this._progressiveDataLength)return null;const E=new o(this,u,d);return this._pdfDataRangeTransport.requestDataRange(u,d),this._rangeReaders.push(E),E}cancelAllRequests(u){this._fullRequestReader&&this._fullRequestReader.cancel(u);for(const d of this._rangeReaders.slice(0))d.cancel(u);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=l;class c{constructor(u,d){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=u,this._done=E||!1,this._filename=(0,a.isPdfFile)(p)?p:null,this._queuedChunks=d||[],this._loaded=0;for(const g of this._queuedChunks)this._loaded+=g.byteLength;this._requests=[],this._headersReady=Promise.resolve(),u._fullRequestReader=this,this.onProgress=null}_enqueue(u){this._done||(this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunks.push(u),this._loaded+=u.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const u=(0,n.createPromiseCapability)();return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class o{constructor(u,d,E){this._stream=u,this._begin=d,this._end=E,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(u){if(!this._done){if(this._requests.length===0)this._queuedChunk=u;else{this._requests.shift().resolve({value:u,done:!1});for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const d=this._queuedChunk;return this._queuedChunk=null,{value:d,done:!1}}if(this._done)return{value:void 0,done:!0};const u=(0,n.createPromiseCapability)();return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class e{static textContent(a){const l=[],c={items:l,styles:Object.create(null)};function o(f){var u;if(!f)return;let d=null;const E=f.name;if(E==="#text")d=f.value;else if(e.shouldBuildText(E))f!=null&&(u=f.attributes)!==null&&u!==void 0&&u.textContent?d=f.attributes.textContent:f.value&&(d=f.value);else return;if(d!==null&&l.push({str:d}),!!f.children)for(const p of f.children)o(p)}return o(a),c}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}i.XfaText=e},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var n=e(134);const a=function(f){return new Promise((u,d)=>{require$$7.readFile(f,(p,g)=>{if(p||!g){d(new Error(p));return}u(new Uint8Array(g))})})};class l extends n.BaseCanvasFactory{_createCanvas(u,d){return require$$7.createCanvas(u,d)}}i.NodeCanvasFactory=l;class c extends n.BaseCMapReaderFactory{_fetchData(u,d){return a(u).then(E=>({cMapData:E,compressionType:d}))}}i.NodeCMapReaderFactory=c;class o extends n.BaseStandardFontDataFactory{_fetchData(u){return a(u)}}i.NodeStandardFontDataFactory=o},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var n=e(132),a=e(1),l=e(148),c=e(149);function o(I,j){d(I,j),j.add(I)}function f(I,j,J){return j in I?Object.defineProperty(I,j,{value:J,enumerable:!0,configurable:!0,writable:!0}):I[j]=J,I}function u(I,j,J){d(I,j),j.set(I,J)}function d(I,j){if(j.has(I))throw new TypeError("Cannot initialize the same private elements twice on an object")}function E(I,j,J){if(!j.has(I))throw new TypeError("attempted to get private field on non-instance");return J}function p(I,j){var J=S(I,j,"get");return g(I,J)}function g(I,j){return j.get?j.get.call(I):j.value}function x(I,j,J){var Q=S(I,j,"set");return w(I,Q,J),J}function S(I,j,J){if(!j.has(I))throw new TypeError("attempted to "+J+" private field on non-instance");return j.get(I)}function w(I,j,J){if(j.set)j.set.call(I,J);else{if(!j.writable)throw new TypeError("attempted to set read only private field");j.value=J}}var T=new WeakMap,m=new WeakMap,b=new WeakMap,y=new WeakMap,h=new WeakMap,v=new WeakMap,A=new WeakMap,P=new WeakMap,R=new WeakSet,$=new WeakSet,D=new WeakSet,X=new WeakSet;class W{constructor(j){o(this,X),o(this,D),o(this,$),o(this,R),u(this,T,{writable:!0,value:void 0}),u(this,m,{writable:!0,value:!1}),u(this,b,{writable:!0,value:this.pointerup.bind(this)}),u(this,y,{writable:!0,value:this.pointerdown.bind(this)}),u(this,h,{writable:!0,value:new Map}),u(this,v,{writable:!0,value:!1}),u(this,A,{writable:!0,value:!1}),u(this,P,{writable:!0,value:void 0}),W._initialized||(W._initialized=!0,l.FreeTextEditor.initialize(j.l10n),c.InkEditor.initialize(j.l10n),j.uiManager.registerEditorTypes([l.FreeTextEditor,c.InkEditor])),x(this,P,j.uiManager),this.annotationStorage=j.annotationStorage,this.pageIndex=j.pageIndex,this.div=j.div,x(this,T,j.accessibilityManager),p(this,P).addLayer(this)}updateToolbar(j){p(this,P).updateToolbar(j)}updateMode(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p(this,P).getMode();E(this,X,B).call(this),j===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),p(this,P).unselectAll()}addInkEditorIfNeeded(j){if(!j&&p(this,P).getMode()!==a.AnnotationEditorType.INK)return;if(!j){for(const Q of p(this,h).values())if(Q.isEmpty()){Q.setInBackground();return}}E(this,D,z).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(j){p(this,P).setEditingState(j)}addCommands(j){p(this,P).addCommands(j)}enable(){this.div.style.pointerEvents="auto";for(const j of p(this,h).values())j.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const j of p(this,h).values())j.disableEditing()}setActiveEditor(j){p(this,P).getActive()!==j&&p(this,P).setActiveEditor(j)}enableClick(){this.div.addEventListener("pointerdown",p(this,y)),this.div.addEventListener("pointerup",p(this,b))}disableClick(){this.div.removeEventListener("pointerdown",p(this,y)),this.div.removeEventListener("pointerup",p(this,b))}attach(j){p(this,h).set(j.id,j)}detach(j){var J;p(this,h).delete(j.id),(J=p(this,T))===null||J===void 0||J.removePointerInTextLayer(j.contentDiv)}remove(j){p(this,P).removeEditor(j),this.detach(j),this.annotationStorage.remove(j.id),j.div.style.display="none",setTimeout(()=>{j.div.style.display="",j.div.remove(),j.isAttachedToDOM=!1,document.activeElement===document.body&&p(this,P).focusMainContainer()},0),p(this,A)||this.addInkEditorIfNeeded(!1)}add(j){if(E(this,R,U).call(this,j),p(this,P).addEditor(j),this.attach(j),!j.isAttachedToDOM){const J=j.render();this.div.append(J),j.isAttachedToDOM=!0}this.moveEditorInDOM(j),j.onceAdded(),this.addToAnnotationStorage(j)}moveEditorInDOM(j){var J;(J=p(this,T))===null||J===void 0||J.moveElementInDOM(this.div,j.div,j.contentDiv,!0)}addToAnnotationStorage(j){!j.isEmpty()&&!this.annotationStorage.has(j.id)&&this.annotationStorage.setValue(j.id,j)}addOrRebuild(j){j.needsToBeRebuilt()?j.rebuild():this.add(j)}addANewEditor(j){const J=()=>{this.addOrRebuild(j)},Q=()=>{j.remove()};this.addCommands({cmd:J,undo:Q,mustExec:!0})}addUndoableEditor(j){const J=()=>{this.addOrRebuild(j)},Q=()=>{j.remove()};this.addCommands({cmd:J,undo:Q,mustExec:!1})}getNextId(){return p(this,P).getId()}deserialize(j){switch(j.annotationType){case a.AnnotationEditorType.FREETEXT:return l.FreeTextEditor.deserialize(j,this);case a.AnnotationEditorType.INK:return c.InkEditor.deserialize(j,this)}return null}setSelected(j){p(this,P).setSelected(j)}toggleSelected(j){p(this,P).toggleSelected(j)}isSelected(j){return p(this,P).isSelected(j)}unselect(j){p(this,P).unselect(j)}pointerup(j){const J=n.KeyboardManager.platform.isMac;if(!(j.button!==0||j.ctrlKey&&J)&&j.target===this.div&&p(this,v)){if(x(this,v,!1),!p(this,m)){x(this,m,!0);return}E(this,D,z).call(this,j)}}pointerdown(j){const J=n.KeyboardManager.platform.isMac;if(j.button!==0||j.ctrlKey&&J||j.target!==this.div)return;x(this,v,!0);const Q=p(this,P).getActive();x(this,m,!Q||Q.isEmpty())}drop(j){const J=j.dataTransfer.getData("text/plain"),Q=p(this,P).getEditor(J);if(!Q)return;j.preventDefault(),j.dataTransfer.dropEffect="move",E(this,R,U).call(this,Q);const re=this.div.getBoundingClientRect(),de=j.clientX-re.x,Y=j.clientY-re.y;Q.translate(de-Q.startX,Y-Q.startY),this.moveEditorInDOM(Q),Q.div.focus()}dragover(j){j.preventDefault()}destroy(){var j;((j=p(this,P).getActive())===null||j===void 0?void 0:j.parent)===this&&p(this,P).setActiveEditor(null);for(const Q of p(this,h).values()){var J;(J=p(this,T))===null||J===void 0||J.removePointerInTextLayer(Q.contentDiv),Q.isAttachedToDOM=!1,Q.div.remove(),Q.parent=null}this.div=null,p(this,h).clear(),p(this,P).removeLayer(this)}render(j){this.viewport=j.viewport,(0,n.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const J of p(this,P).getEditors(this.pageIndex))this.add(J);this.updateMode()}update(j){this.viewport=j.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[j,J,Q,re]=this.viewport.viewBox,de=Q-j,Y=re-J;return[de,Y]}get viewportBaseDimensions(){const{width:j,height:J,rotation:Q}=this.viewport;return Q%180===0?[j,J]:[J,j]}setDimensions(){const{width:j,height:J,rotation:Q}=this.viewport,re=Q%180!==0,de=Math.floor(j)+"px",Y=Math.floor(J)+"px";this.div.style.width=re?Y:de,this.div.style.height=re?de:Y,this.div.setAttribute("data-main-rotation",Q)}}i.AnnotationEditorLayer=W;function U(I){var j;I.parent!==this&&(this.attach(I),I.pageIndex=this.pageIndex,(j=I.parent)===null||j===void 0||j.detach(I),I.parent=this,I.div&&I.isAttachedToDOM&&(I.div.remove(),this.div.append(I.div)))}function N(I){switch(p(this,P).getMode()){case a.AnnotationEditorType.FREETEXT:return new l.FreeTextEditor(I);case a.AnnotationEditorType.INK:return new c.InkEditor(I)}return null}function z(I){const j=this.getNextId(),J=E(this,$,N).call(this,{parent:this,id:j,x:I.offsetX,y:I.offsetY});return J&&this.add(J),J}function B(){x(this,A,!0);for(const I of p(this,h).values())I.isEmpty()&&I.remove();x(this,A,!1)}f(W,"_initialized",!1)},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var n=e(1),a=e(132),l=e(131);function c(z,B){u(z,B),B.add(z)}function o(z,B,I){return B in z?Object.defineProperty(z,B,{value:I,enumerable:!0,configurable:!0,writable:!0}):z[B]=I,z}function f(z,B,I){u(z,B),B.set(z,I)}function u(z,B){if(B.has(z))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(z,B){var I=x(z,B,"get");return E(z,I)}function E(z,B){return B.get?B.get.call(z):B.value}function p(z,B,I){if(!B.has(z))throw new TypeError("attempted to get private field on non-instance");return I}function g(z,B,I){var j=x(z,B,"set");return S(z,j,I),I}function x(z,B,I){if(!B.has(z))throw new TypeError("attempted to "+I+" private field on non-instance");return B.get(z)}function S(z,B,I){if(B.set)B.set.call(z,I);else{if(!B.writable)throw new TypeError("attempted to set read only private field");B.value=I}}var w=new WeakMap,T=new WeakMap,m=new WeakMap,b=new WeakMap,y=new WeakMap,h=new WeakMap,v=new WeakMap,A=new WeakSet,P=new WeakSet,R=new WeakSet,$=new WeakSet;class D extends l.AnnotationEditor{constructor(B){super({...B,name:"freeTextEditor"}),c(this,$),c(this,R),c(this,P),c(this,A),f(this,w,{writable:!0,value:this.editorDivBlur.bind(this)}),f(this,T,{writable:!0,value:this.editorDivFocus.bind(this)}),f(this,m,{writable:!0,value:this.editorDivKeydown.bind(this)}),f(this,b,{writable:!0,value:void 0}),f(this,y,{writable:!0,value:""}),f(this,h,{writable:!0,value:!1}),f(this,v,{writable:!0,value:void 0}),g(this,b,B.color||D._defaultColor||l.AnnotationEditor._defaultLineColor),g(this,v,B.fontSize||D._defaultFontSize)}static initialize(B){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(j=>[j,B.get(j)]));const I=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(I.getPropertyValue("--freetext-padding"))}static updateDefaultParams(B,I){switch(B){case n.AnnotationEditorParamsType.FREETEXT_SIZE:D._defaultFontSize=I;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:D._defaultColor=I;break}}updateParams(B,I){switch(B){case n.AnnotationEditorParamsType.FREETEXT_SIZE:p(this,A,X).call(this,I);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:p(this,P,W).call(this,I);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,D._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,D._defaultColor||l.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,d(this,v)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,d(this,b)]]}getInitialTranslation(){return[-D._internalPadding*this.parent.scaleFactor,-(D._internalPadding+d(this,v))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",d(this,m)),this.editorDiv.addEventListener("focus",d(this,T)),this.editorDiv.addEventListener("blur",d(this,w)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",d(this,m)),this.editorDiv.removeEventListener("focus",d(this,T)),this.editorDiv.removeEventListener("blur",d(this,w)),this.div.focus(),this.isEditing=!1)}focusin(B){super.focusin(B),B.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),d(this,h)||(g(this,h,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),g(this,y,p(this,R,U).call(this).trimEnd()),p(this,$,N).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(B){this.enableEditMode(),this.editorDiv.focus()}keydown(B){B.target===this.div&&B.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(B){D._keyboardManager.exec(this,B)}editorDivFocus(B){this.isEditing=!0}editorDivBlur(B){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let B,I;this.width&&(B=this.x,I=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),D._l10nPromise.get("editor_free_text_aria_label").then(J=>{var Q;return(Q=this.editorDiv)===null||Q===void 0?void 0:Q.setAttribute("aria-label",J)}),D._l10nPromise.get("free_text_default_content").then(J=>{var Q;return(Q=this.editorDiv)===null||Q===void 0?void 0:Q.setAttribute("default-content",J)}),this.editorDiv.contentEditable=!0;const{style:j}=this.editorDiv;if(j.fontSize=`calc(${d(this,v)}px * var(--scale-factor))`,j.color=d(this,b),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[J,Q]=this.parent.viewportBaseDimensions;this.setAt(B*J,I*Q,this.width*J,this.height*Q);for(const re of d(this,y).split(`
`)){const de=document.createElement("div");de.append(re?document.createTextNode(re):document.createElement("br")),this.editorDiv.append(de)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(B,I){const j=super.deserialize(B,I);return g(j,v,B.fontSize),g(j,b,n.Util.makeHexColor(...B.color)),g(j,y,B.value),j}serialize(){if(this.isEmpty())return null;const B=D._internalPadding*this.parent.scaleFactor,I=this.getRect(B,B),j=l.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:n.AnnotationEditorType.FREETEXT,color:j,fontSize:d(this,v),value:d(this,y),pageIndex:this.parent.pageIndex,rect:I,rotation:this.rotation}}}i.FreeTextEditor=D;function X(z){const B=j=>{this.editorDiv.style.fontSize=`calc(${j}px * var(--scale-factor))`,this.translate(0,-(j-d(this,v))*this.parent.scaleFactor),g(this,v,j),p(this,$,N).call(this)},I=d(this,v);this.parent.addCommands({cmd:()=>{B(z)},undo:()=>{B(I)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function W(z){const B=d(this,b);this.parent.addCommands({cmd:()=>{g(this,b,z),this.editorDiv.style.color=z},undo:()=>{g(this,b,B),this.editorDiv.style.color=B},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function U(){const z=this.editorDiv.getElementsByTagName("div");if(z.length===0)return this.editorDiv.innerText;const B=[];for(let I=0,j=z.length;I<j;I++){const Q=z[I].firstChild;(Q==null?void 0:Q.nodeName)==="#text"?B.push(Q.data):B.push("")}return B.join(`
`)}function N(){const[z,B]=this.parent.viewportBaseDimensions,I=this.div.getBoundingClientRect();this.width=I.width/z,this.height=I.height/B}o(D,"_freeTextDefaultContent",""),o(D,"_l10nPromise",void 0),o(D,"_internalPadding",0),o(D,"_defaultColor",null),o(D,"_defaultFontSize",10),o(D,"_keyboardManager",new a.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],D.prototype.commitOrRemove]])),o(D,"_type","freetext")},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0,Object.defineProperty(i,"fitCurve",{enumerable:!0,get:function(){return l.fitCurve}});var n=e(1),a=e(131),l=e(150),c=e(132);function o(he,ie){d(he,ie),ie.add(he)}function f(he,ie,_e){return ie in he?Object.defineProperty(he,ie,{value:_e,enumerable:!0,configurable:!0,writable:!0}):he[ie]=_e,he}function u(he,ie,_e){d(he,ie),ie.set(he,_e)}function d(he,ie){if(ie.has(he))throw new TypeError("Cannot initialize the same private elements twice on an object")}function E(he,ie,_e){return p(he,ie),_e}function p(he,ie){if(he!==ie)throw new TypeError("Private static access of wrong provenance")}function g(he,ie,_e){var Re=w(he,ie,"set");return x(he,Re,_e),_e}function x(he,ie,_e){if(ie.set)ie.set.call(he,_e);else{if(!ie.writable)throw new TypeError("attempted to set read only private field");ie.value=_e}}function S(he,ie){var _e=w(he,ie,"get");return T(he,_e)}function w(he,ie,_e){if(!ie.has(he))throw new TypeError("attempted to "+_e+" private field on non-instance");return ie.get(he)}function T(he,ie){return ie.get?ie.get.call(he):ie.value}function m(he,ie,_e){if(!ie.has(he))throw new TypeError("attempted to get private field on non-instance");return _e}const b=16;var y=new WeakMap,h=new WeakMap,v=new WeakMap,A=new WeakMap,P=new WeakMap,R=new WeakMap,$=new WeakMap,D=new WeakMap,X=new WeakMap,W=new WeakMap,U=new WeakMap,N=new WeakMap,z=new WeakMap,B=new WeakMap,I=new WeakSet,j=new WeakSet,J=new WeakSet,Q=new WeakSet,re=new WeakSet,de=new WeakSet,Y=new WeakSet,M=new WeakSet,k=new WeakSet,H=new WeakSet,q=new WeakSet,C=new WeakSet,O=new WeakSet,F=new WeakSet,V=new WeakSet,K=new WeakSet,Z=new WeakSet,ae=new WeakSet,le=new WeakSet,pe=new WeakSet,be=new WeakSet,ve=new WeakSet;class ye extends a.AnnotationEditor{constructor(ie){super({...ie,name:"inkEditor"}),o(this,ve),o(this,be),o(this,pe),o(this,le),o(this,ae),o(this,Z),o(this,K),o(this,V),o(this,F),o(this,O),o(this,C),o(this,q),o(this,H),o(this,k),o(this,M),o(this,Y),o(this,de),o(this,re),o(this,Q),o(this,J),o(this,j),o(this,I),u(this,y,{writable:!0,value:0}),u(this,h,{writable:!0,value:0}),u(this,v,{writable:!0,value:0}),u(this,A,{writable:!0,value:this.canvasPointermove.bind(this)}),u(this,P,{writable:!0,value:this.canvasPointerleave.bind(this)}),u(this,R,{writable:!0,value:this.canvasPointerup.bind(this)}),u(this,$,{writable:!0,value:this.canvasPointerdown.bind(this)}),u(this,D,{writable:!0,value:!1}),u(this,X,{writable:!0,value:!1}),u(this,W,{writable:!0,value:null}),u(this,U,{writable:!0,value:null}),u(this,N,{writable:!0,value:0}),u(this,z,{writable:!0,value:0}),u(this,B,{writable:!0,value:null}),this.color=ie.color||null,this.thickness=ie.thickness||null,this.opacity=ie.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(ie){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(_e=>[_e,ie.get(_e)]))}static updateDefaultParams(ie,_e){switch(ie){case n.AnnotationEditorParamsType.INK_THICKNESS:ye._defaultThickness=_e;break;case n.AnnotationEditorParamsType.INK_COLOR:ye._defaultColor=_e;break;case n.AnnotationEditorParamsType.INK_OPACITY:ye._defaultOpacity=_e/100;break}}updateParams(ie,_e){switch(ie){case n.AnnotationEditorParamsType.INK_THICKNESS:m(this,I,Pe).call(this,_e);break;case n.AnnotationEditorParamsType.INK_COLOR:m(this,j,ke).call(this,_e);break;case n.AnnotationEditorParamsType.INK_OPACITY:m(this,J,Ie).call(this,_e);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,ye._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,ye._defaultColor||a.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(ye._defaultOpacity*100)]]}get propertiesToUpdate(){var ie;return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ye._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||ye._defaultColor||a.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((ie=this.opacity)!==null&&ie!==void 0?ie:ye._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(m(this,q,te).call(this),m(this,C,G).call(this)),this.isAttachedToDOM||(this.parent.add(this),m(this,O,se).call(this)),m(this,be,Se).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,S(this,U).disconnect(),g(this,U,null),super.remove())}enableEditMode(){S(this,D)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",S(this,$)),this.canvas.addEventListener("pointerup",S(this,R)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",S(this,$)),this.canvas.removeEventListener("pointerup",S(this,R)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){S(this,D)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),g(this,D,!0),this.div.classList.add("disabled"),m(this,be,Se).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(ie){super.focusin(ie),this.enableEditMode()}canvasPointerdown(ie){ie.button!==0||!this.isInEditMode()||S(this,D)||(this.setInForeground(),ie.type!=="mouse"&&this.div.focus(),ie.stopPropagation(),this.canvas.addEventListener("pointerleave",S(this,P)),this.canvas.addEventListener("pointermove",S(this,A)),m(this,de,ge).call(this,ie.offsetX,ie.offsetY))}canvasPointermove(ie){ie.stopPropagation(),m(this,Y,$e).call(this,ie.offsetX,ie.offsetY)}canvasPointerup(ie){ie.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(ie.stopPropagation(),m(this,H,Te).call(this,ie),this.setInBackground())}canvasPointerleave(ie){m(this,H,Te).call(this,ie),this.setInBackground()}render(){if(this.div)return this.div;let ie,_e;this.width&&(ie=this.x,_e=this.y),super.render(),ye._l10nPromise.get("editor_ink_aria_label").then(je=>{var Ne;return(Ne=this.div)===null||Ne===void 0?void 0:Ne.setAttribute("aria-label",je)});const[Re,Le,ze,Ue]=m(this,Q,De).call(this);if(this.setAt(Re,Le,0,0),this.setDims(ze,Ue),m(this,q,te).call(this),this.width){const[je,Ne]=this.parent.viewportBaseDimensions;this.setAt(ie*je,_e*Ne,this.width*je,this.height*Ne),g(this,X,!0),m(this,O,se).call(this),this.setDims(this.width*je,this.height*Ne),m(this,k,Oe).call(this),m(this,ve,xe).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return m(this,C,G).call(this),this.div}setDimensions(ie,_e){const Re=Math.round(ie),Le=Math.round(_e);if(S(this,N)===Re&&S(this,z)===Le)return;g(this,N,Re),g(this,z,Le),this.canvas.style.visibility="hidden",S(this,y)&&Math.abs(S(this,y)-ie/_e)>.01&&(_e=Math.ceil(ie/S(this,y)),this.setDims(ie,_e));const[ze,Ue]=this.parent.viewportBaseDimensions;this.width=ie/ze,this.height=_e/Ue,S(this,D)&&m(this,F,Ee).call(this,ie,_e),m(this,O,se).call(this),m(this,k,Oe).call(this),this.canvas.style.visibility="visible"}static deserialize(ie,_e){const Re=super.deserialize(ie,_e);Re.thickness=ie.thickness,Re.color=n.Util.makeHexColor(...ie.color),Re.opacity=ie.opacity;const[Le,ze]=_e.pageDimensions,Ue=Re.width*Le,je=Re.height*ze,Ne=_e.scaleFactor,Ge=ie.thickness/2;g(Re,y,Ue/je),g(Re,D,!0),g(Re,N,Math.round(Ue)),g(Re,z,Math.round(je));for(const{bezier:Ye}of ie.paths){const Ke=[];Re.paths.push(Ke);let et=Ne*(Ye[0]-Ge),tt=Ne*(je-Ye[1]-Ge);for(let it=2,ot=Ye.length;it<ot;it+=6){const yt=Ne*(Ye[it]-Ge),ht=Ne*(je-Ye[it+1]-Ge),ft=Ne*(Ye[it+2]-Ge),ut=Ne*(je-Ye[it+3]-Ge),pt=Ne*(Ye[it+4]-Ge),dt=Ne*(je-Ye[it+5]-Ge);Ke.push([[et,tt],[yt,ht],[ft,ut],[pt,dt]]),et=pt,tt=dt}const lt=E(this,ye,Ae).call(this,Ke);Re.bezierPath2D.push(lt)}const rt=m(Re,le,oe).call(Re);return g(Re,v,Math.max(b,rt[2]-rt[0])),g(Re,h,Math.max(b,rt[3]-rt[1])),m(Re,F,Ee).call(Re,Ue,je),Re}serialize(){if(this.isEmpty())return null;const ie=this.getRect(0,0),_e=this.rotation%180===0?ie[3]-ie[1]:ie[2]-ie[0],Re=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:Re,thickness:this.thickness,opacity:this.opacity,paths:m(this,K,Me).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,_e),pageIndex:this.parent.pageIndex,rect:ie,rotation:this.rotation}}}i.InkEditor=ye;function Pe(he){const ie=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=he,m(this,be,Se).call(this)},undo:()=>{this.thickness=ie,m(this,be,Se).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function ke(he){const ie=this.color;this.parent.addCommands({cmd:()=>{this.color=he,m(this,k,Oe).call(this)},undo:()=>{this.color=ie,m(this,k,Oe).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Ie(he){he/=100;const ie=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=he,m(this,k,Oe).call(this)},undo:()=>{this.opacity=ie,m(this,k,Oe).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function De(){const{width:he,height:ie,rotation:_e}=this.parent.viewport;switch(_e){case 90:return[0,he,he,ie];case 180:return[he,ie,he,ie];case 270:return[ie,0,he,ie];default:return[0,0,he,ie]}}function Ve(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,c.opacityToHex)(this.opacity)}`}function ge(he,ie){if(this.isEditing=!0,!S(this,X)){var _e;g(this,X,!0),m(this,O,se).call(this),this.thickness||(this.thickness=ye._defaultThickness),this.color||(this.color=ye._defaultColor||a.AnnotationEditor._defaultLineColor),(_e=this.opacity)!==null&&_e!==void 0||(this.opacity=ye._defaultOpacity)}this.currentPath.push([he,ie]),g(this,W,null),m(this,re,Ve).call(this),this.ctx.beginPath(),this.ctx.moveTo(he,ie),g(this,B,()=>{S(this,B)&&(S(this,W)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):m(this,k,Oe).call(this),this.ctx.lineTo(...S(this,W)),g(this,W,null),this.ctx.stroke()),window.requestAnimationFrame(S(this,B)))}),window.requestAnimationFrame(S(this,B))}function $e(he,ie){const[_e,Re]=this.currentPath.at(-1);he===_e&&ie===Re||(this.currentPath.push([he,ie]),g(this,W,[he,ie]))}function Fe(he,ie){this.ctx.closePath(),g(this,B,null),he=Math.min(Math.max(he,0),this.canvas.width),ie=Math.min(Math.max(ie,0),this.canvas.height);const[_e,Re]=this.currentPath.at(-1);(he!==_e||ie!==Re)&&this.currentPath.push([he,ie]);let Le;if(this.currentPath.length!==1)Le=(0,l.fitCurve)(this.currentPath,30,null);else{const Ne=[he,ie];Le=[[Ne,Ne.slice(),Ne.slice(),Ne]]}const ze=E(ye,ye,Ae).call(ye,Le);this.currentPath.length=0;const Ue=()=>{this.paths.push(Le),this.bezierPath2D.push(ze),this.rebuild()},je=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(m(this,q,te).call(this),m(this,C,G).call(this)),m(this,be,Se).call(this))};this.parent.addCommands({cmd:Ue,undo:je,mustExec:!0})}function Oe(){if(this.isEmpty()){m(this,V,fe).call(this);return}m(this,re,Ve).call(this);const{canvas:he,ctx:ie}=this;ie.setTransform(1,0,0,1,0,0),ie.clearRect(0,0,he.width,he.height),m(this,V,fe).call(this);for(const _e of this.bezierPath2D)ie.stroke(_e)}function Te(he){m(this,M,Fe).call(this,he.offsetX,he.offsetY),this.canvas.removeEventListener("pointerleave",S(this,P)),this.canvas.removeEventListener("pointermove",S(this,A)),this.parent.addToAnnotationStorage(this)}function te(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ye._l10nPromise.get("editor_ink_canvas_aria_label").then(he=>{var ie;return(ie=this.canvas)===null||ie===void 0?void 0:ie.setAttribute("aria-label",he)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function G(){g(this,U,new ResizeObserver(he=>{const ie=he[0].contentRect;ie.width&&ie.height&&this.setDimensions(ie.width,ie.height)})),S(this,U).observe(this.div)}function se(){if(!S(this,X))return;const[he,ie]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*he),this.canvas.height=Math.ceil(this.height*ie),m(this,V,fe).call(this)}function Ee(he,ie){const _e=m(this,pe,we).call(this),Re=(he-_e)/S(this,v),Le=(ie-_e)/S(this,h);this.scaleFactor=Math.min(Re,Le)}function fe(){const he=m(this,pe,we).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+he,this.translationY*this.scaleFactor+he)}function Ae(he){const ie=new Path2D;for(let _e=0,Re=he.length;_e<Re;_e++){const[Le,ze,Ue,je]=he[_e];_e===0&&ie.moveTo(...Le),ie.bezierCurveTo(ze[0],ze[1],Ue[0],Ue[1],je[0],je[1])}return ie}function Me(he,ie,_e,Re){const ze=[],Ue=this.thickness/2;let je,Ne;for(const Ge of this.paths){je=[],Ne=[];for(let rt=0,Ye=Ge.length;rt<Ye;rt++){const[Ke,et,tt,lt]=Ge[rt],it=he*(Ke[0]+ie)+Ue,ot=Re-he*(Ke[1]+_e)-Ue,yt=he*(et[0]+ie)+Ue,ht=Re-he*(et[1]+_e)-Ue,ft=he*(tt[0]+ie)+Ue,ut=Re-he*(tt[1]+_e)-Ue,pt=he*(lt[0]+ie)+Ue,dt=Re-he*(lt[1]+_e)-Ue;rt===0&&(je.push(it,ot),Ne.push(it,ot)),je.push(yt,ht,ft,ut,pt,dt),m(this,Z,ue).call(this,it,ot,yt,ht,ft,ut,pt,dt,4,Ne)}ze.push({bezier:je,points:Ne})}return ze}function ue(he,ie,_e,Re,Le,ze,Ue,je,Ne,Ge){if(m(this,ae,ne).call(this,he,ie,_e,Re,Le,ze,Ue,je)){Ge.push(Ue,je);return}for(let rt=1;rt<Ne-1;rt++){const Ye=rt/Ne,Ke=1-Ye;let et=Ye*he+Ke*_e,tt=Ye*ie+Ke*Re,lt=Ye*_e+Ke*Le,it=Ye*Re+Ke*ze;const ot=Ye*Le+Ke*Ue,yt=Ye*ze+Ke*je;et=Ye*et+Ke*lt,tt=Ye*tt+Ke*it,lt=Ye*lt+Ke*ot,it=Ye*it+Ke*yt,et=Ye*et+Ke*lt,tt=Ye*tt+Ke*it,Ge.push(et,tt)}Ge.push(Ue,je)}function ne(he,ie,_e,Re,Le,ze,Ue,je){const Ge=(3*_e-2*he-Ue)**2,rt=(3*Re-2*ie-je)**2,Ye=(3*Le-he-2*Ue)**2,Ke=(3*ze-ie-2*je)**2;return Math.max(Ge,Ye)+Math.max(rt,Ke)<=10}function oe(){let he=1/0,ie=-1/0,_e=1/0,Re=-1/0;for(const Le of this.paths)for(const[ze,Ue,je,Ne]of Le){const Ge=n.Util.bezierBoundingBox(...ze,...Ue,...je,...Ne);he=Math.min(he,Ge[0]),_e=Math.min(_e,Ge[1]),ie=Math.max(ie,Ge[2]),Re=Math.max(Re,Ge[3])}return[he,_e,ie,Re]}function we(){return S(this,D)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function Se(){let he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!S(this,D)){m(this,k,Oe).call(this);return}const ie=m(this,le,oe).call(this),_e=m(this,pe,we).call(this);g(this,v,Math.max(b,ie[2]-ie[0])),g(this,h,Math.max(b,ie[3]-ie[1]));const Re=Math.ceil(_e+S(this,v)*this.scaleFactor),Le=Math.ceil(_e+S(this,h)*this.scaleFactor),[ze,Ue]=this.parent.viewportBaseDimensions;this.width=Re/ze,this.height=Le/Ue,g(this,y,Re/Le),m(this,ve,xe).call(this);const je=this.translationX,Ne=this.translationY;this.translationX=-ie[0],this.translationY=-ie[1],m(this,O,se).call(this),m(this,k,Oe).call(this),g(this,N,Re),g(this,z,Le),this.setDims(Re,Le);const Ge=he?_e/this.scaleFactor/2:0;this.translate(je-this.translationX-Ge,Ne-this.translationY-Ge)}function xe(){const{style:he}=this.div;S(this,y)>=1?(he.minHeight=`${b}px`,he.minWidth=`${Math.round(S(this,y)*b)}px`):(he.minWidth=`${b}px`,he.minHeight=`${Math.round(b/S(this,y))}px`)}f(ye,"_defaultColor",null),f(ye,"_defaultOpacity",1),f(ye,"_defaultThickness",1),f(ye,"_l10nPromise",void 0),f(ye,"_type","ink")},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.fitCurve=void 0;const n=e(151);i.fitCurve=n},t=>{function i(x,S,w){if(!Array.isArray(x))throw new TypeError("First argument should be an array");if(x.forEach(y=>{if(!Array.isArray(y)||y.some(h=>typeof h!="number")||y.length!==x[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),x=x.filter((y,h)=>h===0||!y.every((v,A)=>v===x[h-1][A])),x.length<2)return[];const T=x.length,m=E(x[1],x[0]),b=E(x[T-2],x[T-1]);return e(x,m,b,S,w)}function e(x,S,w,T,m){var y,h,v,A,P,R,$,D,X,W,U,N,z;if(x.length===2)return N=p.vectorLen(p.subtract(x[0],x[1]))/3,y=[x[0],p.addArrays(x[0],p.mulItems(S,N)),p.addArrays(x[1],p.mulItems(w,N)),x[1]],[y];if(h=o(x),[y,A,R]=n(x,h,h,S,w,m),A===0||A<T)return[y];if(A<T*T)for(v=h,P=A,$=R,z=0;z<20;z++){if(v=l(y,x,v),[y,A,R]=n(x,h,v,S,w,m),A<T)return[y];if(R===$){let B=A/P;if(B>.9999&&B<1.0001)break}P=A,$=R}return U=[],D=p.subtract(x[R-1],x[R+1]),D.every(B=>B===0)&&(D=p.subtract(x[R-1],x[R]),[D[0],D[1]]=[-D[1],D[0]]),X=p.normalize(D),W=p.mulItems(X,-1),U=U.concat(e(x.slice(0,R+1),S,X,T,m)),U=U.concat(e(x.slice(R),W,w,T,m)),U}function n(x,S,w,T,m,b){var y,h,v;return y=a(x,w,T,m),[h,v]=f(x,y,S),b&&b({bez:y,points:x,params:S,maxErr:h,maxPoint:v}),[y,h,v]}function a(x,S,w,T){var m,b,y,h,v,A,P,R,$,D,X,W,U,N,z,B,I,j=x[0],J=x[x.length-1];for(m=[j,null,null,J],b=p.zeros_Xx2x2(S.length),U=0,N=S.length;U<N;U++)B=S[U],I=1-B,y=b[U],y[0]=p.mulItems(w,3*B*(I*I)),y[1]=p.mulItems(T,3*I*(B*B));for(h=[[0,0],[0,0]],v=[0,0],U=0,N=x.length;U<N;U++)B=S[U],y=b[U],h[0][0]+=p.dot(y[0],y[0]),h[0][1]+=p.dot(y[0],y[1]),h[1][0]+=p.dot(y[0],y[1]),h[1][1]+=p.dot(y[1],y[1]),z=p.subtract(x[U],g.q([j,j,J,J],B)),v[0]+=p.dot(y[0],z),v[1]+=p.dot(y[1],z);return A=h[0][0]*h[1][1]-h[1][0]*h[0][1],P=h[0][0]*v[1]-h[1][0]*v[0],R=v[0]*h[1][1]-v[1]*h[0][1],$=A===0?0:R/A,D=A===0?0:P/A,W=p.vectorLen(p.subtract(j,J)),X=1e-6*W,$<X||D<X?(m[1]=p.addArrays(j,p.mulItems(w,W/3)),m[2]=p.addArrays(J,p.mulItems(T,W/3))):(m[1]=p.addArrays(j,p.mulItems(w,$)),m[2]=p.addArrays(J,p.mulItems(T,D))),m}function l(x,S,w){return w.map((T,m)=>c(x,S[m],T))}function c(x,S,w){var T=p.subtract(g.q(x,w),S),m=g.qprime(x,w),b=p.mulMatrix(T,m),y=p.sum(p.squareItems(m))+2*p.mulMatrix(T,g.qprimeprime(x,w));return y===0?w:w-b/y}function o(x){var S=[],w,T,m;return x.forEach((b,y)=>{w=y?T+p.vectorLen(p.subtract(b,m)):0,S.push(w),T=w,m=b}),S=S.map(b=>b/T),S}function f(x,S,w){var T,m,b,y,h,v,A,P;m=0,b=Math.floor(x.length/2);const R=u(S,10);for(h=0,v=x.length;h<v;h++)A=x[h],P=d(S,w[h],R,10),y=p.subtract(g.q(S,P),A),T=y[0]*y[0]+y[1]*y[1],T>m&&(m=T,b=h);return[m,b]}var u=function(x,S){for(var w,T=[0],m=x[0],b=0,y=1;y<=S;y++)w=g.q(x,y/S),b+=p.vectorLen(p.subtract(w,m)),T.push(b),m=w;return T=T.map(h=>h/b),T};function d(x,S,w,T){if(S<0)return 0;if(S>1)return 1;for(var m,b,y,h,v,A=1;A<=T;A++)if(S<=w[A]){h=(A-1)/T,y=A/T,b=w[A-1],m=w[A],v=(S-b)/(m-b)*(y-h)+h;break}return v}function E(x,S){return p.normalize(p.subtract(x,S))}class p{static zeros_Xx2x2(S){for(var w=[];S--;)w.push([0,0]);return w}static mulItems(S,w){return S.map(T=>T*w)}static mulMatrix(S,w){return S.reduce((T,m,b)=>T+m*w[b],0)}static subtract(S,w){return S.map((T,m)=>T-w[m])}static addArrays(S,w){return S.map((T,m)=>T+w[m])}static addItems(S,w){return S.map(T=>T+w)}static sum(S){return S.reduce((w,T)=>w+T)}static dot(S,w){return p.mulMatrix(S,w)}static vectorLen(S){return Math.hypot(...S)}static divItems(S,w){return S.map(T=>T/w)}static squareItems(S){return S.map(w=>w*w)}static normalize(S){return this.divItems(S,this.vectorLen(S))}}class g{static q(S,w){var T=1-w,m=p.mulItems(S[0],T*T*T),b=p.mulItems(S[1],3*T*T*w),y=p.mulItems(S[2],3*T*w*w),h=p.mulItems(S[3],w*w*w);return p.addArrays(p.addArrays(m,b),p.addArrays(y,h))}static qprime(S,w){var T=1-w,m=p.mulItems(p.subtract(S[1],S[0]),3*T*T),b=p.mulItems(p.subtract(S[2],S[1]),6*T*w),y=p.mulItems(p.subtract(S[3],S[2]),3*w*w);return p.addArrays(p.addArrays(m,b),y)}static qprimeprime(S,w){return p.addArrays(p.mulItems(p.addArrays(p.subtract(S[2],p.mulItems(S[1],2)),S[0]),6*(1-w)),p.mulItems(p.addArrays(p.subtract(S[3],p.mulItems(S[2],2)),S[1]),6*w))}}t.exports=i,t.exports.fitCubic=e,t.exports.createTangent=E},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationLayer=void 0;var n=e(1),a=e(133),l=e(130),c=e(153),o=e(154);function f(q,C,O){return u(q,C),O}function u(q,C){if(q!==C)throw new TypeError("Private static access of wrong provenance")}const d=1e3,E=9,p=new WeakSet;function g(q){return{width:q[2]-q[0],height:q[3]-q[1]}}class x{static create(C){switch(C.data.annotationType){case n.AnnotationType.LINK:return new w(C);case n.AnnotationType.TEXT:return new T(C);case n.AnnotationType.WIDGET:switch(C.data.fieldType){case"Tx":return new b(C);case"Btn":return C.data.radioButton?new h(C):C.data.checkBox?new y(C):new v(C);case"Ch":return new A(C)}return new m(C);case n.AnnotationType.POPUP:return new P(C);case n.AnnotationType.FREETEXT:return new $(C);case n.AnnotationType.LINE:return new D(C);case n.AnnotationType.SQUARE:return new X(C);case n.AnnotationType.CIRCLE:return new W(C);case n.AnnotationType.POLYLINE:return new U(C);case n.AnnotationType.CARET:return new z(C);case n.AnnotationType.INK:return new B(C);case n.AnnotationType.POLYGON:return new N(C);case n.AnnotationType.HIGHLIGHT:return new I(C);case n.AnnotationType.UNDERLINE:return new j(C);case n.AnnotationType.SQUIGGLY:return new J(C);case n.AnnotationType.STRIKEOUT:return new Q(C);case n.AnnotationType.STAMP:return new re(C);case n.AnnotationType.FILEATTACHMENT:return new de(C);default:return new S(C)}}}class S{constructor(C){let{isRenderable:O=!1,ignoreBorder:F=!1,createQuadrilaterals:V=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=O,this.data=C.data,this.layer=C.layer,this.page=C.page,this.viewport=C.viewport,this.linkService=C.linkService,this.downloadManager=C.downloadManager,this.imageResourcesPath=C.imageResourcesPath,this.renderForms=C.renderForms,this.svgFactory=C.svgFactory,this.annotationStorage=C.annotationStorage,this.enableScripting=C.enableScripting,this.hasJSActions=C.hasJSActions,this._fieldObjects=C.fieldObjects,this._mouseState=C.mouseState,O&&(this.container=this._createContainer(F)),V&&(this.quadrilaterals=this._createQuadrilaterals(F))}_createContainer(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const O=this.data,F=this.page,V=this.viewport,K=document.createElement("section"),{width:Z,height:ae}=g(O.rect),[le,pe,be,ve]=V.viewBox,ye=be-le,Pe=ve-pe;K.setAttribute("data-annotation-id",O.id);const ke=n.Util.normalizeRect([O.rect[0],F.view[3]-O.rect[1]+F.view[1],O.rect[2],F.view[3]-O.rect[3]+F.view[1]]);if(!C&&O.borderStyle.width>0){K.style.borderWidth=`${O.borderStyle.width}px`;const De=O.borderStyle.horizontalCornerRadius,Ve=O.borderStyle.verticalCornerRadius;if(De>0||Ve>0){const $e=`calc(${De}px * var(--scale-factor)) / calc(${Ve}px * var(--scale-factor))`;K.style.borderRadius=$e}else if(this instanceof h){const $e=`calc(${Z}px * var(--scale-factor)) / calc(${ae}px * var(--scale-factor))`;K.style.borderRadius=$e}switch(O.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:K.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:K.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:K.style.borderBottomStyle="solid";break}const ge=O.borderColor||null;ge?K.style.borderColor=n.Util.makeHexColor(ge[0]|0,ge[1]|0,ge[2]|0):K.style.borderWidth=0}K.style.left=`${100*(ke[0]-le)/ye}%`,K.style.top=`${100*(ke[1]-pe)/Pe}%`;const{rotation:Ie}=O;return O.hasOwnCanvas||Ie===0?(K.style.width=`${100*Z/ye}%`,K.style.height=`${100*ae/Pe}%`):this.setRotation(Ie,K),K}setRotation(C){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;const[F,V,K,Z]=this.viewport.viewBox,ae=K-F,le=Z-V,{width:pe,height:be}=g(this.data.rect);let ve,ye;C%180===0?(ve=100*pe/ae,ye=100*be/le):(ve=100*be/ae,ye=100*pe/le),O.style.width=`${ve}%`,O.style.height=`${ye}%`,O.setAttribute("data-main-rotation",(360-C)%360)}get _commonActions(){const C=(O,F,V)=>{const K=V.detail[O];V.target.style[F]=c.ColorConverters[`${K[0]}_HTML`](K.slice(1))};return(0,n.shadow)(this,"_commonActions",{display:O=>{const F=O.detail.display%2===1;this.container.style.visibility=F?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:F,print:O.detail.display===0||O.detail.display===3})},print:O=>{this.annotationStorage.setValue(this.data.id,{print:O.detail.print})},hidden:O=>{this.container.style.visibility=O.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:O.detail.hidden})},focus:O=>{setTimeout(()=>O.target.focus({preventScroll:!1}),0)},userName:O=>{O.target.title=O.detail.userName},readonly:O=>{O.detail.readonly?O.target.setAttribute("readonly",""):O.target.removeAttribute("readonly")},required:O=>{this._setRequired(O.target,O.detail.required)},bgColor:O=>{C("bgColor","backgroundColor",O)},fillColor:O=>{C("fillColor","backgroundColor",O)},fgColor:O=>{C("fgColor","color",O)},textColor:O=>{C("textColor","color",O)},borderColor:O=>{C("borderColor","borderColor",O)},strokeColor:O=>{C("strokeColor","borderColor",O)},rotation:O=>{const F=O.detail.rotation;this.setRotation(F),this.annotationStorage.setValue(this.data.id,{rotation:F})}})}_dispatchEventFromSandbox(C,O){const F=this._commonActions;for(const V of Object.keys(O.detail)){const K=C[V]||F[V];K&&K(O)}}_setDefaultPropertiesFromJS(C){if(!this.enableScripting)return;const O=this.annotationStorage.getRawValue(this.data.id);if(!O)return;const F=this._commonActions;for(const[V,K]of Object.entries(O)){const Z=F[V];if(Z){const ae={detail:{[V]:K},target:C};Z(ae),delete O[V]}}}_createQuadrilaterals(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;const O=[],F=this.data.rect;for(const V of this.data.quadPoints)this.data.rect=[V[2].x,V[2].y,V[1].x,V[1].y],O.push(this._createContainer(C));return this.data.rect=F,O}_createPopup(C,O){let F=this.container;this.quadrilaterals&&(C=C||this.quadrilaterals,F=this.quadrilaterals[0]),C||(C=document.createElement("div"),C.className="popupTriggerArea",F.append(C));const K=new R({container:F,trigger:C,color:O.color,titleObj:O.titleObj,modificationDate:O.modificationDate,contentsObj:O.contentsObj,richText:O.richText,hideWrapper:!0}).render();K.style.left="100%",F.append(K)}_renderQuadrilaterals(C){for(const O of this.quadrilaterals)O.className=C;return this.quadrilaterals}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(C){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const F=[];if(this._fieldObjects){const V=this._fieldObjects[C];if(V)for(const{page:K,id:Z,exportValues:ae}of V){if(K===-1||Z===O)continue;const le=typeof ae=="string"?ae:null,pe=document.querySelector(`[data-element-id="${Z}"]`);if(pe&&!p.has(pe)){(0,n.warn)(`_getElementsByName - element not allowed: ${Z}`);continue}F.push({id:Z,exportValue:le,domElement:pe})}return F}for(const V of document.getElementsByName(C)){const{id:K,exportValue:Z}=V;K!==O&&p.has(V)&&F.push({id:K,exportValue:Z,domElement:V})}return F}static get platform(){const C=typeof navigator<"u"?navigator.platform:"";return(0,n.shadow)(this,"platform",{isWin:C.includes("Win"),isMac:C.includes("Mac")})}}class w extends S{constructor(C){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(C,{isRenderable:!0,ignoreBorder:!!(O!=null&&O.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=C.data.isTooltipOnly}render(){const{data:C,linkService:O}=this,F=document.createElement("a");F.setAttribute("data-element-id",C.id);let V=!1;return C.url?(O.addLinkAttributes(F,C.url,C.newWindow),V=!0):C.action?(this._bindNamedAction(F,C.action),V=!0):C.dest?(this._bindLink(F,C.dest),V=!0):(C.actions&&(C.actions.Action||C.actions["Mouse Up"]||C.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(F,C),V=!0),C.resetForm?(this._bindResetFormAction(F,C.resetForm),V=!0):this.isTooltipOnly&&!V&&(this._bindLink(F,""),V=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((K,Z)=>{const ae=Z===0?F:F.cloneNode();return K.append(ae),K}):(this.container.className="linkAnnotation",V&&this.container.append(F),this.container)}_bindLink(C,O){C.href=this.linkService.getDestinationHash(O),C.onclick=()=>(O&&this.linkService.goToDestination(O),!1),(O||O==="")&&(C.className="internalLink")}_bindNamedAction(C,O){C.href=this.linkService.getAnchorUrl(""),C.onclick=()=>(this.linkService.executeNamedAction(O),!1),C.className="internalLink"}_bindJSAction(C,O){C.href=this.linkService.getAnchorUrl("");const F=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const V of Object.keys(O.actions)){const K=F.get(V);K&&(C[K]=()=>{var Z;return(Z=this.linkService.eventBus)===null||Z===void 0||Z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O.id,name:V}}),!1})}C.onclick||(C.onclick=()=>!1),C.className="internalLink"}_bindResetFormAction(C,O){const F=C.onclick;if(F||(C.href=this.linkService.getAnchorUrl("")),C.className="internalLink",!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),F||(C.onclick=()=>!1);return}C.onclick=()=>{F&&F();const{fields:V,refs:K,include:Z}=O,ae=[];if(V.length!==0||K.length!==0){const ve=new Set(K);for(const ye of V){const Pe=this._fieldObjects[ye]||[];for(const{id:ke}of Pe)ve.add(ke)}for(const ye of Object.values(this._fieldObjects))for(const Pe of ye)ve.has(Pe.id)===Z&&ae.push(Pe)}else for(const ve of Object.values(this._fieldObjects))ae.push(...ve);const le=this.annotationStorage,pe=[];for(const ve of ae){const{id:ye}=ve;switch(pe.push(ye),ve.type){case"text":{const ke=ve.defaultValue||"";le.setValue(ye,{value:ke});break}case"checkbox":case"radiobutton":{const ke=ve.defaultValue===ve.exportValues;le.setValue(ye,{value:ke});break}case"combobox":case"listbox":{const ke=ve.defaultValue||"";le.setValue(ye,{value:ke});break}default:continue}const Pe=document.querySelector(`[data-element-id="${ye}"]`);if(Pe){if(!p.has(Pe)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${ye}`);continue}}else continue;Pe.dispatchEvent(new Event("resetform"))}if(this.enableScripting){var be;(be=this.linkService.eventBus)===null||be===void 0||be.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:pe,name:"ResetForm"}})}return!1}}}class T extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K})}render(){this.container.className="textAnnotation";const C=document.createElement("img");return C.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",C.alt="[{{type}} Annotation]",C.dataset.l10nId="text_annotation_type",C.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(C,this.data),this.container.append(C),this.container}}class m extends S{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(C){const{isWin:O,isMac:F}=S.platform;return O&&C.ctrlKey||F&&C.metaKey}_setEventListener(C,O,F,V){O.includes("mouse")?C.addEventListener(O,K=>{var Z;(Z=this.linkService.eventBus)===null||Z===void 0||Z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:F,value:V(K),shift:K.shiftKey,modifier:this._getKeyModifier(K)}})}):C.addEventListener(O,K=>{var Z;(Z=this.linkService.eventBus)===null||Z===void 0||Z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:F,value:V(K)}})})}_setEventListeners(C,O,F){for(const[K,Z]of O){var V;(Z==="Action"||(V=this.data.actions)!==null&&V!==void 0&&V[Z])&&this._setEventListener(C,K,Z,F)}}_setBackgroundColor(C){const O=this.data.backgroundColor||null;C.style.backgroundColor=O===null?"transparent":n.Util.makeHexColor(O[0],O[1],O[2])}_setTextStyle(C){const O=["left","center","right"],{fontColor:F}=this.data.defaultAppearanceData,V=this.data.defaultAppearanceData.fontSize||E,K=C.style;let Z;if(this.data.multiLine){const ae=Math.abs(this.data.rect[3]-this.data.rect[1]),le=Math.round(ae/(n.LINE_FACTOR*V))||1,pe=ae/le;Z=Math.min(V,Math.round(pe/n.LINE_FACTOR))}else{const ae=Math.abs(this.data.rect[3]-this.data.rect[1]);Z=Math.min(V,Math.round(ae/n.LINE_FACTOR))}K.fontSize=`calc(${Z}px * var(--scale-factor))`,K.color=n.Util.makeHexColor(F[0],F[1],F[2]),this.data.textAlignment!==null&&(K.textAlign=O[this.data.textAlignment])}_setRequired(C,O){O?C.setAttribute("required",!0):C.removeAttribute("required"),C.setAttribute("aria-required",O)}}class b extends m{constructor(C){const O=C.renderForms||!C.data.hasAppearance&&!!C.data.fieldValue;super(C,{isRenderable:O})}setPropertyOnSiblings(C,O,F,V){const K=this.annotationStorage;for(const Z of this._getElementsByName(C.name,C.id))Z.domElement&&(Z.domElement[O]=F),K.setValue(Z.id,{[V]:F})}render(){const C=this.annotationStorage,O=this.data.id;this.container.className="textWidgetAnnotation";let F=null;if(this.renderForms){const K=C.getValue(O,{value:this.data.fieldValue});let Z=K.formattedValue||K.value||"";const ae=C.getValue(O,{charLimit:this.data.maxLen}).charLimit;ae&&Z.length>ae&&(Z=Z.slice(0,ae));const le={userValue:Z,formattedValue:null,valueOnFocus:""};this.data.multiLine?(F=document.createElement("textarea"),F.textContent=Z,this.data.doNotScroll&&(F.style.overflowY="hidden")):(F=document.createElement("input"),F.type="text",F.setAttribute("value",Z),this.data.doNotScroll&&(F.style.overflowX="hidden")),p.add(F),F.setAttribute("data-element-id",O),F.disabled=this.data.readOnly,F.name=this.data.fieldName,F.tabIndex=d,this._setRequired(F,this.data.required),ae&&(F.maxLength=ae),F.addEventListener("input",be=>{C.setValue(O,{value:be.target.value}),this.setPropertyOnSiblings(F,"value",be.target.value,"value")}),F.addEventListener("resetform",be=>{var ve;const ye=(ve=this.data.defaultFieldValue)!==null&&ve!==void 0?ve:"";F.value=le.userValue=ye,le.formattedValue=null});let pe=be=>{const{formattedValue:ve}=le;ve!=null&&(be.target.value=ve),be.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var V;F.addEventListener("focus",ve=>{le.userValue&&(ve.target.value=le.userValue),le.valueOnFocus=ve.target.value}),F.addEventListener("updatefromsandbox",ve=>{const ye={value(Pe){var ke;le.userValue=(ke=Pe.detail.value)!==null&&ke!==void 0?ke:"",C.setValue(O,{value:le.userValue.toString()}),Pe.target.value=le.userValue},formattedValue(Pe){const{formattedValue:ke}=Pe.detail;le.formattedValue=ke,ke!=null&&Pe.target!==document.activeElement&&(Pe.target.value=ke),C.setValue(O,{formattedValue:ke})},selRange(Pe){Pe.target.setSelectionRange(...Pe.detail.selRange)},charLimit:Pe=>{var ke;const{charLimit:Ie}=Pe.detail,{target:De}=Pe;if(Ie===0){De.removeAttribute("maxLength");return}De.setAttribute("maxLength",Ie);let Ve=le.userValue;!Ve||Ve.length<=Ie||(Ve=Ve.slice(0,Ie),De.value=le.userValue=Ve,C.setValue(O,{value:Ve}),(ke=this.linkService.eventBus)===null||ke===void 0||ke.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:Ve,willCommit:!0,commitKey:1,selStart:De.selectionStart,selEnd:De.selectionEnd}}))}};this._dispatchEventFromSandbox(ye,ve)}),F.addEventListener("keydown",ve=>{var ye;let Pe=-1;if(ve.key==="Escape"?Pe=0:ve.key==="Enter"?Pe=2:ve.key==="Tab"&&(Pe=3),Pe===-1)return;const{value:ke}=ve.target;le.valueOnFocus!==ke&&(le.userValue=ke,(ye=this.linkService.eventBus)===null||ye===void 0||ye.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:ke,willCommit:!0,commitKey:Pe,selStart:ve.target.selectionStart,selEnd:ve.target.selectionEnd}}))});const be=pe;pe=null,F.addEventListener("blur",ve=>{const{value:ye}=ve.target;if(le.userValue=ye,this._mouseState.isDown&&le.valueOnFocus!==ye){var Pe;(Pe=this.linkService.eventBus)===null||Pe===void 0||Pe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:ye,willCommit:!0,commitKey:1,selStart:ve.target.selectionStart,selEnd:ve.target.selectionEnd}})}be(ve)}),(V=this.data.actions)!==null&&V!==void 0&&V.Keystroke&&F.addEventListener("beforeinput",ve=>{var ye;const{data:Pe,target:ke}=ve,{value:Ie,selectionStart:De,selectionEnd:Ve}=ke;let ge=De,$e=Ve;switch(ve.inputType){case"deleteWordBackward":{const Fe=Ie.substring(0,De).match(/\w*[^\w]*$/);Fe&&(ge-=Fe[0].length);break}case"deleteWordForward":{const Fe=Ie.substring(De).match(/^[^\w]*\w*/);Fe&&($e+=Fe[0].length);break}case"deleteContentBackward":De===Ve&&(ge-=1);break;case"deleteContentForward":De===Ve&&($e+=1);break}ve.preventDefault(),(ye=this.linkService.eventBus)===null||ye===void 0||ye.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:Ie,change:Pe||"",willCommit:!1,selStart:ge,selEnd:$e}})}),this._setEventListeners(F,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ve=>ve.target.value)}if(pe&&F.addEventListener("blur",pe),this.data.comb){const ve=(this.data.rect[2]-this.data.rect[0])/ae;F.classList.add("comb"),F.style.letterSpacing=`calc(${ve}px * var(--scale-factor) - 1ch)`}}else F=document.createElement("div"),F.textContent=this.data.fieldValue,F.style.verticalAlign="middle",F.style.display="table-cell";return this._setTextStyle(F),this._setBackgroundColor(F),this._setDefaultPropertiesFromJS(F),this.container.append(F),this.container}}class y extends m{constructor(C){super(C,{isRenderable:C.renderForms})}render(){const C=this.annotationStorage,O=this.data,F=O.id;let V=C.getValue(F,{value:O.exportValue===O.fieldValue}).value;typeof V=="string"&&(V=V!=="Off",C.setValue(F,{value:V})),this.container.className="buttonWidgetAnnotation checkBox";const K=document.createElement("input");return p.add(K),K.setAttribute("data-element-id",F),K.disabled=O.readOnly,this._setRequired(K,this.data.required),K.type="checkbox",K.name=O.fieldName,V&&K.setAttribute("checked",!0),K.setAttribute("exportValue",O.exportValue),K.tabIndex=d,K.addEventListener("change",Z=>{const{name:ae,checked:le}=Z.target;for(const pe of this._getElementsByName(ae,F)){const be=le&&pe.exportValue===O.exportValue;pe.domElement&&(pe.domElement.checked=be),C.setValue(pe.id,{value:be})}C.setValue(F,{value:le})}),K.addEventListener("resetform",Z=>{const ae=O.defaultFieldValue||"Off";Z.target.checked=ae===O.exportValue}),this.enableScripting&&this.hasJSActions&&(K.addEventListener("updatefromsandbox",Z=>{const ae={value(le){le.target.checked=le.detail.value!=="Off",C.setValue(F,{value:le.target.checked})}};this._dispatchEventFromSandbox(ae,Z)}),this._setEventListeners(K,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Z=>Z.target.checked)),this._setBackgroundColor(K),this._setDefaultPropertiesFromJS(K),this.container.append(K),this.container}}class h extends m{constructor(C){super(C,{isRenderable:C.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const C=this.annotationStorage,O=this.data,F=O.id;let V=C.getValue(F,{value:O.fieldValue===O.buttonValue}).value;typeof V=="string"&&(V=V!==O.buttonValue,C.setValue(F,{value:V}));const K=document.createElement("input");if(p.add(K),K.setAttribute("data-element-id",F),K.disabled=O.readOnly,this._setRequired(K,this.data.required),K.type="radio",K.name=O.fieldName,V&&K.setAttribute("checked",!0),K.tabIndex=d,K.addEventListener("change",Z=>{const{name:ae,checked:le}=Z.target;for(const pe of this._getElementsByName(ae,F))C.setValue(pe.id,{value:!1});C.setValue(F,{value:le})}),K.addEventListener("resetform",Z=>{const ae=O.defaultFieldValue;Z.target.checked=ae!=null&&ae===O.buttonValue}),this.enableScripting&&this.hasJSActions){const Z=O.buttonValue;K.addEventListener("updatefromsandbox",ae=>{const le={value:pe=>{const be=Z===pe.detail.value;for(const ve of this._getElementsByName(pe.target.name)){const ye=be&&ve.id===F;ve.domElement&&(ve.domElement.checked=ye),C.setValue(ve.id,{value:ye})}}};this._dispatchEventFromSandbox(le,ae)}),this._setEventListeners(K,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ae=>ae.target.checked)}return this._setBackgroundColor(K),this._setDefaultPropertiesFromJS(K),this.container.append(K),this.container}}class v extends w{constructor(C){super(C,{ignoreBorder:C.data.hasAppearance})}render(){const C=super.render();C.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(C.title=this.data.alternativeText);const O=C.lastChild;return this.enableScripting&&this.hasJSActions&&O&&(this._setDefaultPropertiesFromJS(O),O.addEventListener("updatefromsandbox",F=>{this._dispatchEventFromSandbox({},F)})),C}}class A extends m{constructor(C){super(C,{isRenderable:C.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const C=this.annotationStorage,O=this.data.id,F=C.getValue(O,{value:this.data.fieldValue}),V=document.createElement("select");p.add(V),V.setAttribute("data-element-id",O),V.disabled=this.data.readOnly,this._setRequired(V,this.data.required),V.name=this.data.fieldName,V.tabIndex=d;let K=this.data.combo&&this.data.options.length>0;this.data.combo||(V.size=this.data.options.length,this.data.multiSelect&&(V.multiple=!0)),V.addEventListener("resetform",pe=>{const be=this.data.defaultFieldValue;for(const ve of V.options)ve.selected=ve.value===be});for(const pe of this.data.options){const be=document.createElement("option");be.textContent=pe.displayValue,be.value=pe.exportValue,F.value.includes(pe.exportValue)&&(be.setAttribute("selected",!0),K=!1),V.append(be)}let Z=null;if(K){const pe=document.createElement("option");pe.value=" ",pe.setAttribute("hidden",!0),pe.setAttribute("selected",!0),V.prepend(pe),Z=()=>{pe.remove(),V.removeEventListener("input",Z),Z=null},V.addEventListener("input",Z)}const ae=(pe,be)=>{const ve=be?"value":"textContent",ye=pe.target.options;return pe.target.multiple?Array.prototype.filter.call(ye,Pe=>Pe.selected).map(Pe=>Pe[ve]):ye.selectedIndex===-1?null:ye[ye.selectedIndex][ve]},le=pe=>{const be=pe.target.options;return Array.prototype.map.call(be,ve=>({displayValue:ve.textContent,exportValue:ve.value}))};return this.enableScripting&&this.hasJSActions?(V.addEventListener("updatefromsandbox",pe=>{const be={value(ve){var ye;(ye=Z)===null||ye===void 0||ye();const Pe=ve.detail.value,ke=new Set(Array.isArray(Pe)?Pe:[Pe]);for(const Ie of V.options)Ie.selected=ke.has(Ie.value);C.setValue(O,{value:ae(ve,!0)})},multipleSelection(ve){V.multiple=!0},remove(ve){const ye=V.options,Pe=ve.detail.remove;ye[Pe].selected=!1,V.remove(Pe),ye.length>0&&Array.prototype.findIndex.call(ye,Ie=>Ie.selected)===-1&&(ye[0].selected=!0),C.setValue(O,{value:ae(ve,!0),items:le(ve)})},clear(ve){for(;V.length!==0;)V.remove(0);C.setValue(O,{value:null,items:[]})},insert(ve){const{index:ye,displayValue:Pe,exportValue:ke}=ve.detail.insert,Ie=V.children[ye],De=document.createElement("option");De.textContent=Pe,De.value=ke,Ie?Ie.before(De):V.append(De),C.setValue(O,{value:ae(ve,!0),items:le(ve)})},items(ve){const{items:ye}=ve.detail;for(;V.length!==0;)V.remove(0);for(const Pe of ye){const{displayValue:ke,exportValue:Ie}=Pe,De=document.createElement("option");De.textContent=ke,De.value=Ie,V.append(De)}V.options.length>0&&(V.options[0].selected=!0),C.setValue(O,{value:ae(ve,!0),items:le(ve)})},indices(ve){const ye=new Set(ve.detail.indices);for(const Pe of ve.target.options)Pe.selected=ye.has(Pe.index);C.setValue(O,{value:ae(ve,!0)})},editable(ve){ve.target.disabled=!ve.detail.editable}};this._dispatchEventFromSandbox(be,pe)}),V.addEventListener("input",pe=>{var be;const ve=ae(pe,!0),ye=ae(pe,!1);C.setValue(O,{value:ve}),(be=this.linkService.eventBus)===null||be===void 0||be.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:ye,changeEx:ve,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(V,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],pe=>pe.target.checked)):V.addEventListener("input",function(pe){C.setValue(O,{value:ae(pe,!0)})}),this.data.combo&&this._setTextStyle(V),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class P extends S{constructor(C){var O,F,V;const K=!!((O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K})}render(){const C=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",C.includes(this.data.parentType))return this.container;const O=`[data-annotation-id="${this.data.parentId}"]`,F=this.layer.querySelectorAll(O);if(F.length===0)return this.container;const V=new R({container:this.container,trigger:Array.from(F),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),K=this.page,Z=n.Util.normalizeRect([this.data.parentRect[0],K.view[3]-this.data.parentRect[1]+K.view[1],this.data.parentRect[2],K.view[3]-this.data.parentRect[3]+K.view[1]]),ae=Z[0]+this.data.parentRect[2]-this.data.parentRect[0],le=Z[1],[pe,be,ve,ye]=this.viewport.viewBox,Pe=ve-pe,ke=ye-be;return this.container.style.left=`${100*(ae-pe)/Pe}%`,this.container.style.top=`${100*(le-be)/ke}%`,this.container.append(V.render()),this.container}}class R{constructor(C){this.container=C.container,this.trigger=C.trigger,this.color=C.color,this.titleObj=C.titleObj,this.modificationDate=C.modificationDate,this.contentsObj=C.contentsObj,this.richText=C.richText,this.hideWrapper=C.hideWrapper||!1,this.pinned=!1}render(){var C,O;const V=document.createElement("div");V.className="popupWrapper",this.hideElement=this.hideWrapper?V:this.container,this.hideElement.hidden=!0;const K=document.createElement("div");K.className="popup";const Z=this.color;if(Z){const pe=.7*(255-Z[0])+Z[0],be=.7*(255-Z[1])+Z[1],ve=.7*(255-Z[2])+Z[2];K.style.backgroundColor=n.Util.makeHexColor(pe|0,be|0,ve|0)}const ae=document.createElement("h1");ae.dir=this.titleObj.dir,ae.textContent=this.titleObj.str,K.append(ae);const le=a.PDFDateString.toDateObject(this.modificationDate);if(le){const pe=document.createElement("span");pe.className="popupDate",pe.textContent="{{date}}, {{time}}",pe.dataset.l10nId="annotation_date_string",pe.dataset.l10nArgs=JSON.stringify({date:le.toLocaleDateString(),time:le.toLocaleTimeString()}),K.append(pe)}if((C=this.richText)!==null&&C!==void 0&&C.str&&(!((O=this.contentsObj)!==null&&O!==void 0&&O.str)||this.contentsObj.str===this.richText.str))o.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:K}),K.lastChild.className="richText popupContent";else{const pe=this._formatContents(this.contentsObj);K.append(pe)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const pe of this.trigger)pe.addEventListener("click",this._toggle.bind(this)),pe.addEventListener("mouseover",this._show.bind(this,!1)),pe.addEventListener("mouseout",this._hide.bind(this,!1));return K.addEventListener("click",this._hide.bind(this,!0)),V.append(K),V}_formatContents(C){let{str:O,dir:F}=C;const V=document.createElement("p");V.className="popupContent",V.dir=F;const K=O.split(/(?:\r\n?|\n)/);for(let Z=0,ae=K.length;Z<ae;++Z){const le=K[Z];V.append(document.createTextNode(le)),Z<ae-1&&V.append(document.createElement("br"))}return V}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class $ extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K,ignoreBorder:!0}),this.textContent=C.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const C=document.createElement("div");C.className="annotationTextContent",C.setAttribute("role","comment");for(const O of this.textContent){const F=document.createElement("span");F.textContent=O,C.append(F)}this.container.append(C)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class D extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const C=this.data,{width:O,height:F}=g(C.rect),V=this.svgFactory.create(O,F,!0),K=this.svgFactory.createElement("svg:line");return K.setAttribute("x1",C.rect[2]-C.lineCoordinates[0]),K.setAttribute("y1",C.rect[3]-C.lineCoordinates[1]),K.setAttribute("x2",C.rect[2]-C.lineCoordinates[2]),K.setAttribute("y2",C.rect[3]-C.lineCoordinates[3]),K.setAttribute("stroke-width",C.borderStyle.width||1),K.setAttribute("stroke","transparent"),K.setAttribute("fill","transparent"),V.append(K),this.container.append(V),this._createPopup(K,C),this.container}}class X extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const C=this.data,{width:O,height:F}=g(C.rect),V=this.svgFactory.create(O,F,!0),K=C.borderStyle.width,Z=this.svgFactory.createElement("svg:rect");return Z.setAttribute("x",K/2),Z.setAttribute("y",K/2),Z.setAttribute("width",O-K),Z.setAttribute("height",F-K),Z.setAttribute("stroke-width",K||1),Z.setAttribute("stroke","transparent"),Z.setAttribute("fill","transparent"),V.append(Z),this.container.append(V),this._createPopup(Z,C),this.container}}class W extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const C=this.data,{width:O,height:F}=g(C.rect),V=this.svgFactory.create(O,F,!0),K=C.borderStyle.width,Z=this.svgFactory.createElement("svg:ellipse");return Z.setAttribute("cx",O/2),Z.setAttribute("cy",F/2),Z.setAttribute("rx",O/2-K/2),Z.setAttribute("ry",F/2-K/2),Z.setAttribute("stroke-width",K||1),Z.setAttribute("stroke","transparent"),Z.setAttribute("fill","transparent"),V.append(Z),this.container.append(V),this._createPopup(Z,C),this.container}}class U extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const C=this.data,{width:O,height:F}=g(C.rect),V=this.svgFactory.create(O,F,!0);let K=[];for(const ae of C.vertices){const le=ae.x-C.rect[0],pe=C.rect[3]-ae.y;K.push(le+","+pe)}K=K.join(" ");const Z=this.svgFactory.createElement(this.svgElementName);return Z.setAttribute("points",K),Z.setAttribute("stroke-width",C.borderStyle.width||1),Z.setAttribute("stroke","transparent"),Z.setAttribute("fill","transparent"),V.append(Z),this.container.append(V),this._createPopup(Z,C),this.container}}class N extends U{constructor(C){super(C),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class z extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class B extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const C=this.data,{width:O,height:F}=g(C.rect),V=this.svgFactory.create(O,F,!0);for(const K of C.inkLists){let Z=[];for(const le of K){const pe=le.x-C.rect[0],be=C.rect[3]-le.y;Z.push(`${pe},${be}`)}Z=Z.join(" ");const ae=this.svgFactory.createElement(this.svgElementName);ae.setAttribute("points",Z),ae.setAttribute("stroke-width",C.borderStyle.width||1),ae.setAttribute("stroke","transparent"),ae.setAttribute("fill","transparent"),this._createPopup(ae,C),V.append(ae)}return this.container.append(V),this.container}}class I extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class j extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class J extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Q extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class re extends S{constructor(C){var O,F,V;const K=!!(C.data.hasPopup||(O=C.data.titleObj)!==null&&O!==void 0&&O.str||(F=C.data.contentsObj)!==null&&F!==void 0&&F.str||(V=C.data.richText)!==null&&V!==void 0&&V.str);super(C,{isRenderable:K,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class de extends S{constructor(C){var O;super(C,{isRenderable:!0});const{filename:F,content:V}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(F),this.content=V,(O=this.linkService.eventBus)===null||O===void 0||O.dispatch("fileattachmentannotation",{source:this,filename:F,content:V})}render(){var C,O;this.container.className="fileAttachmentAnnotation";const F=document.createElement("div");return F.className="popupTriggerArea",F.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((C=this.data.titleObj)!==null&&C!==void 0&&C.str||(O=this.data.contentsObj)!==null&&O!==void 0&&O.str||this.data.richText)&&this._createPopup(F,this.data),this.container.append(F),this.container}_download(){var C;(C=this.downloadManager)===null||C===void 0||C.openOrDownloadData(this.container,this.content,this.filename)}}class Y{static render(C){const{annotations:O,div:F,viewport:V,accessibilityManager:K}=C;f(this,Y,k).call(this,F,V);let Z=0;for(const ae of O){if(ae.annotationType!==n.AnnotationType.POPUP){const{width:pe,height:be}=g(ae.rect);if(pe<=0||be<=0)continue}const le=x.create({data:ae,layer:F,page:C.page,viewport:V,linkService:C.linkService,downloadManager:C.downloadManager,imageResourcesPath:C.imageResourcesPath||"",renderForms:C.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:C.annotationStorage||new l.AnnotationStorage,enableScripting:C.enableScripting,hasJSActions:C.hasJSActions,fieldObjects:C.fieldObjects,mouseState:C.mouseState||{isDown:!1}});if(le.isRenderable){const pe=le.render();if(ae.hidden&&(pe.style.visibility="hidden"),Array.isArray(pe))for(const be of pe)be.style.zIndex=Z++,f(Y,Y,M).call(Y,be,ae.id,F,K);else pe.style.zIndex=Z++,le instanceof P?F.prepend(pe):f(Y,Y,M).call(Y,pe,ae.id,F,K)}}f(this,Y,H).call(this,F,C.annotationCanvasMap)}static update(C){const{annotationCanvasMap:O,div:F,viewport:V}=C;f(this,Y,k).call(this,F,V),f(this,Y,H).call(this,F,O),F.hidden=!1}}i.AnnotationLayer=Y;function M(q,C,O,F){const V=q.firstChild||q;V.id=`${a.AnnotationPrefix}${C}`,O.append(q),F==null||F.moveElementInDOM(O,q,V,!1)}function k(q,C){let{width:O,height:F,rotation:V}=C;const{style:K}=q,Z=V%180!==0,ae=Math.floor(O)+"px",le=Math.floor(F)+"px";K.width=Z?le:ae,K.height=Z?ae:le,q.setAttribute("data-main-rotation",V)}function H(q,C){if(C){for(const[O,F]of C){const V=q.querySelector(`[data-annotation-id="${O}"]`);if(!V)continue;const{firstChild:K}=V;K?K.nodeName==="CANVAS"?K.replaceWith(F):K.before(F):V.append(F)}C.clear()}}},(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function e(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}class n{static CMYK_G(l){let[c,o,f,u]=l;return["G",1-Math.min(1,.3*c+.59*f+.11*o+u)]}static G_CMYK(l){let[c]=l;return["CMYK",0,0,0,1-c]}static G_RGB(l){let[c]=l;return["RGB",c,c,c]}static G_HTML(l){let[c]=l;const o=e(c);return`#${o}${o}${o}`}static RGB_G(l){let[c,o,f]=l;return["G",.3*c+.59*o+.11*f]}static RGB_HTML(l){let[c,o,f]=l;const u=e(c),d=e(o),E=e(f);return`#${u}${d}${E}`}static T_HTML(){return"#00000000"}static CMYK_RGB(l){let[c,o,f,u]=l;return["RGB",1-Math.min(1,c+u),1-Math.min(1,f+u),1-Math.min(1,o+u)]}static CMYK_HTML(l){const c=this.CMYK_RGB(l).slice(1);return this.RGB_HTML(c)}static RGB_CMYK(l){let[c,o,f]=l;const u=1-c,d=1-o,E=1-f,p=Math.min(u,d,E);return["CMYK",u,d,E,p]}}i.ColorConverters=n},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var n=e(145);class a{static setupStorage(c,o,f,u,d){const E=u.getValue(o,{value:null});switch(f.name){case"textarea":if(E.value!==null&&(c.textContent=E.value),d==="print")break;c.addEventListener("input",p=>{u.setValue(o,{value:p.target.value})});break;case"input":if(f.attributes.type==="radio"||f.attributes.type==="checkbox"){if(E.value===f.attributes.xfaOn?c.setAttribute("checked",!0):E.value===f.attributes.xfaOff&&c.removeAttribute("checked"),d==="print")break;c.addEventListener("change",p=>{u.setValue(o,{value:p.target.checked?p.target.getAttribute("xfaOn"):p.target.getAttribute("xfaOff")})})}else{if(E.value!==null&&c.setAttribute("value",E.value),d==="print")break;c.addEventListener("input",p=>{u.setValue(o,{value:p.target.value})})}break;case"select":if(E.value!==null)for(const p of f.children)p.attributes.value===E.value&&(p.attributes.selected=!0);c.addEventListener("input",p=>{const g=p.target.options,x=g.selectedIndex===-1?"":g[g.selectedIndex].value;u.setValue(o,{value:x})});break}}static setAttributes(c){let{html:o,element:f,storage:u=null,intent:d,linkService:E}=c;const{attributes:p}=f,g=o instanceof HTMLAnchorElement;p.type==="radio"&&(p.name=`${p.name}-${d}`);for(const[x,S]of Object.entries(p))if(S!=null)switch(x){case"class":S.length&&o.setAttribute(x,S.join(" "));break;case"dataId":break;case"id":o.setAttribute("data-element-id",S);break;case"style":Object.assign(o.style,S);break;case"textContent":o.textContent=S;break;default:(!g||x!=="href"&&x!=="newWindow")&&o.setAttribute(x,S)}g&&E.addLinkAttributes(o,p.href,p.newWindow),u&&p.dataId&&this.setupStorage(o,p.dataId,f,u)}static render(c){const o=c.annotationStorage,f=c.linkService,u=c.xfaHtml,d=c.intent||"display",E=document.createElement(u.name);u.attributes&&this.setAttributes({html:E,element:u,intent:d,linkService:f});const p=[[u,-1,E]],g=c.div;if(g.append(E),c.viewport){const w=`matrix(${c.viewport.transform.join(",")})`;g.style.transform=w}d!=="richText"&&g.setAttribute("class","xfaLayer xfaFont");const x=[];for(;p.length>0;){var S;const[w,T,m]=p.at(-1);if(T+1===w.children.length){p.pop();continue}const b=w.children[++p.at(-1)[1]];if(b===null)continue;const{name:y}=b;if(y==="#text"){const v=document.createTextNode(b.value);x.push(v),m.append(v);continue}let h;if(b!=null&&(S=b.attributes)!==null&&S!==void 0&&S.xmlns?h=document.createElementNS(b.attributes.xmlns,y):h=document.createElement(y),m.append(h),b.attributes&&this.setAttributes({html:h,element:b,storage:o,intent:d,linkService:f}),b.children&&b.children.length>0)p.push([b,-1,h]);else if(b.value){const v=document.createTextNode(b.value);n.XfaText.shouldBuildText(y)&&x.push(v),h.append(v)}}for(const w of g.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:x}}static update(c){const o=`matrix(${c.viewport.transform.join(",")})`;c.div.style.transform=o,c.div.hidden=!1}}i.XfaLayer=a},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=m;var n=e(1),a=e(133);const l=1e5,c=30,o=.8,f=new Map,u=/^\s+$/g;function d(b,y){const h=f.get(b);if(h)return h;y.save(),y.font=`${c}px ${b}`;const v=y.measureText("");let A=v.fontBoundingBoxAscent,P=Math.abs(v.fontBoundingBoxDescent);if(A){y.restore();const $=A/(A+P);return f.set(b,$),$}y.strokeStyle="red",y.clearRect(0,0,c,c),y.strokeText("g",0,0);let R=y.getImageData(0,0,c,c).data;P=0;for(let $=R.length-1-3;$>=0;$-=4)if(R[$]>0){P=Math.ceil($/4/c);break}y.clearRect(0,0,c,c),y.strokeText("A",0,c),R=y.getImageData(0,0,c,c).data,A=0;for(let $=0,D=R.length;$<D;$+=4)if(R[$]>0){A=c-Math.floor($/4/c);break}if(y.restore(),A){const $=A/(A+P);return f.set(b,$),$}return f.set(b,o),o}function E(b,y,h,v){const A=document.createElement("span"),P=b._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:y.str!=="",hasEOL:y.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:y.str!=="",hasEOL:y.hasEOL,fontSize:0};b._textDivs.push(A);const R=n.Util.transform(b._viewport.transform,y.transform);let $=Math.atan2(R[1],R[0]);const D=h[y.fontName];D.vertical&&($+=Math.PI/2);const X=Math.hypot(R[2],R[3]),W=X*d(D.fontFamily,v);let U,N;$===0?(U=R[4],N=R[5]-W):(U=R[4]+W*Math.sin($),N=R[5]-W*Math.cos($)),A.style.left=`${U}px`,A.style.top=`${N}px`,A.style.fontSize=`${X}px`,A.style.fontFamily=D.fontFamily,P.fontSize=X,A.setAttribute("role","presentation"),A.textContent=y.str,A.dir=y.dir,b._fontInspectorEnabled&&(A.dataset.fontName=y.fontName),$!==0&&(P.angle=$*(180/Math.PI));let z=!1;if(y.str.length>1||b._enhanceTextSelection&&u.test(y.str))z=!0;else if(y.str!==" "&&y.transform[0]!==y.transform[3]){const B=Math.abs(y.transform[0]),I=Math.abs(y.transform[3]);B!==I&&Math.max(B,I)/Math.min(B,I)>1.5&&(z=!0)}if(z&&(D.vertical?P.canvasWidth=y.height*b._viewport.scale:P.canvasWidth=y.width*b._viewport.scale),b._textDivProperties.set(A,P),b._textContentStream&&b._layoutText(A),b._enhanceTextSelection&&P.hasText){let B=1,I=0;$!==0&&(B=Math.cos($),I=Math.sin($));const j=(D.vertical?y.height:y.width)*b._viewport.scale,J=X;let Q,re;$!==0?(Q=[B,I,-I,B,U,N],re=n.Util.getAxialAlignedBoundingBox([0,0,j,J],Q)):re=[U,N,U+j,N+J],b._bounds.push({left:re[0],top:re[1],right:re[2],bottom:re[3],div:A,size:[j,J],m:Q})}}function p(b){if(b._canceled)return;const y=b._textDivs,h=b._capability,v=y.length;if(v>l){b._renderingDone=!0,h.resolve();return}if(!b._textContentStream)for(let A=0;A<v;A++)b._layoutText(y[A]);b._renderingDone=!0,h.resolve()}function g(b,y,h){let v=0;for(let A=0;A<h;A++){const P=b[y++];P>0&&(v=v?Math.min(P,v):P)}return v}function x(b){const y=b._bounds,h=b._viewport,v=S(h.width,h.height,y);for(let A=0;A<v.length;A++){const P=y[A].div,R=b._textDivProperties.get(P);if(R.angle===0){R.paddingLeft=y[A].left-v[A].left,R.paddingTop=y[A].top-v[A].top,R.paddingRight=v[A].right-y[A].right,R.paddingBottom=v[A].bottom-y[A].bottom,b._textDivProperties.set(P,R);continue}const $=v[A],D=y[A],X=D.m,W=X[0],U=X[1],N=[[0,0],[0,D.size[1]],[D.size[0],0],D.size],z=new Float64Array(64);for(let I=0,j=N.length;I<j;I++){const J=n.Util.applyTransform(N[I],X);z[I+0]=W&&($.left-J[0])/W,z[I+4]=U&&($.top-J[1])/U,z[I+8]=W&&($.right-J[0])/W,z[I+12]=U&&($.bottom-J[1])/U,z[I+16]=U&&($.left-J[0])/-U,z[I+20]=W&&($.top-J[1])/W,z[I+24]=U&&($.right-J[0])/-U,z[I+28]=W&&($.bottom-J[1])/W,z[I+32]=W&&($.left-J[0])/-W,z[I+36]=U&&($.top-J[1])/-U,z[I+40]=W&&($.right-J[0])/-W,z[I+44]=U&&($.bottom-J[1])/-U,z[I+48]=U&&($.left-J[0])/U,z[I+52]=W&&($.top-J[1])/-W,z[I+56]=U&&($.right-J[0])/U,z[I+60]=W&&($.bottom-J[1])/-W}const B=1+Math.min(Math.abs(W),Math.abs(U));R.paddingLeft=g(z,32,16)/B,R.paddingTop=g(z,48,16)/B,R.paddingRight=g(z,0,16)/B,R.paddingBottom=g(z,16,16)/B,b._textDivProperties.set(P,R)}}function S(b,y,h){const v=h.map(function(P,R){return{x1:P.left,y1:P.top,x2:P.right,y2:P.bottom,index:R,x1New:void 0,x2New:void 0}});w(b,v);const A=new Array(h.length);for(const P of v){const R=P.index;A[R]={left:P.x1New,top:0,right:P.x2New,bottom:0}}h.map(function(P,R){const $=A[R],D=v[R];D.x1=P.top,D.y1=b-$.right,D.x2=P.bottom,D.y2=b-$.left,D.index=R,D.x1New=void 0,D.x2New=void 0}),w(y,v);for(const P of v){const R=P.index;A[R].top=P.x1New,A[R].bottom=P.x2New}return A}function w(b,y){y.sort(function(A,P){return A.x1-P.x1||A.index-P.index});const v=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const A of y){let P=0;for(;P<v.length&&v[P].end<=A.y1;)P++;let R=v.length-1;for(;R>=0&&v[R].start>=A.y2;)R--;let $,D,X,W,U=-1/0;for(X=P;X<=R;X++){$=v[X],D=$.boundary;let B;D.x2>A.x1?B=D.index>A.index?D.x1New:A.x1:D.x2New===void 0?B=(D.x2+A.x1)/2:B=D.x2New,B>U&&(U=B)}for(A.x1New=U,X=P;X<=R;X++)$=v[X],D=$.boundary,D.x2New===void 0?D.x2>A.x1?D.index>A.index&&(D.x2New=D.x2):D.x2New=U:D.x2New>U&&(D.x2New=Math.max(U,D.x2));const N=[];let z=null;for(X=P;X<=R;X++){$=v[X],D=$.boundary;const B=D.x2>A.x2?D:A;z===B?N.at(-1).end=$.end:(N.push({start:$.start,end:$.end,boundary:B}),z=B)}for(v[P].start<A.y1&&(N[0].start=A.y1,N.unshift({start:v[P].start,end:A.y1,boundary:v[P].boundary})),A.y2<v[R].end&&(N.at(-1).end=A.y2,N.push({start:A.y2,end:v[R].end,boundary:v[R].boundary})),X=P;X<=R;X++){if($=v[X],D=$.boundary,D.x2New!==void 0)continue;let B=!1;for(W=P-1;!B&&W>=0&&v[W].start>=D.y1;W--)B=v[W].boundary===D;for(W=R+1;!B&&W<v.length&&v[W].end<=D.y2;W++)B=v[W].boundary===D;for(W=0;!B&&W<N.length;W++)B=N[W].boundary===D;B||(D.x2New=U)}Array.prototype.splice.apply(v,[P,R-P+1,...N])}for(const A of v){const P=A.boundary;P.x2New===void 0&&(P.x2New=Math.max(b,P.x2))}}class T{constructor(y){var h;let{textContent:v,textContentStream:A,container:P,viewport:R,textDivs:$,textContentItemsStr:D,enhanceTextSelection:X}=y;X&&(0,a.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=v,this._textContentStream=A,this._container=P,this._document=P.ownerDocument,this._viewport=R,this._textDivs=$||[],this._textContentItemsStr=D||[],this._enhanceTextSelection=!!X,this._fontInspectorEnabled=!!((h=globalThis.FontInspector)!==null&&h!==void 0&&h.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(y,h){for(let v=0,A=y.length;v<A;v++){if(y[v].str===void 0){if(y[v].type==="beginMarkedContentProps"||y[v].type==="beginMarkedContent"){const P=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),y[v].id!==null&&this._container.setAttribute("id",`${y[v].id}`),P.append(this._container)}else y[v].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(y[v].str),E(this,y[v],h,this._layoutTextCtx)}}_layoutText(y){const h=this._textDivProperties.get(y);let v="";if(h.canvasWidth!==0&&h.hasText){const{fontFamily:A}=y.style,{fontSize:P}=h;(P!==this._layoutTextLastFontSize||A!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${P*this._devicePixelRatio}px ${A}`,this._layoutTextLastFontSize=P,this._layoutTextLastFontFamily=A);const{width:R}=this._layoutTextCtx.measureText(y.textContent);if(R>0){const $=this._devicePixelRatio*h.canvasWidth/R;this._enhanceTextSelection&&(h.scale=$),v=`scaleX(${$})`}}if(h.angle!==0&&(v=`rotate(${h.angle}deg) ${v}`),v.length>0&&(this._enhanceTextSelection&&(h.originalTransform=v),y.style.transform=v),h.hasText&&this._container.append(y),h.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this._container.append(A)}}_render(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const h=(0,n.createPromiseCapability)();let v=Object.create(null);const A=this._document.createElement("canvas");if(A.height=A.width=c,this._layoutTextCtx=A.getContext("2d",{alpha:!1}),this._textContent){const P=this._textContent.items,R=this._textContent.styles;this._processItems(P,R),h.resolve()}else if(this._textContentStream){const P=()=>{this._reader.read().then(R=>{let{value:$,done:D}=R;if(D){h.resolve();return}Object.assign(v,$.styles),this._processItems($.items,v),P()},h.reject)};this._reader=this._textContentStream.getReader(),P()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');h.promise.then(()=>{v=null,y?this._renderTimer=setTimeout(()=>{p(this),this._renderTimer=null},y):p(this)},this._capability.reject)}expandTextDivs(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(x(this),this._bounds=null);const h=[],v=[];for(let A=0,P=this._textDivs.length;A<P;A++){const R=this._textDivs[A],$=this._textDivProperties.get(R);$.hasText&&(y?(h.length=0,v.length=0,$.originalTransform&&h.push($.originalTransform),$.paddingTop>0?(v.push(`${$.paddingTop}px`),h.push(`translateY(${-$.paddingTop}px)`)):v.push(0),$.paddingRight>0?v.push(`${$.paddingRight/$.scale}px`):v.push(0),$.paddingBottom>0?v.push(`${$.paddingBottom}px`):v.push(0),$.paddingLeft>0?(v.push(`${$.paddingLeft/$.scale}px`),h.push(`translateX(${-$.paddingLeft/$.scale}px)`)):v.push(0),R.style.padding=v.join(" "),h.length&&(R.style.transform=h.join(" "))):(R.style.padding=null,R.style.transform=$.originalTransform))}}}i.TextLayerRenderTask=T;function m(b){const y=new T({textContent:b.textContent,textContentStream:b.textContentStream,container:b.container,viewport:b.viewport,textDivs:b.textDivs,textContentItemsStr:b.textContentItemsStr,enhanceTextSelection:b.enhanceTextSelection});return y._render(b.timeout),y}},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var n=e(133),a=e(1),l=e(3);let c=class{constructor(){(0,a.unreachable)("Not implemented: SVGGraphics")}};i.SVGGraphics=c;{let S=function(h){let v=[];const A=[];for(const P of h){if(P.fn==="save"){v.push({fnId:92,fn:"group",items:[]}),A.push(v),v=v.at(-1).items;continue}P.fn==="restore"?v=A.pop():v.push(P)}return v},w=function(h){if(Number.isInteger(h))return h.toString();const v=h.toFixed(10);let A=v.length-1;if(v[A]!=="0")return v;do A--;while(v[A]==="0");return v.substring(0,v[A]==="."?A:A+1)},T=function(h){if(h[4]===0&&h[5]===0){if(h[1]===0&&h[2]===0)return h[0]===1&&h[3]===1?"":`scale(${w(h[0])} ${w(h[3])})`;if(h[0]===h[3]&&h[1]===-h[2]){const v=Math.acos(h[0])*180/Math.PI;return`rotate(${w(v)})`}}else if(h[0]===1&&h[1]===0&&h[2]===0&&h[3]===1)return`translate(${w(h[4])} ${w(h[5])})`;return`matrix(${w(h[0])} ${w(h[1])} ${w(h[2])} ${w(h[3])} ${w(h[4])} ${w(h[5])})`};const o={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},f="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/1999/xlink",d=["butt","round","square"],E=["miter","round","bevel"],p=function(h){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!A)return URL.createObjectURL(new Blob([h],{type:v}));const P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let R=`data:${v};base64,`;for(let $=0,D=h.length;$<D;$+=3){const X=h[$]&255,W=h[$+1]&255,U=h[$+2]&255,N=X>>2,z=(X&3)<<4|W>>4,B=$+1<D?(W&15)<<2|U>>6:64,I=$+2<D?U&63:64;R+=P[N]+P[z]+P[B]+P[I]}return R},g=function(){const h=new Uint8Array([137,80,78,71,13,10,26,10]),v=12,A=new Int32Array(256);for(let U=0;U<256;U++){let N=U;for(let z=0;z<8;z++)N&1?N=3988292384^N>>1&2147483647:N=N>>1&2147483647;A[U]=N}function P(U,N,z){let B=-1;for(let I=N;I<z;I++){const j=(B^U[I])&255,J=A[j];B=B>>>8^J}return B^-1}function R(U,N,z,B){let I=B;const j=N.length;z[I]=j>>24&255,z[I+1]=j>>16&255,z[I+2]=j>>8&255,z[I+3]=j&255,I+=4,z[I]=U.charCodeAt(0)&255,z[I+1]=U.charCodeAt(1)&255,z[I+2]=U.charCodeAt(2)&255,z[I+3]=U.charCodeAt(3)&255,I+=4,z.set(N,I),I+=N.length;const J=P(z,B+4,I);z[I]=J>>24&255,z[I+1]=J>>16&255,z[I+2]=J>>8&255,z[I+3]=J&255}function $(U,N,z){let B=1,I=0;for(let j=N;j<z;++j)B=(B+(U[j]&255))%65521,I=(I+B)%65521;return I<<16|B}function D(U){if(!l.isNodeJS)return X(U);try{let N;parseInt(process.versions.node)>=8?N=U:N=Buffer.from(U);const z=require$$7.deflateSync(N,{level:9});return z instanceof Uint8Array?z:new Uint8Array(z)}catch(N){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+N)}return X(U)}function X(U){let N=U.length;const z=65535,B=Math.ceil(N/z),I=new Uint8Array(2+N+B*5+4);let j=0;I[j++]=120,I[j++]=156;let J=0;for(;N>z;)I[j++]=0,I[j++]=255,I[j++]=255,I[j++]=0,I[j++]=0,I.set(U.subarray(J,J+z),j),j+=z,J+=z,N-=z;I[j++]=1,I[j++]=N&255,I[j++]=N>>8&255,I[j++]=~N&65535&255,I[j++]=(~N&65535)>>8&255,I.set(U.subarray(J),j),j+=U.length-J;const Q=$(U,0,U.length);return I[j++]=Q>>24&255,I[j++]=Q>>16&255,I[j++]=Q>>8&255,I[j++]=Q&255,I}function W(U,N,z,B){const I=U.width,j=U.height;let J,Q,re;const de=U.data;switch(N){case a.ImageKind.GRAYSCALE_1BPP:Q=0,J=1,re=I+7>>3;break;case a.ImageKind.RGB_24BPP:Q=2,J=8,re=I*3;break;case a.ImageKind.RGBA_32BPP:Q=6,J=8,re=I*4;break;default:throw new Error("invalid format")}const Y=new Uint8Array((1+re)*j);let M=0,k=0;for(let V=0;V<j;++V)Y[M++]=0,Y.set(de.subarray(k,k+re),M),k+=re,M+=re;if(N===a.ImageKind.GRAYSCALE_1BPP&&B){M=0;for(let V=0;V<j;V++){M++;for(let K=0;K<re;K++)Y[M++]^=255}}const H=new Uint8Array([I>>24&255,I>>16&255,I>>8&255,I&255,j>>24&255,j>>16&255,j>>8&255,j&255,J,Q,0,0,0]),q=D(Y),C=h.length+v*3+H.length+q.length,O=new Uint8Array(C);let F=0;return O.set(h,F),F+=h.length,R("IHDR",H,O,F),F+=v+H.length,R("IDATA",q,O,F),F+=v+q.length,R("IEND",new Uint8Array(0),O,F),p(O,"image/png",z)}return function(N,z,B){const I=N.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:N.kind;return W(N,I,z,B)}}();class x{constructor(){this.fontSizeScale=1,this.fontWeight=o.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(v,A){this.x=v,this.y=A}}let m=0,b=0,y=0;i.SVGGraphics=c=class{constructor(h,v){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new x,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=h,this.objs=v,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!A,this._operatorIdMapping=[];for(const P in a.OPS)this._operatorIdMapping[a.OPS[P]]=P}save(){this.transformStack.push(this.transformMatrix);const h=this.current;this.extraStack.push(h),this.current=h.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(h){this.save(),this.executeOpTree(h),this.restore()}loadDependencies(h){const v=h.fnArray,A=h.argsArray;for(let P=0,R=v.length;P<R;P++)if(v[P]===a.OPS.dependency)for(const $ of A[P]){const D=$.startsWith("g_")?this.commonObjs:this.objs,X=new Promise(W=>{D.get($,W)});this.current.dependencies.push(X)}return Promise.all(this.current.dependencies)}transform(h,v,A,P,R,$){const D=[h,v,A,P,R,$];this.transformMatrix=a.Util.transform(this.transformMatrix,D),this.tgrp=null}getSVG(h,v){this.viewport=v;const A=this._initialize(v);return this.loadDependencies(h).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(h)),A))}convertOpList(h){const v=this._operatorIdMapping,A=h.argsArray,P=h.fnArray,R=[];for(let $=0,D=P.length;$<D;$++){const X=P[$];R.push({fnId:X,fn:v[X],args:A[$]})}return S(R)}executeOpTree(h){for(const v of h){const A=v.fn,P=v.fnId,R=v.args;switch(P|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(R);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(R[0],R[1]);break;case a.OPS.setFont:this.setFont(R);break;case a.OPS.showText:this.showText(R[0]);break;case a.OPS.showSpacedText:this.showText(R[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(R[0],R[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(R[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(R[0]);break;case a.OPS.setHScale:this.setHScale(R[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(R[0],R[1],R[2],R[3],R[4],R[5]);break;case a.OPS.setTextRise:this.setTextRise(R[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(R[0]);break;case a.OPS.setLineWidth:this.setLineWidth(R[0]);break;case a.OPS.setLineJoin:this.setLineJoin(R[0]);break;case a.OPS.setLineCap:this.setLineCap(R[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(R[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(R[0],R[1],R[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(R[0],R[1],R[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(R);break;case a.OPS.setFillColorN:this.setFillColorN(R);break;case a.OPS.shadingFill:this.shadingFill(R[0]);break;case a.OPS.setDash:this.setDash(R[0],R[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(R[0]);break;case a.OPS.setFlatness:this.setFlatness(R[0]);break;case a.OPS.setGState:this.setGState(R[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(R[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(R[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(R[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(R[0],R[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(R[0],R[1],R[2],R[3],R[4],R[5]);break;case a.OPS.constructPath:this.constructPath(R[0],R[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(v.items);break;default:(0,a.warn)(`Unimplemented operator ${A}`);break}}}setWordSpacing(h){this.current.wordSpacing=h}setCharSpacing(h){this.current.charSpacing=h}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(h,v,A,P,R,$){const D=this.current;D.textMatrix=D.lineMatrix=[h,v,A,P,R,$],D.textMatrixScale=Math.hypot(h,v),D.x=D.lineX=0,D.y=D.lineY=0,D.xcoords=[],D.ycoords=[],D.tspan=this.svgFactory.createElement("svg:tspan"),D.tspan.setAttributeNS(null,"font-family",D.fontFamily),D.tspan.setAttributeNS(null,"font-size",`${w(D.fontSize)}px`),D.tspan.setAttributeNS(null,"y",w(-D.y)),D.txtElement=this.svgFactory.createElement("svg:text"),D.txtElement.append(D.tspan)}beginText(){const h=this.current;h.x=h.lineX=0,h.y=h.lineY=0,h.textMatrix=a.IDENTITY_MATRIX,h.lineMatrix=a.IDENTITY_MATRIX,h.textMatrixScale=1,h.tspan=this.svgFactory.createElement("svg:tspan"),h.txtElement=this.svgFactory.createElement("svg:text"),h.txtgrp=this.svgFactory.createElement("svg:g"),h.xcoords=[],h.ycoords=[]}moveText(h,v){const A=this.current;A.x=A.lineX+=h,A.y=A.lineY+=v,A.xcoords=[],A.ycoords=[],A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${w(A.fontSize)}px`),A.tspan.setAttributeNS(null,"y",w(-A.y))}showText(h){const v=this.current,A=v.font,P=v.fontSize;if(P===0)return;const R=v.fontSizeScale,$=v.charSpacing,D=v.wordSpacing,X=v.fontDirection,W=v.textHScale*X,U=A.vertical,N=U?1:-1,z=A.defaultVMetrics,B=P*v.fontMatrix[0];let I=0;for(const Q of h){if(Q===null){I+=X*D;continue}else if(typeof Q=="number"){I+=N*Q*P/1e3;continue}const re=(Q.isSpace?D:0)+$,de=Q.fontChar;let Y,M,k=Q.width;if(U){let q;const C=Q.vmetric||z;q=Q.vmetric?C[1]:k*.5,q=-q*B;const O=C[2]*B;k=C?-C[0]:k,Y=q/R,M=(I+O)/R}else Y=I/R,M=0;(Q.isInFont||A.missingFile)&&(v.xcoords.push(v.x+Y),U&&v.ycoords.push(-v.y+M),v.tspan.textContent+=de);let H;U?H=k*B-re*X:H=k*B+re*X,I+=H}v.tspan.setAttributeNS(null,"x",v.xcoords.map(w).join(" ")),U?v.tspan.setAttributeNS(null,"y",v.ycoords.map(w).join(" ")):v.tspan.setAttributeNS(null,"y",w(-v.y)),U?v.y-=I:v.x+=I*W,v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${w(v.fontSize)}px`),v.fontStyle!==o.fontStyle&&v.tspan.setAttributeNS(null,"font-style",v.fontStyle),v.fontWeight!==o.fontWeight&&v.tspan.setAttributeNS(null,"font-weight",v.fontWeight);const j=v.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(j===a.TextRenderingMode.FILL||j===a.TextRenderingMode.FILL_STROKE?(v.fillColor!==o.fillColor&&v.tspan.setAttributeNS(null,"fill",v.fillColor),v.fillAlpha<1&&v.tspan.setAttributeNS(null,"fill-opacity",v.fillAlpha)):v.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?v.tspan.setAttributeNS(null,"fill","transparent"):v.tspan.setAttributeNS(null,"fill","none"),j===a.TextRenderingMode.STROKE||j===a.TextRenderingMode.FILL_STROKE){const Q=1/(v.textMatrixScale||1);this._setStrokeAttributes(v.tspan,Q)}let J=v.textMatrix;v.textRise!==0&&(J=J.slice(),J[5]+=v.textRise),v.txtElement.setAttributeNS(null,"transform",`${T(J)} scale(${w(W)}, -1)`),v.txtElement.setAttributeNS(f,"xml:space","preserve"),v.txtElement.append(v.tspan),v.txtgrp.append(v.txtElement),this._ensureTransformGroup().append(v.txtElement)}setLeadingMoveText(h,v){this.setLeading(-v),this.moveText(h,v)}addFontStyle(h){if(!h.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const v=p(h.data,h.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${h.loadedName}"; src: url(${v}); }
`}setFont(h){const v=this.current,A=this.commonObjs.get(h[0]);let P=h[1];v.font=A,this.embedFonts&&!A.missingFile&&!this.embeddedFonts[A.loadedName]&&(this.addFontStyle(A),this.embeddedFonts[A.loadedName]=A),v.fontMatrix=A.fontMatrix||a.FONT_IDENTITY_MATRIX;let R="normal";A.black?R="900":A.bold&&(R="bold");const $=A.italic?"italic":"normal";P<0?(P=-P,v.fontDirection=-1):v.fontDirection=1,v.fontSize=P,v.fontFamily=A.loadedName,v.fontWeight=R,v.fontStyle=$,v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"y",w(-v.y)),v.xcoords=[],v.ycoords=[]}endText(){var h;const v=this.current;v.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&(h=v.txtElement)!==null&&h!==void 0&&h.hasChildNodes()&&(v.element=v.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(h){h>0&&(this.current.lineWidth=h)}setLineCap(h){this.current.lineCap=d[h]}setLineJoin(h){this.current.lineJoin=E[h]}setMiterLimit(h){this.current.miterLimit=h}setStrokeAlpha(h){this.current.strokeAlpha=h}setStrokeRGBColor(h,v,A){this.current.strokeColor=a.Util.makeHexColor(h,v,A)}setFillAlpha(h){this.current.fillAlpha=h}setFillRGBColor(h,v,A){this.current.fillColor=a.Util.makeHexColor(h,v,A),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(h){this.current.strokeColor=this._makeColorN_Pattern(h)}setFillColorN(h){this.current.fillColor=this._makeColorN_Pattern(h)}shadingFill(h){const v=this.viewport.width,A=this.viewport.height,P=a.Util.inverseTransform(this.transformMatrix),R=a.Util.applyTransform([0,0],P),$=a.Util.applyTransform([0,A],P),D=a.Util.applyTransform([v,0],P),X=a.Util.applyTransform([v,A],P),W=Math.min(R[0],$[0],D[0],X[0]),U=Math.min(R[1],$[1],D[1],X[1]),N=Math.max(R[0],$[0],D[0],X[0]),z=Math.max(R[1],$[1],D[1],X[1]),B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x",W),B.setAttributeNS(null,"y",U),B.setAttributeNS(null,"width",N-W),B.setAttributeNS(null,"height",z-U),B.setAttributeNS(null,"fill",this._makeShadingPattern(h)),this.current.fillAlpha<1&&B.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(B)}_makeColorN_Pattern(h){return h[0]==="TilingPattern"?this._makeTilingPattern(h):this._makeShadingPattern(h)}_makeTilingPattern(h){const v=h[1],A=h[2],P=h[3]||a.IDENTITY_MATRIX,[R,$,D,X]=h[4],W=h[5],U=h[6],N=h[7],z=`shading${y++}`,[B,I,j,J]=a.Util.normalizeRect([...a.Util.applyTransform([R,$],P),...a.Util.applyTransform([D,X],P)]),[Q,re]=a.Util.singularValueDecompose2dScale(P),de=W*Q,Y=U*re,M=this.svgFactory.createElement("svg:pattern");M.setAttributeNS(null,"id",z),M.setAttributeNS(null,"patternUnits","userSpaceOnUse"),M.setAttributeNS(null,"width",de),M.setAttributeNS(null,"height",Y),M.setAttributeNS(null,"x",`${B}`),M.setAttributeNS(null,"y",`${I}`);const k=this.svg,H=this.transformMatrix,q=this.current.fillColor,C=this.current.strokeColor,O=this.svgFactory.create(j-B,J-I);if(this.svg=O,this.transformMatrix=P,N===2){const F=a.Util.makeHexColor(...v);this.current.fillColor=F,this.current.strokeColor=F}return this.executeOpTree(this.convertOpList(A)),this.svg=k,this.transformMatrix=H,this.current.fillColor=q,this.current.strokeColor=C,M.append(O.childNodes[0]),this.defs.append(M),`url(#${z})`}_makeShadingPattern(h){switch(typeof h=="string"&&(h=this.objs.get(h)),h[0]){case"RadialAxial":const v=`shading${y++}`,A=h[3];let P;switch(h[1]){case"axial":const R=h[4],$=h[5];P=this.svgFactory.createElement("svg:linearGradient"),P.setAttributeNS(null,"id",v),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"x1",R[0]),P.setAttributeNS(null,"y1",R[1]),P.setAttributeNS(null,"x2",$[0]),P.setAttributeNS(null,"y2",$[1]);break;case"radial":const D=h[4],X=h[5],W=h[6],U=h[7];P=this.svgFactory.createElement("svg:radialGradient"),P.setAttributeNS(null,"id",v),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"cx",X[0]),P.setAttributeNS(null,"cy",X[1]),P.setAttributeNS(null,"r",U),P.setAttributeNS(null,"fx",D[0]),P.setAttributeNS(null,"fy",D[1]),P.setAttributeNS(null,"fr",W);break;default:throw new Error(`Unknown RadialAxial type: ${h[1]}`)}for(const R of A){const $=this.svgFactory.createElement("svg:stop");$.setAttributeNS(null,"offset",R[0]),$.setAttributeNS(null,"stop-color",R[1]),P.append($)}return this.defs.append(P),`url(#${v})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${h[0]}`)}}setDash(h,v){this.current.dashArray=h,this.current.dashPhase=v}constructPath(h,v){const A=this.current;let P=A.x,R=A.y,$=[],D=0;for(const X of h)switch(X|0){case a.OPS.rectangle:P=v[D++],R=v[D++];const W=v[D++],U=v[D++],N=P+W,z=R+U;$.push("M",w(P),w(R),"L",w(N),w(R),"L",w(N),w(z),"L",w(P),w(z),"Z");break;case a.OPS.moveTo:P=v[D++],R=v[D++],$.push("M",w(P),w(R));break;case a.OPS.lineTo:P=v[D++],R=v[D++],$.push("L",w(P),w(R));break;case a.OPS.curveTo:P=v[D+4],R=v[D+5],$.push("C",w(v[D]),w(v[D+1]),w(v[D+2]),w(v[D+3]),w(P),w(R)),D+=6;break;case a.OPS.curveTo2:$.push("C",w(P),w(R),w(v[D]),w(v[D+1]),w(v[D+2]),w(v[D+3])),P=v[D+2],R=v[D+3],D+=4;break;case a.OPS.curveTo3:P=v[D+2],R=v[D+3],$.push("C",w(v[D]),w(v[D+1]),w(P),w(R),w(P),w(R)),D+=4;break;case a.OPS.closePath:$.push("Z");break}$=$.join(" "),A.path&&h.length>0&&h[0]!==a.OPS.rectangle&&h[0]!==a.OPS.moveTo?$=A.path.getAttributeNS(null,"d")+$:(A.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(A.path)),A.path.setAttributeNS(null,"d",$),A.path.setAttributeNS(null,"fill","none"),A.element=A.path,A.setCurrentPoint(P,R)}endPath(){const h=this.current;if(h.path=null,!this.pendingClip)return;if(!h.element){this.pendingClip=null;return}const v=`clippath${m++}`,A=this.svgFactory.createElement("svg:clipPath");A.setAttributeNS(null,"id",v),A.setAttributeNS(null,"transform",T(this.transformMatrix));const P=h.element.cloneNode(!0);if(this.pendingClip==="evenodd"?P.setAttributeNS(null,"clip-rule","evenodd"):P.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,A.append(P),this.defs.append(A),h.activeClipUrl){h.clipGroup=null;for(const R of this.extraStack)R.clipGroup=null;A.setAttributeNS(null,"clip-path",h.activeClipUrl)}h.activeClipUrl=`url(#${v})`,this.tgrp=null}clip(h){this.pendingClip=h}closePath(){const h=this.current;if(h.path){const v=`${h.path.getAttributeNS(null,"d")}Z`;h.path.setAttributeNS(null,"d",v)}}setLeading(h){this.current.leading=-h}setTextRise(h){this.current.textRise=h}setTextRenderingMode(h){this.current.textRenderingMode=h}setHScale(h){this.current.textHScale=h/100}setRenderingIntent(h){}setFlatness(h){}setGState(h){for(const[v,A]of h)switch(v){case"LW":this.setLineWidth(A);break;case"LC":this.setLineCap(A);break;case"LJ":this.setLineJoin(A);break;case"ML":this.setMiterLimit(A);break;case"D":this.setDash(A[0],A[1]);break;case"RI":this.setRenderingIntent(A);break;case"FL":this.setFlatness(A);break;case"Font":this.setFont(A);break;case"CA":this.setStrokeAlpha(A);break;case"ca":this.setFillAlpha(A);break;default:(0,a.warn)(`Unimplemented graphic state operator ${v}`);break}}fill(){const h=this.current;h.element&&(h.element.setAttributeNS(null,"fill",h.fillColor),h.element.setAttributeNS(null,"fill-opacity",h.fillAlpha),this.endPath())}stroke(){const h=this.current;h.element&&(this._setStrokeAttributes(h.element),h.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(h){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const A=this.current;let P=A.dashArray;v!==1&&P.length>0&&(P=P.map(function(R){return v*R})),h.setAttributeNS(null,"stroke",A.strokeColor),h.setAttributeNS(null,"stroke-opacity",A.strokeAlpha),h.setAttributeNS(null,"stroke-miterlimit",w(A.miterLimit)),h.setAttributeNS(null,"stroke-linecap",A.lineCap),h.setAttributeNS(null,"stroke-linejoin",A.lineJoin),h.setAttributeNS(null,"stroke-width",w(v*A.lineWidth)+"px"),h.setAttributeNS(null,"stroke-dasharray",P.map(w).join(" ")),h.setAttributeNS(null,"stroke-dashoffset",w(v*A.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width","1px"),h.setAttributeNS(null,"height","1px"),h.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(h)}paintImageXObject(h){const v=h.startsWith("g_")?this.commonObjs.get(h):this.objs.get(h);if(!v){(0,a.warn)(`Dependent image with object ID ${h} is not ready yet`);return}this.paintInlineImageXObject(v)}paintInlineImageXObject(h,v){const A=h.width,P=h.height,R=g(h,this.forceDataSchema,!!v),$=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y","0"),$.setAttributeNS(null,"width",w(A)),$.setAttributeNS(null,"height",w(P)),this.current.element=$,this.clip("nonzero");const D=this.svgFactory.createElement("svg:image");D.setAttributeNS(u,"xlink:href",R),D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y",w(-P)),D.setAttributeNS(null,"width",w(A)+"px"),D.setAttributeNS(null,"height",w(P)+"px"),D.setAttributeNS(null,"transform",`scale(${w(1/A)} ${w(-1/P)})`),v?v.append(D):this._ensureTransformGroup().append(D)}paintImageMaskXObject(h){const v=this.current,A=h.width,P=h.height,R=v.fillColor;v.maskId=`mask${b++}`;const $=this.svgFactory.createElement("svg:mask");$.setAttributeNS(null,"id",v.maskId);const D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y","0"),D.setAttributeNS(null,"width",w(A)),D.setAttributeNS(null,"height",w(P)),D.setAttributeNS(null,"fill",R),D.setAttributeNS(null,"mask",`url(#${v.maskId})`),this.defs.append($),this._ensureTransformGroup().append(D),this.paintInlineImageXObject(h,$)}paintFormXObjectBegin(h,v){if(Array.isArray(h)&&h.length===6&&this.transform(h[0],h[1],h[2],h[3],h[4],h[5]),v){const A=v[2]-v[0],P=v[3]-v[1],R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x",v[0]),R.setAttributeNS(null,"y",v[1]),R.setAttributeNS(null,"width",w(A)),R.setAttributeNS(null,"height",w(P)),this.current.element=R,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(h){const v=this.svgFactory.create(h.width,h.height),A=this.svgFactory.createElement("svg:defs");v.append(A),this.defs=A;const P=this.svgFactory.createElement("svg:g");return P.setAttributeNS(null,"transform",T(h.transform)),v.append(P),this.svg=P,v}_ensureClipGroup(){if(!this.current.clipGroup){const h=this.svgFactory.createElement("svg:g");h.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(h),this.current.clipGroup=h}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",T(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var n=e(1),a=e(158);const l=require$$7,c=require$$7,o=require$$7,f=require$$7,u=/^file:\/\/\/[a-zA-Z]:\//;function d(b){const y=f.parse(b);return y.protocol==="file:"||y.host?y:/^[a-z]:[/\\]/i.test(b)?f.parse(`file:///${b}`):(y.host||(y.protocol="file:"),y)}class E{constructor(y){this.source=y,this.url=d(y.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var y,h;return(y=(h=this._fullRequestReader)===null||h===void 0?void 0:h._loaded)!==null&&y!==void 0?y:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new T(this):new S(this),this._fullRequestReader}getRangeReader(y,h){if(h<=this._progressiveDataLength)return null;const v=this.isFsUrl?new m(this,y,h):new w(this,y,h);return this._rangeRequestReaders.push(v),v}cancelAllRequests(y){this._fullRequestReader&&this._fullRequestReader.cancel(y);for(const h of this._rangeRequestReaders.slice(0))h.cancel(y)}}i.PDFNodeStream=E;class p{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null;const h=y.source;this._contentLength=h.length,this._loaded=0,this._filename=null,this._disableRange=h.disableRange||!1,this._rangeChunkSize=h.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._headersCapability=(0,n.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const y=this._readableStream.read();return y===null?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=y.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(y).buffer,done:!1})}cancel(y){if(!this._readableStream){this._error(y);return}this._readableStream.destroy(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",h=>{this._error(h)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class g{constructor(y){this._url=y.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)();const h=y.source;this._isStreamingSupported=!h.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const y=this._readableStream.read();return y===null?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=y.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(y).buffer,done:!1})}cancel(y){if(!this._readableStream){this._error(y);return}this._readableStream.destroy(y)}_error(y){this._storedError=y,this._readCapability.resolve()}_setReadableStream(y){this._readableStream=y,y.on("readable",()=>{this._readCapability.resolve()}),y.on("end",()=>{y.destroy(),this._done=!0,this._readCapability.resolve()}),y.on("error",h=>{this._error(h)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function x(b,y){return{protocol:b.protocol,auth:b.auth,host:b.hostname,port:b.port,path:b.path,method:"GET",headers:y}}class S extends p{constructor(y){super(y);const h=v=>{if(v.statusCode===404){const $=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=$,this._headersCapability.reject($);return}this._headersCapability.resolve(),this._setReadableStream(v);const A=$=>this._readableStream.headers[$.toLowerCase()],{allowRangeRequests:P,suggestedLength:R}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:y.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=P,this._contentLength=R||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(A)};this._request=null,this._url.protocol==="http:"?this._request=c.request(x(this._url,y.httpHeaders),h):this._request=o.request(x(this._url,y.httpHeaders),h),this._request.on("error",v=>{this._storedError=v,this._headersCapability.reject(v)}),this._request.end()}}class w extends g{constructor(y,h,v){super(y),this._httpHeaders={};for(const P in y.httpHeaders){const R=y.httpHeaders[P];typeof R>"u"||(this._httpHeaders[P]=R)}this._httpHeaders.Range=`bytes=${h}-${v-1}`;const A=P=>{if(P.statusCode===404){const R=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=R;return}this._setReadableStream(P)};this._request=null,this._url.protocol==="http:"?this._request=c.request(x(this._url,this._httpHeaders),A):this._request=o.request(x(this._url,this._httpHeaders),A),this._request.on("error",P=>{this._storedError=P}),this._request.end()}}class T extends p{constructor(y){super(y);let h=decodeURIComponent(this._url.path);u.test(this._url.href)&&(h=h.replace(/^\//,"")),l.lstat(h,(v,A)=>{if(v){v.code==="ENOENT"&&(v=new n.MissingPDFException(`Missing PDF "${h}".`)),this._storedError=v,this._headersCapability.reject(v);return}this._contentLength=A.size,this._setReadableStream(l.createReadStream(h)),this._headersCapability.resolve()})}}class m extends g{constructor(y,h,v){super(y);let A=decodeURIComponent(this._url.path);u.test(this._url.href)&&(A=A.replace(/^\//,"")),this._setReadableStream(l.createReadStream(A,{start:h,end:v-1}))}}},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=f,i.extractFilenameFromHeader=o,i.validateRangeRequestCapabilities=c,i.validateResponseStatus=u;var n=e(1),a=e(159),l=e(133);function c(d){let{getResponseHeader:E,isHttp:p,rangeChunkSize:g,disableRange:x}=d;const S={allowRangeRequests:!1,suggestedLength:void 0},w=parseInt(E("Content-Length"),10);return!Number.isInteger(w)||(S.suggestedLength=w,w<=2*g)||x||!p||E("Accept-Ranges")!=="bytes"||(E("Content-Encoding")||"identity")!=="identity"||(S.allowRangeRequests=!0),S}function o(d){const E=d("Content-Disposition");if(E){let p=(0,a.getFilenameFromContentDispositionHeader)(E);if(p.includes("%"))try{p=decodeURIComponent(p)}catch{}if((0,l.isPdfFile)(p))return p}return null}function f(d,E){return d===404||d===0&&E.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+E+'".'):new n.UnexpectedResponseException(`Unexpected server response (${d}) while retrieving PDF "${E}".`,d)}function u(d){return d===200||d===206}},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=a;var n=e(1);function a(l){let c=!0,o=f("filename\\*","i").exec(l);if(o){o=o[1];let S=p(o);return S=unescape(S),S=g(S),S=x(S),d(S)}if(o=E(l),o){const S=x(o);return d(S)}if(o=f("filename","i").exec(l),o){o=o[1];let S=p(o);return S=x(S),d(S)}function f(S,w){return new RegExp("(?:^|;)\\s*"+S+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',w)}function u(S,w){if(S){if(!/^[\x00-\xFF]+$/.test(w))return w;try{const T=new TextDecoder(S,{fatal:!0}),m=(0,n.stringToBytes)(w);w=T.decode(m),c=!1}catch{}}return w}function d(S){return c&&/[\x80-\xff]/.test(S)&&(S=u("utf-8",S),c&&(S=u("iso-8859-1",S))),S}function E(S){const w=[];let T;const m=f("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(T=m.exec(S))!==null;){let[,y,h,v]=T;if(y=parseInt(y,10),y in w){if(y===0)break;continue}w[y]=[h,v]}const b=[];for(let y=0;y<w.length&&y in w;++y){let[h,v]=w[y];v=p(v),h&&(v=unescape(v),y===0&&(v=g(v))),b.push(v)}return b.join("")}function p(S){if(S.startsWith('"')){const w=S.slice(1).split('\\"');for(let T=0;T<w.length;++T){const m=w[T].indexOf('"');m!==-1&&(w[T]=w[T].slice(0,m),w.length=T+1),w[T]=w[T].replace(/\\(.)/g,"$1")}S=w.join('"')}return S}function g(S){const w=S.indexOf("'");if(w===-1)return S;const T=S.slice(0,w),b=S.slice(w+1).replace(/^[^']*'/,"");return u(T,b)}function x(S){return!S.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(S)?S:S.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(w,T,m,b){if(m==="q"||m==="Q")return b=b.replace(/_/g," "),b=b.replace(/=([0-9a-fA-F]{2})/g,function(y,h){return String.fromCharCode(parseInt(h,16))}),u(T,b);try{b=atob(b)}catch{}return u(T,b)})}return""}},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var n=e(1),a=e(158);const l=200,c=206;function o(p){const g=p.response;return typeof g!="string"?g:(0,n.stringToBytes)(g).buffer}class f{constructor(g){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=g,this.isHttp=/^https?:/i.test(g),this.httpHeaders=this.isHttp&&x.httpHeaders||Object.create(null),this.withCredentials=x.withCredentials||!1,this.getXhr=x.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(g,x,S){const w={begin:g,end:x};for(const T in S)w[T]=S[T];return this.request(w)}requestFull(g){return this.request(g)}request(g){const x=this.getXhr(),S=this.currXhrId++,w=this.pendingRequests[S]={xhr:x};x.open("GET",this.url),x.withCredentials=this.withCredentials;for(const T in this.httpHeaders){const m=this.httpHeaders[T];typeof m>"u"||x.setRequestHeader(T,m)}return this.isHttp&&"begin"in g&&"end"in g?(x.setRequestHeader("Range",`bytes=${g.begin}-${g.end-1}`),w.expectedStatus=c):w.expectedStatus=l,x.responseType="arraybuffer",g.onError&&(x.onerror=function(T){g.onError(x.status)}),x.onreadystatechange=this.onStateChange.bind(this,S),x.onprogress=this.onProgress.bind(this,S),w.onHeadersReceived=g.onHeadersReceived,w.onDone=g.onDone,w.onError=g.onError,w.onProgress=g.onProgress,x.send(null),S}onProgress(g,x){var S;const w=this.pendingRequests[g];w&&((S=w.onProgress)===null||S===void 0||S.call(w,x))}onStateChange(g,x){const S=this.pendingRequests[g];if(!S)return;const w=S.xhr;if(w.readyState>=2&&S.onHeadersReceived&&(S.onHeadersReceived(),delete S.onHeadersReceived),w.readyState!==4||!(g in this.pendingRequests))return;if(delete this.pendingRequests[g],w.status===0&&this.isHttp){var T;(T=S.onError)===null||T===void 0||T.call(S,w.status);return}const m=w.status||l;if(!(m===l&&S.expectedStatus===c)&&m!==S.expectedStatus){var y;(y=S.onError)===null||y===void 0||y.call(S,w.status);return}const h=o(w);if(m===c){const A=w.getResponseHeader("Content-Range"),P=/bytes (\d+)-(\d+)\/(\d+)/.exec(A);S.onDone({begin:parseInt(P[1],10),chunk:h})}else if(h)S.onDone({begin:0,chunk:h});else{var v;(v=S.onError)===null||v===void 0||v.call(S,w.status)}}getRequestXhr(g){return this.pendingRequests[g].xhr}isPendingRequest(g){return g in this.pendingRequests}abortRequest(g){const x=this.pendingRequests[g].xhr;delete this.pendingRequests[g],x.abort()}}class u{constructor(g){this._source=g,this._manager=new f(g.url,{httpHeaders:g.httpHeaders,withCredentials:g.withCredentials}),this._rangeChunkSize=g.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(g){const x=this._rangeRequestReaders.indexOf(g);x>=0&&this._rangeRequestReaders.splice(x,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(g,x){const S=new E(this._manager,g,x);return S.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(S),S}cancelAllRequests(g){var x;(x=this._fullRequestReader)===null||x===void 0||x.cancel(g);for(const S of this._rangeRequestReaders.slice(0))S.cancel(g)}}i.PDFNetworkStream=u;class d{constructor(g,x){this._manager=g;const S={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=x.url,this._fullRequestId=g.requestFull(S),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=x.disableRange||!1,this._contentLength=x.length,this._rangeChunkSize=x.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const g=this._fullRequestId,x=this._manager.getRequestXhr(g),S=m=>x.getResponseHeader(m),{allowRangeRequests:w,suggestedLength:T}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});w&&(this._isRangeSupported=!0),this._contentLength=T||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(S),this._isRangeSupported&&this._manager.abortRequest(g),this._headersReceivedCapability.resolve()}_onDone(g){if(g&&(this._requests.length>0?this._requests.shift().resolve({value:g.chunk,done:!1}):this._cachedChunks.push(g.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(g){this._storedError=(0,a.createResponseStatusError)(g,this._url),this._headersReceivedCapability.reject(this._storedError);for(const x of this._requests)x.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(g){var x;(x=this.onProgress)===null||x===void 0||x.call(this,{loaded:g.loaded,total:g.lengthComputable?g.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const g=(0,n.createPromiseCapability)();return this._requests.push(g),g.promise}cancel(g){this._done=!0,this._headersReceivedCapability.reject(g);for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class E{constructor(g,x,S){this._manager=g;const w={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=g.url,this._requestId=g.requestRange(x,S,w),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var g;(g=this.onClosed)===null||g===void 0||g.call(this,this)}_onDone(g){const x=g.chunk;this._requests.length>0?this._requests.shift().resolve({value:x,done:!1}):this._queuedChunk=x,this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(g){this._storedError=(0,a.createResponseStatusError)(g,this._url);for(const x of this._requests)x.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(g){if(!this.isStreamingSupported){var x;(x=this.onProgress)===null||x===void 0||x.call(this,{loaded:g.loaded})}}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const x=this._queuedChunk;return this._queuedChunk=null,{value:x,done:!1}}if(this._done)return{value:void 0,done:!0};const g=(0,n.createPromiseCapability)();return this._requests.push(g),g.promise}cancel(g){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,i,e)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var n=e(1),a=e(158);function l(d,E,p){return{method:"GET",headers:d,signal:p.signal,mode:"cors",credentials:E?"include":"same-origin",redirect:"follow"}}function c(d){const E=new Headers;for(const p in d){const g=d[p];typeof g>"u"||E.append(p,g)}return E}class o{constructor(E){this.source=E,this.isHttp=/^https?:/i.test(E.url),this.httpHeaders=this.isHttp&&E.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var E,p;return(E=(p=this._fullRequestReader)===null||p===void 0?void 0:p._loaded)!==null&&E!==void 0?E:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new f(this),this._fullRequestReader}getRangeReader(E,p){if(p<=this._progressiveDataLength)return null;const g=new u(this,E,p);return this._rangeRequestReaders.push(g),g}cancelAllRequests(E){this._fullRequestReader&&this._fullRequestReader.cancel(E);for(const p of this._rangeRequestReaders.slice(0))p.cancel(E)}}i.PDFFetchStream=o;class f{constructor(E){this._stream=E,this._reader=null,this._loaded=0,this._filename=null;const p=E.source;this._withCredentials=p.withCredentials||!1,this._contentLength=p.length,this._headersCapability=(0,n.createPromiseCapability)(),this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._headers=c(this._stream.httpHeaders);const g=p.url;fetch(g,l(this._headers,this._withCredentials,this._abortController)).then(x=>{if(!(0,a.validateResponseStatus)(x.status))throw(0,a.createResponseStatusError)(x.status,g);this._reader=x.body.getReader(),this._headersCapability.resolve();const S=m=>x.headers.get(m),{allowRangeRequests:w,suggestedLength:T}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:S,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=w,this._contentLength=T||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(S),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:E,done:p}=await this._reader.read();return p?{value:E,done:p}:(this._loaded+=E.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(E).buffer,done:!1})}cancel(E){this._reader&&this._reader.cancel(E),this._abortController.abort()}}class u{constructor(E,p,g){this._stream=E,this._reader=null,this._loaded=0;const x=E.source;this._withCredentials=x.withCredentials||!1,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!x.disableStream,this._abortController=new AbortController,this._headers=c(this._stream.httpHeaders),this._headers.append("Range",`bytes=${p}-${g-1}`);const S=x.url;fetch(S,l(this._headers,this._withCredentials,this._abortController)).then(w=>{if(!(0,a.validateResponseStatus)(w.status))throw(0,a.createResponseStatusError)(w.status,S);this._readCapability.resolve(),this._reader=w.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:E,done:p}=await this._reader.read();return p?{value:E,done:p}:(this._loaded+=E.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(E).buffer,done:!1})}cancel(E){this._reader&&this._reader.cancel(E),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var i=__webpack_module_cache__[t];if(i!==void 0)return i.exports;var e=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](e,e.exports,__w_pdfjs_require__),e.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return a.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return l.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return c.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return o.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return e.LoopbackPort}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return e.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return e.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return d.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return i.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return E.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return e.build}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return i.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return e.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return u.renderTextLayer}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return e.version}});var i=__w_pdfjs_require__(1),e=__w_pdfjs_require__(129),n=__w_pdfjs_require__(133),a=__w_pdfjs_require__(147),l=__w_pdfjs_require__(132),c=__w_pdfjs_require__(152),o=__w_pdfjs_require__(140),f=__w_pdfjs_require__(3),u=__w_pdfjs_require__(155),d=__w_pdfjs_require__(156),E=__w_pdfjs_require__(154);if(f.isNodeJS){const{PDFNodeStream:p}=__w_pdfjs_require__(157);(0,e.setPDFNetworkStreamFactory)(g=>new p(g))}else{const{PDFNetworkStream:p}=__w_pdfjs_require__(160),{PDFFetchStream:g}=__w_pdfjs_require__(161);(0,e.setPDFNetworkStreamFactory)(x=>(0,n.isValidFetchUrl)(x.url)?new g(x):new p(x))}})(),__webpack_exports__})())}(pdf)),pdf.exports}(function(t,i){(function(n,a){t.exports=a()})(globalThis,()=>(()=>{var e=[,(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DefaultXfaLayerFactory=o.DefaultTextLayerFactory=o.DefaultStructTreeLayerFactory=o.DefaultAnnotationLayerFactory=o.DefaultAnnotationEditorLayerFactory=void 0;var u=f(2),d=f(5),E=f(4),p=f(6),g=f(8),x=f(9),S=f(10);class w{createAnnotationLayerBuilder(v){let{pageDiv:A,pdfPage:P,annotationStorage:R=null,imageResourcesPath:$="",renderForms:D=!0,l10n:X=E.NullL10n,enableScripting:W=!1,hasJSActionsPromise:U=null,mouseState:N=null,fieldObjectsPromise:z=null,annotationCanvasMap:B=null,accessibilityManager:I=null}=v;return new d.AnnotationLayerBuilder({pageDiv:A,pdfPage:P,imageResourcesPath:$,renderForms:D,linkService:new p.SimpleLinkService,l10n:X,annotationStorage:R,enableScripting:W,hasJSActionsPromise:U,fieldObjectsPromise:z,mouseState:N,annotationCanvasMap:B,accessibilityManager:I})}}o.DefaultAnnotationLayerFactory=w;class T{createAnnotationEditorLayerBuilder(v){let{uiManager:A=null,pageDiv:P,pdfPage:R,accessibilityManager:$=null,l10n:D,annotationStorage:X=null}=v;return new u.AnnotationEditorLayerBuilder({uiManager:A,pageDiv:P,pdfPage:R,accessibilityManager:$,l10n:D,annotationStorage:X})}}o.DefaultAnnotationEditorLayerFactory=T;class m{createStructTreeLayerBuilder(v){let{pdfPage:A}=v;return new g.StructTreeLayerBuilder({pdfPage:A})}}o.DefaultStructTreeLayerFactory=m;class b{createTextLayerBuilder(v){let{textLayerDiv:A,pageIndex:P,viewport:R,enhanceTextSelection:$=!1,eventBus:D,highlighter:X,accessibilityManager:W=null}=v;return new x.TextLayerBuilder({textLayerDiv:A,pageIndex:P,viewport:R,enhanceTextSelection:$,eventBus:D,highlighter:X,accessibilityManager:W})}}o.DefaultTextLayerFactory=b;class y{createXfaLayerBuilder(v){let{pageDiv:A,pdfPage:P,annotationStorage:R=null}=v;return new S.XfaLayerBuilder({pageDiv:A,pdfPage:P,annotationStorage:R,linkService:new p.SimpleLinkService})}}o.DefaultXfaLayerFactory=y},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditorLayerBuilder=void 0;var u=f(3),d=f(4);function E(y,h,v){p(y,h),h.set(y,v)}function p(y,h){if(h.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function g(y,h){var v=w(y,h,"get");return x(y,v)}function x(y,h){return h.get?h.get.call(y):h.value}function S(y,h,v){var A=w(y,h,"set");return T(y,A,v),v}function w(y,h,v){if(!h.has(y))throw new TypeError("attempted to "+v+" private field on non-instance");return h.get(y)}function T(y,h,v){if(h.set)h.set.call(y,v);else{if(!h.writable)throw new TypeError("attempted to set read only private field");h.value=v}}var m=new WeakMap;class b{constructor(h){E(this,m,{writable:!0,value:void 0}),this.pageDiv=h.pageDiv,this.pdfPage=h.pdfPage,this.annotationStorage=h.annotationStorage||null,this.accessibilityManager=h.accessibilityManager,this.l10n=h.l10n||d.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,S(this,m,h.uiManager)}async render(h){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(v!=="display"||this._cancelled)return;const A=h.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:A}),this.show();return}this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new u.AnnotationEditorLayer({uiManager:g(this,m),div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:A});const P={viewport:A,div:this.div,annotations:null,intent:v};this.annotationEditorLayer.render(P)}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}o.AnnotationEditorLayerBuilder=b},c=>{let o;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?o=window["pdfjs-dist/build/pdf"]:o=requirePdf(),c.exports=o},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NullL10n=void 0,o.fixupLangCode=E,o.getL10nFallback=u;const f={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} Ã {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} Ã {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loadingâ¦",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter textâ¦",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function u(x,S){switch(x){case"find_match_count":x=`find_match_count[${S.total===1?"one":"other"}]`;break;case"find_match_count_limit":x=`find_match_count_limit[${S.limit===1?"one":"other"}]`;break}return f[x]||""}const d={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function E(x){return d[x==null?void 0:x.toLowerCase()]||x}function p(x,S){return S?x.replace(/\{\{\s*(\w+)\s*\}\}/g,(w,T)=>T in S?S[T]:"{{"+T+"}}"):x}const g={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(x){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u(x,S);return p(w,S)},async translate(x){}};o.NullL10n=g},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationLayerBuilder=void 0;var u=f(3),d=f(4);class E{constructor(g){let{pageDiv:x,pdfPage:S,linkService:w,downloadManager:T,annotationStorage:m=null,imageResourcesPath:b="",renderForms:y=!0,l10n:h=d.NullL10n,enableScripting:v=!1,hasJSActionsPromise:A=null,fieldObjectsPromise:P=null,mouseState:R=null,annotationCanvasMap:$=null,accessibilityManager:D=null}=g;this.pageDiv=x,this.pdfPage=S,this.linkService=w,this.downloadManager=T,this.imageResourcesPath=b,this.renderForms=y,this.l10n=h,this.annotationStorage=m,this.enableScripting=v,this._hasJSActionsPromise=A,this._fieldObjectsPromise=P,this._mouseState=R,this._annotationCanvasMap=$,this._accessibilityManager=D,this.div=null,this._cancelled=!1}async render(g){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";const[S,w=!1,T=null]=await Promise.all([this.pdfPage.getAnnotations({intent:x}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||S.length===0)return;const m={viewport:g.clone({dontFlip:!0}),div:this.div,annotations:S,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:w,fieldObjects:T,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?u.AnnotationLayer.update(m):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),m.div=this.div,u.AnnotationLayer.render(m),this.l10n.translate(this.div))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}o.AnnotationLayerBuilder=E},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SimpleLinkService=o.PDFLinkService=o.LinkTarget=void 0;var u=f(7);function d(X,W){p(X,W),W.add(X)}function E(X,W,U){p(X,W),W.set(X,U)}function p(X,W){if(W.has(X))throw new TypeError("Cannot initialize the same private elements twice on an object")}function g(X,W,U){return x(X,W),U}function x(X,W){if(X!==W)throw new TypeError("Private static access of wrong provenance")}function S(X,W,U){if(!W.has(X))throw new TypeError("attempted to get private field on non-instance");return U}function w(X,W){var U=T(X,W,"get");return m(X,U)}function T(X,W,U){if(!W.has(X))throw new TypeError("attempted to "+U+" private field on non-instance");return W.get(X)}function m(X,W){return W.get?W.get.call(X):W.value}const b="noopener noreferrer nofollow",y={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};o.LinkTarget=y;function h(X){let{url:W,target:U,rel:N,enabled:z=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!W||typeof W!="string")throw new Error('A valid "url" parameter must provided.');const B=(0,u.removeNullCharacters)(W);z?X.href=X.title=B:(X.href="",X.title=`Disabled: ${B}`,X.onclick=()=>!1);let I="";switch(U){case y.NONE:break;case y.SELF:I="_self";break;case y.BLANK:I="_blank";break;case y.PARENT:I="_parent";break;case y.TOP:I="_top";break}X.target=I,X.rel=typeof N=="string"?N:b}var v=new WeakMap,A=new WeakSet;class P{constructor(){let{eventBus:W,externalLinkTarget:U=null,externalLinkRel:N=null,ignoreDestinationZoom:z=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};d(this,A),E(this,v,{writable:!0,value:new Map}),this.eventBus=W,this.externalLinkTarget=U,this.externalLinkRel=N,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=z,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(W){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.baseUrl=U,this.pdfDocument=W,w(this,v).clear()}setViewer(W){this.pdfViewer=W}setHistory(W){this.pdfHistory=W}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(W){this.pdfViewer.currentPageNumber=W}get rotation(){return this.pdfViewer.pagesRotation}set rotation(W){this.pdfViewer.pagesRotation=W}async goToDestination(W){if(!this.pdfDocument)return;let U,N;if(typeof W=="string"?(U=W,N=await this.pdfDocument.getDestination(W)):(U=null,N=await W),!Array.isArray(N)){console.error(`PDFLinkService.goToDestination: "${N}" is not a valid destination array, for dest="${W}".`);return}S(this,A,R).call(this,W,U,N)}goToPage(W){if(!this.pdfDocument)return;const U=typeof W=="string"&&this.pdfViewer.pageLabelToPageNumber(W)||W|0;if(!(Number.isInteger(U)&&U>0&&U<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${W}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(U)),this.pdfViewer.scrollPageIntoView({pageNumber:U})}addLinkAttributes(W,U){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;h(W,{url:U,target:N?y.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(W){if(typeof W=="string"){if(W.length>0)return this.getAnchorUrl("#"+escape(W))}else if(Array.isArray(W)){const U=JSON.stringify(W);if(U.length>0)return this.getAnchorUrl("#"+escape(U))}return this.getAnchorUrl("")}getAnchorUrl(W){return(this.baseUrl||"")+W}setHash(W){if(!this.pdfDocument)return;let U,N;if(W.includes("=")){const z=(0,u.parseQueryString)(W);if(z.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:z.get("search").replace(/"/g,""),phraseSearch:z.get("phrase")==="true"}),z.has("page")&&(U=z.get("page")|0||1),z.has("zoom")){const B=z.get("zoom").split(","),I=B[0],j=parseFloat(I);I.includes("Fit")?I==="Fit"||I==="FitB"?N=[null,{name:I}]:I==="FitH"||I==="FitBH"||I==="FitV"||I==="FitBV"?N=[null,{name:I},B.length>1?B[1]|0:null]:I==="FitR"?B.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):N=[null,{name:I},B[1]|0,B[2]|0,B[3]|0,B[4]|0]:console.error(`PDFLinkService.setHash: "${I}" is not a valid zoom value.`):N=[null,{name:"XYZ"},B.length>1?B[1]|0:null,B.length>2?B[2]|0:null,j?j/100:I]}N?this.pdfViewer.scrollPageIntoView({pageNumber:U||this.page,destArray:N,allowNegativeOffset:!0}):U&&(this.page=U),z.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:z.get("pagemode")}),z.has("nameddest")&&this.goToDestination(z.get("nameddest"))}else{N=unescape(W);try{N=JSON.parse(N),Array.isArray(N)||(N=N.toString())}catch{}if(typeof N=="string"||g(P,P,$).call(P,N)){this.goToDestination(N);return}console.error(`PDFLinkService.setHash: "${unescape(W)}" is not a valid destination.`)}}executeNamedAction(W){var U,N;switch(W){case"GoBack":(U=this.pdfHistory)===null||U===void 0||U.back();break;case"GoForward":(N=this.pdfHistory)===null||N===void 0||N.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:W})}cachePageRef(W,U){if(!U)return;const N=U.gen===0?`${U.num}R`:`${U.num}R${U.gen}`;w(this,v).set(N,W)}_cachedPageNumber(W){if(!W)return null;const U=W.gen===0?`${W.num}R`:`${W.num}R${W.gen}`;return w(this,v).get(U)||null}isPageVisible(W){return this.pdfViewer.isPageVisible(W)}isPageCached(W){return this.pdfViewer.isPageCached(W)}}o.PDFLinkService=P;function R(X){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,U=arguments.length>2?arguments[2]:void 0;const N=U[0];let z;if(typeof N=="object"&&N!==null){if(z=this._cachedPageNumber(N),!z){this.pdfDocument.getPageIndex(N).then(B=>{this.cachePageRef(B+1,N),S(this,A,R).call(this,X,W,U)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${N}" is not a valid page reference, for dest="${X}".`)});return}}else if(Number.isInteger(N))z=N+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${N}" is not a valid destination reference, for dest="${X}".`);return}if(!z||z<1||z>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${z}" is not a valid page number, for dest="${X}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:W,explicitDest:U,pageNumber:z})),this.pdfViewer.scrollPageIntoView({pageNumber:z,destArray:U,ignoreDestinationZoom:this._ignoreDestinationZoom})}function $(X){if(!Array.isArray(X))return!1;const W=X.length;if(W<2)return!1;const U=X[0];if(!(typeof U=="object"&&Number.isInteger(U.num)&&Number.isInteger(U.gen))&&!(Number.isInteger(U)&&U>=0))return!1;const N=X[1];if(!(typeof N=="object"&&typeof N.name=="string"))return!1;let z=!0;switch(N.name){case"XYZ":if(W!==5)return!1;break;case"Fit":case"FitB":return W===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(W!==3)return!1;break;case"FitR":if(W!==6)return!1;z=!1;break;default:return!1}for(let B=2;B<W;B++){const I=X[B];if(!(typeof I=="number"||z&&I===null))return!1}return!0}class D{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(W){}get rotation(){return 0}set rotation(W){}async goToDestination(W){}goToPage(W){}addLinkAttributes(W,U){h(W,{url:U,enabled:this.externalLinkEnabled})}getDestinationHash(W){return"#"}getAnchorUrl(W){return"#"}setHash(W){}executeNamedAction(W){}cachePageRef(W,U){}isPageVisible(W){return!0}isPageCached(W){return!0}}o.SimpleLinkService=D},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.animationStarted=o.VERTICAL_PADDING=o.UNKNOWN_SCALE=o.TextLayerMode=o.SpreadMode=o.SidebarView=o.ScrollMode=o.SCROLLBAR_PADDING=o.RenderingStates=o.RendererType=o.ProgressBar=o.PresentationModeState=o.OutputScale=o.MIN_SCALE=o.MAX_SCALE=o.MAX_AUTO_SCALE=o.DEFAULT_SCALE_VALUE=o.DEFAULT_SCALE_DELTA=o.DEFAULT_SCALE=o.AutoPrintRegExp=void 0,o.apiPageLayoutToViewerModes=De,o.apiPageModeToSidebarView=Ve,o.approximateFraction=Y,o.backtrackBeforeAllVisibleElements=H,o.binarySearchFirstItem=de,o.docStyle=void 0,o.getActiveOrFocusedElement=Ie,o.getPageSizeInches=k,o.getVisibleElements=q,o.isPortraitOrientation=ae,o.isValidRotation=V,o.isValidScrollMode=K,o.isValidSpreadMode=Z,o.noContextMenuHandler=C,o.normalizeWheelEventDelta=F,o.normalizeWheelEventDirection=O,o.parseQueryString=j,o.removeNullCharacters=re,o.roundToDivide=M,o.scrollIntoView=B,o.watchScroll=I;function f(ge,$e,Fe){u(ge,$e),$e.set(ge,Fe)}function u(ge,$e){if($e.has(ge))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(ge,$e){var Fe=g(ge,$e,"get");return E(ge,Fe)}function E(ge,$e){return $e.get?$e.get.call(ge):$e.value}function p(ge,$e,Fe){var Oe=g(ge,$e,"set");return x(ge,Oe,Fe),Fe}function g(ge,$e,Fe){if(!$e.has(ge))throw new TypeError("attempted to "+Fe+" private field on non-instance");return $e.get(ge)}function x(ge,$e,Fe){if($e.set)$e.set.call(ge,Fe);else{if(!$e.writable)throw new TypeError("attempted to set read only private field");$e.value=Fe}}const S="auto";o.DEFAULT_SCALE_VALUE=S;const w=1;o.DEFAULT_SCALE=w;const T=1.1;o.DEFAULT_SCALE_DELTA=T;const m=.1;o.MIN_SCALE=m;const b=10;o.MAX_SCALE=b;const y=0;o.UNKNOWN_SCALE=y;const h=1.25;o.MAX_AUTO_SCALE=h;const v=40;o.SCROLLBAR_PADDING=v;const A=5;o.VERTICAL_PADDING=A;const P={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};o.RenderingStates=P;const R={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};o.PresentationModeState=R;const $={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};o.SidebarView=$;const D={CANVAS:"canvas",SVG:"svg"};o.RendererType=D;const X={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};o.TextLayerMode=X;const W={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};o.ScrollMode=W;const U={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};o.SpreadMode=U;const N=/\bprint\s*\(/;o.AutoPrintRegExp=N;class z{constructor(){const $e=window.devicePixelRatio||1;this.sx=$e,this.sy=$e}get scaled(){return this.sx!==1||this.sy!==1}}o.OutputScale=z;function B(ge,$e){let Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Oe=ge.offsetParent;if(!Oe){console.error("offsetParent is not set -- cannot scroll");return}let Te=ge.offsetTop+ge.clientTop,te=ge.offsetLeft+ge.clientLeft;for(;Oe.clientHeight===Oe.scrollHeight&&Oe.clientWidth===Oe.scrollWidth||Fe&&(Oe.classList.contains("markedContent")||getComputedStyle(Oe).overflow==="hidden");)if(Te+=Oe.offsetTop,te+=Oe.offsetLeft,Oe=Oe.offsetParent,!Oe)return;$e&&($e.top!==void 0&&(Te+=$e.top),$e.left!==void 0&&(te+=$e.left,Oe.scrollLeft=te)),Oe.scrollTop=Te}function I(ge,$e){const Fe=function(te){Te||(Te=window.requestAnimationFrame(function(){Te=null;const se=ge.scrollLeft,Ee=Oe.lastX;se!==Ee&&(Oe.right=se>Ee),Oe.lastX=se;const fe=ge.scrollTop,Ae=Oe.lastY;fe!==Ae&&(Oe.down=fe>Ae),Oe.lastY=fe,$e(Oe)}))},Oe={right:!0,down:!0,lastX:ge.scrollLeft,lastY:ge.scrollTop,_eventHandler:Fe};let Te=null;return ge.addEventListener("scroll",Fe,!0),Oe}function j(ge){const $e=new Map;for(const[Fe,Oe]of new URLSearchParams(ge))$e.set(Fe.toLowerCase(),Oe);return $e}const J=/\x00/g,Q=/[\x01-\x1F]/g;function re(ge){let $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof ge!="string"?(console.error("The argument must be a string."),ge):($e&&(ge=ge.replace(Q," ")),ge.replace(J,""))}function de(ge,$e){let Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Te=ge.length-1;if(Te<0||!$e(ge[Te]))return ge.length;if($e(ge[Oe]))return Oe;for(;Oe<Te;){const te=Oe+Te>>1,G=ge[te];$e(G)?Te=te:Oe=te+1}return Oe}function Y(ge){if(Math.floor(ge)===ge)return[ge,1];const $e=1/ge,Fe=8;if($e>Fe)return[1,Fe];if(Math.floor($e)===$e)return[1,$e];const Oe=ge>1?$e:ge;let Te=0,te=1,G=1,se=1;for(;;){const fe=Te+G,Ae=te+se;if(Ae>Fe)break;Oe<=fe/Ae?(G=fe,se=Ae):(Te=fe,te=Ae)}let Ee;return Oe-Te/te<G/se-Oe?Ee=Oe===ge?[Te,te]:[te,Te]:Ee=Oe===ge?[G,se]:[se,G],Ee}function M(ge,$e){const Fe=ge%$e;return Fe===0?ge:Math.round(ge-Fe+$e)}function k(ge){let{view:$e,userUnit:Fe,rotate:Oe}=ge;const[Te,te,G,se]=$e,Ee=Oe%180!==0,fe=(G-Te)/72*Fe,Ae=(se-te)/72*Fe;return{width:Ee?Ae:fe,height:Ee?fe:Ae}}function H(ge,$e,Fe){if(ge<2)return ge;let Oe=$e[ge].div,Te=Oe.offsetTop+Oe.clientTop;Te>=Fe&&(Oe=$e[ge-1].div,Te=Oe.offsetTop+Oe.clientTop);for(let te=ge-2;te>=0&&(Oe=$e[te].div,!(Oe.offsetTop+Oe.clientTop+Oe.clientHeight<=Te));--te)ge=te;return ge}function q(ge){let{scrollEl:$e,views:Fe,sortByVisibility:Oe=!1,horizontal:Te=!1,rtl:te=!1}=ge;const G=$e.scrollTop,se=G+$e.clientHeight,Ee=$e.scrollLeft,fe=Ee+$e.clientWidth;function Ae(ie){const _e=ie.div;return _e.offsetTop+_e.clientTop+_e.clientHeight>G}function Me(ie){const _e=ie.div,Re=_e.offsetLeft+_e.clientLeft,Le=Re+_e.clientWidth;return te?Re<fe:Le>Ee}const ue=[],ne=new Set,oe=Fe.length;let we=de(Fe,Te?Me:Ae);we>0&&we<oe&&!Te&&(we=H(we,Fe,G));let Se=Te?fe:-1;for(let ie=we;ie<oe;ie++){const _e=Fe[ie],Re=_e.div,Le=Re.offsetLeft+Re.clientLeft,ze=Re.offsetTop+Re.clientTop,Ue=Re.clientWidth,je=Re.clientHeight,Ne=Le+Ue,Ge=ze+je;if(Se===-1)Ge>=se&&(Se=Ge);else if((Te?Le:ze)>Se)break;if(Ge<=G||ze>=se||Ne<=Ee||Le>=fe)continue;const rt=Math.max(0,G-ze)+Math.max(0,Ge-se),Ye=Math.max(0,Ee-Le)+Math.max(0,Ne-fe),Ke=(je-rt)/je,et=(Ue-Ye)/Ue,tt=Ke*et*100|0;ue.push({id:_e.id,x:Le,y:ze,view:_e,percent:tt,widthPercent:et*100|0}),ne.add(_e.id)}const xe=ue[0],he=ue.at(-1);return Oe&&ue.sort(function(ie,_e){const Re=ie.percent-_e.percent;return Math.abs(Re)>.001?-Re:ie.id-_e.id}),{first:xe,last:he,views:ue,ids:ne}}function C(ge){ge.preventDefault()}function O(ge){let $e=Math.hypot(ge.deltaX,ge.deltaY);const Fe=Math.atan2(ge.deltaY,ge.deltaX);return-.25*Math.PI<Fe&&Fe<.75*Math.PI&&($e=-$e),$e}function F(ge){let $e=O(ge);const Fe=0,Oe=1,Te=30,te=30;return ge.deltaMode===Fe?$e/=Te*te:ge.deltaMode===Oe&&($e/=te),$e}function V(ge){return Number.isInteger(ge)&&ge%90===0}function K(ge){return Number.isInteger(ge)&&Object.values(W).includes(ge)&&ge!==W.UNKNOWN}function Z(ge){return Number.isInteger(ge)&&Object.values(U).includes(ge)&&ge!==U.UNKNOWN}function ae(ge){return ge.width<=ge.height}const le=new Promise(function(ge){window.requestAnimationFrame(ge)});o.animationStarted=le;const pe=document.documentElement.style;o.docStyle=pe;function be(ge,$e,Fe){return Math.min(Math.max(ge,$e),Fe)}var ve=new WeakMap,ye=new WeakMap,Pe=new WeakMap;class ke{constructor($e){if(f(this,ve,{writable:!0,value:null}),f(this,ye,{writable:!0,value:0}),f(this,Pe,{writable:!0,value:!0}),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const Fe=document.getElementById($e);p(this,ve,Fe.classList)}get percent(){return d(this,ye)}set percent($e){if(p(this,ye,be($e,0,100)),isNaN($e)){d(this,ve).add("indeterminate");return}d(this,ve).remove("indeterminate"),pe.setProperty("--progressBar-percent",`${d(this,ye)}%`)}setWidth($e){if(!$e)return;const Oe=$e.parentNode.offsetWidth-$e.offsetWidth;Oe>0&&pe.setProperty("--progressBar-end-offset",`${Oe}px`)}hide(){d(this,Pe)&&(p(this,Pe,!1),d(this,ve).add("hidden"))}show(){d(this,Pe)||(p(this,Pe,!0),d(this,ve).remove("hidden"))}}o.ProgressBar=ke;function Ie(){let ge=document,$e=ge.activeElement||ge.querySelector(":focus");for(;(Fe=$e)!==null&&Fe!==void 0&&Fe.shadowRoot;){var Fe;ge=$e.shadowRoot,$e=ge.activeElement||ge.querySelector(":focus")}return $e}function De(ge){let $e=W.VERTICAL,Fe=U.NONE;switch(ge){case"SinglePage":$e=W.PAGE;break;case"OneColumn":break;case"TwoPageLeft":$e=W.PAGE;case"TwoColumnLeft":Fe=U.ODD;break;case"TwoPageRight":$e=W.PAGE;case"TwoColumnRight":Fe=U.EVEN;break}return{scrollMode:$e,spreadMode:Fe}}function Ve(ge){switch(ge){case"UseNone":return $.NONE;case"UseThumbs":return $.THUMBS;case"UseOutlines":return $.OUTLINE;case"UseAttachments":return $.ATTACHMENTS;case"UseOC":return $.LAYERS}return $.NONE}},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StructTreeLayerBuilder=void 0;const f={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},u=/^H(\d+)$/;class d{constructor(p){let{pdfPage:g}=p;this.pdfPage=g}render(p){return this._walk(p)}_setAttributes(p,g){p.alt!==void 0&&g.setAttribute("aria-label",p.alt),p.id!==void 0&&g.setAttribute("aria-owns",p.id),p.lang!==void 0&&g.setAttribute("lang",p.lang)}_walk(p){if(!p)return null;const g=document.createElement("span");if("role"in p){const{role:x}=p,S=x.match(u);S?(g.setAttribute("role","heading"),g.setAttribute("aria-level",S[1])):f[x]&&g.setAttribute("role",f[x])}if(this._setAttributes(p,g),p.children)if(p.children.length===1&&"id"in p.children[0])this._setAttributes(p.children[0],g);else for(const x of p.children)g.append(this._walk(x));return g}}o.StructTreeLayerBuilder=d},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextLayerBuilder=void 0;var u=f(3);const d=300;class E{constructor(g){let{textLayerDiv:x,eventBus:S,pageIndex:w,viewport:T,highlighter:m=null,enhanceTextSelection:b=!1,accessibilityManager:y=null}=g;this.textLayerDiv=x,this.eventBus=S,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=w+1,this.viewport=T,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=m,this.enhanceTextSelection=b,this.accessibilityManager=y,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const g=document.createElement("div");g.className="endOfContent",this.textLayerDiv.append(g)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(){var g,x;let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,(g=this.highlighter)===null||g===void 0||g.setTextMapping(this.textDivs,this.textContentItemsStr),(x=this.accessibilityManager)===null||x===void 0||x.setTextMapping(this.textDivs);const w=document.createDocumentFragment();this.textLayerRenderTask=(0,u.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:w,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:S,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var T,m;this.textLayerDiv.append(w),this._finishRendering(),(T=this.highlighter)===null||T===void 0||T.enable(),(m=this.accessibilityManager)===null||m===void 0||m.enable()},function(T){})}cancel(){var g,x;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(g=this.highlighter)===null||g===void 0||g.disable(),(x=this.accessibilityManager)===null||x===void 0||x.disable()}setTextContentStream(g){this.cancel(),this.textContentStream=g}setTextContent(g){this.cancel(),this.textContent=g}_bindMouse(){const g=this.textLayerDiv;let x=null;g.addEventListener("mousedown",S=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){this.textLayerRenderTask.expandTextDivs(!0),x&&(clearTimeout(x),x=null);return}const w=g.querySelector(".endOfContent");if(!w)return;let T=S.target!==g;if(T=T&&window.getComputedStyle(w).getPropertyValue("-moz-user-select")!=="none",T){const m=g.getBoundingClientRect(),b=Math.max(0,(S.pageY-m.top)/m.height);w.style.top=(b*100).toFixed(2)+"%"}w.classList.add("active")}),g.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){x=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),x=null},d);return}const S=g.querySelector(".endOfContent");S&&(S.style.top="",S.classList.remove("active"))})}}o.TextLayerBuilder=E},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayerBuilder=void 0;var u=f(3);class d{constructor(p){let{pageDiv:g,pdfPage:x,annotationStorage:S=null,linkService:w,xfaHtml:T=null}=p;this.pageDiv=g,this.pdfPage=x,this.annotationStorage=S,this.linkService=w,this.xfaHtml=T,this.div=null,this._cancelled=!1}render(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(g==="print"){const x={viewport:p.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:g},S=document.createElement("div");this.pageDiv.append(S),x.div=S;const w=u.XfaLayer.render(x);return Promise.resolve(w)}return this.pdfPage.getXfa().then(x=>{if(this._cancelled||!x)return{textDivs:[]};const S={viewport:p.clone({dontFlip:!0}),div:this.div,xfaHtml:x,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:g};return this.div?u.XfaLayer.update(S):(this.div=document.createElement("div"),this.pageDiv.append(this.div),S.div=this.div,u.XfaLayer.render(S))}).catch(x=>{console.error(x)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}o.XfaLayerBuilder=d},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFViewer=o.PDFSinglePageViewer=void 0;var u=f(7),d=f(12);class E extends d.BaseViewer{}o.PDFViewer=E;class p extends d.BaseViewer{_resetView(){super._resetView(),this._scrollMode=u.ScrollMode.PAGE,this._spreadMode=u.SpreadMode.NONE}set scrollMode(x){}_updateScrollMode(){}set spreadMode(x){}_updateSpreadMode(){}}o.PDFSinglePageViewer=p},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PagesCountLimit=o.PDFPageViewBuffer=o.BaseViewer=void 0;var u=f(3),d=f(7),E=f(2),p=f(5),g=f(4),x=f(13),S=f(16),w=f(6),T=f(8),m=f(17),b=f(9),y=f(10);let h;function v(te,G){P(te,G),G.add(te)}function A(te,G,se){P(te,G),G.set(te,se)}function P(te,G){if(G.has(te))throw new TypeError("Cannot initialize the same private elements twice on an object")}function R(te,G,se){if(!G.has(te))throw new TypeError("attempted to get private field on non-instance");return se}function $(te,G){var se=W(te,G,"get");return D(te,se)}function D(te,G){return G.get?G.get.call(te):G.value}function X(te,G,se){var Ee=W(te,G,"set");return U(te,Ee,se),se}function W(te,G,se){if(!G.has(te))throw new TypeError("attempted to "+se+" private field on non-instance");return G.get(te)}function U(te,G,se){if(G.set)G.set.call(te,se);else{if(!G.writable)throw new TypeError("attempted to set read only private field");G.value=se}}const N=10,z="enablePermissions",B={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};o.PagesCountLimit=B;function I(te){return Object.values(u.AnnotationEditorType).includes(te)&&te!==u.AnnotationEditorType.DISABLE}var j=new WeakMap,J=new WeakMap,Q=new WeakSet;h=Symbol.iterator;class re{constructor(G){v(this,Q),A(this,j,{writable:!0,value:new Set}),A(this,J,{writable:!0,value:0}),X(this,J,G)}push(G){const se=$(this,j);se.has(G)&&se.delete(G),se.add(G),se.size>$(this,J)&&R(this,Q,de).call(this)}resize(G){let se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;X(this,J,G);const Ee=$(this,j);if(se){const fe=Ee.size;let Ae=1;for(const Me of Ee)if(se.has(Me.id)&&(Ee.delete(Me),Ee.add(Me)),++Ae>fe)break}for(;Ee.size>$(this,J);)R(this,Q,de).call(this)}has(G){return $(this,j).has(G)}[h](){return $(this,j).keys()}}o.PDFPageViewBuffer=re;function de(){const te=$(this,j).keys().next().value;te==null||te.destroy(),$(this,j).delete(te)}var Y=new WeakMap,M=new WeakMap,k=new WeakMap,H=new WeakMap,q=new WeakMap,C=new WeakMap,O=new WeakMap,F=new WeakMap,V=new WeakSet,K=new WeakSet,Z=new WeakSet,ae=new WeakSet,le=new WeakSet,pe=new WeakSet,be=new WeakSet,ve=new WeakSet,ye=new WeakSet;class Pe{constructor(G){var se,Ee,fe,Ae,Me;if(v(this,ye),v(this,ve),v(this,be),v(this,pe),v(this,le),v(this,ae),v(this,Z),v(this,K),v(this,V),A(this,Y,{writable:!0,value:null}),A(this,M,{writable:!0,value:u.AnnotationEditorType.DISABLE}),A(this,k,{writable:!0,value:null}),A(this,H,{writable:!0,value:u.AnnotationMode.ENABLE_FORMS}),A(this,q,{writable:!0,value:!1}),A(this,C,{writable:!0,value:0}),A(this,O,{writable:!0,value:null}),A(this,F,{writable:!0,value:null}),this.constructor===Pe)throw new Error("Cannot initialize BaseViewer.");const ue="2.16.105";if(u.version!==ue)throw new Error(`The API version "${u.version}" does not match the Viewer version "${ue}".`);if(this.container=G.container,this.viewer=G.viewer||G.container.firstElementChild,!(((se=this.container)===null||se===void 0?void 0:se.tagName.toUpperCase())==="DIV"&&((Ee=this.viewer)===null||Ee===void 0?void 0:Ee.tagName.toUpperCase())==="DIV"))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=G.eventBus,this.linkService=G.linkService||new w.SimpleLinkService,this.downloadManager=G.downloadManager||null,this.findController=G.findController||null,this._scriptingManager=G.scriptingManager||null,this.removePageBorders=G.removePageBorders||!1,this.textLayerMode=(fe=G.textLayerMode)!==null&&fe!==void 0?fe:d.TextLayerMode.ENABLE,X(this,H,(Ae=G.annotationMode)!==null&&Ae!==void 0?Ae:u.AnnotationMode.ENABLE_FORMS),X(this,M,(Me=G.annotationEditorMode)!==null&&Me!==void 0?Me:u.AnnotationEditorType.DISABLE),this.imageResourcesPath=G.imageResourcesPath||"",this.enablePrintAutoRotate=G.enablePrintAutoRotate||!1,this.renderer=G.renderer||d.RendererType.CANVAS,this.useOnlyCssZoom=G.useOnlyCssZoom||!1,this.maxCanvasPixels=G.maxCanvasPixels,this.l10n=G.l10n||g.NullL10n,X(this,q,G.enablePermissions||!1),this.pageColors=G.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!G.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new S.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=G.renderingQueue,this.scroll=(0,d.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=d.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(G){return this._pages[G]}get pageViewsReady(){return this._pagesCapability.settled?this._pages.every(function(G){return G==null?void 0:G.pdfPage}):!1}get renderForms(){return $(this,H)===u.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(G){if(!Number.isInteger(G))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(G,!0)||console.error(`currentPageNumber: "${G}" is not a valid page.`))}_setCurrentPageNumber(G){var se,Ee;let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this._currentPageNumber===G)return fe&&R(this,pe,$e).call(this),!0;if(!(0<G&&G<=this.pagesCount))return!1;const Ae=this._currentPageNumber;return this._currentPageNumber=G,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:G,pageLabel:(se=(Ee=this._pageLabels)===null||Ee===void 0?void 0:Ee[G-1])!==null&&se!==void 0?se:null,previous:Ae}),fe&&R(this,pe,$e).call(this),!0}get currentPageLabel(){var G,se;return(G=(se=this._pageLabels)===null||se===void 0?void 0:se[this._currentPageNumber-1])!==null&&G!==void 0?G:null}set currentPageLabel(G){if(!this.pdfDocument)return;let se=G|0;if(this._pageLabels){const Ee=this._pageLabels.indexOf(G);Ee>=0&&(se=Ee+1)}this._setCurrentPageNumber(se,!0)||console.error(`currentPageLabel: "${G}" is not a valid page.`)}get currentScale(){return this._currentScale!==d.UNKNOWN_SCALE?this._currentScale:d.DEFAULT_SCALE}set currentScale(G){if(isNaN(G))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(G,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(G){this.pdfDocument&&this._setScale(G,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(G){if(!(0,d.isValidRotation)(G))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(G%=360,G<0&&(G+=360),this._pagesRotation===G))return;this._pagesRotation=G;const se=this._currentPageNumber,Ee={rotation:G};for(const fe of this._pages)fe.update(Ee);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:G,pageNumber:se}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(G){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),$(this,k)&&($(this,k).destroy(),X(this,k,null))),this.pdfDocument=G,!G)return;const se=G.isPureXfa,Ee=G.numPages,fe=G.getPage(1),Ae=G.getOptionalContentConfig(),Me=$(this,q)?G.getPermissions():Promise.resolve();if(Ee>B.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ue=this._scrollMode=d.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ue})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Ee})},()=>{}),this._onBeforeDraw=ue=>{const ne=this._pages[ue.pageNumber-1];ne&&$(this,Y).push(ne)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ue=>{ue.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ue.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,$(this,F)&&(document.removeEventListener("visibilitychange",$(this,F)),X(this,F,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([fe,Me]).then(ue=>{let[ne,oe]=ue;if(G!==this.pdfDocument)return;this._firstPageCapability.resolve(ne),this._optionalContentConfigPromise=Ae;const{annotationEditorMode:we,annotationMode:Se,textLayerMode:xe}=R(this,V,ke).call(this,oe);if(we!==u.AnnotationEditorType.DISABLE){const Ne=we;se?console.warn("Warning: XFA-editing is not implemented."):I(Ne)?(X(this,k,new u.AnnotationEditorUIManager(this.container,this.eventBus)),Ne!==u.AnnotationEditorType.NONE&&$(this,k).updateMode(Ne)):console.error(`Invalid AnnotationEditor mode: ${Ne}`)}const he=this._scrollMode===d.ScrollMode.PAGE?null:this.viewer,ie=this.currentScale,_e=ne.getViewport({scale:ie*u.PixelsPerInch.PDF_TO_CSS_UNITS}),Re=xe!==d.TextLayerMode.DISABLE&&!se?this:null,Le=Se!==u.AnnotationMode.DISABLE?this:null,ze=se?this:null,Ue=$(this,k)?this:null;for(let Ne=1;Ne<=Ee;++Ne){const Ge=new x.PDFPageView({container:he,eventBus:this.eventBus,id:Ne,scale:ie,defaultViewport:_e.clone(),optionalContentConfigPromise:Ae,renderingQueue:this.renderingQueue,textLayerFactory:Re,textLayerMode:xe,annotationLayerFactory:Le,annotationMode:Se,xfaLayerFactory:ze,annotationEditorLayerFactory:Ue,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Ge)}const je=this._pages[0];je&&(je.setPdfPage(ne),this.linkService.cachePageRef(1,ne.ref)),this._scrollMode===d.ScrollMode.PAGE?R(this,Z,De).call(this):this._spreadMode!==d.SpreadMode.NONE&&this._updateSpreadMode(),R(this,K,Ie).call(this).then(async()=>{if(this.findController&&this.findController.setDocument(G),this._scriptingManager&&this._scriptingManager.setDocument(G),$(this,k)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:$(this,M)}),G.loadingParams.disableAutoFetch||Ee>B.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let Ne=Ee-1;if(Ne<=0){this._pagesCapability.resolve();return}for(let Ge=2;Ge<=Ee;++Ge){const rt=G.getPage(Ge).then(Ye=>{const Ke=this._pages[Ge-1];Ke.pdfPage||Ke.setPdfPage(Ye),this.linkService.cachePageRef(Ge,Ye.ref),--Ne===0&&this._pagesCapability.resolve()},Ye=>{console.error(`Unable to get page ${Ge} to initialize viewer`,Ye),--Ne===0&&this._pagesCapability.resolve()});Ge%B.PAUSE_EAGER_PAGE_INIT===0&&await rt}}),this.eventBus.dispatch("pagesinit",{source:this}),G.getMetadata().then(Ne=>{let{info:Ge}=Ne;G===this.pdfDocument&&Ge.Language&&(this.viewer.lang=Ge.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ue=>{console.error("Unable to initialize viewer",ue),this._pagesCapability.reject(ue)})}setPageLabels(G){if(this.pdfDocument){G?Array.isArray(G)&&this.pdfDocument.numPages===G.length?this._pageLabels=G:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let fe=0,Ae=this._pages.length;fe<Ae;fe++){var se,Ee;this._pages[fe].setPageLabel((se=(Ee=this._pageLabels)===null||Ee===void 0?void 0:Ee[fe])!==null&&se!==void 0?se:null)}}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=d.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,X(this,Y,new re(N)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,u.createPromiseCapability)(),this._onePageRenderedCapability=(0,u.createPromiseCapability)(),this._pagesCapability=(0,u.createPromiseCapability)(),this._scrollMode=d.ScrollMode.VERTICAL,this._previousScrollMode=d.ScrollMode.UNKNOWN,this._spreadMode=d.SpreadMode.NONE,X(this,O,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),$(this,F)&&(document.removeEventListener("visibilitychange",$(this,F)),X(this,F,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(z)}_scrollUpdate(){this.pagesCount!==0&&this.update()}_setScaleUpdatePages(G,se){let Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,fe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this._currentScaleValue=se.toString(),R(this,le,ge).call(this,G)){fe&&this.eventBus.dispatch("scalechanging",{source:this,scale:G,presetValue:se});return}d.docStyle.setProperty("--scale-factor",G*u.PixelsPerInch.PDF_TO_CSS_UNITS);const Ae={scale:G};for(const Me of this._pages)Me.update(Ae);if(this._currentScale=G,!Ee){let Me=this._currentPageNumber,ue;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Me=this._location.pageNumber,ue=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Me,destArray:ue,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:G,presetValue:fe?se:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==d.SpreadMode.NONE&&this._scrollMode!==d.ScrollMode.HORIZONTAL?2:1}_setScale(G){let se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ee=parseFloat(G);if(Ee>0)this._setScaleUpdatePages(Ee,G,se,!1);else{const fe=this._pages[this._currentPageNumber-1];if(!fe)return;let Ae=d.SCROLLBAR_PADDING,Me=d.VERTICAL_PADDING;this.isInPresentationMode?Ae=Me=4:this.removePageBorders?Ae=Me=0:this._scrollMode===d.ScrollMode.HORIZONTAL&&([Ae,Me]=[Me,Ae]);const ue=(this.container.clientWidth-Ae)/fe.width*fe.scale/this._pageWidthScaleFactor,ne=(this.container.clientHeight-Me)/fe.height*fe.scale;switch(G){case"page-actual":Ee=1;break;case"page-width":Ee=ue;break;case"page-height":Ee=ne;break;case"page-fit":Ee=Math.min(ue,ne);break;case"auto":const oe=(0,d.isPortraitOrientation)(fe)?ue:Math.min(ne,ue);Ee=Math.min(d.MAX_AUTO_SCALE,oe);break;default:console.error(`_setScale: "${G}" is an unknown zoom value.`);return}this._setScaleUpdatePages(Ee,G,se,!0)}}pageLabelToPageNumber(G){if(!this._pageLabels)return null;const se=this._pageLabels.indexOf(G);return se<0?null:se+1}scrollPageIntoView(G){let{pageNumber:se,destArray:Ee=null,allowNegativeOffset:fe=!1,ignoreDestinationZoom:Ae=!1}=G;if(!this.pdfDocument)return;const Me=Number.isInteger(se)&&this._pages[se-1];if(!Me){console.error(`scrollPageIntoView: "${se}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!Ee){this._setCurrentPageNumber(se,!0);return}let ue=0,ne=0,oe=0,we=0,Se,xe;const he=Me.rotation%180!==0,ie=(he?Me.height:Me.width)/Me.scale/u.PixelsPerInch.PDF_TO_CSS_UNITS,_e=(he?Me.width:Me.height)/Me.scale/u.PixelsPerInch.PDF_TO_CSS_UNITS;let Re=0;switch(Ee[1].name){case"XYZ":ue=Ee[2],ne=Ee[3],Re=Ee[4],ue=ue!==null?ue:0,ne=ne!==null?ne:_e;break;case"Fit":case"FitB":Re="page-fit";break;case"FitH":case"FitBH":ne=Ee[2],Re="page-width",ne===null&&this._location?(ue=this._location.left,ne=this._location.top):(typeof ne!="number"||ne<0)&&(ne=_e);break;case"FitV":case"FitBV":ue=Ee[2],oe=ie,we=_e,Re="page-height";break;case"FitR":ue=Ee[2],ne=Ee[3],oe=Ee[4]-ue,we=Ee[5]-ne;const je=this.removePageBorders?0:d.SCROLLBAR_PADDING,Ne=this.removePageBorders?0:d.VERTICAL_PADDING;Se=(this.container.clientWidth-je)/oe/u.PixelsPerInch.PDF_TO_CSS_UNITS,xe=(this.container.clientHeight-Ne)/we/u.PixelsPerInch.PDF_TO_CSS_UNITS,Re=Math.min(Math.abs(Se),Math.abs(xe));break;default:console.error(`scrollPageIntoView: "${Ee[1].name}" is not a valid destination type.`);return}if(Ae||(Re&&Re!==this._currentScale?this.currentScaleValue=Re:this._currentScale===d.UNKNOWN_SCALE&&(this.currentScaleValue=d.DEFAULT_SCALE_VALUE)),Re==="page-fit"&&!Ee[4]){R(this,ae,Ve).call(this,Me);return}const Le=[Me.viewport.convertToViewportPoint(ue,ne),Me.viewport.convertToViewportPoint(ue+oe,ne+we)];let ze=Math.min(Le[0][0],Le[1][0]),Ue=Math.min(Le[0][1],Le[1][1]);fe||(ze=Math.max(ze,0),Ue=Math.max(Ue,0)),R(this,ae,Ve).call(this,Me,{left:ze,top:Ue})}_updateLocation(G){const se=this._currentScale,Ee=this._currentScaleValue,fe=parseFloat(Ee)===se?Math.round(se*1e4)/100:Ee,Ae=G.id,Me=this._pages[Ae-1],ue=this.container,ne=Me.getPagePoint(ue.scrollLeft-G.x,ue.scrollTop-G.y),oe=Math.round(ne[0]),we=Math.round(ne[1]);let Se=`#page=${Ae}`;this.isInPresentationMode||(Se+=`&zoom=${fe},${oe},${we}`),this._location={pageNumber:Ae,scale:fe,top:we,left:oe,rotation:this._pagesRotation,pdfOpenParams:Se}}update(){const G=this._getVisiblePages(),se=G.views,Ee=se.length;if(Ee===0)return;const fe=Math.max(N,2*Ee+1);$(this,Y).resize(fe,G.ids),this.renderingQueue.renderHighestPriority(G);const Ae=this._spreadMode===d.SpreadMode.NONE&&(this._scrollMode===d.ScrollMode.PAGE||this._scrollMode===d.ScrollMode.VERTICAL),Me=this._currentPageNumber;let ue=!1;for(const ne of se){if(ne.percent<100)break;if(ne.id===Me&&Ae){ue=!0;break}}this._setCurrentPageNumber(ue?Me:se[0].id),this._updateLocation(G.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(G){return this.container.contains(G)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===d.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===d.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const G=this._scrollMode===d.ScrollMode.PAGE?$(this,O).pages:this._pages,se=this._scrollMode===d.ScrollMode.HORIZONTAL,Ee=se&&this._isContainerRtl;return(0,d.getVisibleElements)({scrollEl:this.container,views:G,sortByVisibility:!0,horizontal:se,rtl:Ee})}isPageVisible(G){return this.pdfDocument?Number.isInteger(G)&&G>0&&G<=this.pagesCount?this._getVisiblePages().ids.has(G):(console.error(`isPageVisible: "${G}" is not a valid page.`),!1):!1}isPageCached(G){if(!this.pdfDocument)return!1;if(!(Number.isInteger(G)&&G>0&&G<=this.pagesCount))return console.error(`isPageCached: "${G}" is not a valid page.`),!1;const se=this._pages[G-1];return $(this,Y).has(se)}cleanup(){for(const G of this._pages)G.renderingState!==d.RenderingStates.FINISHED&&G.reset()}_cancelRendering(){for(const G of this._pages)G.cancelRendering()}forceRendering(G){const se=G||this._getVisiblePages(),Ee=R(this,ve,Oe).call(this,se),fe=this._spreadMode!==d.SpreadMode.NONE&&this._scrollMode!==d.ScrollMode.HORIZONTAL,Ae=this.renderingQueue.getHighestPriority(se,this._pages,Ee,fe);return R(this,ye,Te).call(this,se.ids),Ae?(R(this,be,Fe).call(this,Ae).then(()=>{this.renderingQueue.renderView(Ae)}),!0):!1}createTextLayerBuilder(G){let{textLayerDiv:se,pageIndex:Ee,viewport:fe,enhanceTextSelection:Ae=!1,eventBus:Me,highlighter:ue,accessibilityManager:ne=null}=G;return new b.TextLayerBuilder({textLayerDiv:se,eventBus:Me,pageIndex:Ee,viewport:fe,enhanceTextSelection:this.isInPresentationMode?!1:Ae,highlighter:ue,accessibilityManager:ne})}createTextHighlighter(G){let{pageIndex:se,eventBus:Ee}=G;return new m.TextHighlighter({eventBus:Ee,pageIndex:se,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(G){var se,Ee,fe,Ae;let{pageDiv:Me,pdfPage:ue,annotationStorage:ne=(se=this.pdfDocument)===null||se===void 0?void 0:se.annotationStorage,imageResourcesPath:oe="",renderForms:we=!0,l10n:Se=g.NullL10n,enableScripting:xe=this.enableScripting,hasJSActionsPromise:he=(Ee=this.pdfDocument)===null||Ee===void 0?void 0:Ee.hasJSActions(),mouseState:ie=(fe=this._scriptingManager)===null||fe===void 0?void 0:fe.mouseState,fieldObjectsPromise:_e=(Ae=this.pdfDocument)===null||Ae===void 0?void 0:Ae.getFieldObjects(),annotationCanvasMap:Re=null,accessibilityManager:Le=null}=G;return new p.AnnotationLayerBuilder({pageDiv:Me,pdfPage:ue,annotationStorage:ne,imageResourcesPath:oe,renderForms:we,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Se,enableScripting:xe,hasJSActionsPromise:he,mouseState:ie,fieldObjectsPromise:_e,annotationCanvasMap:Re,accessibilityManager:Le})}createAnnotationEditorLayerBuilder(G){var se;let{uiManager:Ee=$(this,k),pageDiv:fe,pdfPage:Ae,accessibilityManager:Me=null,l10n:ue,annotationStorage:ne=(se=this.pdfDocument)===null||se===void 0?void 0:se.annotationStorage}=G;return new E.AnnotationEditorLayerBuilder({uiManager:Ee,pageDiv:fe,pdfPage:Ae,annotationStorage:ne,accessibilityManager:Me,l10n:ue})}createXfaLayerBuilder(G){var se;let{pageDiv:Ee,pdfPage:fe,annotationStorage:Ae=(se=this.pdfDocument)===null||se===void 0?void 0:se.annotationStorage}=G;return new y.XfaLayerBuilder({pageDiv:Ee,pdfPage:fe,annotationStorage:Ae,linkService:this.linkService})}createStructTreeLayerBuilder(G){let{pdfPage:se}=G;return new T.StructTreeLayerBuilder({pdfPage:se})}get hasEqualPageSizes(){const G=this._pages[0];for(let se=1,Ee=this._pages.length;se<Ee;++se){const fe=this._pages[se];if(fe.width!==G.width||fe.height!==G.height)return!1}return!0}getPagesOverview(){return this._pages.map(G=>{const se=G.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,d.isPortraitOrientation)(se)?{width:se.width,height:se.height,rotation:se.rotation}:{width:se.height,height:se.width,rotation:(se.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(G){if(!(G instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${G}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=G;const se={optionalContentConfigPromise:G};for(const Ee of this._pages)Ee.update(se);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:G})}get scrollMode(){return this._scrollMode}set scrollMode(G){if(this._scrollMode!==G){if(!(0,d.isValidScrollMode)(G))throw new Error(`Invalid scroll mode: ${G}`);this.pagesCount>B.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=G,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:G}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const se=this._scrollMode,Ee=this.viewer;Ee.classList.toggle("scrollHorizontal",se===d.ScrollMode.HORIZONTAL),Ee.classList.toggle("scrollWrapped",se===d.ScrollMode.WRAPPED),!(!this.pdfDocument||!G)&&(se===d.ScrollMode.PAGE?R(this,Z,De).call(this):this._previousScrollMode===d.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(G,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(G){if(this._spreadMode!==G){if(!(0,d.isValidSpreadMode)(G))throw new Error(`Invalid spread mode: ${G}`);this._spreadMode=G,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:G}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.pdfDocument)return;const se=this.viewer,Ee=this._pages;if(this._scrollMode===d.ScrollMode.PAGE)R(this,Z,De).call(this);else if(se.textContent="",this._spreadMode===d.SpreadMode.NONE)for(const fe of this._pages)se.append(fe.div);else{const fe=this._spreadMode-1;let Ae=null;for(let Me=0,ue=Ee.length;Me<ue;++Me)Ae===null?(Ae=document.createElement("div"),Ae.className="spread",se.append(Ae)):Me%2===fe&&(Ae=Ae.cloneNode(!1),se.append(Ae)),Ae.append(Ee[Me].div)}G&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(G,!0),this.update())}_getPageAdvance(G){let se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(this._scrollMode){case d.ScrollMode.WRAPPED:{const{views:Ee}=this._getVisiblePages(),fe=new Map;for(const{id:Ae,y:Me,percent:ue,widthPercent:ne}of Ee){if(ue===0||ne<100)continue;let oe=fe.get(Me);oe||fe.set(Me,oe||(oe=[])),oe.push(Ae)}for(const Ae of fe.values()){const Me=Ae.indexOf(G);if(Me===-1)continue;const ue=Ae.length;if(ue===1)break;if(se)for(let ne=Me-1,oe=0;ne>=oe;ne--){const we=Ae[ne],Se=Ae[ne+1]-1;if(we<Se)return G-Se}else for(let ne=Me+1,oe=ue;ne<oe;ne++){const we=Ae[ne],Se=Ae[ne-1]+1;if(we>Se)return Se-G}if(se){const ne=Ae[0];if(ne<G)return G-ne+1}else{const ne=Ae[ue-1];if(ne>G)return ne-G+1}break}break}case d.ScrollMode.HORIZONTAL:break;case d.ScrollMode.PAGE:case d.ScrollMode.VERTICAL:{if(this._spreadMode===d.SpreadMode.NONE)break;const Ee=this._spreadMode-1;if(se&&G%2!==Ee)break;if(!se&&G%2===Ee)break;const{views:fe}=this._getVisiblePages(),Ae=se?G-1:G+1;for(const{id:Me,percent:ue,widthPercent:ne}of fe)if(Me===Ae){if(ue>0&&ne===100)return 2;break}break}}return 1}nextPage(){const G=this._currentPageNumber,se=this.pagesCount;if(G>=se)return!1;const Ee=this._getPageAdvance(G,!1)||1;return this.currentPageNumber=Math.min(G+Ee,se),!0}previousPage(){const G=this._currentPageNumber;if(G<=1)return!1;const se=this._getPageAdvance(G,!0)||1;return this.currentPageNumber=Math.max(G-se,1),!0}increaseScale(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,se=this._currentScale;do se=(se*d.DEFAULT_SCALE_DELTA).toFixed(2),se=Math.ceil(se*10)/10,se=Math.min(d.MAX_SCALE,se);while(--G>0&&se<d.MAX_SCALE);this.currentScaleValue=se}decreaseScale(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,se=this._currentScale;do se=(se/d.DEFAULT_SCALE_DELTA).toFixed(2),se=Math.floor(se*10)/10,se=Math.max(d.MIN_SCALE,se);while(--G>0&&se>d.MIN_SCALE);this.currentScaleValue=se}updateContainerHeightCss(){const G=this.container.clientHeight;G!==$(this,C)&&(X(this,C,G),d.docStyle.setProperty("--viewer-container-height",`${G}px`))}get annotationEditorMode(){return $(this,k)?$(this,M):u.AnnotationEditorType.DISABLE}set annotationEditorMode(G){if(!$(this,k))throw new Error("The AnnotationEditor is not enabled.");if($(this,M)!==G){if(!I(G))throw new Error(`Invalid AnnotationEditor mode: ${G}`);this.pdfDocument&&(X(this,M,G),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:G}),$(this,k).updateMode(G))}}set annotationEditorParams(G){let{type:se,value:Ee}=G;if(!$(this,k))throw new Error("The AnnotationEditor is not enabled.");$(this,k).updateParams(se,Ee)}refresh(){if(!this.pdfDocument)return;const G={};for(const se of this._pages)se.update(G);this.update()}}o.BaseViewer=Pe;function ke(te){const G={annotationEditorMode:$(this,M),annotationMode:$(this,H),textLayerMode:this.textLayerMode};return te&&(te.includes(u.PermissionFlag.COPY)||this.viewer.classList.add(z),te.includes(u.PermissionFlag.MODIFY_CONTENTS)||(G.annotationEditorMode=u.AnnotationEditorType.DISABLE),!te.includes(u.PermissionFlag.MODIFY_ANNOTATIONS)&&!te.includes(u.PermissionFlag.FILL_INTERACTIVE_FORMS)&&$(this,H)===u.AnnotationMode.ENABLE_FORMS&&(G.annotationMode=u.AnnotationMode.ENABLE)),G}function Ie(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const te=new Promise(G=>{X(this,F,()=>{document.visibilityState==="hidden"&&(G(),document.removeEventListener("visibilitychange",$(this,F)),X(this,F,null))}),document.addEventListener("visibilitychange",$(this,F))});return Promise.race([this._onePageRenderedCapability.promise,te])}function De(){if(this._scrollMode!==d.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const te=this._currentPageNumber,G=$(this,O),se=this.viewer;if(se.textContent="",G.pages.length=0,this._spreadMode===d.SpreadMode.NONE&&!this.isInPresentationMode){const Ee=this._pages[te-1];se.append(Ee.div),G.pages.push(Ee)}else{const Ee=new Set,fe=this._spreadMode-1;fe===-1?Ee.add(te-1):te%2!==fe?(Ee.add(te-1),Ee.add(te)):(Ee.add(te-2),Ee.add(te-1));const Ae=document.createElement("div");if(Ae.className="spread",this.isInPresentationMode){const Me=document.createElement("div");Me.className="dummyPage",Ae.append(Me)}for(const Me of Ee){const ue=this._pages[Me];ue&&(Ae.append(ue.div),G.pages.push(ue))}se.append(Ae)}G.scrollDown=te>=G.previousPageNumber,G.previousPageNumber=te}function Ve(te){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const{div:se,id:Ee}=te;if(this._scrollMode===d.ScrollMode.PAGE&&(this._setCurrentPageNumber(Ee),R(this,Z,De).call(this),this.update()),!G&&!this.isInPresentationMode){const fe=se.offsetLeft+se.clientLeft,Ae=fe+se.clientWidth,{scrollLeft:Me,clientWidth:ue}=this.container;(this._scrollMode===d.ScrollMode.HORIZONTAL||fe<Me||Ae>Me+ue)&&(G={left:0,top:0})}(0,d.scrollIntoView)(se,G)}function ge(te){return te===this._currentScale||Math.abs(te-this._currentScale)<1e-15}function $e(){const te=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),R(this,ae,Ve).call(this,te)}async function Fe(te){if(te.pdfPage)return te.pdfPage;try{var G,se;const Ee=await this.pdfDocument.getPage(te.id);return te.pdfPage||te.setPdfPage(Ee),(G=(se=this.linkService)._cachedPageNumber)!==null&&G!==void 0&&G.call(se,Ee.ref)||this.linkService.cachePageRef(te.id,Ee.ref),Ee}catch(Ee){return console.error("Unable to get page for page view",Ee),null}}function Oe(te){var G,se;if(((G=te.first)===null||G===void 0?void 0:G.id)===1)return!0;if(((se=te.last)===null||se===void 0?void 0:se.id)===this.pagesCount)return!1;switch(this._scrollMode){case d.ScrollMode.PAGE:return $(this,O).scrollDown;case d.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Te(te){for(const G of te){const se=this._pages[G-1];se==null||se.toggleLoadingIconSpinner(!0)}for(const G of $(this,Y))te.has(G.id)||G.toggleLoadingIconSpinner(!1)}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFPageView=void 0;var u=f(3),d=f(7),E=f(14),p=f(4),g=f(15);function x(R,$,D){S(R,$),$.set(R,D)}function S(R,$){if($.has(R))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(R,$){var D=b(R,$,"get");return T(R,D)}function T(R,$){return $.get?$.get.call(R):$.value}function m(R,$,D){var X=b(R,$,"set");return y(R,X,D),D}function b(R,$,D){if(!$.has(R))throw new TypeError("attempted to "+D+" private field on non-instance");return $.get(R)}function y(R,$,D){if($.set)$.set.call(R,D);else{if(!$.writable)throw new TypeError("attempted to set read only private field");$.value=D}}const h=E.compatibilityParams.maxCanvasPixels||16777216;var v=new WeakMap,A=new WeakMap;class P{constructor($){var D,X,W,U;x(this,v,{writable:!0,value:u.AnnotationMode.ENABLE_FORMS}),x(this,A,{writable:!0,value:{initialOptionalContent:!0,regularAnnotations:!0}});const N=$.container,z=$.defaultViewport;this.id=$.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=$.scale||d.DEFAULT_SCALE,this.viewport=z,this.pdfPageRotate=z.rotation,this._optionalContentConfigPromise=$.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=(D=$.textLayerMode)!==null&&D!==void 0?D:d.TextLayerMode.ENABLE,m(this,v,(X=$.annotationMode)!==null&&X!==void 0?X:u.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=$.imageResourcesPath||"",this.useOnlyCssZoom=$.useOnlyCssZoom||!1,this.maxCanvasPixels=$.maxCanvasPixels||h,this.pageColors=$.pageColors||null,this.eventBus=$.eventBus,this.renderingQueue=$.renderingQueue,this.textLayerFactory=$.textLayerFactory,this.annotationLayerFactory=$.annotationLayerFactory,this.annotationEditorLayerFactory=$.annotationEditorLayerFactory,this.xfaLayerFactory=$.xfaLayerFactory,this.textHighlighter=(W=$.textHighlighterFactory)===null||W===void 0?void 0:W.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=$.structTreeLayerFactory,this.renderer=$.renderer||d.RendererType.CANVAS,this.l10n=$.l10n||p.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=d.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!((U=this.renderingQueue)!==null&&U!==void 0&&U.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const B=document.createElement("div");if(B.className="page",B.style.width=Math.floor(this.viewport.width)+"px",B.style.height=Math.floor(this.viewport.height)+"px",B.setAttribute("data-page-number",this.id),B.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(I=>{B.setAttribute("aria-label",I)}),this.div=B,N==null||N.append(B),this._isStandalone){const{optionalContentConfigPromise:I}=$;I&&I.then(j=>{I===this._optionalContentConfigPromise&&(w(this,A).initialOptionalContent=j.hasInitialVisibility)})}}setPdfPage($){this.pdfPage=$,this.pdfPageRotate=$.rotate;const D=(this.rotation+this.pdfPageRotate)%360;this.viewport=$.getViewport({scale:this.scale*u.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:D}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}async _renderAnnotationLayer(){let $=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(D){console.error(`_renderAnnotationLayer: "${D}".`),$=D}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:$})}}async _renderAnnotationEditorLayer(){let $=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(D){console.error(`_renderAnnotationEditorLayer: "${D}".`),$=D}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:$})}}async _renderXfaLayer(){let $=null;try{const D=await this.xfaLayer.render(this.viewport,"display");this.textHighlighter&&this._buildXfaTextContentItems(D.textDivs)}catch(D){console.error(`_renderXfaLayer: "${D}".`),$=D}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:$})}}async _buildXfaTextContentItems($){const D=await this.pdfPage.getTextContent(),X=[];for(const W of D.items)X.push(W.str);this.textHighlighter.setTextMapping($,X),this.textHighlighter.enable()}_resetZoomLayer(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.zoomLayer)return;const D=this.zoomLayer.firstChild;this.paintedViewportMap.delete(D),D.width=0,D.height=0,$&&this.zoomLayer.remove(),this.zoomLayer=null}reset(){var $,D,X;let{keepZoomLayer:W=!1,keepAnnotationLayer:U=!1,keepAnnotationEditorLayer:N=!1,keepXfaLayer:z=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.cancelRendering({keepAnnotationLayer:U,keepAnnotationEditorLayer:N,keepXfaLayer:z}),this.renderingState=d.RenderingStates.INITIAL;const B=this.div;B.style.width=Math.floor(this.viewport.width)+"px",B.style.height=Math.floor(this.viewport.height)+"px";const I=B.childNodes,j=W&&this.zoomLayer||null,J=U&&(($=this.annotationLayer)===null||$===void 0?void 0:$.div)||null,Q=N&&((D=this.annotationEditorLayer)===null||D===void 0?void 0:D.div)||null,re=z&&((X=this.xfaLayer)===null||X===void 0?void 0:X.div)||null;for(let Y=I.length-1;Y>=0;Y--){const M=I[Y];switch(M){case j:case J:case Q:case re:continue}M.remove()}if(B.removeAttribute("data-loaded"),J&&this.annotationLayer.hide(),Q)this.annotationEditorLayer.hide();else{var de;(de=this.annotationEditorLayer)===null||de===void 0||de.destroy()}re&&this.xfaLayer.hide(),j||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(Y=>{var M;(M=this.loadingIconDiv)===null||M===void 0||M.setAttribute("aria-label",Y)}),B.append(this.loadingIconDiv)}update($){let{scale:D=0,rotation:X=null,optionalContentConfigPromise:W=null}=$;this.scale=D||this.scale,typeof X=="number"&&(this.rotation=X),W instanceof Promise&&(this._optionalContentConfigPromise=W,W.then(z=>{W===this._optionalContentConfigPromise&&(w(this,A).initialOptionalContent=z.hasInitialVisibility)}));const U=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*u.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:U}),this._isStandalone&&d.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}let N=!1;if(this.canvas&&this.maxCanvasPixels>0){const z=this.outputScale;(Math.floor(this.viewport.width)*z.sx|0)*(Math.floor(this.viewport.height)*z.sy|0)>this.maxCanvasPixels&&(N=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&N){this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering(){let{keepAnnotationLayer:$=!1,keepAnnotationEditorLayer:D=!1,keepXfaLayer:X=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!$||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!D||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!X||!this.xfaLayer.div)){var W;this.xfaLayer.cancel(),this.xfaLayer=null,(W=this.textHighlighter)===null||W===void 0||W.disable()}this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform($){let{target:D,redrawAnnotationLayer:X=!1,redrawAnnotationEditorLayer:W=!1,redrawXfaLayer:U=!1}=$;const N=this.viewport.width,z=this.viewport.height,B=this.div;D.style.width=D.parentNode.style.width=B.style.width=Math.floor(N)+"px",D.style.height=D.parentNode.style.height=B.style.height=Math.floor(z)+"px";const I=this.viewport.rotation-this.paintedViewportMap.get(D).rotation,j=Math.abs(I);let J=1,Q=1;if((j===90||j===270)&&(J=z/N,Q=N/z),D.style.transform=`rotate(${I}deg) scale(${J}, ${Q})`,this.textLayer){const re=this.textLayer.viewport,de=this.viewport.rotation-re.rotation,Y=Math.abs(de);let M=N/re.width;(Y===90||Y===270)&&(M=N/re.height);const k=this.textLayer.textLayerDiv;let H,q;switch(Y){case 0:H=q=0;break;case 90:H=0,q="-"+k.style.height;break;case 180:H="-"+k.style.width,q="-"+k.style.height;break;case 270:H="-"+k.style.width,q=0;break;default:console.error("Bad rotation value.");break}k.style.transform=`rotate(${Y}deg) scale(${M}) translate(${H}, ${q})`,k.style.transformOrigin="0% 0%"}X&&this.annotationLayer&&this._renderAnnotationLayer(),W&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),U&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint($,D){return this.viewport.convertToPdfPoint($,D)}toggleLoadingIconSpinner(){var $;let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;($=this.loadingIconDiv)===null||$===void 0||$.classList.toggle("notVisible",!D)}draw(){var $,D,X,W=this;this.renderingState!==d.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:U,pdfPage:N}=this;if(!N)return this.renderingState=d.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=d.RenderingStates.RUNNING;const z=document.createElement("div");z.style.width=U.style.width,z.style.height=U.style.height,z.classList.add("canvasWrapper");const B=(($=this.annotationLayer)===null||$===void 0?void 0:$.div)||((D=this.annotationEditorLayer)===null||D===void 0?void 0:D.div);B?B.before(z):U.append(z);let I=null;if(this.textLayerMode!==d.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||(this._accessibilityManager=new g.TextAccessibilityManager);const de=document.createElement("div");de.className="textLayer",de.style.width=z.style.width,de.style.height=z.style.height,B?B.before(de):U.append(de),I=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:de,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===d.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=I,w(this,v)!==u.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:U,pdfPage:N,imageResourcesPath:this.imageResourcesPath,renderForms:w(this,v)===u.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}))),(X=this.xfaLayer)!==null&&X!==void 0&&X.div&&U.append(this.xfaLayer.div);let j=null;this.renderingQueue&&(j=de=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=d.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=d.RenderingStates.RUNNING,de()};return}de()});const J=async function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(Q===W.paintTask&&(W.paintTask=null),de instanceof u.RenderingCancelledException){W._renderError=null;return}if(W._renderError=de,W.renderingState=d.RenderingStates.FINISHED,W.loadingIconDiv&&(W.loadingIconDiv.remove(),delete W.loadingIconDiv),W._resetZoomLayer(!0),w(W,A).regularAnnotations=!Q.separateAnnots,W.eventBus.dispatch("pagerendered",{source:W,pageNumber:W.id,cssTransform:!1,timestamp:performance.now(),error:W._renderError}),de)throw de},Q=this.renderer===d.RendererType.SVG?this.paintOnSvg(z):this.paintOnCanvas(z);Q.onRenderContinue=j,this.paintTask=Q;const re=Q.promise.then(()=>J(null).then(()=>{if(I){const de=N.streamTextContent({includeMarkedContent:!0});I.setTextContentStream(de),I.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||(this.annotationEditorLayer=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:U,pdfPage:N,l10n:this.l10n,accessibilityManager:this._accessibilityManager})),this._renderAnnotationEditorLayer())})}),function(de){return J(de)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:U,pdfPage:N})),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=de=>{de.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Y=>{if(!Y||!this.canvas)return;const M=this.structTreeLayer.render(Y);M.classList.add("structTree"),this.canvas.append(M)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:N})),U.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),re}paintOnCanvas($){const D=(0,u.createPromiseCapability)(),X={promise:D.promise,onRenderContinue(Y){Y()},cancel(){de.cancel()},get separateAnnots(){return de.separateAnnots}},W=this.viewport,U=document.createElement("canvas");U.setAttribute("role","presentation"),U.hidden=!0;let N=!0;const z=function(){N&&(U.hidden=!1,N=!1)};$.append(U),this.canvas=U;const B=U.getContext("2d",{alpha:!1}),I=this.outputScale=new d.OutputScale;if(this.useOnlyCssZoom){const Y=W.clone({scale:u.PixelsPerInch.PDF_TO_CSS_UNITS});I.sx*=Y.width/W.width,I.sy*=Y.height/W.height}if(this.maxCanvasPixels>0){const Y=W.width*W.height,M=Math.sqrt(this.maxCanvasPixels/Y);I.sx>M||I.sy>M?(I.sx=M,I.sy=M,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const j=(0,d.approximateFraction)(I.sx),J=(0,d.approximateFraction)(I.sy);U.width=(0,d.roundToDivide)(W.width*I.sx,j[0]),U.height=(0,d.roundToDivide)(W.height*I.sy,J[0]),U.style.width=(0,d.roundToDivide)(W.width,j[1])+"px",U.style.height=(0,d.roundToDivide)(W.height,J[1])+"px",this.paintedViewportMap.set(U,W);const Q=I.scaled?[I.sx,0,0,I.sy,0,0]:null,re={canvasContext:B,transform:Q,viewport:this.viewport,annotationMode:w(this,v),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},de=this.pdfPage.render(re);return de.onContinue=function(Y){z(),X.onRenderContinue?X.onRenderContinue(Y):Y()},de.promise.then(function(){z(),D.resolve()},function(Y){z(),D.reject(Y)}),X}paintOnSvg($){let D=!1;const X=()=>{if(D)throw new u.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},W=this.pdfPage,U=this.viewport.clone({scale:u.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:W.getOperatorList({annotationMode:w(this,v)}).then(z=>(X(),new u.SVGGraphics(W.commonObjs,W.objs).getSVG(z,U).then(I=>{X(),this.svg=I,this.paintedViewportMap.set(I,U),I.style.width=$.style.width,I.style.height=$.style.height,this.renderingState=d.RenderingStates.FINISHED,$.append(I)}))),onRenderContinue(z){z()},cancel(){D=!0},get separateAnnots(){return!1}}}setPageLabel($){this.pageLabel=typeof $=="string"?$:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:$,regularAnnotations:D}=w(this,A);return $&&D?this.canvas:null}}o.PDFPageView=P},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.compatibilityParams=o.OptionKind=o.AppOptions=void 0;const f=Object.create(null);o.compatibilityParams=f;{const g=navigator.userAgent||"",x=navigator.platform||"",S=navigator.maxTouchPoints||1,w=/Android/.test(g),T=/\b(iPad|iPhone|iPod)(?=;)/.test(g)||x==="MacIntel"&&S>1;(function(){(T||w)&&(f.maxCanvasPixels=5242880)})()}const u={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};o.OptionKind=u;const d={annotationEditorMode:{value:-1,kind:u.VIEWER+u.PREFERENCE},annotationMode:{value:2,kind:u.VIEWER+u.PREFERENCE},cursorToolOnLoad:{value:0,kind:u.VIEWER+u.PREFERENCE},defaultZoomValue:{value:"",kind:u.VIEWER+u.PREFERENCE},disableHistory:{value:!1,kind:u.VIEWER},disablePageLabels:{value:!1,kind:u.VIEWER+u.PREFERENCE},enablePermissions:{value:!1,kind:u.VIEWER+u.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:u.VIEWER+u.PREFERENCE},enableScripting:{value:!0,kind:u.VIEWER+u.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:u.VIEWER},externalLinkTarget:{value:0,kind:u.VIEWER+u.PREFERENCE},historyUpdateUrl:{value:!1,kind:u.VIEWER+u.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:u.VIEWER+u.PREFERENCE},imageResourcesPath:{value:"./images/",kind:u.VIEWER},maxCanvasPixels:{value:16777216,kind:u.VIEWER},forcePageColors:{value:!1,kind:u.VIEWER+u.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:u.VIEWER+u.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:u.VIEWER+u.PREFERENCE},pdfBugEnabled:{value:!1,kind:u.VIEWER+u.PREFERENCE},printResolution:{value:150,kind:u.VIEWER},sidebarViewOnLoad:{value:-1,kind:u.VIEWER+u.PREFERENCE},scrollModeOnLoad:{value:-1,kind:u.VIEWER+u.PREFERENCE},spreadModeOnLoad:{value:-1,kind:u.VIEWER+u.PREFERENCE},textLayerMode:{value:1,kind:u.VIEWER+u.PREFERENCE},useOnlyCssZoom:{value:!1,kind:u.VIEWER+u.PREFERENCE},viewerCssTheme:{value:0,kind:u.VIEWER+u.PREFERENCE},viewOnLoad:{value:0,kind:u.VIEWER+u.PREFERENCE},cMapPacked:{value:!0,kind:u.API},cMapUrl:{value:"../web/cmaps/",kind:u.API},disableAutoFetch:{value:!1,kind:u.API+u.PREFERENCE},disableFontFace:{value:!1,kind:u.API+u.PREFERENCE},disableRange:{value:!1,kind:u.API+u.PREFERENCE},disableStream:{value:!1,kind:u.API+u.PREFERENCE},docBaseUrl:{value:"",kind:u.API},enableXfa:{value:!0,kind:u.API+u.PREFERENCE},fontExtraProperties:{value:!1,kind:u.API},isEvalSupported:{value:!0,kind:u.API},maxImageSize:{value:-1,kind:u.API},pdfBug:{value:!1,kind:u.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:u.API},verbosity:{value:1,kind:u.API},workerPort:{value:null,kind:u.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:u.WORKER}};d.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:u.VIEWER},d.disablePreferences={value:!1,kind:u.VIEWER},d.locale={value:navigator.language||"en-US",kind:u.VIEWER},d.renderer={value:"canvas",kind:u.VIEWER+u.PREFERENCE},d.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:u.VIEWER};const E=Object.create(null);class p{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(x){const S=E[x];if(S!==void 0)return S;const w=d[x];if(w!==void 0){var T;return(T=f[x])!==null&&T!==void 0?T:w.value}}static getAll(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const S=Object.create(null);for(const T in d){var w;const m=d[T];if(x){if(!(x&m.kind))continue;if(x===u.PREFERENCE){const y=m.value,h=typeof y;if(h==="boolean"||h==="string"||h==="number"&&Number.isInteger(y)){S[T]=y;continue}throw new Error(`Invalid type for preference: ${T}`)}}const b=E[T];S[T]=b!==void 0?b:(w=f[T])!==null&&w!==void 0?w:m.value}return S}static set(x,S){E[x]=S}static setAll(x){for(const S in x)E[S]=x[S]}static remove(x){delete E[x]}static _hasUserOptions(){return Object.keys(E).length>0}}o.AppOptions=p},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextAccessibilityManager=void 0;var u=f(7);function d(W,U){p(W,U),U.add(W)}function E(W,U,N){p(W,U),U.set(W,N)}function p(W,U){if(U.has(W))throw new TypeError("Cannot initialize the same private elements twice on an object")}function g(W,U,N){if(!U.has(W))throw new TypeError("attempted to get private field on non-instance");return N}function x(W,U,N){return S(W,U),N}function S(W,U){if(W!==U)throw new TypeError("Private static access of wrong provenance")}function w(W,U){var N=b(W,U,"get");return T(W,N)}function T(W,U){return U.get?U.get.call(W):U.value}function m(W,U,N){var z=b(W,U,"set");return y(W,z,N),N}function b(W,U,N){if(!U.has(W))throw new TypeError("attempted to "+N+" private field on non-instance");return U.get(W)}function y(W,U,N){if(U.set)U.set.call(W,N);else{if(!U.writable)throw new TypeError("attempted to set read only private field");U.value=N}}var h=new WeakMap,v=new WeakMap,A=new WeakMap,P=new WeakMap,R=new WeakSet;class ${constructor(){d(this,R),E(this,h,{writable:!0,value:!1}),E(this,v,{writable:!0,value:null}),E(this,A,{writable:!0,value:new Map}),E(this,P,{writable:!0,value:new Map})}setTextMapping(U){m(this,v,U)}enable(){if(w(this,h))throw new Error("TextAccessibilityManager is already enabled.");if(!w(this,v))throw new Error("Text divs and strings have not been set.");if(m(this,h,!0),m(this,v,w(this,v).slice()),w(this,v).sort(x($,$,D)),w(this,A).size>0){const U=w(this,v);for(const[N,z]of w(this,A)){if(!document.getElementById(N)){w(this,A).delete(N);continue}g(this,R,X).call(this,N,U[z])}}for(const[U,N]of w(this,P))this.addPointerInTextLayer(U,N);w(this,P).clear()}disable(){w(this,h)&&(w(this,P).clear(),m(this,v,null),m(this,h,!1))}removePointerInTextLayer(U){var N;if(!w(this,h)){w(this,P).delete(U);return}const z=w(this,v);if(!z||z.length===0)return;const{id:B}=U,I=w(this,A).get(B);if(I===void 0)return;const j=z[I];w(this,A).delete(B);let J=j.getAttribute("aria-owns");(N=J)!==null&&N!==void 0&&N.includes(B)&&(J=J.split(" ").filter(Q=>Q!==B).join(" "),J?j.setAttribute("aria-owns",J):(j.removeAttribute("aria-owns"),j.setAttribute("role","presentation")))}addPointerInTextLayer(U,N){const{id:z}=U;if(!z)return;if(!w(this,h)){w(this,P).set(U,N);return}N&&this.removePointerInTextLayer(U);const B=w(this,v);if(!B||B.length===0)return;const I=(0,u.binarySearchFirstItem)(B,J=>x($,$,D).call($,U,J)<0),j=Math.max(0,I-1);g(this,R,X).call(this,z,B[j]),w(this,A).set(z,j)}moveElementInDOM(U,N,z,B){if(this.addPointerInTextLayer(z,B),!U.hasChildNodes()){U.append(N);return}const I=Array.from(U.childNodes).filter(Q=>Q!==N);if(I.length===0)return;const j=z||N,J=(0,u.binarySearchFirstItem)(I,Q=>x($,$,D).call($,j,Q)<0);J===0?I[0].before(N):I[J-1].after(N)}}o.TextAccessibilityManager=$;function D(W,U){const N=W.getBoundingClientRect(),z=U.getBoundingClientRect();if(N.width===0&&N.height===0)return 1;if(z.width===0&&z.height===0)return-1;const B=N.y,I=N.y+N.height,j=N.y+N.height/2,J=z.y,Q=z.y+z.height,re=z.y+z.height/2;if(j<=J&&re>=I)return-1;if(re<=B&&j>=Q)return 1;const de=N.x+N.width/2,Y=z.x+z.width/2;return de-Y}function X(W,U){const N=U.getAttribute("aria-owns");N!=null&&N.includes(W)||U.setAttribute("aria-owns",N?`${N} ${W}`:W),U.removeAttribute("role")}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFRenderingQueue=void 0;var u=f(3),d=f(7);const E=3e4;class p{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(x){this.pdfViewer=x}setThumbnailViewer(x){this.pdfThumbnailViewer=x}isHighestPriority(x){return this.highestPriorityPage===x.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(x){var S;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(x)&&(this.isThumbnailViewEnabled&&(S=this.pdfThumbnailViewer)!==null&&S!==void 0&&S.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),E)))}getHighestPriority(x,S,w){let T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const m=x.views,b=m.length;if(b===0)return null;for(let P=0;P<b;P++){const R=m[P].view;if(!this.isViewFinished(R))return R}const y=x.first.id,h=x.last.id;if(h-y+1>b){const P=x.ids;for(let R=1,$=h-y;R<$;R++){const D=w?y+R:h-R;if(P.has(D))continue;const X=S[D-1];if(!this.isViewFinished(X))return X}}let v=w?h:y-2,A=S[v];return A&&!this.isViewFinished(A)||T&&(v+=w?1:-1,A=S[v],A&&!this.isViewFinished(A))?A:null}isViewFinished(x){return x.renderingState===d.RenderingStates.FINISHED}renderView(x){switch(x.renderingState){case d.RenderingStates.FINISHED:return!1;case d.RenderingStates.PAUSED:this.highestPriorityPage=x.renderingId,x.resume();break;case d.RenderingStates.RUNNING:this.highestPriorityPage=x.renderingId;break;case d.RenderingStates.INITIAL:this.highestPriorityPage=x.renderingId,x.draw().finally(()=>{this.renderHighestPriority()}).catch(S=>{S instanceof u.RenderingCancelledException||console.error(`renderView: "${S}"`)});break}return!0}}o.PDFRenderingQueue=p},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextHighlighter=void 0;class f{constructor(d){let{findController:E,eventBus:p,pageIndex:g}=d;this.findController=E,this.matches=[],this.eventBus=p,this.pageIdx=g,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(d,E){this.textDivs=d,this.textContentItemsStr=E}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=d=>{(d.pageIndex===this.pageIdx||d.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(d,E){if(!d)return[];const{textContentItemsStr:p}=this;let g=0,x=0;const S=p.length-1,w=[];for(let T=0,m=d.length;T<m;T++){let b=d[T];for(;g!==S&&b>=x+p[g].length;)x+=p[g].length,g++;g===p.length&&console.error("Could not find a matching mapping");const y={begin:{divIdx:g,offset:b-x}};for(b+=E[T];g!==S&&b>x+p[g].length;)x+=p[g].length,g++;y.end={divIdx:g,offset:b-x},w.push(y)}return w}_renderMatches(d){if(d.length===0)return;const{findController:E,pageIdx:p}=this,{textContentItemsStr:g,textDivs:x}=this,S=p===E.selected.pageIdx,w=E.selected.matchIdx,T=E.state.highlightAll;let m=null;const b={divIdx:-1,offset:void 0};function y(P,R){const $=P.divIdx;return x[$].textContent="",h($,0,P.offset,R)}function h(P,R,$,D){let X=x[P];if(X.nodeType===Node.TEXT_NODE){const N=document.createElement("span");X.before(N),N.append(X),x[P]=N,X=N}const W=g[P].substring(R,$),U=document.createTextNode(W);if(D){const N=document.createElement("span");return N.className=`${D} appended`,N.append(U),X.append(N),D.includes("selected")?N.offsetLeft:0}return X.append(U),0}let v=w,A=v+1;if(T)v=0,A=d.length;else if(!S)return;for(let P=v;P<A;P++){const R=d[P],$=R.begin,D=R.end,X=S&&P===w,W=X?" selected":"";let U=0;if(!m||$.divIdx!==m.divIdx?(m!==null&&h(m.divIdx,m.offset,b.offset),y($)):h(m.divIdx,m.offset,$.offset),$.divIdx===D.divIdx)U=h($.divIdx,$.offset,D.offset,"highlight"+W);else{U=h($.divIdx,$.offset,b.offset,"highlight begin"+W);for(let N=$.divIdx+1,z=D.divIdx;N<z;N++)x[N].className="highlight middle"+W;y(D,"highlight end"+W)}m=D,X&&E.scrollMatchIntoView({element:x[$.divIdx],selectedLeft:U,pageIndex:p,matchIndex:w})}m&&h(m.divIdx,m.offset,b.offset)}_updateMatches(){if(!this.enabled)return;const{findController:d,matches:E,pageIdx:p}=this,{textContentItemsStr:g,textDivs:x}=this;let S=-1;for(let m=0,b=E.length;m<b;m++){const y=E[m],h=Math.max(S,y.begin.divIdx);for(let v=h,A=y.end.divIdx;v<=A;v++){const P=x[v];P.textContent=g[v],P.className=""}S=y.end.divIdx+1}if(!(d!=null&&d.highlightMatches))return;const w=d.pageMatches[p]||null,T=d.pageMatchesLength[p]||null;this.matches=this._convertMatches(w,T),this._renderMatches(this.matches)}}o.TextHighlighter=f},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DownloadManager=void 0;var u=f(3);function d(p,g){const x=document.createElement("a");if(!x.click)throw new Error('DownloadManager: "a.click()" is not supported.');x.href=p,x.target="_parent","download"in x&&(x.download=g),(document.body||document.documentElement).append(x),x.click(),x.remove()}class E{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(g,x){if(!(0,u.createValidAbsoluteUrl)(g,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${g}`);return}d(g+"#pdfjs.action=download",x)}downloadData(g,x,S){const w=URL.createObjectURL(new Blob([g],{type:S}));d(w,x)}openOrDownloadData(g,x,S){const w=(0,u.isPdfFile)(S),T=w?"application/pdf":"";if(w){let m=this._openBlobUrls.get(g);m||(m=URL.createObjectURL(new Blob([x],{type:T})),this._openBlobUrls.set(g,m));let b;b="?file="+encodeURIComponent(m+"#"+S);try{return window.open(b),!0}catch(y){console.error(`openOrDownloadData: ${y}`),URL.revokeObjectURL(m),this._openBlobUrls.delete(g)}}return this.downloadData(x,S,T),!1}download(g,x,S){const w=URL.createObjectURL(g);d(w,S)}}o.DownloadManager=E},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WaitOnType=o.EventBus=o.AutomationEventBus=void 0,o.waitOnEventOrTimeout=u;const f={EVENT:"event",TIMEOUT:"timeout"};o.WaitOnType=f;function u(p){let{target:g,name:x,delay:S=0}=p;return new Promise(function(w,T){if(typeof g!="object"||!(x&&typeof x=="string")||!(Number.isInteger(S)&&S>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function m(v){g instanceof d?g._off(x,b):g.removeEventListener(x,b),h&&clearTimeout(h),w(v)}const b=m.bind(null,f.EVENT);g instanceof d?g._on(x,b):g.addEventListener(x,b);const y=m.bind(null,f.TIMEOUT),h=setTimeout(y,S)})}class d{constructor(){this._listeners=Object.create(null)}on(g,x){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._on(g,x,{external:!0,once:S==null?void 0:S.once})}off(g,x){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._off(g,x,{external:!0,once:S==null?void 0:S.once})}dispatch(g,x){const S=this._listeners[g];if(!S||S.length===0)return;let w;for(const{listener:T,external:m,once:b}of S.slice(0)){if(b&&this._off(g,T),m){(w||(w=[])).push(T);continue}T(x)}if(w){for(const T of w)T(x);w=null}}_on(g,x){var S;let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;((S=this._listeners)[g]||(S[g]=[])).push({listener:x,external:(w==null?void 0:w.external)===!0,once:(w==null?void 0:w.once)===!0})}_off(g,x){const S=this._listeners[g];if(S){for(let w=0,T=S.length;w<T;w++)if(S[w].listener===x){S.splice(w,1);return}}}}o.EventBus=d;class E extends d{dispatch(g,x){throw new Error("Not implemented: AutomationEventBus.dispatch")}}o.AutomationEventBus=E},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GenericL10n=void 0,f(21);var u=f(4);const d=document.webL10n;class E{constructor(g){this._lang=g,this._ready=new Promise((x,S)=>{d.setLanguage((0,u.fixupLangCode)(g),()=>{x(d)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(g){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(0,u.getL10nFallback)(g,x);return(await this._ready).get(g,x,S)}async translate(g){return(await this._ready).translate(g)}}o.GenericL10n=E},()=>{document.webL10n=function(c,o,f){var u={},d="",E="textContent",p="",g={},x="loading",S=!0;function w(){return o.querySelectorAll('link[type="application/l10n"]')}function T(){var N=o.querySelector('script[type="application/l10n"]');return N?JSON.parse(N.innerHTML):null}function m(N){return N?N.querySelectorAll("*[data-l10n-id]"):[]}function b(N){if(!N)return{};var z=N.getAttribute("data-l10n-id"),B=N.getAttribute("data-l10n-args"),I={};if(B)try{I=JSON.parse(B)}catch{console.warn("could not parse arguments for #"+z)}return{id:z,args:I}}function y(N,z,B){z=z||function(J){},B=B||function(){};var I=new XMLHttpRequest;I.open("GET",N,S),I.overrideMimeType&&I.overrideMimeType("text/plain; charset=utf-8"),I.onreadystatechange=function(){I.readyState==4&&(I.status==200||I.status===0?z(I.responseText):B())},I.onerror=B,I.ontimeout=B;try{I.send(null)}catch{B()}}function h(N,z,B,I){var j=N.replace(/[^\/]*$/,"")||"./";function J(re){return re.lastIndexOf("\\")<0?re:re.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function Q(re,de){var Y={},M=/^\s*|\s*$/,k=/^\s*#|^\s*$/,H=/^\s*\[(.*)\]\s*$/,q=/^\s*@import\s+url\((.*)\)\s*$/i,C=/^([^=\s]*)\s*=\s*(.+)$/;function O(V,K,Z){var ae=V.replace(M,"").split(/[\r\n]+/),le="*",pe=z.split("-",1)[0],be=!1,ve="";function ye(){for(;;){if(!ae.length){Z();return}var Pe=ae.shift();if(!k.test(Pe)){if(K){if(ve=H.exec(Pe),ve){le=ve[1].toLowerCase(),be=le!=="*"&&le!==z&&le!==pe;continue}else if(be)continue;if(ve=q.exec(Pe),ve){F(j+ve[1],ye);return}}var ke=Pe.match(C);ke&&ke.length==3&&(Y[ke[1]]=J(ke[2]))}}}ye()}function F(V,K){y(V,function(Z){O(Z,!1,K)},function(){console.warn(V+" not found."),K()})}O(re,!0,function(){de(Y)})}y(N,function(re){d+=re,Q(re,function(de){for(var Y in de){var M,k,H=Y.lastIndexOf(".");H>0?(M=Y.substring(0,H),k=Y.substring(H+1)):(M=Y,k=E),u[M]||(u[M]={}),u[M][k]=de[Y]}B&&B()})},I)}function v(N,z){N&&(N=N.toLowerCase()),z=z||function(){},A(),p=N;var B=w(),I=B.length;if(I===0){var j=T();if(j&&j.locales&&j.default_locale){if(console.log("using the embedded JSON directory, early way out"),u=j.locales[N],!u){var J=j.default_locale.toLowerCase();for(var Q in j.locales)if(Q=Q.toLowerCase(),Q===N){u=j.locales[N];break}else Q===J&&(u=j.locales[J])}z()}else console.log("no resource to load, early way out");x="complete";return}var re=null,de=0;re=function(){de++,de>=I&&(z(),x="complete")};function Y(H){var q=H.href;this.load=function(C,O){h(q,C,O,function(){console.warn(q+" not found."),console.warn('"'+C+'" resource not found'),p="",O()})}}for(var M=0;M<I;M++){var k=new Y(B[M]);k.load(N,re)}}function A(){u={},d="",p=""}function P(N){var z={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function B(Q,re){return re.indexOf(Q)!==-1}function I(Q,re,de){return re<=Q&&Q<=de}var j={0:function(Q){return"other"},1:function(Q){return I(Q%100,3,10)?"few":Q===0?"zero":I(Q%100,11,99)?"many":Q==2?"two":Q==1?"one":"other"},2:function(Q){return Q!==0&&Q%10===0?"many":Q==2?"two":Q==1?"one":"other"},3:function(Q){return Q==1?"one":"other"},4:function(Q){return I(Q,0,1)?"one":"other"},5:function(Q){return I(Q,0,2)&&Q!=2?"one":"other"},6:function(Q){return Q===0?"zero":Q%10==1&&Q%100!=11?"one":"other"},7:function(Q){return Q==2?"two":Q==1?"one":"other"},8:function(Q){return I(Q,3,6)?"few":I(Q,7,10)?"many":Q==2?"two":Q==1?"one":"other"},9:function(Q){return Q===0||Q!=1&&I(Q%100,1,19)?"few":Q==1?"one":"other"},10:function(Q){return I(Q%10,2,9)&&!I(Q%100,11,19)?"few":Q%10==1&&!I(Q%100,11,19)?"one":"other"},11:function(Q){return I(Q%10,2,4)&&!I(Q%100,12,14)?"few":Q%10===0||I(Q%10,5,9)||I(Q%100,11,14)?"many":Q%10==1&&Q%100!=11?"one":"other"},12:function(Q){return I(Q,2,4)?"few":Q==1?"one":"other"},13:function(Q){return I(Q%10,2,4)&&!I(Q%100,12,14)?"few":Q!=1&&I(Q%10,0,1)||I(Q%10,5,9)||I(Q%100,12,14)?"many":Q==1?"one":"other"},14:function(Q){return I(Q%100,3,4)?"few":Q%100==2?"two":Q%100==1?"one":"other"},15:function(Q){return Q===0||I(Q%100,2,10)?"few":I(Q%100,11,19)?"many":Q==1?"one":"other"},16:function(Q){return Q%10==1&&Q!=11?"one":"other"},17:function(Q){return Q==3?"few":Q===0?"zero":Q==6?"many":Q==2?"two":Q==1?"one":"other"},18:function(Q){return Q===0?"zero":I(Q,0,2)&&Q!==0&&Q!=2?"one":"other"},19:function(Q){return I(Q,2,10)?"few":I(Q,0,1)?"one":"other"},20:function(Q){return(I(Q%10,3,4)||Q%10==9)&&!(I(Q%100,10,19)||I(Q%100,70,79)||I(Q%100,90,99))?"few":Q%1e6===0&&Q!==0?"many":Q%10==2&&!B(Q%100,[12,72,92])?"two":Q%10==1&&!B(Q%100,[11,71,91])?"one":"other"},21:function(Q){return Q===0?"zero":Q==1?"one":"other"},22:function(Q){return I(Q,0,1)||I(Q,11,99)?"one":"other"},23:function(Q){return I(Q%10,1,2)||Q%20===0?"one":"other"},24:function(Q){return I(Q,3,10)||I(Q,13,19)?"few":B(Q,[2,12])?"two":B(Q,[1,11])?"one":"other"}},J=z[N.replace(/-.*$/,"")];return J in j?j[J]:(console.warn("plural form unknown for ["+N+"]"),function(){return"other"})}g.plural=function(N,z,B,I){var j=parseFloat(z);if(isNaN(j)||I!=E)return N;g._pluralRules||(g._pluralRules=P(p));var J="["+g._pluralRules(j)+"]";return j===0&&B+"[zero]"in u?N=u[B+"[zero]"][I]:j==1&&B+"[one]"in u?N=u[B+"[one]"][I]:j==2&&B+"[two]"in u?N=u[B+"[two]"][I]:B+J in u?N=u[B+J][I]:B+"[other]"in u&&(N=u[B+"[other]"][I]),N};function R(N,z,B){var I=u[N];if(!I){if(console.warn("#"+N+" is undefined."),!B)return null;I=B}var j={};for(var J in I){var Q=I[J];Q=$(Q,z,N,J),Q=D(Q,z,N),j[J]=Q}return j}function $(N,z,B,I){var j=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,J=j.exec(N);if(!J||!J.length)return N;var Q=J[1],re=J[2],de;if(z&&re in z?de=z[re]:re in u&&(de=u[re]),Q in g){var Y=g[Q];N=Y(N,de,B,I)}return N}function D(N,z,B){var I=/\{\{\s*(.+?)\s*\}\}/g;return N.replace(I,function(j,J){return z&&J in z?z[J]:J in u?u[J]:(console.log("argument {{"+J+"}} for #"+B+" is undefined."),j)})}function X(N){var z=b(N);if(z.id){var B=R(z.id,z.args);if(!B){console.warn("#"+z.id+" is undefined.");return}if(B[E]){if(W(N)===0)N[E]=B[E];else{for(var I=N.childNodes,j=!1,J=0,Q=I.length;J<Q;J++)I[J].nodeType===3&&/\S/.test(I[J].nodeValue)&&(j?I[J].nodeValue="":(I[J].nodeValue=B[E],j=!0));if(!j){var re=o.createTextNode(B[E]);N.prepend(re)}}delete B[E]}for(var de in B)N[de]=B[de]}}function W(N){if(N.children)return N.children.length;if(typeof N.childElementCount<"u")return N.childElementCount;for(var z=0,B=0;B<N.childNodes.length;B++)z+=N.nodeType===1?1:0;return z}function U(N){N=N||o.documentElement;for(var z=m(N),B=z.length,I=0;I<B;I++)X(z[I]);X(N)}return{get:function(N,z,B){var I=N.lastIndexOf("."),j=E;I>0&&(j=N.substring(I+1),N=N.substring(0,I));var J;B&&(J={},J[j]=B);var Q=R(N,z,J);return Q&&j in Q?Q[j]:"{{"+N+"}}"},getData:function(){return u},getText:function(){return d},getLanguage:function(){return p},setLanguage:function(N,z){v(N,function(){z&&z()})},getDirection:function(){var N=["ar","he","fa","ps","ur"],z=p.split("-",1)[0];return N.indexOf(z)>=0?"rtl":"ltr"},translate:U,getReadyState:function(){return x},ready:function(N){if(N)x=="complete"||x=="interactive"?c.setTimeout(function(){N()}):o.addEventListener&&o.addEventListener("localized",function z(){o.removeEventListener("localized",z),N()});else return}}}(window,document)},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFindController=o.FindState=void 0;var u=f(7),d=f(3),E=f(23);function p(Se,xe,he){x(Se,xe),xe.set(Se,he)}function g(Se,xe){x(Se,xe),xe.add(Se)}function x(Se,xe){if(xe.has(Se))throw new TypeError("Cannot initialize the same private elements twice on an object")}function S(Se,xe){var he=w(Se,xe,"get");return T(Se,he)}function w(Se,xe,he){if(!xe.has(Se))throw new TypeError("attempted to "+he+" private field on non-instance");return xe.get(Se)}function T(Se,xe){return xe.get?xe.get.call(Se):xe.value}function m(Se,xe,he){if(!xe.has(Se))throw new TypeError("attempted to get private field on non-instance");return he}const b={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};o.FindState=b;const y=250,h=-50,v=-400,A={"â":"-","â":"'","â":"'","â":"'","â":"'","â":'"',"â":'"',"â":'"',"â":'"',"Â¼":"1/4","Â½":"1/2","Â¾":"3/4"},P=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),R=[...P.values()].map(Se=>String.fromCharCode(Se)).join(""),$=new RegExp("\\p{M}+","gu"),D=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),X=new RegExp("([^\\p{M}])\\p{M}*$","u"),W=new RegExp("^\\p{M}*([^\\p{M}])","u"),U=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,N=new Map,z="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]";let B=null,I=null;function j(Se){const xe=[];let he;for(;(he=U.exec(Se))!==null;){let{index:Ye}=he;for(const Ke of he[0]){let et=N.get(Ke);et||(et=Ke.normalize("NFD").length,N.set(Ke,et)),xe.push([et,Ye++])}}let ie;if(xe.length===0&&B)ie=B;else if(xe.length>0&&I)ie=I;else{const Ke=`([${Object.keys(A).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;xe.length===0?ie=B=new RegExp(Ke+"|(\\u0000)","gum"):ie=I=new RegExp(Ke+`|(${z})`,"gum")}const _e=[];for(;(he=$.exec(Se))!==null;)_e.push([he[0].length,he.index]);let Re=Se.normalize("NFD");const Le=[[0,0]];let ze=0,Ue=0,je=0,Ne=0,Ge=0,rt=!1;return Re=Re.replace(ie,(Ye,Ke,et,tt,lt,it,ot)=>{var yt;if(ot-=Ne,Ke){const ft=A[Ye],ut=ft.length;for(let pt=1;pt<ut;pt++)Le.push([ot-je+pt,je-pt]);return je-=ut-1,ft}if(et){var ht;const ft=et.endsWith(`
`),ut=ft?et.length-2:et.length;rt=!0;let pt=ut;ot+Ge===((ht=_e[ze])===null||ht===void 0?void 0:ht[1])&&(pt-=_e[ze][0],++ze);for(let dt=1;dt<=pt;dt++)Le.push([ot-1-je+dt,je-dt]);return je-=pt,Ne+=pt,ft?(ot+=ut-1,Le.push([ot-je+1,1+je]),je+=1,Ne+=1,Ge+=1,et.slice(0,ut)):et}if(tt)return Le.push([ot-je+1,1+je]),je+=1,Ne+=1,Ge+=1,tt.charAt(0);if(lt)return Le.push([ot-je+1,je-1]),je-=1,Ne+=1,Ge+=1," ";if(ot+Ge===((yt=xe[Ue])===null||yt===void 0?void 0:yt[1])){const ft=xe[Ue][0]-1;++Ue;for(let ut=1;ut<=ft;ut++)Le.push([ot-(je-ut),je-ut]);je-=ft,Ne+=ft}return it}),Le.push([Re.length,je]),[Re,Le,rt]}function J(Se,xe,he){if(!Se)return[xe,he];const ie=xe,_e=xe+he;let Re=(0,u.binarySearchFirstItem)(Se,ze=>ze[0]>=ie);Se[Re][0]>ie&&--Re;let Le=(0,u.binarySearchFirstItem)(Se,ze=>ze[0]>=_e,Re);return Se[Le][0]>_e&&--Le,[ie+Se[Re][1],he+Se[Le][1]-Se[Re][1]]}var Q=new WeakSet,re=new WeakSet,de=new WeakMap,Y=new WeakSet,M=new WeakSet,k=new WeakSet,H=new WeakSet,q=new WeakSet,C=new WeakSet,O=new WeakSet,F=new WeakSet,V=new WeakSet,K=new WeakSet,Z=new WeakSet,ae=new WeakSet,le=new WeakSet,pe=new WeakSet,be=new WeakSet,ve=new WeakSet,ye=new WeakSet;class Pe{constructor(xe){let{linkService:he,eventBus:ie}=xe;g(this,ye),g(this,ve),g(this,be),g(this,pe),g(this,le),g(this,ae),g(this,Z),g(this,K),g(this,V),g(this,F),g(this,O),g(this,C),g(this,q),g(this,H),g(this,k),g(this,M),g(this,Y),p(this,de,{get:De,set:void 0}),g(this,re),g(this,Q),this._linkService=he,this._eventBus=ie,m(this,re,Ie).call(this),ie._on("find",m(this,Q,ke).bind(this)),ie._on("findbarclose",m(this,pe,ue).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(xe){this._pdfDocument&&m(this,re,Ie).call(this),xe&&(this._pdfDocument=xe,this._firstPageCapability.resolve())}scrollMatchIntoView(xe){let{element:he=null,selectedLeft:ie=0,pageIndex:_e=-1,matchIndex:Re=-1}=xe;if(!this._scrollMatches||!he)return;if(Re===-1||Re!==this._selected.matchIdx)return;if(_e===-1||_e!==this._selected.pageIdx)return;this._scrollMatches=!1;const Le={top:h,left:ie+v};(0,u.scrollIntoView)(he,Le,!0)}}o.PDFFindController=Pe;function ke(Se){if(!Se)return;const xe=this._pdfDocument,{type:he}=Se;(this._state===null||m(this,Y,Ve).call(this,Se))&&(this._dirtyMatch=!0),this._state=Se,he!=="highlightallchange"&&m(this,ye,we).call(this,b.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||xe&&this._pdfDocument!==xe)return;m(this,C,Te).call(this);const ie=!this._highlightMatches,_e=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),he?this._dirtyMatch?m(this,V,se).call(this):he==="again"?(m(this,V,se).call(this),ie&&this._state.highlightAll&&m(this,F,G).call(this)):he==="highlightallchange"?(_e?m(this,V,se).call(this):this._highlightMatches=!0,m(this,F,G).call(this)):m(this,V,se).call(this):this._findTimeout=setTimeout(()=>{m(this,V,se).call(this),this._findTimeout=null},y)})}function Ie(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,d.createPromiseCapability)()}function De(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=j(this._state.query)),this._normalizedQuery}function Ve(Se){if(Se.query!==this._state.query)return!0;switch(Se.type){case"again":const xe=this._selected.pageIdx+1,he=this._linkService;return xe>=1&&xe<=he.pagesCount&&xe!==he.page&&!he.isPageVisible(xe);case"highlightallchange":return!1}return!0}function ge(Se,xe,he){let ie=Se.slice(0,xe).match(X);if(ie){const _e=Se.charCodeAt(xe),Re=ie[1].charCodeAt(0);if((0,E.getCharacterType)(_e)===(0,E.getCharacterType)(Re))return!1}if(ie=Se.slice(xe+he).match(W),ie){const _e=Se.charCodeAt(xe+he-1),Re=ie[1].charCodeAt(0);if((0,E.getCharacterType)(_e)===(0,E.getCharacterType)(Re))return!1}return!0}function $e(Se,xe,he,ie){const _e=[],Re=[],Le=this._pageDiffs[he];let ze;for(;(ze=Se.exec(ie))!==null;){if(xe&&!m(this,M,ge).call(this,ie,ze.index,ze[0].length))continue;const[Ue,je]=J(Le,ze.index,ze[0].length);je&&(_e.push(Ue),Re.push(je))}this._pageMatches[he]=_e,this._pageMatchesLength[he]=Re}function Fe(Se,xe){const{matchDiacritics:he}=this._state;let ie=!1;Se=Se.replace(D,(Re,Le,ze,Ue,je,Ne)=>Le?`[ ]*\\${Le}[ ]*`:ze?`[ ]*${ze}[ ]*`:Ue?"[ ]+":he?je||Ne:je?P.has(je.charCodeAt(0))?je:"":xe?(ie=!0,`${Ne}\\p{M}*`):Ne);const _e="[ ]*";return Se.endsWith(_e)&&(Se=Se.slice(0,Se.length-_e.length)),he&&xe&&(ie=!0,Se=`${Se}(?=[${R}]|[^\\p{M}]|$)`),[ie,Se]}function Oe(Se){let xe=S(this,de);if(xe.length===0)return;const{caseSensitive:he,entireWord:ie,phraseSearch:_e}=this._state,Re=this._pageContents[Se],Le=this._hasDiacritics[Se];let ze=!1;if(_e)[ze,xe]=m(this,H,Fe).call(this,xe,Le);else{const Ne=xe.match(/\S+/g);Ne&&(xe=Ne.sort().reverse().map(Ge=>{const[rt,Ye]=m(this,H,Fe).call(this,Ge,Le);return ze||(ze=rt),`(${Ye})`}).join("|"))}const Ue=`g${ze?"u":""}${he?"":"i"}`;xe=new RegExp(xe,Ue),m(this,k,$e).call(this,xe,ie,Se,Re),this._state.highlightAll&&m(this,O,te).call(this,Se),this._resumePageIdx===Se&&(this._resumePageIdx=null,m(this,Z,fe).call(this));const je=this._pageMatches[Se].length;je>0&&(this._matchesCountTotal+=je,m(this,ve,oe).call(this))}function Te(){if(this._extractTextPromises.length>0)return;let Se=Promise.resolve();for(let xe=0,he=this._linkService.pagesCount;xe<he;xe++){const ie=(0,d.createPromiseCapability)();this._extractTextPromises[xe]=ie.promise,Se=Se.then(()=>this._pdfDocument.getPage(xe+1).then(_e=>_e.getTextContent()).then(_e=>{const Re=[];for(const Le of _e.items)Re.push(Le.str),Le.hasEOL&&Re.push(`
`);[this._pageContents[xe],this._pageDiffs[xe],this._hasDiacritics[xe]]=j(Re.join("")),ie.resolve()},_e=>{console.error(`Unable to get text content for page ${xe+1}`,_e),this._pageContents[xe]="",this._pageDiffs[xe]=null,this._hasDiacritics[xe]=!1,ie.resolve()}))}}function te(Se){this._scrollMatches&&this._selected.pageIdx===Se&&(this._linkService.page=Se+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Se})}function G(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function se(){const Se=this._state.findPrevious,xe=this._linkService.page-1,he=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=xe,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,m(this,F,G).call(this);for(let _e=0;_e<he;_e++)this._pendingFindMatches.has(_e)||(this._pendingFindMatches.add(_e),this._extractTextPromises[_e].then(()=>{this._pendingFindMatches.delete(_e),m(this,q,Oe).call(this,_e)}))}if(S(this,de)===""){m(this,ye,we).call(this,b.FOUND);return}if(this._resumePageIdx)return;const ie=this._offset;if(this._pagesToSearch=he,ie.matchIdx!==null){const _e=this._pageMatches[ie.pageIdx].length;if(!Se&&ie.matchIdx+1<_e||Se&&ie.matchIdx>0){ie.matchIdx=Se?ie.matchIdx-1:ie.matchIdx+1,m(this,le,Me).call(this,!0);return}m(this,ae,Ae).call(this,Se)}m(this,Z,fe).call(this)}function Ee(Se){const xe=this._offset,he=Se.length,ie=this._state.findPrevious;return he?(xe.matchIdx=ie?he-1:0,m(this,le,Me).call(this,!0),!0):(m(this,ae,Ae).call(this,ie),xe.wrapped&&(xe.matchIdx=null,this._pagesToSearch<0)?(m(this,le,Me).call(this,!1),!0):!1)}function fe(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let Se=null;do{const xe=this._offset.pageIdx;if(Se=this._pageMatches[xe],!Se){this._resumePageIdx=xe;break}}while(!m(this,K,Ee).call(this,Se))}function Ae(Se){const xe=this._offset,he=this._linkService.pagesCount;xe.pageIdx=Se?xe.pageIdx-1:xe.pageIdx+1,xe.matchIdx=null,this._pagesToSearch--,(xe.pageIdx>=he||xe.pageIdx<0)&&(xe.pageIdx=Se?he-1:0,xe.wrapped=!0)}function Me(){let Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,xe=b.NOT_FOUND;const he=this._offset.wrapped;if(this._offset.wrapped=!1,Se){const ie=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,xe=he?b.WRAPPED:b.FOUND,ie!==-1&&ie!==this._selected.pageIdx&&m(this,O,te).call(this,ie)}m(this,ye,we).call(this,xe,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,m(this,O,te).call(this,this._selected.pageIdx))}function ue(Se){const xe=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||xe&&this._pdfDocument!==xe||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),m(this,ye,we).call(this,b.FOUND),this._highlightMatches=!1,m(this,F,G).call(this))})}function ne(){const{pageIdx:Se,matchIdx:xe}=this._selected;let he=0,ie=this._matchesCountTotal;if(xe!==-1){for(let Re=0;Re<Se;Re++){var _e;he+=((_e=this._pageMatches[Re])===null||_e===void 0?void 0:_e.length)||0}he+=xe+1}return(he<1||he>ie)&&(he=ie=0),{current:he,total:ie}}function oe(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:m(this,be,ne).call(this)})}function we(Se){var xe,he;let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Se,previous:ie,matchesCount:m(this,be,ne).call(this),rawQuery:(xe=(he=this._state)===null||he===void 0?void 0:he.query)!==null&&xe!==void 0?xe:null})}},(c,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterType=void 0,o.getCharacterType=b;const f={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};o.CharacterType=f;function u(y){return y<11904}function d(y){return(y&65408)===0}function E(y){return y>=97&&y<=122||y>=65&&y<=90}function p(y){return y>=48&&y<=57}function g(y){return y===32||y===9||y===13||y===10}function x(y){return y>=13312&&y<=40959||y>=63744&&y<=64255}function S(y){return y>=12448&&y<=12543}function w(y){return y>=12352&&y<=12447}function T(y){return y>=65376&&y<=65439}function m(y){return(y&65408)===3584}function b(y){return u(y)?d(y)?g(y)?f.SPACE:E(y)||p(y)||y===95?f.ALPHA_LETTER:f.PUNCT:m(y)?f.THAI_LETTER:y===160?f.SPACE:f.ALPHA_LETTER:x(y)?f.HAN_LETTER:S(y)?f.KATAKANA_LETTER:w(y)?f.HIRAGANA_LETTER:T(y)?f.HALFWIDTH_KATAKANA_LETTER:f.ALPHA_LETTER}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFHistory=void 0,o.isDestArraysEqual=T,o.isDestHashesEqual=w;var u=f(7),d=f(19);const E=1e3,p=50,g=1e3;function x(){return document.location.hash}class S{constructor(b){let{linkService:y,eventBus:h}=b;this.linkService=y,this.eventBus=h,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",v=>{this._isPagesLoaded=!!v.pagesCount},{once:!0})})}initialize(b){let{fingerprint:y,resetHistory:h=!1,updateUrl:v=!1}=b;if(!y||typeof y!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const A=this._fingerprint!==""&&this._fingerprint!==y;this._fingerprint=y,this._updateUrl=v===!0,this._initialized=!0,this._bindEvents();const P=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=x(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(P,!0)||h){const{hash:$,page:D,rotation:X}=this._parseCurrentHash(!0);if(!$||A||h){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:$,page:D,rotation:X},!0);return}const R=P.destination;this._updateInternalState(R,P.uid,!0),R.rotation!==void 0&&(this._initialRotation=R.rotation),R.dest?(this._initialBookmark=JSON.stringify(R.dest),this._destination.page=null):R.hash?this._initialBookmark=R.hash:R.page&&(this._initialBookmark=`page=${R.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push(b){let{namedDest:y=null,explicitDest:h,pageNumber:v}=b;if(!this._initialized)return;if(y&&typeof y!="string"){console.error(`PDFHistory.push: "${y}" is not a valid namedDest parameter.`);return}else if(Array.isArray(h)){if(!this._isValidPage(v)&&(v!==null||this._destination)){console.error(`PDFHistory.push: "${v}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${h}" is not a valid explicitDest parameter.`);return}const A=y||JSON.stringify(h);if(!A)return;let P=!1;if(this._destination&&(w(this._destination.hash,A)||T(this._destination.dest,h))){if(this._destination.page)return;P=!0}this._popStateInProgress&&!P||(this._pushOrReplaceState({dest:h,hash:A,page:v,rotation:this.linkService.rotation},P),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(b){var y;if(this._initialized){if(!this._isValidPage(b)){console.error(`PDFHistory.pushPage: "${b}" is not a valid page number.`);return}((y=this._destination)===null||y===void 0?void 0:y.page)!==b&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${b}`,page:b,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const b=window.history.state;this._isValidState(b)&&b.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const b=window.history.state;this._isValidState(b)&&b.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(b){const h=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||!this._destination,v={fingerprint:this._fingerprint,uid:h?this._uid:this._uid+1,destination:b};this._updateInternalState(b,v.uid);let A;if(this._updateUrl&&b!==null&&b!==void 0&&b.hash){const P=document.location.href.split("#")[0];P.startsWith("file://")||(A=`${P}#${b.hash}`)}h?window.history.replaceState(v,"",A):window.history.pushState(v,"",A)}_tryPushCurrentPosition(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._position)return;let y=this._position;if(b&&(y=Object.assign(Object.create(null),this._position),y.temporary=!0),!this._destination){this._pushOrReplaceState(y);return}if(this._destination.temporary){this._pushOrReplaceState(y,!0);return}if(this._destination.hash===y.hash||!this._destination.page&&this._numPositionUpdates<=p)return;let h=!1;if(this._destination.page>=y.first&&this._destination.page<=y.page){if(this._destination.dest!==void 0||!this._destination.first)return;h=!0}this._pushOrReplaceState(y,h)}_isValidPage(b){return Number.isInteger(b)&&b>0&&b<=this.linkService.pagesCount}_isValidState(b){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!b)return!1;if(b.fingerprint!==this._fingerprint)if(y){if(typeof b.fingerprint!="string"||b.fingerprint.length!==this._fingerprint.length)return!1;const[h]=performance.getEntriesByType("navigation");if((h==null?void 0:h.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(b.uid)||b.uid<0||b.destination===null||typeof b.destination!="object")}_updateInternalState(b,y){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),h&&b!==null&&b!==void 0&&b.temporary&&delete b.temporary,this._destination=b,this._uid=y,this._maxUid=Math.max(this._maxUid,y),this._numPositionUpdates=0}_parseCurrentHash(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const y=unescape(x()).substring(1),h=(0,u.parseQueryString)(y),v=h.get("nameddest")||"";let A=h.get("page")|0;return(!this._isValidPage(A)||b&&v.length>0)&&(A=null),{hash:y,page:A,rotation:this.linkService.rotation}}_updateViewarea(b){let{location:y}=b;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:y.pdfOpenParams.substring(1),page:this.linkService.page,first:y.pageNumber,rotation:y.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},g))}_popState(b){let{state:y}=b;const h=x(),v=this._currentHash!==h;if(this._currentHash=h,!y){this._uid++;const{hash:P,page:R,rotation:$}=this._parseCurrentHash();this._pushOrReplaceState({hash:P,page:R,rotation:$},!0);return}if(!this._isValidState(y))return;this._popStateInProgress=!0,v&&(this._blockHashChange++,(0,d.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:E}).then(()=>{this._blockHashChange--}));const A=y.destination;this._updateInternalState(A,y.uid,!0),(0,u.isValidRotation)(A.rotation)&&(this.linkService.rotation=A.rotation),A.dest?this.linkService.goToDestination(A.dest):A.hash?this.linkService.setHash(A.hash):A.page&&(this.linkService.page=A.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}o.PDFHistory=S;function w(m,b){return typeof m!="string"||typeof b!="string"?!1:m===b||(0,u.parseQueryString)(m).get("nameddest")===b}function T(m,b){function y(h,v){if(typeof h!=typeof v||Array.isArray(h)||Array.isArray(v))return!1;if(h!==null&&typeof h=="object"&&v!==null){if(Object.keys(h).length!==Object.keys(v).length)return!1;for(const A in h)if(!y(h[A],v[A]))return!1;return!0}return h===v||Number.isNaN(h)&&Number.isNaN(v)}if(!(Array.isArray(m)&&Array.isArray(b))||m.length!==b.length)return!1;for(let h=0,v=m.length;h<v;h++)if(!y(m[h],b[h]))return!1;return!0}},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFScriptingManager=void 0;var u=f(7),d=f(3);class E{constructor(g){let{eventBus:x,sandboxBundleSrc:S=null,scriptingFactory:w=null,docPropertiesLookup:T=null}=g;this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=x,this._sandboxBundleSrc=S,this._scriptingFactory=w,this._docPropertiesLookup=T,this._scriptingFactory||window.addEventListener("updatefromsandbox",m=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:m.detail})})}setViewer(g){this._pdfViewer=g}async setDocument(g){var x;if(this._pdfDocument&&await this._destroyScripting(),this._pdfDocument=g,!g)return;const[S,w,T]=await Promise.all([g.getFieldObjects(),g.getCalculationOrderIds(),g.getJSActions()]);if(!S&&!T){await this._destroyScripting();return}if(g===this._pdfDocument){try{this._scripting=this._createScripting()}catch(m){console.error(`PDFScriptingManager.setDocument: "${m==null?void 0:m.message}".`),await this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",m=>{(m==null?void 0:m.source)===window&&this._updateFromSandbox(m.detail)}),this._internalEvents.set("dispatcheventinsandbox",m=>{var b;(b=this._scripting)===null||b===void 0||b.dispatchEventInSandbox(m.detail)}),this._internalEvents.set("pagechanging",m=>{let{pageNumber:b,previous:y}=m;b!==y&&(this._dispatchPageClose(y),this._dispatchPageOpen(b))}),this._internalEvents.set("pagerendered",m=>{let{pageNumber:b}=m;this._pageOpenPending.has(b)&&b===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(b)}),this._internalEvents.set("pagesdestroy",async m=>{var b,y;await this._dispatchPageClose(this._pdfViewer.currentPageNumber),await((b=this._scripting)===null||b===void 0?void 0:b.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(y=this._closeCapability)===null||y===void 0||y.resolve()}),this._domEvents.set("mousedown",m=>{this._mouseState.isDown=!0}),this._domEvents.set("mouseup",m=>{this._mouseState.isDown=!1});for(const[m,b]of this._internalEvents)this._eventBus._on(m,b);for(const[m,b]of this._domEvents)window.addEventListener(m,b,!0);try{const m=await this._getDocProperties();if(g!==this._pdfDocument)return;await this._scripting.createSandbox({objects:S,calculationOrder:w,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...m,actions:T}}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(m){console.error(`PDFScriptingManager.setDocument: "${m==null?void 0:m.message}".`),await this._destroyScripting();return}await((x=this._scripting)===null||x===void 0?void 0:x.dispatchEventInSandbox({id:"doc",name:"Open"})),await this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{g===this._pdfDocument&&(this._ready=!0)})}}async dispatchWillSave(g){var x;return(x=this._scripting)===null||x===void 0?void 0:x.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(g){var x;return(x=this._scripting)===null||x===void 0?void 0:x.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(g){var x;return(x=this._scripting)===null||x===void 0?void 0:x.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(g){var x;return(x=this._scripting)===null||x===void 0?void 0:x.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get mouseState(){return this._mouseState}get destroyPromise(){var g;return((g=this._destroyCapability)===null||g===void 0?void 0:g.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,d.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,d.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,d.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,d.shadow)(this,"_visitedPages",new Map)}async _updateFromSandbox(g){const x=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:S,siblings:w,command:T,value:m}=g;if(!S){switch(T){case"clear":console.clear();break;case"error":console.error(m);break;case"layout":if(x)return;const h=(0,u.apiPageLayoutToViewerModes)(m);this._pdfViewer.spreadMode=h.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=m+1;break;case"print":await this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(m);break;case"zoom":if(x)return;this._pdfViewer.currentScaleValue=m;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(x)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(x)return;this._pdfViewer.decreaseScale();break}return}if(x&&g.focus)return;delete g.id,delete g.siblings;const b=w?[S,...w]:[S];for(const h of b){const v=document.querySelector(`[data-element-id="${h}"]`);if(v)v.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:g}));else{var y;(y=this._pdfDocument)===null||y===void 0||y.annotationStorage.setValue(h,g)}}}async _dispatchPageOpen(g){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const S=this._pdfDocument,w=this._visitedPages;if(x&&(this._closeCapability=(0,d.createPromiseCapability)()),!this._closeCapability)return;const T=this._pdfViewer.getPageView(g-1);if((T==null?void 0:T.renderingState)!==u.RenderingStates.FINISHED){this._pageOpenPending.add(g);return}this._pageOpenPending.delete(g);const m=(async()=>{var b,y;const h=await(w.has(g)?null:(b=T.pdfPage)===null||b===void 0?void 0:b.getJSActions());S===this._pdfDocument&&await((y=this._scripting)===null||y===void 0?void 0:y.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:g,actions:h}))})();w.set(g,m)}async _dispatchPageClose(g){var x;const S=this._pdfDocument,w=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(g))return;const T=w.get(g);T&&(w.set(g,null),await T,S===this._pdfDocument&&await((x=this._scripting)===null||x===void 0?void 0:x.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:g})))}async _getDocProperties(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);const{docPropertiesLookup:g}=f(26);return g(this._pdfDocument)}_createScripting(){if(this._destroyCapability=(0,d.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:g}=f(26);return new g(this._sandboxBundleSrc)}async _destroyScripting(){var g;if(!this._scripting){var x;this._pdfDocument=null,(x=this._destroyCapability)===null||x===void 0||x.resolve();return}this._closeCapability&&(await Promise.race([this._closeCapability.promise,new Promise(S=>{setTimeout(S,1e3)})]).catch(S=>{}),this._closeCapability=null),this._pdfDocument=null;try{await this._scripting.destroySandbox()}catch{}for(const[S,w]of this._internalEvents)this._eventBus._off(S,w);this._internalEvents.clear();for(const[S,w]of this._domEvents)window.removeEventListener(S,w,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,(g=this._destroyCapability)===null||g===void 0||g.resolve()}}o.PDFScriptingManager=E},(c,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GenericScripting=void 0,o.docPropertiesLookup=d;var u=f(3);async function d(p){const g="",x=g.split("#")[0];let{info:S,metadata:w,contentDispositionFilename:T,contentLength:m}=await p.getMetadata();if(!m){const{length:b}=await p.getDownloadInfo();m=b}return{...S,baseURL:x,filesize:m,filename:T||(0,u.getPdfFilenameFromUrl)(g),metadata:w==null?void 0:w.getRaw(),authors:w==null?void 0:w.get("dc:creator"),numPages:p.numPages,URL:g}}class E{constructor(g){this._ready=(0,u.loadScript)(g,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(g){(await this._ready).create(g)}async dispatchEventInSandbox(g){const x=await this._ready;setTimeout(()=>x.dispatchEvent(g),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}o.GenericScripting=E}],n={};function a(c){var o=n[c];if(o!==void 0)return o.exports;var f=n[c]={exports:{}};return e[c](f,f.exports,a),f.exports}var l={};return(()=>{var c=l;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return E.AnnotationLayerBuilder}}),Object.defineProperty(c,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return o.DefaultAnnotationLayerFactory}}),Object.defineProperty(c,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return o.DefaultStructTreeLayerFactory}}),Object.defineProperty(c,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return o.DefaultTextLayerFactory}}),Object.defineProperty(c,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return o.DefaultXfaLayerFactory}}),Object.defineProperty(c,"DownloadManager",{enumerable:!0,get:function(){return p.DownloadManager}}),Object.defineProperty(c,"EventBus",{enumerable:!0,get:function(){return g.EventBus}}),Object.defineProperty(c,"GenericL10n",{enumerable:!0,get:function(){return x.GenericL10n}}),Object.defineProperty(c,"LinkTarget",{enumerable:!0,get:function(){return f.LinkTarget}}),Object.defineProperty(c,"NullL10n",{enumerable:!0,get:function(){return S.NullL10n}}),Object.defineProperty(c,"PDFFindController",{enumerable:!0,get:function(){return w.PDFFindController}}),Object.defineProperty(c,"PDFHistory",{enumerable:!0,get:function(){return T.PDFHistory}}),Object.defineProperty(c,"PDFLinkService",{enumerable:!0,get:function(){return f.PDFLinkService}}),Object.defineProperty(c,"PDFPageView",{enumerable:!0,get:function(){return m.PDFPageView}}),Object.defineProperty(c,"PDFScriptingManager",{enumerable:!0,get:function(){return b.PDFScriptingManager}}),Object.defineProperty(c,"PDFSinglePageViewer",{enumerable:!0,get:function(){return d.PDFSinglePageViewer}}),Object.defineProperty(c,"PDFViewer",{enumerable:!0,get:function(){return d.PDFViewer}}),Object.defineProperty(c,"ProgressBar",{enumerable:!0,get:function(){return u.ProgressBar}}),Object.defineProperty(c,"RenderingStates",{enumerable:!0,get:function(){return u.RenderingStates}}),Object.defineProperty(c,"ScrollMode",{enumerable:!0,get:function(){return u.ScrollMode}}),Object.defineProperty(c,"SimpleLinkService",{enumerable:!0,get:function(){return f.SimpleLinkService}}),Object.defineProperty(c,"SpreadMode",{enumerable:!0,get:function(){return u.SpreadMode}}),Object.defineProperty(c,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return y.StructTreeLayerBuilder}}),Object.defineProperty(c,"TextLayerBuilder",{enumerable:!0,get:function(){return h.TextLayerBuilder}}),Object.defineProperty(c,"XfaLayerBuilder",{enumerable:!0,get:function(){return v.XfaLayerBuilder}}),Object.defineProperty(c,"parseQueryString",{enumerable:!0,get:function(){return u.parseQueryString}});var o=a(1),f=a(6),u=a(7),d=a(11),E=a(5),p=a(18),g=a(19),x=a(20),S=a(4),w=a(22),T=a(24),m=a(13),b=a(25),y=a(8),h=a(9),v=a(10)})(),l})())})(pdf_viewer);var pdf_viewerExports=pdf_viewer.exports;const getDocument=t=>(t||{}).ownerDocument||document,getWindow$1=t=>(getDocument(t)||{}).defaultView||window,isHTMLElement$1=t=>t instanceof HTMLElement||t instanceof getWindow$1(t).HTMLElement,isHTMLCanvasElement=t=>t instanceof HTMLCanvasElement||t instanceof getWindow$1(t).HTMLCanvasElement,asElement=t=>t,getPageFromElement=t=>{const i=asElement(t.closest(".page"));if(!i||!isHTMLElement$1(i))return null;const e=Number(asElement(i).dataset.pageNumber);return{node:i,number:e}},getPagesFromRange=t=>{const i=t.startContainer.parentElement,e=t.endContainer.parentElement;if(!isHTMLElement$1(i)||!isHTMLElement$1(e))return[];const n=getPageFromElement(asElement(i)),a=getPageFromElement(asElement(e));if(!(n!=null&&n.number)||!(a!=null&&a.number))return[];if(n.number===a.number)return[n];if(n.number===a.number-1)return[n,a];const l=[];let c=n.number;const o=n.node.ownerDocument;for(;c<=a.number;){const f=getPageFromElement(o.querySelector(`[data-page-number='${c}'`));f&&l.push(f),c++}return l},findOrCreateContainerLayer=(t,i)=>{const e=getDocument(t);let n=t.querySelector(`.${i}`);return n||(n=e.createElement("div"),n.className=i,t.appendChild(n)),n},viewportToScaled=(t,{width:i,height:e})=>({x1:t.left,y1:t.top,x2:t.left+t.width,y2:t.top+t.height,width:i,height:e,pageNumber:t.pageNumber}),pdfToViewport=(t,i)=>{const[e,n,a,l]=i.convertToViewportRectangle([t.x1,t.y1,t.x2,t.y2]);return{left:Math.min(e,a),top:Math.min(n,l),width:Math.abs(a-e),height:Math.abs(n-l),pageNumber:t.pageNumber}},scaledToViewport=(t,i,e=!1)=>{const{width:n,height:a}=i;if(e)return pdfToViewport(t,i);if(t.x1===void 0)throw new Error("You are using old position format, please update");const l=n*t.x1/t.width,c=a*t.y1/t.height,o=n*t.x2/t.width,f=a*t.y2/t.height;return{left:l,top:c,width:o-l,height:f-c,pageNumber:t.pageNumber}};class MouseSelection extends reactExports.Component{constructor(){super(...arguments);Ze(this,"state",{locked:!1,start:null,end:null});Ze(this,"root");Ze(this,"reset",()=>{const{onDragEnd:e}=this.props;e(),this.setState({start:null,end:null,locked:!1})})}getBoundingRect(e,n){return{left:Math.min(n.x,e.x),top:Math.min(n.y,e.y),width:Math.abs(n.x-e.x),height:Math.abs(n.y-e.y)}}componentDidUpdate(){const{onChange:e}=this.props,{start:n,end:a}=this.state;e(!!(n&&a))}componentDidMount(){if(!this.root)return;const e=this,{onSelection:n,onDragStart:a,onDragEnd:l,shouldStart:c}=this.props,o=asElement(this.root.parentElement);if(!isHTMLElement$1(o))return;let f=null;const u=(d,E)=>(f||(f=o.getBoundingClientRect()),{x:d-f.left+o.scrollLeft,y:E-f.top+o.scrollTop-window.scrollY});o.addEventListener("mousemove",d=>{const{start:E,locked:p}=this.state;!E||p||e.setState({...this.state,end:u(d.pageX,d.pageY)})}),o.addEventListener("mousedown",d=>{if(!c(d)){this.reset();return}const E=asElement(d.target);if(!isHTMLElement$1(E))return;a(),this.setState({start:u(d.pageX,d.pageY),end:null,locked:!1});const p=x=>{var m;(m=x.currentTarget)==null||m.removeEventListener("mouseup",p);const{start:S}=this.state;if(!S)return;const w=u(x.pageX,x.pageY),T=e.getBoundingRect(S,w);if(!isHTMLElement$1(x.target)||!o.contains(asElement(x.target))||!e.shouldRender(T)){e.reset();return}e.setState({end:w,locked:!0},()=>{const{start:b,end:y}=e.state;!b||!y||isHTMLElement$1(x.target)&&(n(E,T,e.reset),l())})},{ownerDocument:g}=o;g.body&&g.body.addEventListener("mouseup",p)})}shouldRender(e){return e.width>=1&&e.height>=1}render(){const{start:e,end:n}=this.state;return jsxRuntimeExports.jsx("div",{className:"MouseSelection-container",ref:a=>{a&&(this.root=a)},children:e&&n?jsxRuntimeExports.jsx("div",{className:"MouseSelection",style:this.getBoundingRect(e,n)}):null})}}const clamp$2=(t,i,e)=>Math.min(Math.max(t,i),e);class TipContainer extends reactExports.Component{constructor(){super(...arguments);Ze(this,"state",{height:0,width:0});Ze(this,"node",null);Ze(this,"updatePosition",()=>{if(!this.node)return;const{offsetHeight:e,offsetWidth:n}=this.node;this.setState({height:e,width:n})})}componentDidUpdate(e){this.props.children!==e.children&&this.updatePosition()}componentDidMount(){setTimeout(this.updatePosition,0)}render(){const{children:e,style:n,scrollTop:a,pageBoundingRect:l}=this.props,{height:c,width:o}=this.state,f=o===0&&c===0,u=n.top-c-5<a,d=u?n.bottom+5:n.top-c-5,E=clamp$2(n.left-o/2,0,l.width-o),p=$6vYhU$react.Children.map(e,g=>$6vYhU$react.cloneElement(g,{onUpdate:()=>{this.setState({width:0,height:0},()=>{setTimeout(this.updatePosition,0)})},popup:{position:u?"below":"above"}}));return jsxRuntimeExports.jsx("div",{className:"PdfHighlighter__tip-container",style:{visibility:f?"hidden":"visible",top:d,left:E},ref:g=>{this.node=g},children:p})}}var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(t,i,e){var n,a,l,c,o,f,u=0,d=!1,E=!1,p=!0;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);i=toNumber(i)||0,isObject(e)&&(d=!!e.leading,E="maxWait"in e,l=E?nativeMax(toNumber(e.maxWait)||0,i):l,p="trailing"in e?!!e.trailing:p);function g(v){var A=n,P=a;return n=a=void 0,u=v,c=t.apply(P,A),c}function x(v){return u=v,o=setTimeout(T,i),d?g(v):c}function S(v){var A=v-f,P=v-u,R=i-A;return E?nativeMin(R,l-P):R}function w(v){var A=v-f,P=v-u;return f===void 0||A>=i||A<0||E&&P>=l}function T(){var v=now();if(w(v))return m(v);o=setTimeout(T,S(v))}function m(v){return o=void 0,p&&n?g(v):(n=a=void 0,c)}function b(){o!==void 0&&clearTimeout(o),u=0,n=f=a=o=void 0}function y(){return o===void 0?c:m(now())}function h(){var v=now(),A=w(v);if(n=arguments,a=this,f=v,A){if(o===void 0)return x(f);if(E)return o=setTimeout(T,i),g(f)}return o===void 0&&(o=setTimeout(T,i)),c}return h.cancel=b,h.flush=y,h}function isObject(t){var i=typeof t;return!!t&&(i=="object"||i=="function")}function isObjectLike(t){return!!t&&typeof t=="object"}function isSymbol(t){return typeof t=="symbol"||isObjectLike(t)&&objectToString.call(t)==symbolTag}function toNumber(t){if(typeof t=="number")return t;if(isSymbol(t))return NAN;if(isObject(t)){var i=typeof t.valueOf=="function"?t.valueOf():t;t=isObject(i)?i+"":i}if(typeof t!="string")return t===0?t:+t;t=t.replace(reTrim,"");var e=reIsBinary.test(t);return e||reIsOctal.test(t)?freeParseInt(t.slice(2),e?2:8):reIsBadHex.test(t)?NAN:+t}var lodash_debounce=debounce;const debounce$1=getDefaultExportFromCjs(lodash_debounce),getAreaAsPNG=(t,i)=>{const{left:e,top:n,width:a,height:l}=i,c=t?t.ownerDocument:null,o=c&&c.createElement("canvas");if(!o||!isHTMLCanvasElement(o))return"";o.width=a,o.height=l;const f=o.getContext("2d");if(!f||!t)return"";const u=window.devicePixelRatio;return f.drawImage(t,e*u,n*u,a*u,l*u,0,0,a,l),o.toDataURL("image/png")},getBoundingRect=t=>{const i=Array.from(t).map(d=>{const{left:E,top:p,width:g,height:x,pageNumber:S}=d,w=E,T=E+g,m=p,b=p+x;return{X0:w,X1:T,Y0:m,Y1:b,pageNumber:S}});let e=Number.MAX_SAFE_INTEGER;i.forEach(d=>{e=Math.min(e,d.pageNumber??e)});const n=i.filter(d=>(d.X0>0||d.X1>0||d.Y0>0||d.Y1>0)&&d.pageNumber===e),a=n.reduce((d,E)=>({X0:Math.min(d.X0,E.X0),X1:Math.max(d.X1,E.X1),Y0:Math.min(d.Y0,E.Y0),Y1:Math.max(d.Y1,E.Y1),pageNumber:e}),n[0]),{X0:l,X1:c,Y0:o,Y1:f,pageNumber:u}=a;return{left:l,top:o,width:c-l,height:f-o,pageNumber:u}},sort=t=>t.sort((i,e)=>{const n=(i.pageNumber||0)*i.top-(e.pageNumber||0)*e.top;return n===0?i.left-e.left:n}),overlaps=(t,i)=>t.pageNumber===i.pageNumber&&t.left<=i.left&&i.left<=t.left+t.width,sameLine=(t,i,e=5)=>t.pageNumber===i.pageNumber&&Math.abs(t.top-i.top)<e&&Math.abs(t.height-i.height)<e,inside=(t,i)=>t.pageNumber===i.pageNumber&&t.top>i.top&&t.left>i.left&&t.top+t.height<i.top+i.height&&t.left+t.width<i.left+i.width,nextTo=(t,i,e=10)=>{const n=t.left+t.width,a=i.left+i.width;return t.pageNumber===i.pageNumber&&t.left<=i.left&&n<=a&&i.left-n<=e},extendWidth=(t,i)=>{t.width=Math.max(i.width-t.left+i.left,t.width)},optimizeClientRects=t=>{const i=sort(t),e=new Set,n=i.filter(l=>i.every(c=>!inside(l,c)));let a=0;for(;a<=2;)n.forEach(l=>{n.forEach(c=>{l===c||e.has(l)||e.has(c)||sameLine(l,c)&&(overlaps(l,c)&&(extendWidth(l,c),l.height=Math.max(l.height,c.height),e.add(c)),nextTo(l,c)&&(extendWidth(l,c),e.add(c)))})}),a+=1;return n.filter(l=>!e.has(l))},isClientRectInsidePageRect=(t,i)=>!(t.top<i.top||t.bottom>i.bottom||t.right>i.right||t.left<i.left),getClientRects$1=(t,i,e=!0)=>{const n=Array.from(t.getClientRects()),a=[];for(const l of n)for(const c of i){const o=c.node.getBoundingClientRect();if(isClientRectInsidePageRect(l,o)&&l.width>0&&l.height>0&&l.width<o.width&&l.height<o.height){const f={top:l.top+c.node.scrollTop-o.top,left:l.left+c.node.scrollLeft-o.left,width:l.width,height:l.height,pageNumber:c.number};a.push(f)}}return e?optimizeClientRects(a):a};function HighlightLayer({highlightsByPage:t,scaledPositionToViewport:i,pageNumber:e,scrolledToHighlightId:n,highlightTransform:a,tip:l,hideTipAndSelection:c,viewer:o,screenshot:f,showTip:u,setState:d}){const E=t[String(e)]||[];return jsxRuntimeExports.jsx("div",{children:E.map(({position:p,id:g,...x},S)=>{const w={id:g,position:i(p),...x};return l&&l.highlight.id===String(g)&&u(l.highlight,l.callback(w)),a(w,S,(m,b)=>{d({tip:{highlight:m,callback:b}}),u(m,b(m))},c,m=>{const b=o.getPageView((m.pageNumber||parseInt(e))-1).viewport;return viewportToScaled(m,b)},m=>f(m,parseInt(e)),n===g)})})}const EMPTY_ID="empty-id";class PdfHighlighter extends reactExports.PureComponent{constructor(e){super(e);Ze(this,"state",{ghostHighlight:null,isCollapsed:!0,range:null,scrolledToHighlightId:EMPTY_ID,isAreaSelectionInProgress:!1,tip:null,tipPosition:null,tipChildren:null});Ze(this,"eventBus",new pdf_viewerExports.EventBus);Ze(this,"linkService",new pdf_viewerExports.PDFLinkService({eventBus:this.eventBus,externalLinkTarget:2}));Ze(this,"viewer");Ze(this,"resizeObserver",null);Ze(this,"containerNode",null);Ze(this,"containerNodeRef");Ze(this,"highlightRoots",{});Ze(this,"unsubscribe",()=>{});Ze(this,"attachRef",()=>{var l;const{eventBus:e,resizeObserver:n}=this,a=this.containerNode=this.containerNodeRef.current;if(this.unsubscribe(),a){const{ownerDocument:c}=a;e.on("textlayerrendered",this.onTextLayerRendered),e.on("pagesinit",this.onDocumentReady),c.addEventListener("selectionchange",this.onSelectionChange),c.addEventListener("keydown",this.handleKeyDown),(l=c.defaultView)==null||l.addEventListener("resize",this.debouncedScaleValue),n&&n.observe(a),this.unsubscribe=()=>{var o;e.off("pagesinit",this.onDocumentReady),e.off("textlayerrendered",this.onTextLayerRendered),c.removeEventListener("selectionchange",this.onSelectionChange),c.removeEventListener("keydown",this.handleKeyDown),(o=c.defaultView)==null||o.removeEventListener("resize",this.debouncedScaleValue),n&&n.disconnect()}}});Ze(this,"hideTipAndSelection",()=>{this.setState({tipPosition:null,tipChildren:null}),this.setState({ghostHighlight:null,tip:null},()=>this.renderHighlightLayers())});Ze(this,"renderTip",()=>{const{tipPosition:e,tipChildren:n}=this.state;if(!e)return null;const{boundingRect:a,pageNumber:l}=e,c={node:this.viewer.getPageView((a.pageNumber||l)-1).div,pageNumber:a.pageNumber||l},o=c.node.getBoundingClientRect(),f={bottom:o.bottom,height:o.height,left:o.left,right:o.right,top:o.top,width:o.width,x:o.x,y:o.y,pageNumber:c.pageNumber};return jsxRuntimeExports.jsx(TipContainer,{scrollTop:this.viewer.container.scrollTop,pageBoundingRect:f,style:{left:c.node.offsetLeft+a.left+a.width/2,top:a.top+c.node.offsetTop,bottom:a.top+c.node.offsetTop+a.height},children:n})});Ze(this,"onTextLayerRendered",()=>{this.renderHighlightLayers()});Ze(this,"scrollTo",e=>{const{pageNumber:n,boundingRect:a,usePdfCoordinates:l}=e.position;this.viewer.container.removeEventListener("scroll",this.onScroll);const c=this.viewer.getPageView(n-1).viewport;this.viewer.scrollPageIntoView({pageNumber:n,destArray:[null,{name:"XYZ"},...c.convertToPdfPoint(0,scaledToViewport(a,c,l).top-10),0]}),this.setState({scrolledToHighlightId:e.id},()=>this.renderHighlightLayers()),setTimeout(()=>{this.viewer.container.addEventListener("scroll",this.onScroll)},100)});Ze(this,"onDocumentReady",()=>{const{scrollRef:e}=this.props;this.handleScaleValue(),e(this.scrollTo)});Ze(this,"onSelectionChange",()=>{const e=this.containerNode,n=getWindow$1(e).getSelection();if(!n)return;const a=n.rangeCount>0?n.getRangeAt(0):null;if(n.isCollapsed){this.setState({isCollapsed:!0});return}!a||!e||!e.contains(a.commonAncestorContainer)||(this.setState({isCollapsed:!1,range:a}),this.debouncedAfterSelection())});Ze(this,"onScroll",()=>{const{onScrollChange:e}=this.props;e(),this.setState({scrolledToHighlightId:EMPTY_ID},()=>this.renderHighlightLayers()),this.viewer.container.removeEventListener("scroll",this.onScroll)});Ze(this,"onMouseDown",e=>{isHTMLElement$1(e.target)&&(asElement(e.target).closest(".PdfHighlighter__tip-container")||this.hideTipAndSelection())});Ze(this,"handleKeyDown",e=>{e.code==="Escape"&&this.hideTipAndSelection()});Ze(this,"afterSelection",()=>{const{onSelectionFinished:e}=this.props,{isCollapsed:n,range:a}=this.state;if(!a||n)return;const l=getPagesFromRange(a);if(!l||l.length===0)return;const c=getClientRects$1(a,l);if(c.length===0)return;const f={boundingRect:getBoundingRect(c),rects:c,pageNumber:l[0].number},u={text:a.toString()},d=this.viewportPositionToScaled(f);this.setTip(f,e(d,u,()=>this.hideTipAndSelection(),()=>this.setState({ghostHighlight:{position:d}},()=>this.renderHighlightLayers())))});Ze(this,"debouncedAfterSelection",debounce$1(this.afterSelection,500));Ze(this,"handleScaleValue",()=>{this.viewer&&(this.viewer.currentScaleValue=this.props.pdfScaleValue)});Ze(this,"debouncedScaleValue",debounce$1(this.handleScaleValue,500));typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(this.debouncedScaleValue)),this.containerNodeRef=reactExports.createRef()}componentDidMount(){this.init()}componentDidUpdate(e){if(e.pdfDocument!==this.props.pdfDocument){this.init();return}e.highlights!==this.props.highlights&&this.renderHighlightLayers()}init(){const{pdfDocument:e}=this.props;this.attachRef(),this.viewer=this.viewer||new pdf_viewerExports.PDFViewer({container:this.containerNodeRef.current,eventBus:this.eventBus,textLayerMode:2,removePageBorders:!0,linkService:this.linkService,l10n:pdf_viewerExports.NullL10n}),this.linkService.setDocument(e),this.linkService.setViewer(this.viewer),this.viewer.setDocument(e),window.PdfViewer=this}componentWillUnmount(){this.unsubscribe()}findOrCreateHighlightLayer(e){const{textLayer:n}=this.viewer.getPageView(e-1)||{};return n?findOrCreateContainerLayer(n.textLayerDiv,"PdfHighlighter__highlight-layer"):null}groupHighlightsByPage(e){const{ghostHighlight:n}=this.state,a=[...e,n].filter(Boolean),l=new Set;for(const o of a){l.add(o.position.pageNumber);for(const f of o.position.rects)f.pageNumber&&l.add(f.pageNumber)}const c={};for(const o of l){c[o]=c[o]||[];for(const f of a){const u={...f,position:{pageNumber:o,boundingRect:f.position.boundingRect,rects:[],usePdfCoordinates:f.position.usePdfCoordinates}};let d=!1;for(const E of f.position.rects)o===(E.pageNumber||f.position.pageNumber)&&(u.position.rects.push(E),d=!0);(d||o===f.position.pageNumber)&&c[o].push(u)}}return c}showTip(e,n){const{isCollapsed:a,ghostHighlight:l,isAreaSelectionInProgress:c}=this.state;!a||l||c||this.setTip(e.position,n)}scaledPositionToViewport({pageNumber:e,boundingRect:n,rects:a,usePdfCoordinates:l}){const c=this.viewer.getPageView(e-1).viewport;return{boundingRect:scaledToViewport(n,c,l),rects:(a||[]).map(o=>scaledToViewport(o,c,l)),pageNumber:e}}viewportPositionToScaled({pageNumber:e,boundingRect:n,rects:a}){const l=this.viewer.getPageView(e-1).viewport;return{boundingRect:viewportToScaled(n,l),rects:(a||[]).map(c=>viewportToScaled(c,l)),pageNumber:e}}screenshot(e,n){const a=this.viewer.getPageView(n-1).canvas;return getAreaAsPNG(a,e)}setTip(e,n){this.setState({tipPosition:e,tipChildren:n})}toggleTextSelection(e){this.viewer.viewer.classList.toggle("PdfHighlighter--disable-selection",e)}render(){const{onSelectionFinished:e,enableAreaSelection:n}=this.props;return jsxRuntimeExports.jsx("div",{onPointerDown:this.onMouseDown,children:jsxRuntimeExports.jsxs("div",{ref:this.containerNodeRef,className:"PdfHighlighter",onContextMenu:a=>a.preventDefault(),children:[jsxRuntimeExports.jsx("div",{className:"pdfViewer"}),this.renderTip(),typeof n=="function"?jsxRuntimeExports.jsx(MouseSelection,{onDragStart:()=>this.toggleTextSelection(!0),onDragEnd:()=>this.toggleTextSelection(!1),onChange:a=>this.setState({isAreaSelectionInProgress:a}),shouldStart:a=>n(a)&&isHTMLElement$1(a.target)&&!!asElement(a.target).closest(".page"),onSelection:(a,l,c)=>{const o=getPageFromElement(a);if(!o)return;const f={...l,top:l.top-o.node.offsetTop,left:l.left-o.node.offsetLeft,pageNumber:o.number},u={boundingRect:f,rects:[],pageNumber:o.number},d=this.viewportPositionToScaled(u),E=this.screenshot(f,f.pageNumber);this.setTip(u,e(d,{image:E},()=>this.hideTipAndSelection(),()=>{console.log("setting ghost highlight",d),this.setState({ghostHighlight:{position:d,content:{image:E}}},()=>{c(),this.renderHighlightLayers()})}))}}):null]})})}renderHighlightLayers(){const{pdfDocument:e}=this.props;for(let n=1;n<=e.numPages;n++){const a=this.highlightRoots[n];if(a&&a.container.isConnected)this.renderHighlightLayer(a.reactRoot,n);else{const l=this.findOrCreateHighlightLayer(n);if(l){const c=createRoot(l);this.highlightRoots[n]={reactRoot:c,container:l},this.renderHighlightLayer(c,n)}}}}renderHighlightLayer(e,n){const{highlightTransform:a,highlights:l}=this.props,{tip:c,scrolledToHighlightId:o}=this.state;e.render(jsxRuntimeExports.jsx(HighlightLayer,{highlightsByPage:this.groupHighlightsByPage(l),pageNumber:n.toString(),scrolledToHighlightId:o,highlightTransform:a,tip:c,scaledPositionToViewport:this.scaledPositionToViewport.bind(this),hideTipAndSelection:this.hideTipAndSelection.bind(this),viewer:this.viewer,screenshot:this.screenshot.bind(this),showTip:this.showTip.bind(this),setState:this.setState.bind(this)}))}}Ze(PdfHighlighter,"defaultProps",{pdfScaleValue:"auto"});const Textarea=reactExports.forwardRef(({className:t,...i},e)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:e,...i}));Textarea.displayName="Textarea";class Tip extends reactExports.Component{constructor(){super(...arguments);Ze(this,"state",{compact:!0,text:"",emoji:""})}componentDidUpdate(e,n){const{onUpdate:a}=this.props;a&&this.state.compact!==n.compact&&a()}render(){const{onConfirm:e,onOpen:n}=this.props,{compact:a,text:l,emoji:c}=this.state;return jsxRuntimeExports.jsx("div",{children:a?jsxRuntimeExports.jsx(Button,{onClick:()=>{n(),this.setState({compact:!1})},children:"Add Review"}):jsxRuntimeExports.jsx("form",{onSubmit:o=>{o.preventDefault(),e({text:l,emoji:c})},children:jsxRuntimeExports.jsxs(Card,{className:"w-[500px]",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Add Review"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(Textarea,{placeholder:"Add your review...",autoFocus:!0,rows:10,value:l,onChange:o=>this.setState({text:o.target.value}),ref:o=>{o&&o.focus()}})}),jsxRuntimeExports.jsx(CardFooter,{className:"flex-row-reverse",children:jsxRuntimeExports.jsx(Button,{type:"submit",children:"Add Review"})})]})})})}}class Highlight extends reactExports.Component{render(){const{position:i,onClick:e,onMouseOver:n,onMouseOut:a,comment:l,isScrolledTo:c}=this.props,{rects:o,boundingRect:f}=i;return jsxRuntimeExports.jsxs("div",{className:`Highlight ${c?"Highlight--scrolledTo":""}`,children:[l?jsxRuntimeExports.jsx("div",{className:"Highlight__emoji",style:{left:20,top:f.top},children:l.emoji}):null,jsxRuntimeExports.jsx("div",{className:"Highlight__parts",children:o.map((u,d)=>jsxRuntimeExports.jsx("div",{onMouseOver:n,onMouseOut:a,onClick:e,style:u,className:"Highlight__part"},d))})]})}}class MouseMonitor extends reactExports.Component{constructor(){super(...arguments);Ze(this,"container",null);Ze(this,"unsubscribe",()=>{});Ze(this,"onMouseMove",e=>{if(!this.container)return;const{onMoveAway:n,paddingX:a,paddingY:l}=this.props,{clientX:c,clientY:o}=e,{left:f,top:u,width:d,height:E}=this.container.getBoundingClientRect(),p=c>f-a&&c<f+d+a,g=o>u-l&&o<u+E+l;p&&g||n()});Ze(this,"attachRef",e=>{if(this.container=e,this.unsubscribe(),e){const{ownerDocument:n}=e;n.addEventListener("mousemove",this.onMouseMove),this.unsubscribe=()=>{n.removeEventListener("mousemove",this.onMouseMove)}}})}render(){const{onMoveAway:e,paddingX:n,paddingY:a,children:l,...c}=this.props;return jsxRuntimeExports.jsx("div",{ref:this.attachRef,children:reactExports.cloneElement(l,c)})}}class Popup extends reactExports.Component{constructor(){super(...arguments);Ze(this,"state",{mouseIn:!1})}render(){const{onMouseOver:e,popupContent:n,onMouseOut:a}=this.props;return jsxRuntimeExports.jsx("div",{onMouseOver:()=>{this.setState({mouseIn:!0}),e(jsxRuntimeExports.jsx(MouseMonitor,{onMoveAway:()=>{this.state.mouseIn||a()},paddingX:60,paddingY:30,children:n}))},onMouseOut:()=>{this.setState({mouseIn:!1})},children:this.props.children})}}var cjs={exports:{}},Draggable$2={},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function t(n,a,l,c,o,f){if(f!==ReactPropTypesSecret){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function i(){return t}var e={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:i,element:t,elementType:t,instanceOf:i,node:t,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;function r(t){var i,e,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(i=0;i<t.length;i++)t[i]&&(e=r(t[i]))&&(n&&(n+=" "),n+=e);else for(i in t)t[i]&&(n&&(n+=" "),n+=i);return n}function clsx(){for(var t,i,e=0,n="";e<arguments.length;)(t=arguments[e++])&&(i=r(t))&&(n&&(n+=" "),n+=i);return n}const clsx_m=Object.freeze(Object.defineProperty({__proto__:null,clsx,default:clsx},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(clsx_m);var domFns={},shims={};Object.defineProperty(shims,"__esModule",{value:!0});shims.dontSetMe=dontSetMe;shims.findInArray=findInArray;shims.int=int;shims.isFunction=isFunction;shims.isNum=isNum;function findInArray(t,i){for(var e=0,n=t.length;e<n;e++)if(i.apply(i,[t[e],e,t]))return t[e]}function isFunction(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function isNum(t){return typeof t=="number"&&!isNaN(t)}function int(t){return parseInt(t,10)}function dontSetMe(t,i,e){if(t[i])return new Error("Invalid prop ".concat(i," passed to ").concat(e," - do not set this, set it on the child."))}var getPrefix$1={};Object.defineProperty(getPrefix$1,"__esModule",{value:!0});getPrefix$1.browserPrefixToKey=browserPrefixToKey;getPrefix$1.browserPrefixToStyle=browserPrefixToStyle;getPrefix$1.default=void 0;getPrefix$1.getPrefix=getPrefix;var prefixes=["Moz","Webkit","O","ms"];function getPrefix(){var t,i,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var n=(t=window.document)===null||t===void 0||(i=t.documentElement)===null||i===void 0?void 0:i.style;if(!n||e in n)return"";for(var a=0;a<prefixes.length;a++)if(browserPrefixToKey(e,prefixes[a])in n)return prefixes[a];return""}function browserPrefixToKey(t,i){return i?"".concat(i).concat(kebabToTitleCase(t)):t}function browserPrefixToStyle(t,i){return i?"-".concat(i.toLowerCase(),"-").concat(t):t}function kebabToTitleCase(t){for(var i="",e=!0,n=0;n<t.length;n++)e?(i+=t[n].toUpperCase(),e=!1):t[n]==="-"?e=!0:i+=t[n];return i}var _default=getPrefix();getPrefix$1.default=_default;function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$1(t)}Object.defineProperty(domFns,"__esModule",{value:!0});domFns.addClassName=addClassName;domFns.addEvent=addEvent;domFns.addUserSelectStyles=addUserSelectStyles;domFns.createCSSTransform=createCSSTransform;domFns.createSVGTransform=createSVGTransform;domFns.getTouch=getTouch;domFns.getTouchIdentifier=getTouchIdentifier;domFns.getTranslation=getTranslation;domFns.innerHeight=innerHeight;domFns.innerWidth=innerWidth;domFns.matchesSelector=matchesSelector;domFns.matchesSelectorAndParentsTo=matchesSelectorAndParentsTo;domFns.offsetXYFromParent=offsetXYFromParent;domFns.outerHeight=outerHeight;domFns.outerWidth=outerWidth;domFns.removeClassName=removeClassName;domFns.removeEvent=removeEvent;domFns.removeUserSelectStyles=removeUserSelectStyles;var _shims$2=shims,_getPrefix=_interopRequireWildcard$1(getPrefix$1);function _getRequireWildcardCache$1(t){if(typeof WeakMap!="function")return null;var i=new WeakMap,e=new WeakMap;return(_getRequireWildcardCache$1=function(a){return a?e:i})(t)}function _interopRequireWildcard$1(t,i){if(!i&&t&&t.__esModule)return t;if(t===null||_typeof$1(t)!=="object"&&typeof t!="function")return{default:t};var e=_getRequireWildcardCache$1(i);if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if(l!=="default"&&Object.prototype.hasOwnProperty.call(t,l)){var c=a?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(n,l,c):n[l]=t[l]}return n.default=t,e&&e.set(t,n),n}function ownKeys(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,n)}return e}function _objectSpread(t){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(e),!0).forEach(function(n){_defineProperty$1(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function _defineProperty$1(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var matchesSelectorFunc="";function matchesSelector(t,i){return matchesSelectorFunc||(matchesSelectorFunc=(0,_shims$2.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return(0,_shims$2.isFunction)(t[e])})),(0,_shims$2.isFunction)(t[matchesSelectorFunc])?t[matchesSelectorFunc](i):!1}function matchesSelectorAndParentsTo(t,i,e){var n=t;do{if(matchesSelector(n,i))return!0;if(n===e)return!1;n=n.parentNode}while(n);return!1}function addEvent(t,i,e,n){if(t){var a=_objectSpread({capture:!0},n);t.addEventListener?t.addEventListener(i,e,a):t.attachEvent?t.attachEvent("on"+i,e):t["on"+i]=e}}function removeEvent(t,i,e,n){if(t){var a=_objectSpread({capture:!0},n);t.removeEventListener?t.removeEventListener(i,e,a):t.detachEvent?t.detachEvent("on"+i,e):t["on"+i]=null}}function outerHeight(t){var i=t.clientHeight,e=t.ownerDocument.defaultView.getComputedStyle(t);return i+=(0,_shims$2.int)(e.borderTopWidth),i+=(0,_shims$2.int)(e.borderBottomWidth),i}function outerWidth(t){var i=t.clientWidth,e=t.ownerDocument.defaultView.getComputedStyle(t);return i+=(0,_shims$2.int)(e.borderLeftWidth),i+=(0,_shims$2.int)(e.borderRightWidth),i}function innerHeight(t){var i=t.clientHeight,e=t.ownerDocument.defaultView.getComputedStyle(t);return i-=(0,_shims$2.int)(e.paddingTop),i-=(0,_shims$2.int)(e.paddingBottom),i}function innerWidth(t){var i=t.clientWidth,e=t.ownerDocument.defaultView.getComputedStyle(t);return i-=(0,_shims$2.int)(e.paddingLeft),i-=(0,_shims$2.int)(e.paddingRight),i}function offsetXYFromParent(t,i,e){var n=i===i.ownerDocument.body,a=n?{left:0,top:0}:i.getBoundingClientRect(),l=(t.clientX+i.scrollLeft-a.left)/e,c=(t.clientY+i.scrollTop-a.top)/e;return{x:l,y:c}}function createCSSTransform(t,i){var e=getTranslation(t,i,"px");return _defineProperty$1({},(0,_getPrefix.browserPrefixToKey)("transform",_getPrefix.default),e)}function createSVGTransform(t,i){var e=getTranslation(t,i,"");return e}function getTranslation(t,i,e){var n=t.x,a=t.y,l="translate(".concat(n).concat(e,",").concat(a).concat(e,")");if(i){var c="".concat(typeof i.x=="string"?i.x:i.x+e),o="".concat(typeof i.y=="string"?i.y:i.y+e);l="translate(".concat(c,", ").concat(o,")")+l}return l}function getTouch(t,i){return t.targetTouches&&(0,_shims$2.findInArray)(t.targetTouches,function(e){return i===e.identifier})||t.changedTouches&&(0,_shims$2.findInArray)(t.changedTouches,function(e){return i===e.identifier})}function getTouchIdentifier(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function addUserSelectStyles(t){if(t){var i=t.getElementById("react-draggable-style-el");i||(i=t.createElement("style"),i.type="text/css",i.id="react-draggable-style-el",i.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,i.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(i)),t.body&&addClassName(t.body,"react-draggable-transparent-selection")}}function removeUserSelectStyles(t){if(t)try{if(t.body&&removeClassName(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{var i=(t.defaultView||window).getSelection();i&&i.type!=="Caret"&&i.removeAllRanges()}}catch{}}function addClassName(t,i){t.classList?t.classList.add(i):t.className.match(new RegExp("(?:^|\\s)".concat(i,"(?!\\S)")))||(t.className+=" ".concat(i))}function removeClassName(t,i){t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(i,"(?!\\S)"),"g"),"")}var positionFns={};Object.defineProperty(positionFns,"__esModule",{value:!0});positionFns.canDragX=canDragX;positionFns.canDragY=canDragY;positionFns.createCoreData=createCoreData;positionFns.createDraggableData=createDraggableData;positionFns.getBoundPosition=getBoundPosition;positionFns.getControlPosition=getControlPosition;positionFns.snapToGrid=snapToGrid;var _shims$1=shims,_domFns$1=domFns;function getBoundPosition(t,i,e){if(!t.props.bounds)return[i,e];var n=t.props.bounds;n=typeof n=="string"?n:cloneBounds(n);var a=findDOMNode(t);if(typeof n=="string"){var l=a.ownerDocument,c=l.defaultView,o;if(n==="parent"?o=a.parentNode:o=l.querySelector(n),!(o instanceof c.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');var f=o,u=c.getComputedStyle(a),d=c.getComputedStyle(f);n={left:-a.offsetLeft+(0,_shims$1.int)(d.paddingLeft)+(0,_shims$1.int)(u.marginLeft),top:-a.offsetTop+(0,_shims$1.int)(d.paddingTop)+(0,_shims$1.int)(u.marginTop),right:(0,_domFns$1.innerWidth)(f)-(0,_domFns$1.outerWidth)(a)-a.offsetLeft+(0,_shims$1.int)(d.paddingRight)-(0,_shims$1.int)(u.marginRight),bottom:(0,_domFns$1.innerHeight)(f)-(0,_domFns$1.outerHeight)(a)-a.offsetTop+(0,_shims$1.int)(d.paddingBottom)-(0,_shims$1.int)(u.marginBottom)}}return(0,_shims$1.isNum)(n.right)&&(i=Math.min(i,n.right)),(0,_shims$1.isNum)(n.bottom)&&(e=Math.min(e,n.bottom)),(0,_shims$1.isNum)(n.left)&&(i=Math.max(i,n.left)),(0,_shims$1.isNum)(n.top)&&(e=Math.max(e,n.top)),[i,e]}function snapToGrid(t,i,e){var n=Math.round(i/t[0])*t[0],a=Math.round(e/t[1])*t[1];return[n,a]}function canDragX(t){return t.props.axis==="both"||t.props.axis==="x"}function canDragY(t){return t.props.axis==="both"||t.props.axis==="y"}function getControlPosition(t,i,e){var n=typeof i=="number"?(0,_domFns$1.getTouch)(t,i):null;if(typeof i=="number"&&!n)return null;var a=findDOMNode(e),l=e.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,_domFns$1.offsetXYFromParent)(n||t,l,e.props.scale)}function createCoreData(t,i,e){var n=t.state,a=!(0,_shims$1.isNum)(n.lastX),l=findDOMNode(t);return a?{node:l,deltaX:0,deltaY:0,lastX:i,lastY:e,x:i,y:e}:{node:l,deltaX:i-n.lastX,deltaY:e-n.lastY,lastX:n.lastX,lastY:n.lastY,x:i,y:e}}function createDraggableData(t,i){var e=t.props.scale;return{node:i.node,x:t.state.x+i.deltaX/e,y:t.state.y+i.deltaY/e,deltaX:i.deltaX/e,deltaY:i.deltaY/e,lastX:t.state.x,lastY:t.state.y}}function cloneBounds(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function findDOMNode(t){var i=t.findDOMNode();if(!i)throw new Error("<DraggableCore>: Unmounted during event!");return i}var DraggableCore$2={},log$1={};Object.defineProperty(log$1,"__esModule",{value:!0});log$1.default=log;function log(){}function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(t)}Object.defineProperty(DraggableCore$2,"__esModule",{value:!0});DraggableCore$2.default=void 0;var React=_interopRequireWildcard(reactExports),_propTypes=_interopRequireDefault(propTypesExports),_reactDom=_interopRequireDefault(reactDomExports),_domFns=domFns,_positionFns=positionFns,_shims=shims,_log=_interopRequireDefault(log$1);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _getRequireWildcardCache(t){if(typeof WeakMap!="function")return null;var i=new WeakMap,e=new WeakMap;return(_getRequireWildcardCache=function(a){return a?e:i})(t)}function _interopRequireWildcard(t,i){if(!i&&t&&t.__esModule)return t;if(t===null||_typeof(t)!=="object"&&typeof t!="function")return{default:t};var e=_getRequireWildcardCache(i);if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if(l!=="default"&&Object.prototype.hasOwnProperty.call(t,l)){var c=a?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(n,l,c):n[l]=t[l]}return n.default=t,e&&e.set(t,n),n}function _slicedToArray(t,i){return _arrayWithHoles(t)||_iterableToArrayLimit(t,i)||_unsupportedIterableToArray(t,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,i){if(t){if(typeof t=="string")return _arrayLikeToArray(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray(t,i)}}function _arrayLikeToArray(t,i){(i==null||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}function _iterableToArrayLimit(t,i){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var n=[],a=!0,l=!1,c,o;try{for(e=e.call(t);!(a=(c=e.next()).done)&&(n.push(c.value),!(i&&n.length===i));a=!0);}catch(f){l=!0,o=f}finally{try{!a&&e.return!=null&&e.return()}finally{if(l)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&_setPrototypeOf(t,i)}function _setPrototypeOf(t,i){return _setPrototypeOf=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},_setPrototypeOf(t,i)}function _createSuper(t){var i=_isNativeReflectConstruct();return function(){var n=_getPrototypeOf(t),a;if(i){var l=_getPrototypeOf(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,i){if(i&&(_typeof(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(t)}function _defineProperty(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var eventsFor={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},dragEventFor=eventsFor.mouse,DraggableCore$1=function(t){_inherits(e,t);var i=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i.call.apply(i,[this].concat(l)),_defineProperty(_assertThisInitialized(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),_defineProperty(_assertThisInitialized(n),"mounted",!1),_defineProperty(_assertThisInitialized(n),"handleDragStart",function(o){if(n.props.onMouseDown(o),!n.props.allowAnyClick&&typeof o.button=="number"&&o.button!==0)return!1;var f=n.findDOMNode();if(!f||!f.ownerDocument||!f.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var u=f.ownerDocument;if(!(n.props.disabled||!(o.target instanceof u.defaultView.Node)||n.props.handle&&!(0,_domFns.matchesSelectorAndParentsTo)(o.target,n.props.handle,f)||n.props.cancel&&(0,_domFns.matchesSelectorAndParentsTo)(o.target,n.props.cancel,f))){o.type==="touchstart"&&o.preventDefault();var d=(0,_domFns.getTouchIdentifier)(o);n.setState({touchIdentifier:d});var E=(0,_positionFns.getControlPosition)(o,d,_assertThisInitialized(n));if(E!=null){var p=E.x,g=E.y,x=(0,_positionFns.createCoreData)(_assertThisInitialized(n),p,g);(0,_log.default)("DraggableCore: handleDragStart: %j",x),(0,_log.default)("calling",n.props.onStart);var S=n.props.onStart(o,x);S===!1||n.mounted===!1||(n.props.enableUserSelectHack&&(0,_domFns.addUserSelectStyles)(u),n.setState({dragging:!0,lastX:p,lastY:g}),(0,_domFns.addEvent)(u,dragEventFor.move,n.handleDrag),(0,_domFns.addEvent)(u,dragEventFor.stop,n.handleDragStop))}}}),_defineProperty(_assertThisInitialized(n),"handleDrag",function(o){var f=(0,_positionFns.getControlPosition)(o,n.state.touchIdentifier,_assertThisInitialized(n));if(f!=null){var u=f.x,d=f.y;if(Array.isArray(n.props.grid)){var E=u-n.state.lastX,p=d-n.state.lastY,g=(0,_positionFns.snapToGrid)(n.props.grid,E,p),x=_slicedToArray(g,2);if(E=x[0],p=x[1],!E&&!p)return;u=n.state.lastX+E,d=n.state.lastY+p}var S=(0,_positionFns.createCoreData)(_assertThisInitialized(n),u,d);(0,_log.default)("DraggableCore: handleDrag: %j",S);var w=n.props.onDrag(o,S);if(w===!1||n.mounted===!1){try{n.handleDragStop(new MouseEvent("mouseup"))}catch{var T=document.createEvent("MouseEvents");T.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(T)}return}n.setState({lastX:u,lastY:d})}}),_defineProperty(_assertThisInitialized(n),"handleDragStop",function(o){if(n.state.dragging){var f=(0,_positionFns.getControlPosition)(o,n.state.touchIdentifier,_assertThisInitialized(n));if(f!=null){var u=f.x,d=f.y;if(Array.isArray(n.props.grid)){var E=u-n.state.lastX||0,p=d-n.state.lastY||0,g=(0,_positionFns.snapToGrid)(n.props.grid,E,p),x=_slicedToArray(g,2);E=x[0],p=x[1],u=n.state.lastX+E,d=n.state.lastY+p}var S=(0,_positionFns.createCoreData)(_assertThisInitialized(n),u,d),w=n.props.onStop(o,S);if(w===!1||n.mounted===!1)return!1;var T=n.findDOMNode();T&&n.props.enableUserSelectHack&&(0,_domFns.removeUserSelectStyles)(T.ownerDocument),(0,_log.default)("DraggableCore: handleDragStop: %j",S),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),T&&((0,_log.default)("DraggableCore: Removing handlers"),(0,_domFns.removeEvent)(T.ownerDocument,dragEventFor.move,n.handleDrag),(0,_domFns.removeEvent)(T.ownerDocument,dragEventFor.stop,n.handleDragStop))}}}),_defineProperty(_assertThisInitialized(n),"onMouseDown",function(o){return dragEventFor=eventsFor.mouse,n.handleDragStart(o)}),_defineProperty(_assertThisInitialized(n),"onMouseUp",function(o){return dragEventFor=eventsFor.mouse,n.handleDragStop(o)}),_defineProperty(_assertThisInitialized(n),"onTouchStart",function(o){return dragEventFor=eventsFor.touch,n.handleDragStart(o)}),_defineProperty(_assertThisInitialized(n),"onTouchEnd",function(o){return dragEventFor=eventsFor.touch,n.handleDragStop(o)}),n}return _createClass(e,[{key:"componentDidMount",value:function(){this.mounted=!0;var a=this.findDOMNode();a&&(0,_domFns.addEvent)(a,eventsFor.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.findDOMNode();if(a){var l=a.ownerDocument;(0,_domFns.removeEvent)(l,eventsFor.mouse.move,this.handleDrag),(0,_domFns.removeEvent)(l,eventsFor.touch.move,this.handleDrag),(0,_domFns.removeEvent)(l,eventsFor.mouse.stop,this.handleDragStop),(0,_domFns.removeEvent)(l,eventsFor.touch.stop,this.handleDragStop),(0,_domFns.removeEvent)(a,eventsFor.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,_domFns.removeUserSelectStyles)(l)}}},{key:"findDOMNode",value:function(){var a,l,c;return(a=this.props)!==null&&a!==void 0&&a.nodeRef?(l=this.props)===null||l===void 0||(c=l.nodeRef)===null||c===void 0?void 0:c.current:_reactDom.default.findDOMNode(this)}},{key:"render",value:function(){return React.cloneElement(React.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),e}(React.Component);DraggableCore$2.default=DraggableCore$1;_defineProperty(DraggableCore$1,"displayName","DraggableCore");_defineProperty(DraggableCore$1,"propTypes",{allowAnyClick:_propTypes.default.bool,disabled:_propTypes.default.bool,enableUserSelectHack:_propTypes.default.bool,offsetParent:function t(i,e){if(i[e]&&i[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:_propTypes.default.arrayOf(_propTypes.default.number),handle:_propTypes.default.string,cancel:_propTypes.default.string,nodeRef:_propTypes.default.object,onStart:_propTypes.default.func,onDrag:_propTypes.default.func,onStop:_propTypes.default.func,onMouseDown:_propTypes.default.func,scale:_propTypes.default.number,className:_shims.dontSetMe,style:_shims.dontSetMe,transform:_shims.dontSetMe});_defineProperty(DraggableCore$1,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function t(){},onDrag:function t(){},onStop:function t(){},onMouseDown:function t(){},scale:1});(function(t){function i(re){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},i(re)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var e=x(reactExports),n=p(propTypesExports),a=p(reactDomExports),l=p(require$$3),c=domFns,o=positionFns,f=shims,u=p(DraggableCore$2),d=p(log$1),E=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function p(re){return re&&re.__esModule?re:{default:re}}function g(re){if(typeof WeakMap!="function")return null;var de=new WeakMap,Y=new WeakMap;return(g=function(k){return k?Y:de})(re)}function x(re,de){if(!de&&re&&re.__esModule)return re;if(re===null||i(re)!=="object"&&typeof re!="function")return{default:re};var Y=g(de);if(Y&&Y.has(re))return Y.get(re);var M={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in re)if(H!=="default"&&Object.prototype.hasOwnProperty.call(re,H)){var q=k?Object.getOwnPropertyDescriptor(re,H):null;q&&(q.get||q.set)?Object.defineProperty(M,H,q):M[H]=re[H]}return M.default=re,Y&&Y.set(re,M),M}function S(){return S=Object.assign||function(re){for(var de=1;de<arguments.length;de++){var Y=arguments[de];for(var M in Y)Object.prototype.hasOwnProperty.call(Y,M)&&(re[M]=Y[M])}return re},S.apply(this,arguments)}function w(re,de){if(re==null)return{};var Y=T(re,de),M,k;if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(re);for(k=0;k<H.length;k++)M=H[k],!(de.indexOf(M)>=0)&&Object.prototype.propertyIsEnumerable.call(re,M)&&(Y[M]=re[M])}return Y}function T(re,de){if(re==null)return{};var Y={},M=Object.keys(re),k,H;for(H=0;H<M.length;H++)k=M[H],!(de.indexOf(k)>=0)&&(Y[k]=re[k]);return Y}function m(re,de){var Y=Object.keys(re);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(re);de&&(M=M.filter(function(k){return Object.getOwnPropertyDescriptor(re,k).enumerable})),Y.push.apply(Y,M)}return Y}function b(re){for(var de=1;de<arguments.length;de++){var Y=arguments[de]!=null?arguments[de]:{};de%2?m(Object(Y),!0).forEach(function(M){J(re,M,Y[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(Y)):m(Object(Y)).forEach(function(M){Object.defineProperty(re,M,Object.getOwnPropertyDescriptor(Y,M))})}return re}function y(re,de){return R(re)||P(re,de)||v(re,de)||h()}function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(re,de){if(re){if(typeof re=="string")return A(re,de);var Y=Object.prototype.toString.call(re).slice(8,-1);if(Y==="Object"&&re.constructor&&(Y=re.constructor.name),Y==="Map"||Y==="Set")return Array.from(re);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return A(re,de)}}function A(re,de){(de==null||de>re.length)&&(de=re.length);for(var Y=0,M=new Array(de);Y<de;Y++)M[Y]=re[Y];return M}function P(re,de){var Y=re==null?null:typeof Symbol<"u"&&re[Symbol.iterator]||re["@@iterator"];if(Y!=null){var M=[],k=!0,H=!1,q,C;try{for(Y=Y.call(re);!(k=(q=Y.next()).done)&&(M.push(q.value),!(de&&M.length===de));k=!0);}catch(O){H=!0,C=O}finally{try{!k&&Y.return!=null&&Y.return()}finally{if(H)throw C}}return M}}function R(re){if(Array.isArray(re))return re}function $(re,de){if(!(re instanceof de))throw new TypeError("Cannot call a class as a function")}function D(re,de){for(var Y=0;Y<de.length;Y++){var M=de[Y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(re,M.key,M)}}function X(re,de,Y){return de&&D(re.prototype,de),Y&&D(re,Y),Object.defineProperty(re,"prototype",{writable:!1}),re}function W(re,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function");re.prototype=Object.create(de&&de.prototype,{constructor:{value:re,writable:!0,configurable:!0}}),Object.defineProperty(re,"prototype",{writable:!1}),de&&U(re,de)}function U(re,de){return U=Object.setPrototypeOf||function(M,k){return M.__proto__=k,M},U(re,de)}function N(re){var de=I();return function(){var M=j(re),k;if(de){var H=j(this).constructor;k=Reflect.construct(M,arguments,H)}else k=M.apply(this,arguments);return z(this,k)}}function z(re,de){if(de&&(i(de)==="object"||typeof de=="function"))return de;if(de!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(re)}function B(re){if(re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j(re){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},j(re)}function J(re,de,Y){return de in re?Object.defineProperty(re,de,{value:Y,enumerable:!0,configurable:!0,writable:!0}):re[de]=Y,re}var Q=function(re){W(Y,re);var de=N(Y);function Y(M){var k;return $(this,Y),k=de.call(this,M),J(B(k),"onDragStart",function(H,q){(0,d.default)("Draggable: onDragStart: %j",q);var C=k.props.onStart(H,(0,o.createDraggableData)(B(k),q));if(C===!1)return!1;k.setState({dragging:!0,dragged:!0})}),J(B(k),"onDrag",function(H,q){if(!k.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",q);var C=(0,o.createDraggableData)(B(k),q),O={x:C.x,y:C.y};if(k.props.bounds){var F=O.x,V=O.y;O.x+=k.state.slackX,O.y+=k.state.slackY;var K=(0,o.getBoundPosition)(B(k),O.x,O.y),Z=y(K,2),ae=Z[0],le=Z[1];O.x=ae,O.y=le,O.slackX=k.state.slackX+(F-O.x),O.slackY=k.state.slackY+(V-O.y),C.x=O.x,C.y=O.y,C.deltaX=O.x-k.state.x,C.deltaY=O.y-k.state.y}var pe=k.props.onDrag(H,C);if(pe===!1)return!1;k.setState(O)}),J(B(k),"onDragStop",function(H,q){if(!k.state.dragging)return!1;var C=k.props.onStop(H,(0,o.createDraggableData)(B(k),q));if(C===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",q);var O={dragging:!1,slackX:0,slackY:0},F=!!k.props.position;if(F){var V=k.props.position,K=V.x,Z=V.y;O.x=K,O.y=Z}k.setState(O)}),k.state={dragging:!1,dragged:!1,x:M.position?M.position.x:M.defaultPosition.x,y:M.position?M.position.y:M.defaultPosition.y,prevPropsPosition:b({},M.position),slackX:0,slackY:0,isElementSVG:!1},M.position&&!(M.onDrag||M.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),k}return X(Y,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var k,H,q;return(k=(H=this.props)===null||H===void 0||(q=H.nodeRef)===null||q===void 0?void 0:q.current)!==null&&k!==void 0?k:a.default.findDOMNode(this)}},{key:"render",value:function(){var k,H=this.props;H.axis,H.bounds;var q=H.children,C=H.defaultPosition,O=H.defaultClassName,F=H.defaultClassNameDragging,V=H.defaultClassNameDragged,K=H.position,Z=H.positionOffset;H.scale;var ae=w(H,E),le={},pe=null,be=!!K,ve=!be||this.state.dragging,ye=K||C,Pe={x:(0,o.canDragX)(this)&&ve?this.state.x:ye.x,y:(0,o.canDragY)(this)&&ve?this.state.y:ye.y};this.state.isElementSVG?pe=(0,c.createSVGTransform)(Pe,Z):le=(0,c.createCSSTransform)(Pe,Z);var ke=(0,l.default)(q.props.className||"",O,(k={},J(k,F,this.state.dragging),J(k,V,this.state.dragged),k));return e.createElement(u.default,S({},ae,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(q),{className:ke,style:b(b({},q.props.style),le),transform:pe}))}}],[{key:"getDerivedStateFromProps",value:function(k,H){var q=k.position,C=H.prevPropsPosition;return q&&(!C||q.x!==C.x||q.y!==C.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:q,prevPropsPosition:C}),{x:q.x,y:q.y,prevPropsPosition:b({},q)}):null}}]),Y}(e.Component);t.default=Q,J(Q,"displayName","Draggable"),J(Q,"propTypes",b(b({},u.default.propTypes),{},{axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe})),J(Q,"defaultProps",b(b({},u.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(Draggable$2);var _require=Draggable$2,Draggable$1=_require.default,DraggableCore=_require.DraggableCore;cjs.exports=Draggable$1;cjs.exports.default=Draggable$1;cjs.exports.DraggableCore=DraggableCore;var cjsExports=cjs.exports;const DraggableRoot=getDefaultExportFromCjs(cjsExports);var __extends$2=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(n[l]=a[l])},t(i,e)};return function(i,e){t(i,e);function n(){this.constructor=i}i.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$3=function(){return __assign$3=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++){i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},__assign$3.apply(this,arguments)},styles={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},Resizer=function(t){__extends$2(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;return e.onMouseDown=function(n){e.props.onResizeStart(n,e.props.direction)},e.onTouchStart=function(n){e.props.onResizeStart(n,e.props.direction)},e}return i.prototype.render=function(){return reactExports.createElement("div",{className:this.props.className||"",style:__assign$3(__assign$3({position:"absolute",userSelect:"none"},styles[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},i}(reactExports.PureComponent),src={exports:{}};function memoize(t,i){var e=i&&i.cache?i.cache:cacheDefault,n=i&&i.serializer?i.serializer:serializerDefault,a=i&&i.strategy?i.strategy:strategyDefault;return a(t,{cache:e,serializer:n})}function isPrimitive(t){return t==null||typeof t=="number"||typeof t=="boolean"}function monadic(t,i,e,n){var a=isPrimitive(n)?n:e(n),l=i.get(a);return typeof l>"u"&&(l=t.call(this,n),i.set(a,l)),l}function variadic(t,i,e){var n=Array.prototype.slice.call(arguments,3),a=e(n),l=i.get(a);return typeof l>"u"&&(l=t.apply(this,n),i.set(a,l)),l}function assemble(t,i,e,n,a){return e.bind(i,t,n,a)}function strategyDefault(t,i){var e=t.length===1?monadic:variadic;return assemble(t,this,e,i.cache.create(),i.serializer)}function strategyVariadic(t,i){var e=variadic;return assemble(t,this,e,i.cache.create(),i.serializer)}function strategyMonadic(t,i){var e=monadic;return assemble(t,this,e,i.cache.create(),i.serializer)}function serializerDefault(){return JSON.stringify(arguments)}function ObjectWithoutPrototypeCache(){this.cache=Object.create(null)}ObjectWithoutPrototypeCache.prototype.has=function(t){return t in this.cache};ObjectWithoutPrototypeCache.prototype.get=function(t){return this.cache[t]};ObjectWithoutPrototypeCache.prototype.set=function(t,i){this.cache[t]=i};var cacheDefault={create:function t(){return new ObjectWithoutPrototypeCache}};src.exports=memoize;src.exports.strategies={variadic:strategyVariadic,monadic:strategyMonadic};var srcExports=src.exports;const memoize$1=getDefaultExportFromCjs(srcExports);var __extends$1=function(){var t=function(i,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(n[l]=a[l])},t(i,e)};return function(i,e){t(i,e);function n(){this.constructor=i}i.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign$2=function(){return __assign$2=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++){i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},__assign$2.apply(this,arguments)},DEFAULT_SIZE={width:"auto",height:"auto"},clamp$1=memoize$1(function(t,i,e){return Math.max(Math.min(t,e),i)}),snap=memoize$1(function(t,i){return Math.round(t/i)*i}),hasDirection=memoize$1(function(t,i){return new RegExp(t,"i").test(i)}),isTouchEvent=function(t){return!!(t.touches&&t.touches.length)},isMouseEvent=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},findClosestSnap=memoize$1(function(t,i,e){e===void 0&&(e=0);var n=i.reduce(function(l,c,o){return Math.abs(c-t)<Math.abs(i[l]-t)?o:l},0),a=Math.abs(i[n]-t);return e===0||a<e?i[n]:t}),endsWith=memoize$1(function(t,i){return t.substr(t.length-i.length,i.length)===i}),getStringSize=memoize$1(function(t){return t=t.toString(),t==="auto"||endsWith(t,"px")||endsWith(t,"%")||endsWith(t,"vh")||endsWith(t,"vw")||endsWith(t,"vmax")||endsWith(t,"vmin")?t:t+"px"}),getPixelSize=function(t,i,e,n){if(t&&typeof t=="string"){if(endsWith(t,"px"))return Number(t.replace("px",""));if(endsWith(t,"%")){var a=Number(t.replace("%",""))/100;return i*a}if(endsWith(t,"vw")){var a=Number(t.replace("vw",""))/100;return e*a}if(endsWith(t,"vh")){var a=Number(t.replace("vh",""))/100;return n*a}}return t},calculateNewMax=memoize$1(function(t,i,e,n,a,l,c){return n=getPixelSize(n,t.width,i,e),a=getPixelSize(a,t.height,i,e),l=getPixelSize(l,t.width,i,e),c=getPixelSize(c,t.height,i,e),{maxWidth:typeof n>"u"?void 0:Number(n),maxHeight:typeof a>"u"?void 0:Number(a),minWidth:typeof l>"u"?void 0:Number(l),minHeight:typeof c>"u"?void 0:Number(c)}}),definedProps=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],baseClassName="__resizable_base__",Resizable=function(t){__extends$1(i,t);function i(e){var n=t.call(this,e)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableRight=0,n.resizableTop=0,n.resizableBottom=0,n.targetLeft=0,n.targetTop=0,n.appendBase=function(){if(!n.resizable||!n.window)return null;var a=n.parentNode;if(!a)return null;var l=n.window.document.createElement("div");return l.style.width="100%",l.style.height="100%",l.style.position="absolute",l.style.transform="scale(0, 0)",l.style.left="0",l.style.flex="0 0 100%",l.classList?l.classList.add(baseClassName):l.className+=baseClassName,a.appendChild(l),l},n.removeBase=function(a){var l=n.parentNode;l&&l.removeChild(a)},n.ref=function(a){a&&(n.resizable=a)},n.state={isResizing:!1,width:typeof(n.propsSize&&n.propsSize.width)>"u"?"auto":n.propsSize&&n.propsSize.width,height:typeof(n.propsSize&&n.propsSize.height)>"u"?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return Object.defineProperty(i.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||DEFAULT_SIZE},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){var e=0,n=0;if(this.resizable&&this.window){var a=this.resizable.offsetWidth,l=this.resizable.offsetHeight,c=this.resizable.style.position;c!=="relative"&&(this.resizable.style.position="relative"),e=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:a,n=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:l,this.resizable.style.position=c}return{width:e,height:n}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"sizeStyle",{get:function(){var e=this,n=this.props.size,a=function(o){if(typeof e.state[o]>"u"||e.state[o]==="auto")return"auto";if(e.propsSize&&e.propsSize[o]&&endsWith(e.propsSize[o].toString(),"%")){if(endsWith(e.state[o].toString(),"%"))return e.state[o].toString();var f=e.getParentSize(),u=Number(e.state[o].toString().replace("px","")),d=u/f[o]*100;return d+"%"}return getStringSize(e.state[o])},l=n&&typeof n.width<"u"&&!this.state.isResizing?getStringSize(n.width):a("width"),c=n&&typeof n.height<"u"&&!this.state.isResizing?getStringSize(n.height):a("height");return{width:l,height:c}},enumerable:!1,configurable:!0}),i.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var n=!1,a=this.parentNode.style.flexWrap;a!=="wrap"&&(n=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var l={width:e.offsetWidth,height:e.offsetHeight};return n&&(this.parentNode.style.flexWrap=a),this.removeBase(e),l},i.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},i.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},i.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:e.flexBasis!=="auto"?e.flexBasis:void 0})}},i.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},i.prototype.createSizeForCssProperty=function(e,n){var a=this.propsSize&&this.propsSize[n];return this.state[n]==="auto"&&this.state.original[n]===e&&(typeof a>"u"||a==="auto")?"auto":e},i.prototype.calculateNewMaxFromBoundary=function(e,n){var a=this.props.boundsByDirection,l=this.state.direction,c=a&&hasDirection("left",l),o=a&&hasDirection("top",l),f,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(f=c?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=o?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(f=c?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=o?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(f=c?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=o?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return f&&Number.isFinite(f)&&(e=e&&e<f?e:f),u&&Number.isFinite(u)&&(n=n&&n<u?n:u),{maxWidth:e,maxHeight:n}},i.prototype.calculateNewSizeFromDirection=function(e,n){var a=this.props.scale||1,l=this.props.resizeRatio||1,c=this.state,o=c.direction,f=c.original,u=this.props,d=u.lockAspectRatio,E=u.lockAspectRatioExtraHeight,p=u.lockAspectRatioExtraWidth,g=f.width,x=f.height,S=E||0,w=p||0;return hasDirection("right",o)&&(g=f.width+(e-f.x)*l/a,d&&(x=(g-w)/this.ratio+S)),hasDirection("left",o)&&(g=f.width-(e-f.x)*l/a,d&&(x=(g-w)/this.ratio+S)),hasDirection("bottom",o)&&(x=f.height+(n-f.y)*l/a,d&&(g=(x-S)*this.ratio+w)),hasDirection("top",o)&&(x=f.height-(n-f.y)*l/a,d&&(g=(x-S)*this.ratio+w)),{newWidth:g,newHeight:x}},i.prototype.calculateNewSizeFromAspectRatio=function(e,n,a,l){var c=this.props,o=c.lockAspectRatio,f=c.lockAspectRatioExtraHeight,u=c.lockAspectRatioExtraWidth,d=typeof l.width>"u"?10:l.width,E=typeof a.width>"u"||a.width<0?e:a.width,p=typeof l.height>"u"?10:l.height,g=typeof a.height>"u"||a.height<0?n:a.height,x=f||0,S=u||0;if(o){var w=(p-x)*this.ratio+S,T=(g-x)*this.ratio+S,m=(d-S)/this.ratio+x,b=(E-S)/this.ratio+x,y=Math.max(d,w),h=Math.min(E,T),v=Math.max(p,m),A=Math.min(g,b);e=clamp$1(e,y,h),n=clamp$1(n,v,A)}else e=clamp$1(e,d,E),n=clamp$1(n,p,g);return{newWidth:e,newHeight:n}},i.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var e=this.parentNode;if(e){var n=e.getBoundingClientRect();this.parentLeft=n.left,this.parentTop=n.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var a=this.props.bounds.getBoundingClientRect();this.targetLeft=a.left,this.targetTop=a.top}if(this.resizable){var l=this.resizable.getBoundingClientRect(),c=l.left,o=l.top,f=l.right,u=l.bottom;this.resizableLeft=c,this.resizableRight=f,this.resizableTop=o,this.resizableBottom=u}},i.prototype.onResizeStart=function(e,n){if(!(!this.resizable||!this.window)){var a=0,l=0;if(e.nativeEvent&&isMouseEvent(e.nativeEvent)?(a=e.nativeEvent.clientX,l=e.nativeEvent.clientY):e.nativeEvent&&isTouchEvent(e.nativeEvent)&&(a=e.nativeEvent.touches[0].clientX,l=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var c=this.props.onResizeStart(e,n,this.resizable);if(c===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var o,f=this.window.getComputedStyle(this.resizable);if(f.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",o=f.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var E={original:{x:a,y:l,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:__assign$2(__assign$2({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:n,flexBasis:o};this.setState(E)}},i.prototype.onMouseMove=function(e){if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&isTouchEvent(e))try{e.preventDefault(),e.stopPropagation()}catch{}var n=this.props,a=n.maxWidth,l=n.maxHeight,c=n.minWidth,o=n.minHeight,f=isTouchEvent(e)?e.touches[0].clientX:e.clientX,u=isTouchEvent(e)?e.touches[0].clientY:e.clientY,d=this.state,E=d.direction,p=d.original,g=d.width,x=d.height,S=this.getParentSize(),w=calculateNewMax(S,this.window.innerWidth,this.window.innerHeight,a,l,c,o);a=w.maxWidth,l=w.maxHeight,c=w.minWidth,o=w.minHeight;var T=this.calculateNewSizeFromDirection(f,u),m=T.newHeight,b=T.newWidth,y=this.calculateNewMaxFromBoundary(a,l);this.props.snap&&this.props.snap.x&&(b=findClosestSnap(b,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(m=findClosestSnap(m,this.props.snap.y,this.props.snapGap));var h=this.calculateNewSizeFromAspectRatio(b,m,{width:y.maxWidth,height:y.maxHeight},{width:c,height:o});if(b=h.newWidth,m=h.newHeight,this.props.grid){var v=snap(b,this.props.grid[0]),A=snap(m,this.props.grid[1]),P=this.props.snapGap||0;b=P===0||Math.abs(v-b)<=P?v:b,m=P===0||Math.abs(A-m)<=P?A:m}var R={width:b-p.width,height:m-p.height};if(g&&typeof g=="string"){if(endsWith(g,"%")){var $=b/S.width*100;b=$+"%"}else if(endsWith(g,"vw")){var D=b/this.window.innerWidth*100;b=D+"vw"}else if(endsWith(g,"vh")){var X=b/this.window.innerHeight*100;b=X+"vh"}}if(x&&typeof x=="string"){if(endsWith(x,"%")){var $=m/S.height*100;m=$+"%"}else if(endsWith(x,"vw")){var D=m/this.window.innerWidth*100;m=D+"vw"}else if(endsWith(x,"vh")){var X=m/this.window.innerHeight*100;m=X+"vh"}}var W={width:this.createSizeForCssProperty(b,"width"),height:this.createSizeForCssProperty(m,"height")};this.flexDir==="row"?W.flexBasis=W.width:this.flexDir==="column"&&(W.flexBasis=W.height),this.setState(W),this.props.onResize&&this.props.onResize(e,E,this.resizable,R)}},i.prototype.onMouseUp=function(e){var n=this.state,a=n.isResizing,l=n.direction,c=n.original;if(!(!a||!this.resizable)){var o={width:this.size.width-c.width,height:this.size.height-c.height};this.props.onResizeStop&&this.props.onResizeStop(e,l,this.resizable,o),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:__assign$2(__assign$2({},this.state.backgroundStyle),{cursor:"auto"})})}},i.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},i.prototype.renderResizer=function(){var e=this,n=this.props,a=n.enable,l=n.handleStyles,c=n.handleClasses,o=n.handleWrapperStyle,f=n.handleWrapperClass,u=n.handleComponent;if(!a)return null;var d=Object.keys(a).map(function(E){return a[E]!==!1?reactExports.createElement(Resizer,{key:E,direction:E,onResizeStart:e.onResizeStart,replaceStyles:l&&l[E],className:c&&c[E]},u&&u[E]?u[E]:null):null});return reactExports.createElement("div",{className:f,style:o},d)},i.prototype.render=function(){var e=this,n=Object.keys(this.props).reduce(function(c,o){return definedProps.indexOf(o)!==-1||(c[o]=e.props[o]),c},{}),a=__assign$2(__assign$2(__assign$2({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(a.flexBasis=this.state.flexBasis);var l=this.props.as||"div";return reactExports.createElement(l,__assign$2({ref:this.ref,style:a,className:this.props.className},n),this.state.isResizing&&reactExports.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},i.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},i}(reactExports.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(t,i){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},extendStatics(t,i)};function __extends(t,i){extendStatics(t,i);function e(){this.constructor=t}t.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}var __assign$1=function(){return __assign$1=Object.assign||function(i){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[l]=e[l])}return i},__assign$1.apply(this,arguments)};function __rest$1(t,i){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&i.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)i.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(e[n[a]]=t[n[a]]);return e}var Draggable=DraggableRoot,resizableStyle={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},getEnableResizingByFlag=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}},Rnd=function(t){__extends(i,t);function i(e){var n=t.call(this,e)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.refDraggable=function(a){a&&(n.draggable=a)},n.refResizable=function(a){a&&(n.resizable=a,n.resizableElement.current=a.resizable)},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:e.maxWidth,maxHeight:e.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return i.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,n=e.left,a=e.top,l=this.getDraggablePosition(),c=l.x,o=l.y;this.draggable.setState({x:c-n,y:o-a}),this.forceUpdate()},i.prototype.getDraggablePosition=function(){var e=this.draggable.state,n=e.x,a=e.y;return{x:n,y:a}},i.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},i.prototype.getParentSize=function(){return this.resizable.getParentSize()},i.prototype.getMaxSizesFromProps=function(){var e=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,n=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:e,maxHeight:n}},i.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},i.prototype.getOffsetHeight=function(e){var n=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/n;case"body":return document.body.offsetHeight/n;default:return e.offsetHeight}},i.prototype.getOffsetWidth=function(e){var n=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/n;case"body":return document.body.offsetWidth/n;default:return e.offsetWidth}},i.prototype.onDragStart=function(e,n){this.props.onDragStart&&this.props.onDragStart(e,n);var a=this.getDraggablePosition();if(this.originalPosition=a,!!this.props.bounds){var l=this.getParent(),c=this.props.scale,o;if(this.props.bounds==="parent")o=l;else if(this.props.bounds==="body"){var f=l.getBoundingClientRect(),u=f.left,d=f.top,E=document.body.getBoundingClientRect(),p=-(u-l.offsetLeft*c-E.left)/c,g=-(d-l.offsetTop*c-E.top)/c,x=(document.body.offsetWidth-this.resizable.size.width*c)/c+p,S=(document.body.offsetHeight-this.resizable.size.height*c)/c+g;return this.setState({bounds:{top:g,right:x,bottom:S,left:p}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var w=l.getBoundingClientRect(),T=w.left,m=w.top,b=-(T-l.offsetLeft*c)/c,y=-(m-l.offsetTop*c)/c,x=(window.innerWidth-this.resizable.size.width*c)/c+b,S=(window.innerHeight-this.resizable.size.height*c)/c+y;return this.setState({bounds:{top:y,right:x,bottom:S,left:b}})}else typeof this.props.bounds=="string"?o=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(o=this.props.bounds);if(!(!(o instanceof HTMLElement)||!(l instanceof HTMLElement))){var h=o.getBoundingClientRect(),v=h.left,A=h.top,P=l.getBoundingClientRect(),R=P.left,$=P.top,D=(v-R)/c,X=A-$;if(this.resizable){this.updateOffsetFromParent();var W=this.offsetFromParent;this.setState({bounds:{top:X-W.top,right:D+(o.offsetWidth-this.resizable.size.width)-W.left/c,bottom:X+(o.offsetHeight-this.resizable.size.height)-W.top,left:D-W.left/c}})}}}},i.prototype.onDrag=function(e,n){if(this.props.onDrag){var a=this.offsetFromParent,l=a.left,c=a.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(e,__assign$1(__assign$1({},n),{x:n.x-l,y:n.y-c}));if(this.props.dragAxis==="x")return this.props.onDrag(e,__assign$1(__assign$1({},n),{x:n.x+l,y:this.originalPosition.y+c,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(e,__assign$1(__assign$1({},n),{x:this.originalPosition.x+l,y:n.y+c,deltaX:0}))}},i.prototype.onDragStop=function(e,n){if(this.props.onDragStop){var a=this.offsetFromParent,l=a.left,c=a.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(e,__assign$1(__assign$1({},n),{x:n.x+l,y:n.y+c}));if(this.props.dragAxis==="x")return this.props.onDragStop(e,__assign$1(__assign$1({},n),{x:n.x+l,y:this.originalPosition.y+c,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(e,__assign$1(__assign$1({},n),{x:this.originalPosition.x+l,y:n.y+c,deltaX:0}))}},i.prototype.onResizeStart=function(e,n,a){e.stopPropagation(),this.setState({resizing:!0});var l=this.props.scale,c=this.offsetFromParent,o=this.getDraggablePosition();if(this.resizingPosition={x:o.x+c.left,y:o.y+c.top},this.originalPosition=o,this.props.bounds){var f=this.getParent(),u=void 0;this.props.bounds==="parent"?u=f:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var d=this.getSelfElement();if(d instanceof Element&&(u instanceof HTMLElement||u===window)&&f instanceof HTMLElement){var E=this.getMaxSizesFromProps(),p=E.maxWidth,g=E.maxHeight,x=this.getParentSize();if(p&&typeof p=="string")if(p.endsWith("%")){var S=Number(p.replace("%",""))/100;p=x.width*S}else p.endsWith("px")&&(p=Number(p.replace("px","")));if(g&&typeof g=="string")if(g.endsWith("%")){var S=Number(g.replace("%",""))/100;g=x.width*S}else g.endsWith("px")&&(g=Number(g.replace("px","")));var w=d.getBoundingClientRect(),T=w.left,m=w.top,b=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),y=b.left,h=b.top,v=this.getOffsetWidth(u),A=this.getOffsetHeight(u),P=n.toLowerCase().endsWith("left"),R=n.toLowerCase().endsWith("right"),$=n.startsWith("top"),D=n.startsWith("bottom");if((P||$)&&this.resizable){var X=(T-y)/l+this.resizable.size.width;this.setState({maxWidth:X>Number(p)?p:X})}if(R||this.props.lockAspectRatio&&!P&&!$){var X=v+(y-T)/l;this.setState({maxWidth:X>Number(p)?p:X})}if(($||P)&&this.resizable){var X=(m-h)/l+this.resizable.size.height;this.setState({maxHeight:X>Number(g)?g:X})}if(D||this.props.lockAspectRatio&&!$&&!P){var X=A+(h-m)/l;this.setState({maxHeight:X>Number(g)?g:X})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,n,a)},i.prototype.onResize=function(e,n,a,l){var c={x:this.originalPosition.x,y:this.originalPosition.y},o=-l.width,f=-l.height,u=["top","left","topLeft","bottomLeft","topRight"];u.indexOf(n)!==-1&&(n==="bottomLeft"?c.x+=o:(n==="topRight"||(c.x+=o),c.y+=f)),(c.x!==this.draggable.state.x||c.y!==this.draggable.state.y)&&this.draggable.setState(c),this.updateOffsetFromParent();var d=this.offsetFromParent,E=this.getDraggablePosition().x+d.left,p=this.getDraggablePosition().y+d.top;this.resizingPosition={x:E,y:p},this.props.onResize&&this.props.onResize(e,n,a,l,{x:E,y:p})},i.prototype.onResizeStop=function(e,n,a,l){this.setState({resizing:!1});var c=this.getMaxSizesFromProps(),o=c.maxWidth,f=c.maxHeight;this.setState({maxWidth:o,maxHeight:f}),this.props.onResizeStop&&this.props.onResizeStop(e,n,a,l,this.resizingPosition)},i.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},i.prototype.updatePosition=function(e){this.draggable.setState(e)},i.prototype.updateOffsetFromParent=function(){var e=this.props.scale,n=this.getParent(),a=this.getSelfElement();if(!n||a===null)return{top:0,left:0};var l=n.getBoundingClientRect(),c=l.left,o=l.top,f=a.getBoundingClientRect(),u=this.getDraggablePosition(),d=n.scrollLeft,E=n.scrollTop;this.offsetFromParent={left:f.left-c+d-u.x*e,top:f.top-o+E-u.y*e}},i.prototype.render=function(){var e=this.props,n=e.disableDragging,a=e.style,l=e.dragHandleClassName,c=e.position,o=e.onMouseDown,f=e.onMouseUp,u=e.dragAxis,d=e.dragGrid,E=e.bounds,p=e.enableUserSelectHack,g=e.cancel,x=e.children;e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop;var S=e.resizeHandleStyles,w=e.resizeHandleClasses,T=e.resizeHandleComponent,m=e.enableResizing,b=e.resizeGrid,y=e.resizeHandleWrapperClass,h=e.resizeHandleWrapperStyle,v=e.scale,A=e.allowAnyClick,P=__rest$1(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),R=this.props.default?__assign$1({},this.props.default):void 0;delete P.default;var $=n||l?{cursor:"auto"}:{cursor:"move"},D=__assign$1(__assign$1(__assign$1({},resizableStyle),$),a),X=this.offsetFromParent,W=X.left,U=X.top,N;c&&(N={x:c.x-W,y:c.y-U});var z=this.state.resizing?void 0:N,B=this.state.resizing?"both":u;return reactExports.createElement(Draggable,{ref:this.refDraggable,handle:l?".".concat(l):void 0,defaultPosition:R,onMouseDown:o,onMouseUp:f,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:B,disabled:n,grid:d,bounds:E?this.state.bounds:void 0,position:z,enableUserSelectHack:p,cancel:g,scale:v,allowAnyClick:A,nodeRef:this.resizableElement},reactExports.createElement(Resizable,__assign$1({},P,{ref:this.refResizable,defaultSize:R,size:this.props.size,enable:typeof m=="boolean"?getEnableResizingByFlag(m):m,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:D,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:b,handleWrapperClass:y,handleWrapperStyle:h,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:S,handleClasses:w,handleComponent:T,scale:this.props.scale}),x))},i.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},i}(reactExports.PureComponent);class AreaHighlight extends reactExports.Component{render(){const{highlight:i,onChange:e,isScrolledTo:n,...a}=this.props;return jsxRuntimeExports.jsx("div",{className:`AreaHighlight ${n?"AreaHighlight--scrolledTo":""}`,children:jsxRuntimeExports.jsx(Rnd,{className:"AreaHighlight__part",onDragStop:(l,c)=>{const o={...i.position.boundingRect,top:c.y,left:c.x};e(o)},onResizeStop:(l,c,o,f,u)=>{var E;const d={top:u.y,left:u.x,width:o.offsetWidth,height:o.offsetHeight,pageNumber:((E=getPageFromElement(o))==null?void 0:E.number)||-1};e(d)},position:{x:i.position.boundingRect.left,y:i.position.boundingRect.top},size:{width:i.position.boundingRect.width,height:i.position.boundingRect.height},onClick:l=>{l.stopPropagation(),l.preventDefault()},...a})})}}var pdfExports=requirePdf();class PdfLoader extends reactExports.Component{constructor(){super(...arguments);Ze(this,"state",{pdfDocument:null,error:null});Ze(this,"documentRef",reactExports.createRef())}componentDidMount(){this.load()}componentWillUnmount(){const{pdfDocument:e}=this.state;e&&e.destroy()}componentDidUpdate({url:e}){this.props.url!==e&&this.load()}componentDidCatch(e){const{onError:n}=this.props;n&&n(e),this.setState({pdfDocument:null,error:e})}load(){const{ownerDocument:e=document}=this.documentRef.current||{},{url:n,cMapUrl:a,cMapPacked:l,workerSrc:c}=this.props,{pdfDocument:o}=this.state;this.setState({pdfDocument:null,error:null}),typeof c=="string"&&(pdfExports.GlobalWorkerOptions.workerSrc=c),Promise.resolve().then(()=>o&&o.destroy()).then(()=>{if(n)return pdfExports.getDocument({...this.props,ownerDocument:e,cMapUrl:a,cMapPacked:l}).promise.then(f=>{this.setState({pdfDocument:f})})}).catch(f=>this.componentDidCatch(f))}render(){const{children:e,beforeLoad:n}=this.props,{pdfDocument:a,error:l}=this.state;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{ref:this.documentRef}),l?this.renderError():!a||!e?n:e(a)]})}renderError(){const{errorMessage:e}=this.props;return e?reactExports.cloneElement(e,{error:this.state.error}):null}}Ze(PdfLoader,"defaultProps",{workerSrc:"https://unpkg.com/pdfjs-dist@2.16.105/build/pdf.worker.min.js"});const HighlightPopup=({comment:t})=>t.text?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{children:[t.emoji," ",t.text]})})}):null;function $e42e1063c40fb3ef$export$b9ecd428b558ff10(t,i,{checkForDefaultPrevented:e=!0}={}){return function(a){if(t==null||t(a),e===!1||!a.defaultPrevented)return i==null?void 0:i(a)}}function $c512c27ab02ef895$export$50c7b4e9d9f19c1(t,i=[]){let e=[];function n(l,c){const o=reactExports.createContext(c),f=e.length;e=[...e,c];function u(E){const{scope:p,children:g,...x}=E,S=(p==null?void 0:p[t][f])||o,w=reactExports.useMemo(()=>x,Object.values(x));return reactExports.createElement(S.Provider,{value:w},g)}function d(E,p){const g=(p==null?void 0:p[t][f])||o,x=reactExports.useContext(g);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${E}\` must be used within \`${l}\``)}return u.displayName=l+"Provider",[u,d]}const a=()=>{const l=e.map(c=>reactExports.createContext(c));return function(o){const f=(o==null?void 0:o[t])||l;return reactExports.useMemo(()=>({[`__scope${t}`]:{...o,[t]:f}}),[o,f])}};return a.scopeName=t,[n,$c512c27ab02ef895$var$composeContextScopes(a,...i)]}function $c512c27ab02ef895$var$composeContextScopes(...t){const i=t[0];if(t.length===1)return i;const e=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=n.reduce((o,{useScope:f,scopeName:u})=>{const E=f(l)[`__scope${u}`];return{...o,...E}},{});return reactExports.useMemo(()=>({[`__scope${i.scopeName}`]:c}),[c])}};return e.scopeName=i.scopeName,e}const $9f79659886946c16$export$e5c5a5f917a5871c=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},$1746a345f3d73bb7$var$useReactId=$2AODx$react.useId||(()=>{});let $1746a345f3d73bb7$var$count=0;function $1746a345f3d73bb7$export$f680877a34711e37(t){const[i,e]=reactExports.useState($1746a345f3d73bb7$var$useReactId());return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{t||e(n=>n??String($1746a345f3d73bb7$var$count++))},[t]),t||(i?`radix-${i}`:"")}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(t){const i=reactExports.useRef(t);return reactExports.useEffect(()=>{i.current=t}),reactExports.useMemo(()=>(...e)=>{var n;return(n=i.current)===null||n===void 0?void 0:n.call(i,...e)},[])}function $71cd76cc60e0454e$export$6f32135080cb4c3({prop:t,defaultProp:i,onChange:e=()=>{}}){const[n,a]=$71cd76cc60e0454e$var$useUncontrolledState({defaultProp:i,onChange:e}),l=t!==void 0,c=l?t:n,o=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(e),f=reactExports.useCallback(u=>{if(l){const E=typeof u=="function"?u(t):u;E!==t&&o(E)}else a(u)},[l,t,a,o]);return[c,f]}function $71cd76cc60e0454e$var$useUncontrolledState({defaultProp:t,onChange:i}){const e=reactExports.useState(t),[n]=e,a=reactExports.useRef(n),l=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(i);return reactExports.useEffect(()=>{a.current!==n&&(l(n),a.current=n)},[n,a,l]),e}function $addc16e1bbe58fd0$export$3a72a57244d6e765(t,i=globalThis==null?void 0:globalThis.document){const e=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(t);reactExports.useEffect(()=>{const n=a=>{a.key==="Escape"&&e(a)};return i.addEventListener("keydown",n),()=>i.removeEventListener("keydown",n)},[e,i])}const $5cb92bef7577960e$var$CONTEXT_UPDATE="dismissableLayer.update",$5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",$5cb92bef7577960e$var$FOCUS_OUTSIDE="dismissableLayer.focusOutside";let $5cb92bef7577960e$var$originalBodyPointerEvents;const $5cb92bef7577960e$var$DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$5cb92bef7577960e$export$177fb62ff3ec1f22=reactExports.forwardRef((t,i)=>{var e;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:o,onDismiss:f,...u}=t,d=reactExports.useContext($5cb92bef7577960e$var$DismissableLayerContext),[E,p]=reactExports.useState(null),g=(e=E==null?void 0:E.ownerDocument)!==null&&e!==void 0?e:globalThis==null?void 0:globalThis.document,[,x]=reactExports.useState({}),S=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,P=>p(P)),w=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),m=w.indexOf(T),b=E?w.indexOf(E):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,h=b>=m,v=$5cb92bef7577960e$var$usePointerDownOutside(P=>{const R=P.target,$=[...d.branches].some(D=>D.contains(R));!h||$||(l==null||l(P),o==null||o(P),P.defaultPrevented||f==null||f())},g),A=$5cb92bef7577960e$var$useFocusOutside(P=>{const R=P.target;[...d.branches].some(D=>D.contains(R))||(c==null||c(P),o==null||o(P),P.defaultPrevented||f==null||f())},g);return $addc16e1bbe58fd0$export$3a72a57244d6e765(P=>{b===d.layers.size-1&&(a==null||a(P),!P.defaultPrevented&&f&&(P.preventDefault(),f()))},g),reactExports.useEffect(()=>{if(E)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&($5cb92bef7577960e$var$originalBodyPointerEvents=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(E)),d.layers.add(E),$5cb92bef7577960e$var$dispatchUpdate(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=$5cb92bef7577960e$var$originalBodyPointerEvents)}},[E,g,n,d]),reactExports.useEffect(()=>()=>{E&&(d.layers.delete(E),d.layersWithOutsidePointerEventsDisabled.delete(E),$5cb92bef7577960e$var$dispatchUpdate())},[E,d]),reactExports.useEffect(()=>{const P=()=>x({});return document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,P),()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,P)},[]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({},u,{ref:S,style:{pointerEvents:y?h?"auto":"none":void 0,...t.style},onFocusCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onFocusCapture,A.onFocusCapture),onBlurCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onPointerDownCapture,v.onPointerDownCapture)}))});function $5cb92bef7577960e$var$usePointerDownOutside(t,i=globalThis==null?void 0:globalThis.document){const e=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(t),n=reactExports.useRef(!1),a=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const l=o=>{if(o.target&&!n.current){let u=function(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE,e,f,{discrete:!0})};const f={originalEvent:o};o.pointerType==="touch"?(i.removeEventListener("click",a.current),a.current=u,i.addEventListener("click",a.current,{once:!0})):u()}else i.removeEventListener("click",a.current);n.current=!1},c=window.setTimeout(()=>{i.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),i.removeEventListener("pointerdown",l),i.removeEventListener("click",a.current)}},[i,e]),{onPointerDownCapture:()=>n.current=!0}}function $5cb92bef7577960e$var$useFocusOutside(t,i=globalThis==null?void 0:globalThis.document){const e=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(t),n=reactExports.useRef(!1);return reactExports.useEffect(()=>{const a=l=>{l.target&&!n.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE,e,{originalEvent:l},{discrete:!1})};return i.addEventListener("focusin",a),()=>i.removeEventListener("focusin",a)},[i,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function $5cb92bef7577960e$var$dispatchUpdate(){const t=new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);document.dispatchEvent(t)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(t,i,e,{discrete:n}){const a=e.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:e});i&&a.addEventListener(t,i,{once:!0}),n?$8927f6f2acc4f386$export$6d1a0317bde7de7f(a,l):a.dispatchEvent(l)}const $d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",$d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",$d3863c46a17e8a28$var$EVENT_OPTIONS={bubbles:!1,cancelable:!0},$d3863c46a17e8a28$export$20e40289641fbbb6=reactExports.forwardRef((t,i)=>{const{loop:e=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=t,[o,f]=reactExports.useState(null),u=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(a),d=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(l),E=reactExports.useRef(null),p=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,S=>f(S)),g=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(n){let S=function(b){if(g.paused||!o)return;const y=b.target;o.contains(y)?E.current=y:$d3863c46a17e8a28$var$focus(E.current,{select:!0})},w=function(b){if(g.paused||!o)return;const y=b.relatedTarget;y!==null&&(o.contains(y)||$d3863c46a17e8a28$var$focus(E.current,{select:!0}))},T=function(b){if(document.activeElement===document.body)for(const h of b)h.removedNodes.length>0&&$d3863c46a17e8a28$var$focus(o)};document.addEventListener("focusin",S),document.addEventListener("focusout",w);const m=new MutationObserver(T);return o&&m.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",w),m.disconnect()}}},[n,o,g.paused]),reactExports.useEffect(()=>{if(o){$d3863c46a17e8a28$var$focusScopesStack.add(g);const S=document.activeElement;if(!o.contains(S)){const T=new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,$d3863c46a17e8a28$var$EVENT_OPTIONS);o.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,u),o.dispatchEvent(T),T.defaultPrevented||($d3863c46a17e8a28$var$focusFirst($d3863c46a17e8a28$var$removeLinks($d3863c46a17e8a28$var$getTabbableCandidates(o)),{select:!0}),document.activeElement===S&&$d3863c46a17e8a28$var$focus(o))}return()=>{o.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,u),setTimeout(()=>{const T=new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,$d3863c46a17e8a28$var$EVENT_OPTIONS);o.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,d),o.dispatchEvent(T),T.defaultPrevented||$d3863c46a17e8a28$var$focus(S??document.body,{select:!0}),o.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,d),$d3863c46a17e8a28$var$focusScopesStack.remove(g)},0)}}},[o,u,d,g]);const x=reactExports.useCallback(S=>{if(!e&&!n||g.paused)return;const w=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,T=document.activeElement;if(w&&T){const m=S.currentTarget,[b,y]=$d3863c46a17e8a28$var$getTabbableEdges(m);b&&y?!S.shiftKey&&T===y?(S.preventDefault(),e&&$d3863c46a17e8a28$var$focus(b,{select:!0})):S.shiftKey&&T===b&&(S.preventDefault(),e&&$d3863c46a17e8a28$var$focus(y,{select:!0})):T===m&&S.preventDefault()}},[e,n,g.paused]);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({tabIndex:-1},c,{ref:p,onKeyDown:x}))});function $d3863c46a17e8a28$var$focusFirst(t,{select:i=!1}={}){const e=document.activeElement;for(const n of t)if($d3863c46a17e8a28$var$focus(n,{select:i}),document.activeElement!==e)return}function $d3863c46a17e8a28$var$getTabbableEdges(t){const i=$d3863c46a17e8a28$var$getTabbableCandidates(t),e=$d3863c46a17e8a28$var$findVisible(i,t),n=$d3863c46a17e8a28$var$findVisible(i.reverse(),t);return[e,n]}function $d3863c46a17e8a28$var$getTabbableCandidates(t){const i=[],e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)i.push(e.currentNode);return i}function $d3863c46a17e8a28$var$findVisible(t,i){for(const e of t)if(!$d3863c46a17e8a28$var$isHidden(e,{upTo:i}))return e}function $d3863c46a17e8a28$var$isHidden(t,{upTo:i}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(i!==void 0&&t===i)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function $d3863c46a17e8a28$var$isSelectableInput(t){return t instanceof HTMLInputElement&&"select"in t}function $d3863c46a17e8a28$var$focus(t,{select:i=!1}={}){if(t&&t.focus){const e=document.activeElement;t.focus({preventScroll:!0}),t!==e&&$d3863c46a17e8a28$var$isSelectableInput(t)&&i&&t.select()}}const $d3863c46a17e8a28$var$focusScopesStack=$d3863c46a17e8a28$var$createFocusScopesStack();function $d3863c46a17e8a28$var$createFocusScopesStack(){let t=[];return{add(i){const e=t[0];i!==e&&(e==null||e.pause()),t=$d3863c46a17e8a28$var$arrayRemove(t,i),t.unshift(i)},remove(i){var e;t=$d3863c46a17e8a28$var$arrayRemove(t,i),(e=t[0])===null||e===void 0||e.resume()}}}function $d3863c46a17e8a28$var$arrayRemove(t,i){const e=[...t],n=e.indexOf(i);return n!==-1&&e.splice(n,1),e}function $d3863c46a17e8a28$var$removeLinks(t){return t.filter(i=>i.tagName!=="A")}const $f1701beae083dbae$export$602eac185826482c=reactExports.forwardRef((t,i)=>{var e;const{container:n=globalThis==null||(e=globalThis.document)===null||e===void 0?void 0:e.body,...a}=t;return n?$7SXl2$reactdom.createPortal(reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({},a,{ref:i})),n):null});function $fe963b355347cc68$export$3e6543de14f8614f(t,i){return reactExports.useReducer((e,n)=>{const a=i[e][n];return a??e},t)}const $921a889cee6df7e8$export$99c2b779aa4e8b8b=t=>{const{present:i,children:e}=t,n=$921a889cee6df7e8$var$usePresence(i),a=typeof e=="function"?e({present:n.isPresent}):reactExports.Children.only(e),l=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(n.ref,a.ref);return typeof e=="function"||n.isPresent?reactExports.cloneElement(a,{ref:l}):null};$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence";function $921a889cee6df7e8$var$usePresence(t){const[i,e]=reactExports.useState(),n=reactExports.useRef({}),a=reactExports.useRef(t),l=reactExports.useRef("none"),c=t?"mounted":"unmounted",[o,f]=$fe963b355347cc68$export$3e6543de14f8614f(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const u=$921a889cee6df7e8$var$getAnimationName(n.current);l.current=o==="mounted"?u:"none"},[o]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{const u=n.current,d=a.current;if(d!==t){const p=l.current,g=$921a889cee6df7e8$var$getAnimationName(u);t?f("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?f("UNMOUNT"):f(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,f]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(i){const u=E=>{const g=$921a889cee6df7e8$var$getAnimationName(n.current).includes(E.animationName);E.target===i&&g&&reactDomExports.flushSync(()=>f("ANIMATION_END"))},d=E=>{E.target===i&&(l.current=$921a889cee6df7e8$var$getAnimationName(n.current))};return i.addEventListener("animationstart",d),i.addEventListener("animationcancel",u),i.addEventListener("animationend",u),()=>{i.removeEventListener("animationstart",d),i.removeEventListener("animationcancel",u),i.removeEventListener("animationend",u)}}else f("ANIMATION_END")},[i,f]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:reactExports.useCallback(u=>{u&&(n.current=getComputedStyle(u)),e(u)},[])}}function $921a889cee6df7e8$var$getAnimationName(t){return(t==null?void 0:t.animationName)||"none"}let $3db38b7d1fb3fe6a$var$count=0;function $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c(){reactExports.useEffect(()=>{var t,i;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!==null&&t!==void 0?t:$3db38b7d1fb3fe6a$var$createFocusGuard()),document.body.insertAdjacentElement("beforeend",(i=e[1])!==null&&i!==void 0?i:$3db38b7d1fb3fe6a$var$createFocusGuard()),$3db38b7d1fb3fe6a$var$count++,()=>{$3db38b7d1fb3fe6a$var$count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),$3db38b7d1fb3fe6a$var$count--}},[])}function $3db38b7d1fb3fe6a$var$createFocusGuard(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){return __assign=Object.assign||function(i){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[l]=e[l])}return i},__assign.apply(this,arguments)};function __rest(t,i){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&i.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)i.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(e[n[a]]=t[n[a]]);return e}function __spreadArray(t,i,e){if(e||arguments.length===2)for(var n=0,a=i.length,l;n<a;n++)(l||!(n in i))&&(l||(l=Array.prototype.slice.call(i,0,n)),l[n]=i[n]);return t.concat(l||Array.prototype.slice.call(i))}var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(t,i){return typeof t=="function"?t(i):t&&(t.current=i),t}function useCallbackRef(t,i){var e=reactExports.useState(function(){return{value:t,callback:i,facade:{get current(){return e.value},set current(n){var a=e.value;a!==n&&(e.value=n,e.callback(n,a))}}}})[0];return e.callback=i,e.facade}var currentValues=new WeakMap;function useMergeRefs(t,i){var e=useCallbackRef(i||null,function(n){return t.forEach(function(a){return assignRef(a,n)})});return reactExports.useLayoutEffect(function(){var n=currentValues.get(e);if(n){var a=new Set(n),l=new Set(t),c=e.current;a.forEach(function(o){l.has(o)||assignRef(o,null)}),l.forEach(function(o){a.has(o)||assignRef(o,c)})}currentValues.set(e,t)},[t]),e}function ItoI(t){return t}function innerCreateMedium(t,i){i===void 0&&(i=ItoI);var e=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:t},useMedium:function(l){var c=i(l,n);return e.push(c),function(){e=e.filter(function(o){return o!==c})}},assignSyncMedium:function(l){for(n=!0;e.length;){var c=e;e=[],c.forEach(l)}e={push:function(o){return l(o)},filter:function(){return e}}},assignMedium:function(l){n=!0;var c=[];if(e.length){var o=e;e=[],o.forEach(l),c=e}var f=function(){var d=c;c=[],d.forEach(l)},u=function(){return Promise.resolve().then(f)};u(),e={push:function(d){c.push(d),u()},filter:function(d){return c=c.filter(d),e}}}};return a}function createSidecarMedium(t){t===void 0&&(t={});var i=innerCreateMedium(null);return i.options=__assign({async:!0,ssr:!1},t),i}var SideCar$1=function(t){var i=t.sideCar,e=__rest(t,["sideCar"]);if(!i)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=i.read();if(!n)throw new Error("Sidecar medium not found");return reactExports.createElement(n,__assign({},e))};SideCar$1.isSideCarExport=!0;function exportSidecar(t,i){return t.useMedium(i),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(t,i){var e=reactExports.useRef(null),n=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),a=n[0],l=n[1],c=t.forwardProps,o=t.children,f=t.className,u=t.removeScrollBar,d=t.enabled,E=t.shards,p=t.sideCar,g=t.noIsolation,x=t.inert,S=t.allowPinchZoom,w=t.as,T=w===void 0?"div":w,m=__rest(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=p,y=useMergeRefs([e,i]),h=__assign(__assign({},m),a);return reactExports.createElement(reactExports.Fragment,null,d&&reactExports.createElement(b,{sideCar:effectCar,removeScrollBar:u,shards:E,noIsolation:g,inert:x,setCallbacks:l,allowPinchZoom:!!S,lockRef:e}),c?reactExports.cloneElement(reactExports.Children.only(o),__assign(__assign({},h),{ref:y})):reactExports.createElement(T,__assign({},h,{className:f,ref:y}),o))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var i=getNonce();return i&&t.setAttribute("nonce",i),t}function injectStyles(t,i){t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))}function insertStyleTag(t){var i=document.head||document.getElementsByTagName("head")[0];i.appendChild(t)}var stylesheetSingleton=function(){var t=0,i=null;return{add:function(e){t==0&&(i=makeStyleTag())&&(injectStyles(i,e),insertStyleTag(i)),t++},remove:function(){t--,!t&&i&&(i.parentNode&&i.parentNode.removeChild(i),i=null)}}},styleHookSingleton=function(){var t=stylesheetSingleton();return function(i,e){reactExports.useEffect(function(){return t.add(i),function(){t.remove()}},[i&&e])}},styleSingleton=function(){var t=styleHookSingleton(),i=function(e){var n=e.styles,a=e.dynamic;return t(n,a),null};return i},zeroGap={left:0,top:0,right:0,gap:0},parse=function(t){return parseInt(t||"",10)||0},getOffset=function(t){var i=window.getComputedStyle(document.body),e=i[t==="padding"?"paddingLeft":"marginLeft"],n=i[t==="padding"?"paddingTop":"marginTop"],a=i[t==="padding"?"paddingRight":"marginRight"];return[parse(e),parse(n),parse(a)]},getGapWidth=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zeroGap;var i=getOffset(t),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:i[0],top:i[1],right:i[2],gap:Math.max(0,n-e+i[2]-i[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(t,i,e,n){var a=t.left,l=t.top,c=t.right,o=t.gap;return e===void 0&&(e="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([i&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(o,`px;
  }
`)},RemoveScrollBar=function(t){var i=t.noRelative,e=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n,l=reactExports.useMemo(function(){return getGapWidth(a)},[a]);return reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,""),function(){document.body.removeAttribute(lockAttribute)}},[]),reactExports.createElement(Style,{styles:getStyles(l,!i,a,e?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(t){return t.tagName==="TEXTAREA"},elementCanBeScrolled=function(t,i){var e=window.getComputedStyle(t);return e[i]!=="hidden"&&!(e.overflowY===e.overflowX&&!alwaysContainsScroll(t)&&e[i]==="visible")},elementCouldBeVScrolled=function(t){return elementCanBeScrolled(t,"overflowY")},elementCouldBeHScrolled=function(t){return elementCanBeScrolled(t,"overflowX")},locationCouldBeScrolled=function(t,i){var e=i;do{typeof ShadowRoot<"u"&&e instanceof ShadowRoot&&(e=e.host);var n=elementCouldBeScrolled(t,e);if(n){var a=getScrollVariables(t,e),l=a[1],c=a[2];if(l>c)return!0}e=e.parentNode}while(e&&e!==document.body);return!1},getVScrollVariables=function(t){var i=t.scrollTop,e=t.scrollHeight,n=t.clientHeight;return[i,e,n]},getHScrollVariables=function(t){var i=t.scrollLeft,e=t.scrollWidth,n=t.clientWidth;return[i,e,n]},elementCouldBeScrolled=function(t,i){return t==="v"?elementCouldBeVScrolled(i):elementCouldBeHScrolled(i)},getScrollVariables=function(t,i){return t==="v"?getVScrollVariables(i):getHScrollVariables(i)},getDirectionFactor=function(t,i){return t==="h"&&i==="rtl"?-1:1},handleScroll=function(t,i,e,n,a){var l=getDirectionFactor(t,window.getComputedStyle(i).direction),c=l*n,o=e.target,f=i.contains(o),u=!1,d=c>0,E=0,p=0;do{var g=getScrollVariables(t,o),x=g[0],S=g[1],w=g[2],T=S-w-l*x;(x||T)&&elementCouldBeScrolled(t,o)&&(E+=T,p+=x),o=o.parentNode}while(!f&&o!==document.body||f&&(i.contains(o)||i===o));return(d&&(a&&E===0||!a&&c>E)||!d&&(a&&p===0||!a&&-c>p))&&(u=!0),u},getTouchXY=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(t){return[t.deltaX,t.deltaY]},extractRef=function(t){return t&&"current"in t?t.current:t},deltaCompare=function(t,i){return t[0]===i[0]&&t[1]===i[1]},generateStyle=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(t){var i=reactExports.useRef([]),e=reactExports.useRef([0,0]),n=reactExports.useRef(),a=reactExports.useState(idCounter++)[0],l=reactExports.useState(function(){return styleSingleton()})[0],c=reactExports.useRef(t);reactExports.useEffect(function(){c.current=t},[t]),reactExports.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var S=__spreadArray([t.lockRef.current],(t.shards||[]).map(extractRef),!0).filter(Boolean);return S.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),S.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=reactExports.useCallback(function(S,w){if("touches"in S&&S.touches.length===2)return!c.current.allowPinchZoom;var T=getTouchXY(S),m=e.current,b="deltaX"in S?S.deltaX:m[0]-T[0],y="deltaY"in S?S.deltaY:m[1]-T[1],h,v=S.target,A=Math.abs(b)>Math.abs(y)?"h":"v";if("touches"in S&&A==="h"&&v.type==="range")return!1;var P=locationCouldBeScrolled(A,v);if(!P)return!0;if(P?h=A:(h=A==="v"?"h":"v",P=locationCouldBeScrolled(A,v)),!P)return!1;if(!n.current&&"changedTouches"in S&&(b||y)&&(n.current=h),!h)return!0;var R=n.current||h;return handleScroll(R,w,S,R==="h"?b:y,!0)},[]),f=reactExports.useCallback(function(S){var w=S;if(!(!lockStack.length||lockStack[lockStack.length-1]!==l)){var T="deltaY"in w?getDeltaXY(w):getTouchXY(w),m=i.current.filter(function(h){return h.name===w.type&&h.target===w.target&&deltaCompare(h.delta,T)})[0];if(m&&m.should){w.cancelable&&w.preventDefault();return}if(!m){var b=(c.current.shards||[]).map(extractRef).filter(Boolean).filter(function(h){return h.contains(w.target)}),y=b.length>0?o(w,b[0]):!c.current.noIsolation;y&&w.cancelable&&w.preventDefault()}}},[]),u=reactExports.useCallback(function(S,w,T,m){var b={name:S,delta:w,target:T,should:m};i.current.push(b),setTimeout(function(){i.current=i.current.filter(function(y){return y!==b})},1)},[]),d=reactExports.useCallback(function(S){e.current=getTouchXY(S),n.current=void 0},[]),E=reactExports.useCallback(function(S){u(S.type,getDeltaXY(S),S.target,o(S,t.lockRef.current))},[]),p=reactExports.useCallback(function(S){u(S.type,getTouchXY(S),S.target,o(S,t.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(l),t.setCallbacks({onScrollCapture:E,onWheelCapture:E,onTouchMoveCapture:p}),document.addEventListener("wheel",f,nonPassive),document.addEventListener("touchmove",f,nonPassive),document.addEventListener("touchstart",d,nonPassive),function(){lockStack=lockStack.filter(function(S){return S!==l}),document.removeEventListener("wheel",f,nonPassive),document.removeEventListener("touchmove",f,nonPassive),document.removeEventListener("touchstart",d,nonPassive)}},[]);var g=t.removeScrollBar,x=t.inert;return reactExports.createElement(reactExports.Fragment,null,x?reactExports.createElement(l,{styles:generateStyle(a)}):null,g?reactExports.createElement(RemoveScrollBar,{gapMode:"margin"}):null)}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(t,i){return reactExports.createElement(RemoveScroll,__assign({},t,{ref:i,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;const $01b9c$RemoveScroll=ReactRemoveScroll;var getDefaultParent=function(t){if(typeof document>"u")return null;var i=Array.isArray(t)?t[0]:t;return i.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(t){return t&&(t.host||unwrapHost(t.parentNode))},correctTargets=function(t,i){return i.map(function(e){if(t.contains(e))return e;var n=unwrapHost(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e})},applyAttributeToOthers=function(t,i,e,n){var a=correctTargets(i,Array.isArray(t)?t:[t]);markerMap[e]||(markerMap[e]=new WeakMap);var l=markerMap[e],c=[],o=new Set,f=new Set(a),u=function(E){!E||o.has(E)||(o.add(E),u(E.parentNode))};a.forEach(u);var d=function(E){!E||f.has(E)||Array.prototype.forEach.call(E.children,function(p){if(o.has(p))d(p);else{var g=p.getAttribute(n),x=g!==null&&g!=="false",S=(counterMap.get(p)||0)+1,w=(l.get(p)||0)+1;counterMap.set(p,S),l.set(p,w),c.push(p),S===1&&x&&uncontrolledNodes.set(p,!0),w===1&&p.setAttribute(e,"true"),x||p.setAttribute(n,"true")}})};return d(i),o.clear(),lockCount++,function(){c.forEach(function(E){var p=counterMap.get(E)-1,g=l.get(E)-1;counterMap.set(E,p),l.set(E,g),p||(uncontrolledNodes.has(E)||E.removeAttribute(n),uncontrolledNodes.delete(E)),g||E.removeAttribute(e)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(t,i,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=i||getDefaultParent(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),applyAttributeToOthers(n,a,e,"aria-hidden")):function(){return null}};const $5d3850c4d0b4e6c7$var$DIALOG_NAME="Dialog",[$5d3850c4d0b4e6c7$var$createDialogContext,$5d3850c4d0b4e6c7$export$cc702773b8ea3e41]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($5d3850c4d0b4e6c7$var$DIALOG_NAME),[$5d3850c4d0b4e6c7$var$DialogProvider,$5d3850c4d0b4e6c7$var$useDialogContext]=$5d3850c4d0b4e6c7$var$createDialogContext($5d3850c4d0b4e6c7$var$DIALOG_NAME),$5d3850c4d0b4e6c7$export$3ddf2d174ce01153=t=>{const{__scopeDialog:i,children:e,open:n,defaultOpen:a,onOpenChange:l,modal:c=!0}=t,o=reactExports.useRef(null),f=reactExports.useRef(null),[u=!1,d]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:n,defaultProp:a,onChange:l});return reactExports.createElement($5d3850c4d0b4e6c7$var$DialogProvider,{scope:i,triggerRef:o,contentRef:f,contentId:$1746a345f3d73bb7$export$f680877a34711e37(),titleId:$1746a345f3d73bb7$export$f680877a34711e37(),descriptionId:$1746a345f3d73bb7$export$f680877a34711e37(),open:u,onOpenChange:d,onOpenToggle:reactExports.useCallback(()=>d(E=>!E),[d]),modal:c},e)},$5d3850c4d0b4e6c7$var$TRIGGER_NAME="DialogTrigger",$5d3850c4d0b4e6c7$export$2e1e1122cf0cba88=reactExports.forwardRef((t,i)=>{const{__scopeDialog:e,...n}=t,a=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$TRIGGER_NAME,e),l=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,a.triggerRef);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$5d3850c4d0b4e6c7$var$getState(a.open)},n,{ref:l,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onClick,a.onOpenToggle)}))}),$5d3850c4d0b4e6c7$var$PORTAL_NAME="DialogPortal",[$5d3850c4d0b4e6c7$var$PortalProvider,$5d3850c4d0b4e6c7$var$usePortalContext]=$5d3850c4d0b4e6c7$var$createDialogContext($5d3850c4d0b4e6c7$var$PORTAL_NAME,{forceMount:void 0}),$5d3850c4d0b4e6c7$export$dad7c95542bacce0=t=>{const{__scopeDialog:i,forceMount:e,children:n,container:a}=t,l=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$PORTAL_NAME,i);return reactExports.createElement($5d3850c4d0b4e6c7$var$PortalProvider,{scope:i,forceMount:e},reactExports.Children.map(n,c=>reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:e||l.open},reactExports.createElement($f1701beae083dbae$export$602eac185826482c,{asChild:!0,container:a},c))))},$5d3850c4d0b4e6c7$var$OVERLAY_NAME="DialogOverlay",$5d3850c4d0b4e6c7$export$bd1d06c79be19e17=reactExports.forwardRef((t,i)=>{const e=$5d3850c4d0b4e6c7$var$usePortalContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME,t.__scopeDialog),{forceMount:n=e.forceMount,...a}=t,l=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME,t.__scopeDialog);return l.modal?reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:n||l.open},reactExports.createElement($5d3850c4d0b4e6c7$var$DialogOverlayImpl,_extends({},a,{ref:i}))):null}),$5d3850c4d0b4e6c7$var$DialogOverlayImpl=reactExports.forwardRef((t,i)=>{const{__scopeDialog:e,...n}=t,a=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME,e);return reactExports.createElement($01b9c$RemoveScroll,{as:$5e63c961fc1ce211$export$8c6ed5c666ac1360,allowPinchZoom:!0,shards:[a.contentRef]},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({"data-state":$5d3850c4d0b4e6c7$var$getState(a.open)},n,{ref:i,style:{pointerEvents:"auto",...n.style}})))}),$5d3850c4d0b4e6c7$var$CONTENT_NAME="DialogContent",$5d3850c4d0b4e6c7$export$b6d9565de1e068cf=reactExports.forwardRef((t,i)=>{const e=$5d3850c4d0b4e6c7$var$usePortalContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,t.__scopeDialog),{forceMount:n=e.forceMount,...a}=t,l=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,t.__scopeDialog);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:n||l.open},l.modal?reactExports.createElement($5d3850c4d0b4e6c7$var$DialogContentModal,_extends({},a,{ref:i})):reactExports.createElement($5d3850c4d0b4e6c7$var$DialogContentNonModal,_extends({},a,{ref:i})))}),$5d3850c4d0b4e6c7$var$DialogContentModal=reactExports.forwardRef((t,i)=>{const e=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,t.__scopeDialog),n=reactExports.useRef(null),a=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,e.contentRef,n);return reactExports.useEffect(()=>{const l=n.current;if(l)return hideOthers(l)},[]),reactExports.createElement($5d3850c4d0b4e6c7$var$DialogContentImpl,_extends({},t,{ref:a,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=e.triggerRef.current)===null||c===void 0||c.focus()}),onPointerDownOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,o=c.button===0&&c.ctrlKey===!0;(c.button===2||o)&&l.preventDefault()}),onFocusOutside:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onFocusOutside,l=>l.preventDefault())}))}),$5d3850c4d0b4e6c7$var$DialogContentNonModal=reactExports.forwardRef((t,i)=>{const e=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,t.__scopeDialog),n=reactExports.useRef(!1),a=reactExports.useRef(!1);return reactExports.createElement($5d3850c4d0b4e6c7$var$DialogContentImpl,_extends({},t,{ref:i,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c;if((c=t.onCloseAutoFocus)===null||c===void 0||c.call(t,l),!l.defaultPrevented){var o;n.current||(o=e.triggerRef.current)===null||o===void 0||o.focus(),l.preventDefault()}n.current=!1,a.current=!1},onInteractOutside:l=>{var c,o;(c=t.onInteractOutside)===null||c===void 0||c.call(t,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const f=l.target;((o=e.triggerRef.current)===null||o===void 0?void 0:o.contains(f))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}}))}),$5d3850c4d0b4e6c7$var$DialogContentImpl=reactExports.forwardRef((t,i)=>{const{__scopeDialog:e,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:l,...c}=t,o=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME,e),f=reactExports.useRef(null),u=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,f);return $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c(),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement($d3863c46a17e8a28$export$20e40289641fbbb6,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:l},reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,_extends({role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":$5d3850c4d0b4e6c7$var$getState(o.open)},c,{ref:u,onDismiss:()=>o.onOpenChange(!1)}))),!1)}),$5d3850c4d0b4e6c7$var$TITLE_NAME="DialogTitle",$5d3850c4d0b4e6c7$export$16f7638e4a34b909=reactExports.forwardRef((t,i)=>{const{__scopeDialog:e,...n}=t,a=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$TITLE_NAME,e);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.h2,_extends({id:a.titleId},n,{ref:i}))}),$5d3850c4d0b4e6c7$var$DESCRIPTION_NAME="DialogDescription",$5d3850c4d0b4e6c7$export$94e94c2ec2c954d5=reactExports.forwardRef((t,i)=>{const{__scopeDialog:e,...n}=t,a=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$DESCRIPTION_NAME,e);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.p,_extends({id:a.descriptionId},n,{ref:i}))}),$5d3850c4d0b4e6c7$var$CLOSE_NAME="DialogClose",$5d3850c4d0b4e6c7$export$fba2fb7cd781b7ac=reactExports.forwardRef((t,i)=>{const{__scopeDialog:e,...n}=t,a=$5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CLOSE_NAME,e);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends({type:"button"},n,{ref:i,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onClick,()=>a.onOpenChange(!1))}))});function $5d3850c4d0b4e6c7$var$getState(t){return t?"open":"closed"}const $5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9=$5d3850c4d0b4e6c7$export$3ddf2d174ce01153,$5d3850c4d0b4e6c7$export$41fb9f06171c75f4=$5d3850c4d0b4e6c7$export$2e1e1122cf0cba88,$5d3850c4d0b4e6c7$export$602eac185826482c=$5d3850c4d0b4e6c7$export$dad7c95542bacce0,$5d3850c4d0b4e6c7$export$c6fdb837b070b4ff=$5d3850c4d0b4e6c7$export$bd1d06c79be19e17,$5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2=$5d3850c4d0b4e6c7$export$b6d9565de1e068cf,$5d3850c4d0b4e6c7$export$f99233281efd08a0=$5d3850c4d0b4e6c7$export$16f7638e4a34b909,$5d3850c4d0b4e6c7$export$393edc798c47379d=$5d3850c4d0b4e6c7$export$94e94c2ec2c954d5,$5d3850c4d0b4e6c7$export$f39c2d165cd861fe=$5d3850c4d0b4e6c7$export$fba2fb7cd781b7ac;function _objectWithoutPropertiesLoose(t,i){if(t==null)return{};var e={},n=Object.keys(t),a,l;for(l=0;l<n.length;l++)a=n[l],!(i.indexOf(a)>=0)&&(e[a]=t[a]);return e}var _excluded$Q=["color"],CaretSortIcon=reactExports.forwardRef(function(t,i){var e=t.color,n=e===void 0?"currentColor":e,a=_objectWithoutPropertiesLoose(t,_excluded$Q);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:i}),reactExports.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$T=["color"],CheckIcon=reactExports.forwardRef(function(t,i){var e=t.color,n=e===void 0?"currentColor":e,a=_objectWithoutPropertiesLoose(t,_excluded$T);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:i}),reactExports.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$W=["color"],ChevronDownIcon=reactExports.forwardRef(function(t,i){var e=t.color,n=e===void 0?"currentColor":e,a=_objectWithoutPropertiesLoose(t,_excluded$W);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:i}),reactExports.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$Z=["color"],ChevronUpIcon=reactExports.forwardRef(function(t,i){var e=t.color,n=e===void 0?"currentColor":e,a=_objectWithoutPropertiesLoose(t,_excluded$Z);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:i}),reactExports.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),_excluded$1r=["color"],Cross2Icon=reactExports.forwardRef(function(t,i){var e=t.color,n=e===void 0?"currentColor":e,a=_objectWithoutPropertiesLoose(t,_excluded$1r);return reactExports.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:i}),reactExports.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))});const Dialog=$5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9,DialogTrigger=$5d3850c4d0b4e6c7$export$41fb9f06171c75f4,DialogPortal=$5d3850c4d0b4e6c7$export$602eac185826482c,DialogClose=$5d3850c4d0b4e6c7$export$f39c2d165cd861fe,DialogOverlay=reactExports.forwardRef(({className:t,...i},e)=>jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$c6fdb837b070b4ff,{ref:e,className:cn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...i}));DialogOverlay.displayName=$5d3850c4d0b4e6c7$export$c6fdb837b070b4ff.displayName;const DialogContent=reactExports.forwardRef(({className:t,children:i,...e},n)=>jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs($5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2,{ref:n,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e,children:[i,jsxRuntimeExports.jsxs($5d3850c4d0b4e6c7$export$f39c2d165cd861fe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[jsxRuntimeExports.jsx(Cross2Icon,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=$5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2.displayName;const DialogHeader=({className:t,...i})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",t),...i});DialogHeader.displayName="DialogHeader";const DialogFooter=({className:t,...i})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...i});DialogFooter.displayName="DialogFooter";const DialogTitle=reactExports.forwardRef(({className:t,...i},e)=>jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$f99233281efd08a0,{ref:e,className:cn("text-lg font-semibold leading-none tracking-tight",t),...i}));DialogTitle.displayName=$5d3850c4d0b4e6c7$export$f99233281efd08a0.displayName;const DialogDescription=reactExports.forwardRef(({className:t,...i},e)=>jsxRuntimeExports.jsx($5d3850c4d0b4e6c7$export$393edc798c47379d,{ref:e,className:cn("text-sm text-muted-foreground",t),...i}));DialogDescription.displayName=$5d3850c4d0b4e6c7$export$393edc798c47379d.displayName;function $ae6933e535247d3d$export$7d15b64cf5a3a4c4(t,[i,e]){return Math.min(e,Math.max(i,t))}function $e02a7d9cb1dc128c$export$c74125a8e3af6bb2(t){const i=t+"CollectionProvider",[e,n]=$c512c27ab02ef895$export$50c7b4e9d9f19c1(i),[a,l]=e(i,{collectionRef:{current:null},itemMap:new Map}),c=g=>{const{scope:x,children:S}=g,w=$6vYhU$react.useRef(null),T=$6vYhU$react.useRef(new Map).current;return $6vYhU$react.createElement(a,{scope:x,itemMap:T,collectionRef:w},S)},o=t+"CollectionSlot",f=$6vYhU$react.forwardRef((g,x)=>{const{scope:S,children:w}=g,T=l(o,S),m=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(x,T.collectionRef);return $6vYhU$react.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360,{ref:m},w)}),u=t+"CollectionItemSlot",d="data-radix-collection-item",E=$6vYhU$react.forwardRef((g,x)=>{const{scope:S,children:w,...T}=g,m=$6vYhU$react.useRef(null),b=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(x,m),y=l(u,S);return $6vYhU$react.useEffect(()=>(y.itemMap.set(m,{ref:m,...T}),()=>void y.itemMap.delete(m))),$6vYhU$react.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360,{[d]:"",ref:b},w)});function p(g){const x=l(t+"CollectionConsumer",g);return $6vYhU$react.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((y,h)=>T.indexOf(y.ref.current)-T.indexOf(h.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:c,Slot:f,ItemSlot:E},p,n]}const $f631663db3294ace$var$DirectionContext=reactExports.createContext(void 0);function $f631663db3294ace$export$b39126d51d94e6f3(t){const i=reactExports.useContext($f631663db3294ace$var$DirectionContext);return t||i||"ltr"}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=t=>({x:t,y:t}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(t,i,e){return max(t,min(i,e))}function evaluate(t,i){return typeof t=="function"?t(i):t}function getSide(t){return t.split("-")[0]}function getAlignment(t){return t.split("-")[1]}function getOppositeAxis(t){return t==="x"?"y":"x"}function getAxisLength(t){return t==="y"?"height":"width"}function getSideAxis(t){return["top","bottom"].includes(getSide(t))?"y":"x"}function getAlignmentAxis(t){return getOppositeAxis(getSideAxis(t))}function getAlignmentSides(t,i,e){e===void 0&&(e=!1);const n=getAlignment(t),a=getAlignmentAxis(t),l=getAxisLength(a);let c=a==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return i.reference[l]>i.floating[l]&&(c=getOppositePlacement(c)),[c,getOppositePlacement(c)]}function getExpandedPlacements(t){const i=getOppositePlacement(t);return[getOppositeAlignmentPlacement(t),i,getOppositeAlignmentPlacement(i)]}function getOppositeAlignmentPlacement(t){return t.replace(/start|end/g,i=>oppositeAlignmentMap[i])}function getSideList(t,i,e){const n=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return e?i?a:n:i?n:a;case"left":case"right":return i?l:c;default:return[]}}function getOppositeAxisPlacements(t,i,e,n){const a=getAlignment(t);let l=getSideList(getSide(t),e==="start",n);return a&&(l=l.map(c=>c+"-"+a),i&&(l=l.concat(l.map(getOppositeAlignmentPlacement)))),l}function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,i=>oppositeSideMap[i])}function expandPaddingObject(t){return{top:0,right:0,bottom:0,left:0,...t}}function getPaddingObject(t){return typeof t!="number"?expandPaddingObject(t):{top:t,right:t,bottom:t,left:t}}function rectToClientRect(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function computeCoordsFromPlacement(t,i,e){let{reference:n,floating:a}=t;const l=getSideAxis(i),c=getAlignmentAxis(i),o=getAxisLength(c),f=getSide(i),u=l==="y",d=n.x+n.width/2-a.width/2,E=n.y+n.height/2-a.height/2,p=n[o]/2-a[o]/2;let g;switch(f){case"top":g={x:d,y:n.y-a.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:E};break;case"left":g={x:n.x-a.width,y:E};break;default:g={x:n.x,y:n.y}}switch(getAlignment(i)){case"start":g[c]-=p*(e&&u?-1:1);break;case"end":g[c]+=p*(e&&u?-1:1);break}return g}const computePosition$1=async(t,i,e)=>{const{placement:n="bottom",strategy:a="absolute",middleware:l=[],platform:c}=e,o=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(i));let u=await c.getElementRects({reference:t,floating:i,strategy:a}),{x:d,y:E}=computeCoordsFromPlacement(u,n,f),p=n,g={},x=0;for(let S=0;S<o.length;S++){const{name:w,fn:T}=o[S],{x:m,y:b,data:y,reset:h}=await T({x:d,y:E,initialPlacement:n,placement:p,strategy:a,middlewareData:g,rects:u,platform:c,elements:{reference:t,floating:i}});d=m??d,E=b??E,g={...g,[w]:{...g[w],...y}},h&&x<=50&&(x++,typeof h=="object"&&(h.placement&&(p=h.placement),h.rects&&(u=h.rects===!0?await c.getElementRects({reference:t,floating:i,strategy:a}):h.rects),{x:d,y:E}=computeCoordsFromPlacement(u,p,f)),S=-1)}return{x:d,y:E,placement:p,strategy:a,middlewareData:g}};async function detectOverflow(t,i){var e;i===void 0&&(i={});const{x:n,y:a,platform:l,rects:c,elements:o,strategy:f}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:E="floating",altBoundary:p=!1,padding:g=0}=evaluate(i,t),x=getPaddingObject(g),w=o[p?E==="floating"?"reference":"floating":E],T=rectToClientRect(await l.getClippingRect({element:(e=await(l.isElement==null?void 0:l.isElement(w)))==null||e?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:f})),m=E==="floating"?{...c.floating,x:n,y:a}:c.reference,b=await(l.getOffsetParent==null?void 0:l.getOffsetParent(o.floating)),y=await(l.isElement==null?void 0:l.isElement(b))?await(l.getScale==null?void 0:l.getScale(b))||{x:1,y:1}:{x:1,y:1},h=rectToClientRect(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:m,offsetParent:b,strategy:f}):m);return{top:(T.top-h.top+x.top)/y.y,bottom:(h.bottom-T.bottom+x.bottom)/y.y,left:(T.left-h.left+x.left)/y.x,right:(h.right-T.right+x.right)/y.x}}const arrow$2=t=>({name:"arrow",options:t,async fn(i){const{x:e,y:n,placement:a,rects:l,platform:c,elements:o,middlewareData:f}=i,{element:u,padding:d=0}=evaluate(t,i)||{};if(u==null)return{};const E=getPaddingObject(d),p={x:e,y:n},g=getAlignmentAxis(a),x=getAxisLength(g),S=await c.getDimensions(u),w=g==="y",T=w?"top":"left",m=w?"bottom":"right",b=w?"clientHeight":"clientWidth",y=l.reference[x]+l.reference[g]-p[g]-l.floating[x],h=p[g]-l.reference[g],v=await(c.getOffsetParent==null?void 0:c.getOffsetParent(u));let A=v?v[b]:0;(!A||!await(c.isElement==null?void 0:c.isElement(v)))&&(A=o.floating[b]||l.floating[x]);const P=y/2-h/2,R=A/2-S[x]/2-1,$=min(E[T],R),D=min(E[m],R),X=$,W=A-S[x]-D,U=A/2-S[x]/2+P,N=clamp(X,U,W),z=!f.arrow&&getAlignment(a)!=null&&U!==N&&l.reference[x]/2-(U<X?$:D)-S[x]/2<0,B=z?U<X?U-X:U-W:0;return{[g]:p[g]+B,data:{[g]:N,centerOffset:U-N-B,...z&&{alignmentOffset:B}},reset:z}}}),flip$1=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(i){var e,n;const{placement:a,middlewareData:l,rects:c,initialPlacement:o,platform:f,elements:u}=i,{mainAxis:d=!0,crossAxis:E=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:S=!0,...w}=evaluate(t,i);if((e=l.arrow)!=null&&e.alignmentOffset)return{};const T=getSide(a),m=getSide(o)===o,b=await(f.isRTL==null?void 0:f.isRTL(u.floating)),y=p||(m||!S?[getOppositePlacement(o)]:getExpandedPlacements(o));!p&&x!=="none"&&y.push(...getOppositeAxisPlacements(o,S,x,b));const h=[o,...y],v=await detectOverflow(i,w),A=[];let P=((n=l.flip)==null?void 0:n.overflows)||[];if(d&&A.push(v[T]),E){const X=getAlignmentSides(a,c,b);A.push(v[X[0]],v[X[1]])}if(P=[...P,{placement:a,overflows:A}],!A.every(X=>X<=0)){var R,$;const X=(((R=l.flip)==null?void 0:R.index)||0)+1,W=h[X];if(W)return{data:{index:X,overflows:P},reset:{placement:W}};let U=($=P.filter(N=>N.overflows[0]<=0).sort((N,z)=>N.overflows[1]-z.overflows[1])[0])==null?void 0:$.placement;if(!U)switch(g){case"bestFit":{var D;const N=(D=P.map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,I)=>B+I,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:D[0];N&&(U=N);break}case"initialPlacement":U=o;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function getSideOffsets(t,i){return{top:t.top-i.height,right:t.right-i.width,bottom:t.bottom-i.height,left:t.left-i.width}}function isAnySideFullyClipped(t){return sides.some(i=>t[i]>=0)}const hide$1=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(i){const{rects:e}=i,{strategy:n="referenceHidden",...a}=evaluate(t,i);switch(n){case"referenceHidden":{const l=await detectOverflow(i,{...a,elementContext:"reference"}),c=getSideOffsets(l,e.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:isAnySideFullyClipped(c)}}}case"escaped":{const l=await detectOverflow(i,{...a,altBoundary:!0}),c=getSideOffsets(l,e.floating);return{data:{escapedOffsets:c,escaped:isAnySideFullyClipped(c)}}}default:return{}}}}};async function convertValueToCoords(t,i){const{placement:e,platform:n,elements:a}=t,l=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=getSide(e),o=getAlignment(e),f=getSideAxis(e)==="y",u=["left","top"].includes(c)?-1:1,d=l&&f?-1:1,E=evaluate(i,t);let{mainAxis:p,crossAxis:g,alignmentAxis:x}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...E};return o&&typeof x=="number"&&(g=o==="end"?x*-1:x),f?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const offset=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(i){var e,n;const{x:a,y:l,placement:c,middlewareData:o}=i,f=await convertValueToCoords(i,t);return c===((e=o.offset)==null?void 0:e.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+f.x,y:l+f.y,data:{...f,placement:c}}}}},shift$1=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(i){const{x:e,y:n,placement:a}=i,{mainAxis:l=!0,crossAxis:c=!1,limiter:o={fn:w=>{let{x:T,y:m}=w;return{x:T,y:m}}},...f}=evaluate(t,i),u={x:e,y:n},d=await detectOverflow(i,f),E=getSideAxis(getSide(a)),p=getOppositeAxis(E);let g=u[p],x=u[E];if(l){const w=p==="y"?"top":"left",T=p==="y"?"bottom":"right",m=g+d[w],b=g-d[T];g=clamp(m,g,b)}if(c){const w=E==="y"?"top":"left",T=E==="y"?"bottom":"right",m=x+d[w],b=x-d[T];x=clamp(m,x,b)}const S=o.fn({...i,[p]:g,[E]:x});return{...S,data:{x:S.x-e,y:S.y-n}}}}},limitShift$1=function(t){return t===void 0&&(t={}),{options:t,fn(i){const{x:e,y:n,placement:a,rects:l,middlewareData:c}=i,{offset:o=0,mainAxis:f=!0,crossAxis:u=!0}=evaluate(t,i),d={x:e,y:n},E=getSideAxis(a),p=getOppositeAxis(E);let g=d[p],x=d[E];const S=evaluate(o,i),w=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const b=p==="y"?"height":"width",y=l.reference[p]-l.floating[b]+w.mainAxis,h=l.reference[p]+l.reference[b]-w.mainAxis;g<y?g=y:g>h&&(g=h)}if(u){var T,m;const b=p==="y"?"width":"height",y=["top","left"].includes(getSide(a)),h=l.reference[E]-l.floating[b]+(y&&((T=c.offset)==null?void 0:T[E])||0)+(y?0:w.crossAxis),v=l.reference[E]+l.reference[b]+(y?0:((m=c.offset)==null?void 0:m[E])||0)-(y?w.crossAxis:0);x<h?x=h:x>v&&(x=v)}return{[p]:g,[E]:x}}}},size$1=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(i){const{placement:e,rects:n,platform:a,elements:l}=i,{apply:c=()=>{},...o}=evaluate(t,i),f=await detectOverflow(i,o),u=getSide(e),d=getAlignment(e),E=getSideAxis(e)==="y",{width:p,height:g}=n.floating;let x,S;u==="top"||u==="bottom"?(x=u,S=d===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(S=u,x=d==="end"?"top":"bottom");const w=g-f[x],T=p-f[S],m=!i.middlewareData.shift;let b=w,y=T;if(E){const v=p-f.left-f.right;y=d||m?min(T,v):v}else{const v=g-f.top-f.bottom;b=d||m?min(w,v):v}if(m&&!d){const v=max(f.left,0),A=max(f.right,0),P=max(f.top,0),R=max(f.bottom,0);E?y=p-2*(v!==0||A!==0?v+A:max(f.left,f.right)):b=g-2*(P!==0||R!==0?P+R:max(f.top,f.bottom))}await c({...i,availableWidth:y,availableHeight:b});const h=await a.getDimensions(l.floating);return p!==h.width||g!==h.height?{reset:{rects:!0}}:{}}}};function getNodeName(t){return isNode(t)?(t.nodeName||"").toLowerCase():"#document"}function getWindow(t){var i;return(t==null||(i=t.ownerDocument)==null?void 0:i.defaultView)||window}function getDocumentElement(t){var i;return(i=(isNode(t)?t.ownerDocument:t.document)||window.document)==null?void 0:i.documentElement}function isNode(t){return t instanceof Node||t instanceof getWindow(t).Node}function isElement(t){return t instanceof Element||t instanceof getWindow(t).Element}function isHTMLElement(t){return t instanceof HTMLElement||t instanceof getWindow(t).HTMLElement}function isShadowRoot(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof getWindow(t).ShadowRoot}function isOverflowElement(t){const{overflow:i,overflowX:e,overflowY:n,display:a}=getComputedStyle$1(t);return/auto|scroll|overlay|hidden|clip/.test(i+n+e)&&!["inline","contents"].includes(a)}function isTableElement(t){return["table","td","th"].includes(getNodeName(t))}function isContainingBlock(t){const i=isWebKit(),e=getComputedStyle$1(t);return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!i&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!i&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(e.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(e.contain||"").includes(n))}function getContainingBlock(t){let i=getParentNode(t);for(;isHTMLElement(i)&&!isLastTraversableNode(i);){if(isContainingBlock(i))return i;i=getParentNode(i)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(t){return["html","body","#document"].includes(getNodeName(t))}function getComputedStyle$1(t){return getWindow(t).getComputedStyle(t)}function getNodeScroll(t){return isElement(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function getParentNode(t){if(getNodeName(t)==="html")return t;const i=t.assignedSlot||t.parentNode||isShadowRoot(t)&&t.host||getDocumentElement(t);return isShadowRoot(i)?i.host:i}function getNearestOverflowAncestor(t){const i=getParentNode(t);return isLastTraversableNode(i)?t.ownerDocument?t.ownerDocument.body:t.body:isHTMLElement(i)&&isOverflowElement(i)?i:getNearestOverflowAncestor(i)}function getOverflowAncestors(t,i,e){var n;i===void 0&&(i=[]),e===void 0&&(e=!0);const a=getNearestOverflowAncestor(t),l=a===((n=t.ownerDocument)==null?void 0:n.body),c=getWindow(a);return l?i.concat(c,c.visualViewport||[],isOverflowElement(a)?a:[],c.frameElement&&e?getOverflowAncestors(c.frameElement):[]):i.concat(a,getOverflowAncestors(a,[],e))}function getCssDimensions(t){const i=getComputedStyle$1(t);let e=parseFloat(i.width)||0,n=parseFloat(i.height)||0;const a=isHTMLElement(t),l=a?t.offsetWidth:e,c=a?t.offsetHeight:n,o=round(e)!==l||round(n)!==c;return o&&(e=l,n=c),{width:e,height:n,$:o}}function unwrapElement(t){return isElement(t)?t:t.contextElement}function getScale(t){const i=unwrapElement(t);if(!isHTMLElement(i))return createCoords(1);const e=i.getBoundingClientRect(),{width:n,height:a,$:l}=getCssDimensions(i);let c=(l?round(e.width):e.width)/n,o=(l?round(e.height):e.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!o||!Number.isFinite(o))&&(o=1),{x:c,y:o}}const noOffsets=createCoords(0);function getVisualOffsets(t){const i=getWindow(t);return!isWebKit()||!i.visualViewport?noOffsets:{x:i.visualViewport.offsetLeft,y:i.visualViewport.offsetTop}}function shouldAddVisualOffsets(t,i,e){return i===void 0&&(i=!1),!e||i&&e!==getWindow(t)?!1:i}function getBoundingClientRect(t,i,e,n){i===void 0&&(i=!1),e===void 0&&(e=!1);const a=t.getBoundingClientRect(),l=unwrapElement(t);let c=createCoords(1);i&&(n?isElement(n)&&(c=getScale(n)):c=getScale(t));const o=shouldAddVisualOffsets(l,e,n)?getVisualOffsets(l):createCoords(0);let f=(a.left+o.x)/c.x,u=(a.top+o.y)/c.y,d=a.width/c.x,E=a.height/c.y;if(l){const p=getWindow(l),g=n&&isElement(n)?getWindow(n):n;let x=p,S=x.frameElement;for(;S&&n&&g!==x;){const w=getScale(S),T=S.getBoundingClientRect(),m=getComputedStyle$1(S),b=T.left+(S.clientLeft+parseFloat(m.paddingLeft))*w.x,y=T.top+(S.clientTop+parseFloat(m.paddingTop))*w.y;f*=w.x,u*=w.y,d*=w.x,E*=w.y,f+=b,u+=y,x=getWindow(S),S=x.frameElement}}return rectToClientRect({width:d,height:E,x:f,y:u})}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(t){return topLayerSelectors.some(i=>{try{return t.matches(i)}catch{return!1}})}function convertOffsetParentRelativeRectToViewportRelativeRect(t){let{elements:i,rect:e,offsetParent:n,strategy:a}=t;const l=a==="fixed",c=getDocumentElement(n),o=i?isTopLayer(i.floating):!1;if(n===c||o&&l)return e;let f={scrollLeft:0,scrollTop:0},u=createCoords(1);const d=createCoords(0),E=isHTMLElement(n);if((E||!E&&!l)&&((getNodeName(n)!=="body"||isOverflowElement(c))&&(f=getNodeScroll(n)),isHTMLElement(n))){const p=getBoundingClientRect(n);u=getScale(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}return{width:e.width*u.x,height:e.height*u.y,x:e.x*u.x-f.scrollLeft*u.x+d.x,y:e.y*u.y-f.scrollTop*u.y+d.y}}function getClientRects(t){return Array.from(t.getClientRects())}function getWindowScrollBarX(t){return getBoundingClientRect(getDocumentElement(t)).left+getNodeScroll(t).scrollLeft}function getDocumentRect(t){const i=getDocumentElement(t),e=getNodeScroll(t),n=t.ownerDocument.body,a=max(i.scrollWidth,i.clientWidth,n.scrollWidth,n.clientWidth),l=max(i.scrollHeight,i.clientHeight,n.scrollHeight,n.clientHeight);let c=-e.scrollLeft+getWindowScrollBarX(t);const o=-e.scrollTop;return getComputedStyle$1(n).direction==="rtl"&&(c+=max(i.clientWidth,n.clientWidth)-a),{width:a,height:l,x:c,y:o}}function getViewportRect(t,i){const e=getWindow(t),n=getDocumentElement(t),a=e.visualViewport;let l=n.clientWidth,c=n.clientHeight,o=0,f=0;if(a){l=a.width,c=a.height;const u=isWebKit();(!u||u&&i==="fixed")&&(o=a.offsetLeft,f=a.offsetTop)}return{width:l,height:c,x:o,y:f}}function getInnerBoundingClientRect(t,i){const e=getBoundingClientRect(t,!0,i==="fixed"),n=e.top+t.clientTop,a=e.left+t.clientLeft,l=isHTMLElement(t)?getScale(t):createCoords(1),c=t.clientWidth*l.x,o=t.clientHeight*l.y,f=a*l.x,u=n*l.y;return{width:c,height:o,x:f,y:u}}function getClientRectFromClippingAncestor(t,i,e){let n;if(i==="viewport")n=getViewportRect(t,e);else if(i==="document")n=getDocumentRect(getDocumentElement(t));else if(isElement(i))n=getInnerBoundingClientRect(i,e);else{const a=getVisualOffsets(t);n={...i,x:i.x-a.x,y:i.y-a.y}}return rectToClientRect(n)}function hasFixedPositionAncestor(t,i){const e=getParentNode(t);return e===i||!isElement(e)||isLastTraversableNode(e)?!1:getComputedStyle$1(e).position==="fixed"||hasFixedPositionAncestor(e,i)}function getClippingElementAncestors(t,i){const e=i.get(t);if(e)return e;let n=getOverflowAncestors(t,[],!1).filter(o=>isElement(o)&&getNodeName(o)!=="body"),a=null;const l=getComputedStyle$1(t).position==="fixed";let c=l?getParentNode(t):t;for(;isElement(c)&&!isLastTraversableNode(c);){const o=getComputedStyle$1(c),f=isContainingBlock(c);!f&&o.position==="fixed"&&(a=null),(l?!f&&!a:!f&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||isOverflowElement(c)&&!f&&hasFixedPositionAncestor(t,c))?n=n.filter(d=>d!==c):a=o,c=getParentNode(c)}return i.set(t,n),n}function getClippingRect(t){let{element:i,boundary:e,rootBoundary:n,strategy:a}=t;const c=[...e==="clippingAncestors"?getClippingElementAncestors(i,this._c):[].concat(e),n],o=c[0],f=c.reduce((u,d)=>{const E=getClientRectFromClippingAncestor(i,d,a);return u.top=max(E.top,u.top),u.right=min(E.right,u.right),u.bottom=min(E.bottom,u.bottom),u.left=max(E.left,u.left),u},getClientRectFromClippingAncestor(i,o,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function getDimensions(t){const{width:i,height:e}=getCssDimensions(t);return{width:i,height:e}}function getRectRelativeToOffsetParent(t,i,e){const n=isHTMLElement(i),a=getDocumentElement(i),l=e==="fixed",c=getBoundingClientRect(t,!0,l,i);let o={scrollLeft:0,scrollTop:0};const f=createCoords(0);if(n||!n&&!l)if((getNodeName(i)!=="body"||isOverflowElement(a))&&(o=getNodeScroll(i)),n){const E=getBoundingClientRect(i,!0,l,i);f.x=E.x+i.clientLeft,f.y=E.y+i.clientTop}else a&&(f.x=getWindowScrollBarX(a));const u=c.left+o.scrollLeft-f.x,d=c.top+o.scrollTop-f.y;return{x:u,y:d,width:c.width,height:c.height}}function getTrueOffsetParent(t,i){return!isHTMLElement(t)||getComputedStyle$1(t).position==="fixed"?null:i?i(t):t.offsetParent}function getOffsetParent(t,i){const e=getWindow(t);if(!isHTMLElement(t)||isTopLayer(t))return e;let n=getTrueOffsetParent(t,i);for(;n&&isTableElement(n)&&getComputedStyle$1(n).position==="static";)n=getTrueOffsetParent(n,i);return n&&(getNodeName(n)==="html"||getNodeName(n)==="body"&&getComputedStyle$1(n).position==="static"&&!isContainingBlock(n))?e:n||getContainingBlock(t)||e}const getElementRects=async function(t){const i=this.getOffsetParent||getOffsetParent,e=this.getDimensions;return{reference:getRectRelativeToOffsetParent(t.reference,await i(t.floating),t.strategy),floating:{x:0,y:0,...await e(t.floating)}}};function isRTL(t){return getComputedStyle$1(t).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(t,i){let e=null,n;const a=getDocumentElement(t);function l(){var o;clearTimeout(n),(o=e)==null||o.disconnect(),e=null}function c(o,f){o===void 0&&(o=!1),f===void 0&&(f=1),l();const{left:u,top:d,width:E,height:p}=t.getBoundingClientRect();if(o||i(),!E||!p)return;const g=floor(d),x=floor(a.clientWidth-(u+E)),S=floor(a.clientHeight-(d+p)),w=floor(u),m={rootMargin:-g+"px "+-x+"px "+-S+"px "+-w+"px",threshold:max(0,min(1,f))||1};let b=!0;function y(h){const v=h[0].intersectionRatio;if(v!==f){if(!b)return c();v?c(!1,v):n=setTimeout(()=>{c(!1,1e-7)},100)}b=!1}try{e=new IntersectionObserver(y,{...m,root:a.ownerDocument})}catch{e=new IntersectionObserver(y,m)}e.observe(t)}return c(!0),l}function autoUpdate(t,i,e,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,u=unwrapElement(t),d=a||l?[...u?getOverflowAncestors(u):[],...getOverflowAncestors(i)]:[];d.forEach(T=>{a&&T.addEventListener("scroll",e,{passive:!0}),l&&T.addEventListener("resize",e)});const E=u&&o?observeMove(u,e):null;let p=-1,g=null;c&&(g=new ResizeObserver(T=>{let[m]=T;m&&m.target===u&&g&&(g.unobserve(i),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(i)})),e()}),u&&!f&&g.observe(u),g.observe(i));let x,S=f?getBoundingClientRect(t):null;f&&w();function w(){const T=getBoundingClientRect(t);S&&(T.x!==S.x||T.y!==S.y||T.width!==S.width||T.height!==S.height)&&e(),S=T,x=requestAnimationFrame(w)}return e(),()=>{var T;d.forEach(m=>{a&&m.removeEventListener("scroll",e),l&&m.removeEventListener("resize",e)}),E==null||E(),(T=g)==null||T.disconnect(),g=null,f&&cancelAnimationFrame(x)}}const shift=shift$1,flip=flip$1,size=size$1,hide=hide$1,arrow$1=arrow$2,limitShift=limitShift$1,computePosition=(t,i,e)=>{const n=new Map,a={platform,...e},l={...a.platform,_c:n};return computePosition$1(t,i,{...a,platform:l})},arrow=t=>{function i(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:t,fn(e){const{element:n,padding:a}=typeof t=="function"?t(e):t;return n&&i(n)?n.current!=null?arrow$1({element:n.current,padding:a}).fn(e):{}:n?arrow$1({element:n,padding:a}).fn(e):{}}}};var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(t,i){if(t===i)return!0;if(typeof t!=typeof i)return!1;if(typeof t=="function"&&t.toString()===i.toString())return!0;let e,n,a;if(t&&i&&typeof t=="object"){if(Array.isArray(t)){if(e=t.length,e!==i.length)return!1;for(n=e;n--!==0;)if(!deepEqual(t[n],i[n]))return!1;return!0}if(a=Object.keys(t),e=a.length,e!==Object.keys(i).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(i,a[n]))return!1;for(n=e;n--!==0;){const l=a[n];if(!(l==="_owner"&&t.$$typeof)&&!deepEqual(t[l],i[l]))return!1}return!0}return t!==t&&i!==i}function getDPR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(t,i){const e=getDPR(t);return Math.round(i*e)/e}function useLatestRef(t){const i=reactExports.useRef(t);return index(()=>{i.current=t}),i}function useFloating(t){t===void 0&&(t={});const{placement:i="bottom",strategy:e="absolute",middleware:n=[],platform:a,elements:{reference:l,floating:c}={},transform:o=!0,whileElementsMounted:f,open:u}=t,[d,E]=reactExports.useState({x:0,y:0,strategy:e,placement:i,middlewareData:{},isPositioned:!1}),[p,g]=reactExports.useState(n);deepEqual(p,n)||g(n);const[x,S]=reactExports.useState(null),[w,T]=reactExports.useState(null),m=reactExports.useCallback(B=>{B!==v.current&&(v.current=B,S(B))},[]),b=reactExports.useCallback(B=>{B!==A.current&&(A.current=B,T(B))},[]),y=l||x,h=c||w,v=reactExports.useRef(null),A=reactExports.useRef(null),P=reactExports.useRef(d),R=f!=null,$=useLatestRef(f),D=useLatestRef(a),X=reactExports.useCallback(()=>{if(!v.current||!A.current)return;const B={placement:i,strategy:e,middleware:p};D.current&&(B.platform=D.current),computePosition(v.current,A.current,B).then(I=>{const j={...I,isPositioned:!0};W.current&&!deepEqual(P.current,j)&&(P.current=j,reactDomExports.flushSync(()=>{E(j)}))})},[p,i,e,D]);index(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,E(B=>({...B,isPositioned:!1})))},[u]);const W=reactExports.useRef(!1);index(()=>(W.current=!0,()=>{W.current=!1}),[]),index(()=>{if(y&&(v.current=y),h&&(A.current=h),y&&h){if($.current)return $.current(y,h,X);X()}},[y,h,X,$,R]);const U=reactExports.useMemo(()=>({reference:v,floating:A,setReference:m,setFloating:b}),[m,b]),N=reactExports.useMemo(()=>({reference:y,floating:h}),[y,h]),z=reactExports.useMemo(()=>{const B={position:e,left:0,top:0};if(!N.floating)return B;const I=roundByDPR(N.floating,d.x),j=roundByDPR(N.floating,d.y);return o?{...B,transform:"translate("+I+"px, "+j+"px)",...getDPR(N.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:I,top:j}},[e,o,N.floating,d.x,d.y]);return reactExports.useMemo(()=>({...d,update:X,refs:U,elements:N,floatingStyles:z}),[d,X,U,N,z])}const $7e8f5cd07187803e$export$21b07c8f274aebd5=reactExports.forwardRef((t,i)=>{const{children:e,width:n=10,height:a=5,...l}=t;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.svg,_extends({},l,{ref:i,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?e:reactExports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),$7e8f5cd07187803e$export$be92b6f5f03c0fe9=$7e8f5cd07187803e$export$21b07c8f274aebd5;function $db6c3485150b8e66$export$1ab7ae714698c4b8(t){const[i,e]=reactExports.useState(void 0);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(t){e({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,o;if("borderBoxSize"in l){const f=l.borderBoxSize,u=Array.isArray(f)?f[0]:f;c=u.inlineSize,o=u.blockSize}else c=t.offsetWidth,o=t.offsetHeight;e({width:c,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else e(void 0)},[t]),i}const $cf1ac5d9fe0e8206$var$POPPER_NAME="Popper",[$cf1ac5d9fe0e8206$var$createPopperContext,$cf1ac5d9fe0e8206$export$722aac194ae923]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cf1ac5d9fe0e8206$var$POPPER_NAME),[$cf1ac5d9fe0e8206$var$PopperProvider,$cf1ac5d9fe0e8206$var$usePopperContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$POPPER_NAME),$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9=t=>{const{__scopePopper:i,children:e}=t,[n,a]=reactExports.useState(null);return reactExports.createElement($cf1ac5d9fe0e8206$var$PopperProvider,{scope:i,anchor:n,onAnchorChange:a},e)},$cf1ac5d9fe0e8206$var$ANCHOR_NAME="PopperAnchor",$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d=reactExports.forwardRef((t,i)=>{const{__scopePopper:e,virtualRef:n,...a}=t,l=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$ANCHOR_NAME,e),c=reactExports.useRef(null),o=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,c);return reactExports.useEffect(()=>{l.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({},a,{ref:o}))}),$cf1ac5d9fe0e8206$var$CONTENT_NAME="PopperContent",[$cf1ac5d9fe0e8206$var$PopperContentProvider,$cf1ac5d9fe0e8206$var$useContentContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME),$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc=reactExports.forwardRef((t,i)=>{var e,n,a,l,c,o,f,u;const{__scopePopper:d,side:E="bottom",sideOffset:p=0,align:g="center",alignOffset:x=0,arrowPadding:S=0,avoidCollisions:w=!0,collisionBoundary:T=[],collisionPadding:m=0,sticky:b="partial",hideWhenDetached:y=!1,updatePositionStrategy:h="optimized",onPlaced:v,...A}=t,P=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,d),[R,$]=reactExports.useState(null),D=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,ae=>$(ae)),[X,W]=reactExports.useState(null),U=$db6c3485150b8e66$export$1ab7ae714698c4b8(X),N=(e=U==null?void 0:U.width)!==null&&e!==void 0?e:0,z=(n=U==null?void 0:U.height)!==null&&n!==void 0?n:0,B=E+(g!=="center"?"-"+g:""),I=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},j=Array.isArray(T)?T:[T],J=j.length>0,Q={padding:I,boundary:j.filter($cf1ac5d9fe0e8206$var$isNotNull),altBoundary:J},{refs:re,floatingStyles:de,placement:Y,isPositioned:M,middlewareData:k}=useFloating({strategy:"fixed",placement:B,whileElementsMounted:(...ae)=>autoUpdate(...ae,{animationFrame:h==="always"}),elements:{reference:P.anchor},middleware:[offset({mainAxis:p+z,alignmentAxis:x}),w&&shift({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?limitShift():void 0,...Q}),w&&flip({...Q}),size({...Q,apply:({elements:ae,rects:le,availableWidth:pe,availableHeight:be})=>{const{width:ve,height:ye}=le.reference,Pe=ae.floating.style;Pe.setProperty("--radix-popper-available-width",`${pe}px`),Pe.setProperty("--radix-popper-available-height",`${be}px`),Pe.setProperty("--radix-popper-anchor-width",`${ve}px`),Pe.setProperty("--radix-popper-anchor-height",`${ye}px`)}}),X&&arrow({element:X,padding:S}),$cf1ac5d9fe0e8206$var$transformOrigin({arrowWidth:N,arrowHeight:z}),y&&hide({strategy:"referenceHidden",...Q})]}),[H,q]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(Y),C=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(v);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{M&&(C==null||C())},[M,C]);const O=(a=k.arrow)===null||a===void 0?void 0:a.x,F=(l=k.arrow)===null||l===void 0?void 0:l.y,V=((c=k.arrow)===null||c===void 0?void 0:c.centerOffset)!==0,[K,Z]=reactExports.useState();return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{R&&Z(window.getComputedStyle(R).zIndex)},[R]),reactExports.createElement("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:M?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(o=k.transformOrigin)===null||o===void 0?void 0:o.x,(f=k.transformOrigin)===null||f===void 0?void 0:f.y].join(" ")},dir:t.dir},reactExports.createElement($cf1ac5d9fe0e8206$var$PopperContentProvider,{scope:d,placedSide:H,onArrowChange:W,arrowX:O,arrowY:F,shouldHideArrow:V},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({"data-side":H,"data-align":q},A,{ref:D,style:{...A.style,animation:M?void 0:"none",opacity:(u=k.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))}),$cf1ac5d9fe0e8206$var$ARROW_NAME="PopperArrow",$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0=reactExports.forwardRef(function t(i,e){const{__scopePopper:n,...a}=i,l=$cf1ac5d9fe0e8206$var$useContentContext($cf1ac5d9fe0e8206$var$ARROW_NAME,n),c=$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE[l.placedSide];return reactExports.createElement("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0}},reactExports.createElement($7e8f5cd07187803e$export$be92b6f5f03c0fe9,_extends({},a,{ref:e,style:{...a.style,display:"block"}})))});function $cf1ac5d9fe0e8206$var$isNotNull(t){return t!==null}const $cf1ac5d9fe0e8206$var$transformOrigin=t=>({name:"transformOrigin",options:t,fn(i){var e,n,a,l,c;const{placement:o,rects:f,middlewareData:u}=i,E=((e=u.arrow)===null||e===void 0?void 0:e.centerOffset)!==0,p=E?0:t.arrowWidth,g=E?0:t.arrowHeight,[x,S]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(o),w={start:"0%",center:"50%",end:"100%"}[S],T=((n=(a=u.arrow)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0)+p/2,m=((l=(c=u.arrow)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0)+g/2;let b="",y="";return x==="bottom"?(b=E?w:`${T}px`,y=`${-g}px`):x==="top"?(b=E?w:`${T}px`,y=`${f.floating.height+g}px`):x==="right"?(b=`${-g}px`,y=E?w:`${m}px`):x==="left"&&(b=`${f.floating.width+g}px`,y=E?w:`${m}px`),{data:{x:b,y}}}});function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(t){const[i,e="center"]=t.split("-");return[i,e]}const $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9=$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9,$cf1ac5d9fe0e8206$export$b688253958b8dfe7=$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d,$cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2=$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc;function $010c2913dbd2fe3d$export$5cae361ad82dce8b(t){const i=reactExports.useRef({value:t,previous:t});return reactExports.useMemo(()=>(i.current.value!==t&&(i.current.previous=i.current.value,i.current.value=t),i.current.previous),[t])}const $ea1ef594cf570d83$export$439d29a4e110a164=reactExports.forwardRef((t,i)=>reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends({},t,{ref:i,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),$cc7e05a45900e73f$var$OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],$cc7e05a45900e73f$var$SELECTION_KEYS=[" ","Enter"],$cc7e05a45900e73f$var$SELECT_NAME="Select",[$cc7e05a45900e73f$var$Collection,$cc7e05a45900e73f$var$useCollection,$cc7e05a45900e73f$var$createCollectionScope]=$e02a7d9cb1dc128c$export$c74125a8e3af6bb2($cc7e05a45900e73f$var$SELECT_NAME),[$cc7e05a45900e73f$var$createSelectContext,$cc7e05a45900e73f$export$286727a75dc039bd]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cc7e05a45900e73f$var$SELECT_NAME,[$cc7e05a45900e73f$var$createCollectionScope,$cf1ac5d9fe0e8206$export$722aac194ae923]),$cc7e05a45900e73f$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),[$cc7e05a45900e73f$var$SelectProvider,$cc7e05a45900e73f$var$useSelectContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$SELECT_NAME),[$cc7e05a45900e73f$var$SelectNativeOptionsProvider,$cc7e05a45900e73f$var$useSelectNativeOptionsContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$SELECT_NAME),$cc7e05a45900e73f$export$ef9b1a59e592288f=t=>{const{__scopeSelect:i,children:e,open:n,defaultOpen:a,onOpenChange:l,value:c,defaultValue:o,onValueChange:f,dir:u,name:d,autoComplete:E,disabled:p,required:g}=t,x=$cc7e05a45900e73f$var$usePopperScope(i),[S,w]=reactExports.useState(null),[T,m]=reactExports.useState(null),[b,y]=reactExports.useState(!1),h=$f631663db3294ace$export$b39126d51d94e6f3(u),[v=!1,A]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:n,defaultProp:a,onChange:l}),[P,R]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:c,defaultProp:o,onChange:f}),$=reactExports.useRef(null),D=S?!!S.closest("form"):!0,[X,W]=reactExports.useState(new Set),U=Array.from(X).map(N=>N.props.value).join(";");return reactExports.createElement($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,x,reactExports.createElement($cc7e05a45900e73f$var$SelectProvider,{required:g,scope:i,trigger:S,onTriggerChange:w,valueNode:T,onValueNodeChange:m,valueNodeHasChildren:b,onValueNodeHasChildrenChange:y,contentId:$1746a345f3d73bb7$export$f680877a34711e37(),value:P,onValueChange:R,open:v,onOpenChange:A,dir:h,triggerPointerDownPosRef:$,disabled:p},reactExports.createElement($cc7e05a45900e73f$var$Collection.Provider,{scope:i},reactExports.createElement($cc7e05a45900e73f$var$SelectNativeOptionsProvider,{scope:t.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(N=>{W(z=>new Set(z).add(N))},[]),onNativeOptionRemove:reactExports.useCallback(N=>{W(z=>{const B=new Set(z);return B.delete(N),B})},[])},e)),D?reactExports.createElement($cc7e05a45900e73f$var$BubbleSelect,{key:U,"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:E,value:P,onChange:N=>R(N.target.value),disabled:p},P===void 0?reactExports.createElement("option",{value:""}):null,Array.from(X)):null))},$cc7e05a45900e73f$var$TRIGGER_NAME="SelectTrigger",$cc7e05a45900e73f$export$3ac1e88a1c0b9f1=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,disabled:n=!1,...a}=t,l=$cc7e05a45900e73f$var$usePopperScope(e),c=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$TRIGGER_NAME,e),o=c.disabled||n,f=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,c.onTriggerChange),u=$cc7e05a45900e73f$var$useCollection(e),[d,E,p]=$cc7e05a45900e73f$var$useTypeaheadSearch(x=>{const S=u().filter(m=>!m.disabled),w=S.find(m=>m.value===c.value),T=$cc7e05a45900e73f$var$findNextItem(S,x,w);T!==void 0&&c.onValueChange(T.value)}),g=()=>{o||(c.onOpenChange(!0),p())};return reactExports.createElement($cf1ac5d9fe0e8206$export$b688253958b8dfe7,_extends({asChild:!0},l),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends({type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":$cc7e05a45900e73f$var$shouldShowPlaceholder(c.value)?"":void 0},a,{ref:f,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onClick,x=>{x.currentTarget.focus()}),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onPointerDown,x=>{const S=x.target;S.hasPointerCapture(x.pointerId)&&S.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&(g(),c.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)},x.preventDefault())}),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onKeyDown,x=>{const S=d.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&E(x.key),!(S&&x.key===" ")&&$cc7e05a45900e73f$var$OPEN_KEYS.includes(x.key)&&(g(),x.preventDefault())})})))}),$cc7e05a45900e73f$var$VALUE_NAME="SelectValue",$cc7e05a45900e73f$export$e288731fd71264f0=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,className:n,style:a,children:l,placeholder:c="",...o}=t,f=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$VALUE_NAME,e),{onValueNodeHasChildrenChange:u}=f,d=l!==void 0,E=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,f.onValueNodeChange);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{u(d)},[u,d]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends({},o,{ref:E,style:{pointerEvents:"none"}}),$cc7e05a45900e73f$var$shouldShowPlaceholder(f.value)?reactExports.createElement(reactExports.Fragment,null,c):l)}),$cc7e05a45900e73f$export$99b400cabb58c515=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,children:n,...a}=t;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends({"aria-hidden":!0},a,{ref:i}),n||"â¼")}),$cc7e05a45900e73f$export$b2af6c9944296213=t=>reactExports.createElement($f1701beae083dbae$export$602eac185826482c,_extends({asChild:!0},t)),$cc7e05a45900e73f$var$CONTENT_NAME="SelectContent",$cc7e05a45900e73f$export$c973a4b3cb86a03d=reactExports.forwardRef((t,i)=>{const e=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$CONTENT_NAME,t.__scopeSelect),[n,a]=reactExports.useState();if($9f79659886946c16$export$e5c5a5f917a5871c(()=>{a(new DocumentFragment)},[]),!e.open){const l=n;return l?reactDomExports.createPortal(reactExports.createElement($cc7e05a45900e73f$var$SelectContentProvider,{scope:t.__scopeSelect},reactExports.createElement($cc7e05a45900e73f$var$Collection.Slot,{scope:t.__scopeSelect},reactExports.createElement("div",null,t.children))),l):null}return reactExports.createElement($cc7e05a45900e73f$var$SelectContentImpl,_extends({},t,{ref:i}))}),$cc7e05a45900e73f$var$CONTENT_MARGIN=10,[$cc7e05a45900e73f$var$SelectContentProvider,$cc7e05a45900e73f$var$useSelectContentContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$CONTENT_NAME),$cc7e05a45900e73f$var$SelectContentImpl=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:o,sideOffset:f,align:u,alignOffset:d,arrowPadding:E,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:S,avoidCollisions:w,...T}=t,m=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$CONTENT_NAME,e),[b,y]=reactExports.useState(null),[h,v]=reactExports.useState(null),A=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,H=>y(H)),[P,R]=reactExports.useState(null),[$,D]=reactExports.useState(null),X=$cc7e05a45900e73f$var$useCollection(e),[W,U]=reactExports.useState(!1),N=reactExports.useRef(!1);reactExports.useEffect(()=>{if(b)return hideOthers(b)},[b]),$3db38b7d1fb3fe6a$export$b7ece24a22aeda8c();const z=reactExports.useCallback(H=>{const[q,...C]=X().map(V=>V.ref.current),[O]=C.slice(-1),F=document.activeElement;for(const V of H)if(V===F||(V==null||V.scrollIntoView({block:"nearest"}),V===q&&h&&(h.scrollTop=0),V===O&&h&&(h.scrollTop=h.scrollHeight),V==null||V.focus(),document.activeElement!==F))return},[X,h]),B=reactExports.useCallback(()=>z([P,b]),[z,P,b]);reactExports.useEffect(()=>{W&&B()},[W,B]);const{onOpenChange:I,triggerPointerDownPosRef:j}=m;reactExports.useEffect(()=>{if(b){let H={x:0,y:0};const q=O=>{var F,V,K,Z;H={x:Math.abs(Math.round(O.pageX)-((F=(V=j.current)===null||V===void 0?void 0:V.x)!==null&&F!==void 0?F:0)),y:Math.abs(Math.round(O.pageY)-((K=(Z=j.current)===null||Z===void 0?void 0:Z.y)!==null&&K!==void 0?K:0))}},C=O=>{H.x<=10&&H.y<=10?O.preventDefault():b.contains(O.target)||I(!1),document.removeEventListener("pointermove",q),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",C,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",C,{capture:!0})}}},[b,I,j]),reactExports.useEffect(()=>{const H=()=>I(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[I]);const[J,Q]=$cc7e05a45900e73f$var$useTypeaheadSearch(H=>{const q=X().filter(F=>!F.disabled),C=q.find(F=>F.ref.current===document.activeElement),O=$cc7e05a45900e73f$var$findNextItem(q,H,C);O&&setTimeout(()=>O.ref.current.focus())}),re=reactExports.useCallback((H,q,C)=>{const O=!N.current&&!C;(m.value!==void 0&&m.value===q||O)&&(R(H),O&&(N.current=!0))},[m.value]),de=reactExports.useCallback(()=>b==null?void 0:b.focus(),[b]),Y=reactExports.useCallback((H,q,C)=>{const O=!N.current&&!C;(m.value!==void 0&&m.value===q||O)&&D(H)},[m.value]),M=n==="popper"?$cc7e05a45900e73f$var$SelectPopperPosition:$cc7e05a45900e73f$var$SelectItemAlignedPosition,k=M===$cc7e05a45900e73f$var$SelectPopperPosition?{side:o,sideOffset:f,align:u,alignOffset:d,arrowPadding:E,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:S,avoidCollisions:w}:{};return reactExports.createElement($cc7e05a45900e73f$var$SelectContentProvider,{scope:e,content:b,viewport:h,onViewportChange:v,itemRefCallback:re,selectedItem:P,onItemLeave:de,itemTextRefCallback:Y,focusSelectedItem:B,selectedItemText:$,position:n,isPositioned:W,searchRef:J},reactExports.createElement($01b9c$RemoveScroll,{as:$5e63c961fc1ce211$export$8c6ed5c666ac1360,allowPinchZoom:!0},reactExports.createElement($d3863c46a17e8a28$export$20e40289641fbbb6,{asChild:!0,trapped:m.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a,H=>{var q;(q=m.trigger)===null||q===void 0||q.focus({preventScroll:!0}),H.preventDefault()})},reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>m.onOpenChange(!1)},reactExports.createElement(M,_extends({role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:H=>H.preventDefault()},T,k,{onPlaced:()=>U(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(T.onKeyDown,H=>{const q=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!q&&H.key.length===1&&Q(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let O=X().filter(F=>!F.disabled).map(F=>F.ref.current);if(["ArrowUp","End"].includes(H.key)&&(O=O.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const F=H.target,V=O.indexOf(F);O=O.slice(V+1)}setTimeout(()=>z(O)),H.preventDefault()}})}))))))}),$cc7e05a45900e73f$var$SelectItemAlignedPosition=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,onPlaced:n,...a}=t,l=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$CONTENT_NAME,e),c=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$CONTENT_NAME,e),[o,f]=reactExports.useState(null),[u,d]=reactExports.useState(null),E=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,A=>d(A)),p=$cc7e05a45900e73f$var$useCollection(e),g=reactExports.useRef(!1),x=reactExports.useRef(!0),{viewport:S,selectedItem:w,selectedItemText:T,focusSelectedItem:m}=c,b=reactExports.useCallback(()=>{if(l.trigger&&l.valueNode&&o&&u&&S&&w&&T){const A=l.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),R=l.valueNode.getBoundingClientRect(),$=T.getBoundingClientRect();if(l.dir!=="rtl"){const F=$.left-P.left,V=R.left-F,K=A.left-V,Z=A.width+K,ae=Math.max(Z,P.width),le=window.innerWidth-$cc7e05a45900e73f$var$CONTENT_MARGIN,pe=$ae6933e535247d3d$export$7d15b64cf5a3a4c4(V,[$cc7e05a45900e73f$var$CONTENT_MARGIN,le-ae]);o.style.minWidth=Z+"px",o.style.left=pe+"px"}else{const F=P.right-$.right,V=window.innerWidth-R.right-F,K=window.innerWidth-A.right-V,Z=A.width+K,ae=Math.max(Z,P.width),le=window.innerWidth-$cc7e05a45900e73f$var$CONTENT_MARGIN,pe=$ae6933e535247d3d$export$7d15b64cf5a3a4c4(V,[$cc7e05a45900e73f$var$CONTENT_MARGIN,le-ae]);o.style.minWidth=Z+"px",o.style.right=pe+"px"}const D=p(),X=window.innerHeight-$cc7e05a45900e73f$var$CONTENT_MARGIN*2,W=S.scrollHeight,U=window.getComputedStyle(u),N=parseInt(U.borderTopWidth,10),z=parseInt(U.paddingTop,10),B=parseInt(U.borderBottomWidth,10),I=parseInt(U.paddingBottom,10),j=N+z+W+I+B,J=Math.min(w.offsetHeight*5,j),Q=window.getComputedStyle(S),re=parseInt(Q.paddingTop,10),de=parseInt(Q.paddingBottom,10),Y=A.top+A.height/2-$cc7e05a45900e73f$var$CONTENT_MARGIN,M=X-Y,k=w.offsetHeight/2,H=w.offsetTop+k,q=N+z+H,C=j-q;if(q<=Y){const F=w===D[D.length-1].ref.current;o.style.bottom="0px";const V=u.clientHeight-S.offsetTop-S.offsetHeight,K=Math.max(M,k+(F?de:0)+V+B),Z=q+K;o.style.height=Z+"px"}else{const F=w===D[0].ref.current;o.style.top="0px";const K=Math.max(Y,N+S.offsetTop+(F?re:0)+k)+C;o.style.height=K+"px",S.scrollTop=q-Y+S.offsetTop}o.style.margin=`${$cc7e05a45900e73f$var$CONTENT_MARGIN}px 0`,o.style.minHeight=J+"px",o.style.maxHeight=X+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[p,l.trigger,l.valueNode,o,u,S,w,T,l.dir,n]);$9f79659886946c16$export$e5c5a5f917a5871c(()=>b(),[b]);const[y,h]=reactExports.useState();$9f79659886946c16$export$e5c5a5f917a5871c(()=>{u&&h(window.getComputedStyle(u).zIndex)},[u]);const v=reactExports.useCallback(A=>{A&&x.current===!0&&(b(),m==null||m(),x.current=!1)},[b,m]);return reactExports.createElement($cc7e05a45900e73f$var$SelectViewportProvider,{scope:e,contentWrapper:o,shouldExpandOnScrollRef:g,onScrollButtonChange:v},reactExports.createElement("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y}},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({},a,{ref:E,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),$cc7e05a45900e73f$var$SelectPopperPosition=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,align:n="start",collisionPadding:a=$cc7e05a45900e73f$var$CONTENT_MARGIN,...l}=t,c=$cc7e05a45900e73f$var$usePopperScope(e);return reactExports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends({},c,l,{ref:i,align:n,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[$cc7e05a45900e73f$var$SelectViewportProvider,$cc7e05a45900e73f$var$useSelectViewportContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$CONTENT_NAME,{}),$cc7e05a45900e73f$var$VIEWPORT_NAME="SelectViewport",$cc7e05a45900e73f$export$9ed6e7b40248d36d=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,...n}=t,a=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$VIEWPORT_NAME,e),l=$cc7e05a45900e73f$var$useSelectViewportContext($cc7e05a45900e73f$var$VIEWPORT_NAME,e),c=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,a.onViewportChange),o=reactExports.useRef(0);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),reactExports.createElement($cc7e05a45900e73f$var$Collection.Slot,{scope:e},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({"data-radix-select-viewport":"",role:"presentation"},n,{ref:c,style:{position:"relative",flex:1,overflow:"auto",...n.style},onScroll:$e42e1063c40fb3ef$export$b9ecd428b558ff10(n.onScroll,f=>{const u=f.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:E}=l;if(E!=null&&E.current&&d){const p=Math.abs(o.current-u.scrollTop);if(p>0){const g=window.innerHeight-$cc7e05a45900e73f$var$CONTENT_MARGIN*2,x=parseFloat(d.style.minHeight),S=parseFloat(d.style.height),w=Math.max(x,S);if(w<g){const T=w+p,m=Math.min(g,T),b=T-m;d.style.height=m+"px",d.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,d.style.justifyContent="flex-end")}}}o.current=u.scrollTop})}))))}),$cc7e05a45900e73f$var$GROUP_NAME="SelectGroup",[$cc7e05a45900e73f$var$SelectGroupContextProvider,$cc7e05a45900e73f$var$useSelectGroupContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$GROUP_NAME),$cc7e05a45900e73f$var$LABEL_NAME="SelectLabel",$cc7e05a45900e73f$export$f67338d29bd972f8=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,...n}=t,a=$cc7e05a45900e73f$var$useSelectGroupContext($cc7e05a45900e73f$var$LABEL_NAME,e);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({id:a.id},n,{ref:i}))}),$cc7e05a45900e73f$var$ITEM_NAME="SelectItem",[$cc7e05a45900e73f$var$SelectItemContextProvider,$cc7e05a45900e73f$var$useSelectItemContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$ITEM_NAME),$cc7e05a45900e73f$export$13ef48a934230896=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,value:n,disabled:a=!1,textValue:l,...c}=t,o=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$ITEM_NAME,e),f=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$ITEM_NAME,e),u=o.value===n,[d,E]=reactExports.useState(l??""),[p,g]=reactExports.useState(!1),x=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,T=>{var m;return(m=f.itemRefCallback)===null||m===void 0?void 0:m.call(f,T,n,a)}),S=$1746a345f3d73bb7$export$f680877a34711e37(),w=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return reactExports.createElement($cc7e05a45900e73f$var$SelectItemContextProvider,{scope:e,value:n,disabled:a,textId:S,isSelected:u,onItemTextChange:reactExports.useCallback(T=>{E(m=>{var b;return m||((b=T==null?void 0:T.textContent)!==null&&b!==void 0?b:"").trim()})},[])},reactExports.createElement($cc7e05a45900e73f$var$Collection.ItemSlot,{scope:e,value:n,disabled:a,textValue:d},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({role:"option","aria-labelledby":S,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},c,{ref:x,onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(c.onFocus,()=>g(!0)),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(c.onBlur,()=>g(!1)),onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(c.onPointerUp,w),onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(c.onPointerMove,T=>{if(a){var m;(m=f.onItemLeave)===null||m===void 0||m.call(f)}else T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(c.onPointerLeave,T=>{if(T.currentTarget===document.activeElement){var m;(m=f.onItemLeave)===null||m===void 0||m.call(f)}}),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(c.onKeyDown,T=>{var m;((m=f.searchRef)===null||m===void 0?void 0:m.current)!==""&&T.key===" "||($cc7e05a45900e73f$var$SELECTION_KEYS.includes(T.key)&&w(),T.key===" "&&T.preventDefault())})}))))}),$cc7e05a45900e73f$var$ITEM_TEXT_NAME="SelectItemText",$cc7e05a45900e73f$export$3572fb0fb821ff49=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,className:n,style:a,...l}=t,c=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$ITEM_TEXT_NAME,e),o=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$ITEM_TEXT_NAME,e),f=$cc7e05a45900e73f$var$useSelectItemContext($cc7e05a45900e73f$var$ITEM_TEXT_NAME,e),u=$cc7e05a45900e73f$var$useSelectNativeOptionsContext($cc7e05a45900e73f$var$ITEM_TEXT_NAME,e),[d,E]=reactExports.useState(null),p=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,T=>E(T),f.onItemTextChange,T=>{var m;return(m=o.itemTextRefCallback)===null||m===void 0?void 0:m.call(o,T,f.value,f.disabled)}),g=d==null?void 0:d.textContent,x=reactExports.useMemo(()=>reactExports.createElement("option",{key:f.value,value:f.value,disabled:f.disabled},g),[f.disabled,f.value,g]),{onNativeOptionAdd:S,onNativeOptionRemove:w}=u;return $9f79659886946c16$export$e5c5a5f917a5871c(()=>(S(x),()=>w(x)),[S,w,x]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends({id:f.textId},l,{ref:p})),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?reactDomExports.createPortal(l.children,c.valueNode):null)}),$cc7e05a45900e73f$var$ITEM_INDICATOR_NAME="SelectItemIndicator",$cc7e05a45900e73f$export$6b9198de19accfe6=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,...n}=t;return $cc7e05a45900e73f$var$useSelectItemContext($cc7e05a45900e73f$var$ITEM_INDICATOR_NAME,e).isSelected?reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends({"aria-hidden":!0},n,{ref:i})):null}),$cc7e05a45900e73f$var$SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",$cc7e05a45900e73f$export$d8117927658af6d7=reactExports.forwardRef((t,i)=>{const e=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$SCROLL_UP_BUTTON_NAME,t.__scopeSelect),n=$cc7e05a45900e73f$var$useSelectViewportContext($cc7e05a45900e73f$var$SCROLL_UP_BUTTON_NAME,t.__scopeSelect),[a,l]=reactExports.useState(!1),c=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,n.onScrollButtonChange);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(e.viewport&&e.isPositioned){let f=function(){const u=o.scrollTop>0;l(u)};const o=e.viewport;return f(),o.addEventListener("scroll",f),()=>o.removeEventListener("scroll",f)}},[e.viewport,e.isPositioned]),a?reactExports.createElement($cc7e05a45900e73f$var$SelectScrollButtonImpl,_extends({},t,{ref:c,onAutoScroll:()=>{const{viewport:o,selectedItem:f}=e;o&&f&&(o.scrollTop=o.scrollTop-f.offsetHeight)}})):null}),$cc7e05a45900e73f$var$SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",$cc7e05a45900e73f$export$ff951e476c12189=reactExports.forwardRef((t,i)=>{const e=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$SCROLL_DOWN_BUTTON_NAME,t.__scopeSelect),n=$cc7e05a45900e73f$var$useSelectViewportContext($cc7e05a45900e73f$var$SCROLL_DOWN_BUTTON_NAME,t.__scopeSelect),[a,l]=reactExports.useState(!1),c=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,n.onScrollButtonChange);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(e.viewport&&e.isPositioned){let f=function(){const u=o.scrollHeight-o.clientHeight,d=Math.ceil(o.scrollTop)<u;l(d)};const o=e.viewport;return f(),o.addEventListener("scroll",f),()=>o.removeEventListener("scroll",f)}},[e.viewport,e.isPositioned]),a?reactExports.createElement($cc7e05a45900e73f$var$SelectScrollButtonImpl,_extends({},t,{ref:c,onAutoScroll:()=>{const{viewport:o,selectedItem:f}=e;o&&f&&(o.scrollTop=o.scrollTop+f.offsetHeight)}})):null}),$cc7e05a45900e73f$var$SelectScrollButtonImpl=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,onAutoScroll:n,...a}=t,l=$cc7e05a45900e73f$var$useSelectContentContext("SelectScrollButton",e),c=reactExports.useRef(null),o=$cc7e05a45900e73f$var$useCollection(e),f=reactExports.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return reactExports.useEffect(()=>()=>f(),[f]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{var u;const d=o().find(E=>E.ref.current===document.activeElement);d==null||(u=d.ref.current)===null||u===void 0||u.scrollIntoView({block:"nearest"})},[o]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({"aria-hidden":!0},a,{ref:i,style:{flexShrink:0,...a.style},onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onPointerMove,()=>{var u;(u=l.onItemLeave)===null||u===void 0||u.call(l),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onPointerLeave,()=>{f()})}))}),$cc7e05a45900e73f$export$eba4b1df07cb1d3=reactExports.forwardRef((t,i)=>{const{__scopeSelect:e,...n}=t;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({"aria-hidden":!0},n,{ref:i}))});function $cc7e05a45900e73f$var$shouldShowPlaceholder(t){return t===""||t===void 0}const $cc7e05a45900e73f$var$BubbleSelect=reactExports.forwardRef((t,i)=>{const{value:e,...n}=t,a=reactExports.useRef(null),l=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,a),c=$010c2913dbd2fe3d$export$5cae361ad82dce8b(e);return reactExports.useEffect(()=>{const o=a.current,f=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&d){const E=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(E)}},[c,e]),reactExports.createElement($ea1ef594cf570d83$export$439d29a4e110a164,{asChild:!0},reactExports.createElement("select",_extends({},n,{ref:l,defaultValue:e})))});$cc7e05a45900e73f$var$BubbleSelect.displayName="BubbleSelect";function $cc7e05a45900e73f$var$useTypeaheadSearch(t){const i=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(t),e=reactExports.useRef(""),n=reactExports.useRef(0),a=reactExports.useCallback(c=>{const o=e.current+c;i(o),function f(u){e.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>f(""),1e3))}(o)},[i]),l=reactExports.useCallback(()=>{e.current="",window.clearTimeout(n.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(n.current),[]),[e,a,l]}function $cc7e05a45900e73f$var$findNextItem(t,i,e){const a=i.length>1&&Array.from(i).every(u=>u===i[0])?i[0]:i,l=e?t.indexOf(e):-1;let c=$cc7e05a45900e73f$var$wrapArray(t,Math.max(l,0));a.length===1&&(c=c.filter(u=>u!==e));const f=c.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return f!==e?f:void 0}function $cc7e05a45900e73f$var$wrapArray(t,i){return t.map((e,n)=>t[(i+n)%t.length])}const $cc7e05a45900e73f$export$be92b6f5f03c0fe9=$cc7e05a45900e73f$export$ef9b1a59e592288f,$cc7e05a45900e73f$export$41fb9f06171c75f4=$cc7e05a45900e73f$export$3ac1e88a1c0b9f1,$cc7e05a45900e73f$export$4c8d1a57a761ef94=$cc7e05a45900e73f$export$e288731fd71264f0,$cc7e05a45900e73f$export$f04a61298a47a40f=$cc7e05a45900e73f$export$99b400cabb58c515,$cc7e05a45900e73f$export$602eac185826482c=$cc7e05a45900e73f$export$b2af6c9944296213,$cc7e05a45900e73f$export$7c6e2c02157bb7d2=$cc7e05a45900e73f$export$c973a4b3cb86a03d,$cc7e05a45900e73f$export$d5c6c08dc2d3ca7=$cc7e05a45900e73f$export$9ed6e7b40248d36d,$cc7e05a45900e73f$export$b04be29aa201d4f5=$cc7e05a45900e73f$export$f67338d29bd972f8,$cc7e05a45900e73f$export$6d08773d2e66f8f2=$cc7e05a45900e73f$export$13ef48a934230896,$cc7e05a45900e73f$export$d6e5bf9c43ea9319=$cc7e05a45900e73f$export$3572fb0fb821ff49,$cc7e05a45900e73f$export$c3468e2714d175fa=$cc7e05a45900e73f$export$6b9198de19accfe6,$cc7e05a45900e73f$export$2f60d3ec9ad468f2=$cc7e05a45900e73f$export$d8117927658af6d7,$cc7e05a45900e73f$export$bf1aedc3039c8d63=$cc7e05a45900e73f$export$ff951e476c12189,$cc7e05a45900e73f$export$1ff3c3f08ae963c0=$cc7e05a45900e73f$export$eba4b1df07cb1d3,Select=$cc7e05a45900e73f$export$be92b6f5f03c0fe9,SelectValue=$cc7e05a45900e73f$export$4c8d1a57a761ef94,SelectTrigger=reactExports.forwardRef(({className:t,children:i,...e},n)=>jsxRuntimeExports.jsxs($cc7e05a45900e73f$export$41fb9f06171c75f4,{ref:n,className:cn("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...e,children:[i,jsxRuntimeExports.jsx($cc7e05a45900e73f$export$f04a61298a47a40f,{asChild:!0,children:jsxRuntimeExports.jsx(CaretSortIcon,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=$cc7e05a45900e73f$export$41fb9f06171c75f4.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:t,...i},e)=>jsxRuntimeExports.jsx($cc7e05a45900e73f$export$2f60d3ec9ad468f2,{ref:e,className:cn("flex cursor-default items-center justify-center py-1",t),...i,children:jsxRuntimeExports.jsx(ChevronUpIcon,{})}));SelectScrollUpButton.displayName=$cc7e05a45900e73f$export$2f60d3ec9ad468f2.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:t,...i},e)=>jsxRuntimeExports.jsx($cc7e05a45900e73f$export$bf1aedc3039c8d63,{ref:e,className:cn("flex cursor-default items-center justify-center py-1",t),...i,children:jsxRuntimeExports.jsx(ChevronDownIcon,{})}));SelectScrollDownButton.displayName=$cc7e05a45900e73f$export$bf1aedc3039c8d63.displayName;const SelectContent=reactExports.forwardRef(({className:t,children:i,position:e="popper",...n},a)=>jsxRuntimeExports.jsx($cc7e05a45900e73f$export$602eac185826482c,{children:jsxRuntimeExports.jsxs($cc7e05a45900e73f$export$7c6e2c02157bb7d2,{ref:a,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:e,...n,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx($cc7e05a45900e73f$export$d5c6c08dc2d3ca7,{className:cn("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=$cc7e05a45900e73f$export$7c6e2c02157bb7d2.displayName;const SelectLabel=reactExports.forwardRef(({className:t,...i},e)=>jsxRuntimeExports.jsx($cc7e05a45900e73f$export$b04be29aa201d4f5,{ref:e,className:cn("px-2 py-1.5 text-sm font-semibold",t),...i}));SelectLabel.displayName=$cc7e05a45900e73f$export$b04be29aa201d4f5.displayName;const SelectItem=reactExports.forwardRef(({className:t,children:i,...e},n)=>jsxRuntimeExports.jsxs($cc7e05a45900e73f$export$6d08773d2e66f8f2,{ref:n,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...e,children:[jsxRuntimeExports.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx($cc7e05a45900e73f$export$c3468e2714d175fa,{children:jsxRuntimeExports.jsx(CheckIcon,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx($cc7e05a45900e73f$export$d6e5bf9c43ea9319,{children:i})]}));SelectItem.displayName=$cc7e05a45900e73f$export$6d08773d2e66f8f2.displayName;const SelectSeparator=reactExports.forwardRef(({className:t,...i},e)=>jsxRuntimeExports.jsx($cc7e05a45900e73f$export$1ff3c3f08ae963c0,{ref:e,className:cn("-mx-1 my-1 h-px bg-muted",t),...i}));SelectSeparator.displayName=$cc7e05a45900e73f$export$1ff3c3f08ae963c0.displayName;function $6c2e24571c90391f$export$3e6543de14f8614f(t,i){return reactExports.useReducer((e,n)=>{const a=i[e][n];return a??e},t)}const $57acba87d6e25586$var$SCROLL_AREA_NAME="ScrollArea",[$57acba87d6e25586$var$createScrollAreaContext,$57acba87d6e25586$export$488468afe3a6f2b1]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($57acba87d6e25586$var$SCROLL_AREA_NAME),[$57acba87d6e25586$var$ScrollAreaProvider,$57acba87d6e25586$var$useScrollAreaContext]=$57acba87d6e25586$var$createScrollAreaContext($57acba87d6e25586$var$SCROLL_AREA_NAME),$57acba87d6e25586$export$ccf8d8d7bbf3c2cc=reactExports.forwardRef((t,i)=>{const{__scopeScrollArea:e,type:n="hover",dir:a,scrollHideDelay:l=600,...c}=t,[o,f]=reactExports.useState(null),[u,d]=reactExports.useState(null),[E,p]=reactExports.useState(null),[g,x]=reactExports.useState(null),[S,w]=reactExports.useState(null),[T,m]=reactExports.useState(0),[b,y]=reactExports.useState(0),[h,v]=reactExports.useState(!1),[A,P]=reactExports.useState(!1),R=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,D=>f(D)),$=$f631663db3294ace$export$b39126d51d94e6f3(a);return reactExports.createElement($57acba87d6e25586$var$ScrollAreaProvider,{scope:e,type:n,dir:$,scrollHideDelay:l,scrollArea:o,viewport:u,onViewportChange:d,content:E,onContentChange:p,scrollbarX:g,onScrollbarXChange:x,scrollbarXEnabled:h,onScrollbarXEnabledChange:v,scrollbarY:S,onScrollbarYChange:w,scrollbarYEnabled:A,onScrollbarYEnabledChange:P,onCornerWidthChange:m,onCornerHeightChange:y},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({dir:$},c,{ref:R,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})))}),$57acba87d6e25586$var$VIEWPORT_NAME="ScrollAreaViewport",$57acba87d6e25586$export$a21cbf9f11fca853=reactExports.forwardRef((t,i)=>{const{__scopeScrollArea:e,children:n,...a}=t,l=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$VIEWPORT_NAME,e),c=reactExports.useRef(null),o=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,c,l.onViewportChange);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({"data-radix-scroll-area-viewport":""},a,{ref:o,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style}}),reactExports.createElement("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"}},n)))}),$57acba87d6e25586$var$SCROLLBAR_NAME="ScrollAreaScrollbar",$57acba87d6e25586$export$2fabd85d0eba3c57=reactExports.forwardRef((t,i)=>{const{forceMount:e,...n}=t,a=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=a,o=t.orientation==="horizontal";return reactExports.useEffect(()=>(o?l(!0):c(!0),()=>{o?l(!1):c(!1)}),[o,l,c]),a.type==="hover"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarHover,_extends({},n,{ref:i,forceMount:e})):a.type==="scroll"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarScroll,_extends({},n,{ref:i,forceMount:e})):a.type==="auto"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarAuto,_extends({},n,{ref:i,forceMount:e})):a.type==="always"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarVisible,_extends({},n,{ref:i})):null}),$57acba87d6e25586$var$ScrollAreaScrollbarHover=reactExports.forwardRef((t,i)=>{const{forceMount:e,...n}=t,a=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,t.__scopeScrollArea),[l,c]=reactExports.useState(!1);return reactExports.useEffect(()=>{const o=a.scrollArea;let f=0;if(o){const u=()=>{window.clearTimeout(f),c(!0)},d=()=>{f=window.setTimeout(()=>c(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(f),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:e||l},reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarAuto,_extends({"data-state":l?"visible":"hidden"},n,{ref:i})))}),$57acba87d6e25586$var$ScrollAreaScrollbarScroll=reactExports.forwardRef((t,i)=>{const{forceMount:e,...n}=t,a=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,t.__scopeScrollArea),l=t.orientation==="horizontal",c=$57acba87d6e25586$var$useDebounceCallback(()=>f("SCROLL_END"),100),[o,f]=$6c2e24571c90391f$export$3e6543de14f8614f("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>f("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,a.scrollHideDelay,f]),reactExports.useEffect(()=>{const u=a.viewport,d=l?"scrollLeft":"scrollTop";if(u){let E=u[d];const p=()=>{const g=u[d];E!==g&&(f("SCROLL"),c()),E=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,l,f,c]),reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:e||o!=="hidden"},reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarVisible,_extends({"data-state":o==="hidden"?"hidden":"visible"},n,{ref:i,onPointerEnter:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onPointerLeave,()=>f("POINTER_LEAVE"))})))}),$57acba87d6e25586$var$ScrollAreaScrollbarAuto=reactExports.forwardRef((t,i)=>{const e=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,t.__scopeScrollArea),{forceMount:n,...a}=t,[l,c]=reactExports.useState(!1),o=t.orientation==="horizontal",f=$57acba87d6e25586$var$useDebounceCallback(()=>{if(e.viewport){const u=e.viewport.offsetWidth<e.viewport.scrollWidth,d=e.viewport.offsetHeight<e.viewport.scrollHeight;c(o?u:d)}},10);return $57acba87d6e25586$var$useResizeObserver(e.viewport,f),$57acba87d6e25586$var$useResizeObserver(e.content,f),reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:n||l},reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarVisible,_extends({"data-state":l?"visible":"hidden"},a,{ref:i})))}),$57acba87d6e25586$var$ScrollAreaScrollbarVisible=reactExports.forwardRef((t,i)=>{const{orientation:e="vertical",...n}=t,a=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,t.__scopeScrollArea),l=reactExports.useRef(null),c=reactExports.useRef(0),[o,f]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=$57acba87d6e25586$var$getThumbRatio(o.viewport,o.content),d={...n,sizes:o,onSizesChange:f,hasThumb:u>0&&u<1,onThumbChange:p=>l.current=p,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:p=>c.current=p};function E(p,g){return $57acba87d6e25586$var$getScrollPositionFromPointer(p,c.current,o,g)}return e==="horizontal"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarX,_extends({},d,{ref:i,onThumbPositionChange:()=>{if(a.viewport&&l.current){const p=a.viewport.scrollLeft,g=$57acba87d6e25586$var$getThumbOffsetFromScroll(p,o,a.dir);l.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=E(p,a.dir))}})):e==="vertical"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarY,_extends({},d,{ref:i,onThumbPositionChange:()=>{if(a.viewport&&l.current){const p=a.viewport.scrollTop,g=$57acba87d6e25586$var$getThumbOffsetFromScroll(p,o);l.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=E(p))}})):null}),$57acba87d6e25586$var$ScrollAreaScrollbarX=reactExports.forwardRef((t,i)=>{const{sizes:e,onSizesChange:n,...a}=t,l=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,t.__scopeScrollArea),[c,o]=reactExports.useState(),f=reactExports.useRef(null),u=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,f,l.onScrollbarXChange);return reactExports.useEffect(()=>{f.current&&o(getComputedStyle(f.current))},[f]),reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarImpl,_extends({"data-orientation":"horizontal"},a,{ref:u,sizes:e,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$57acba87d6e25586$var$getThumbSize(e)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,E)=>{if(l.viewport){const p=l.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),$57acba87d6e25586$var$isScrollingWithinScrollbarBounds(p,E)&&d.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:$57acba87d6e25586$var$toInt(c.paddingLeft),paddingEnd:$57acba87d6e25586$var$toInt(c.paddingRight)}})}}))}),$57acba87d6e25586$var$ScrollAreaScrollbarY=reactExports.forwardRef((t,i)=>{const{sizes:e,onSizesChange:n,...a}=t,l=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,t.__scopeScrollArea),[c,o]=reactExports.useState(),f=reactExports.useRef(null),u=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,f,l.onScrollbarYChange);return reactExports.useEffect(()=>{f.current&&o(getComputedStyle(f.current))},[f]),reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarImpl,_extends({"data-orientation":"vertical"},a,{ref:u,sizes:e,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$57acba87d6e25586$var$getThumbSize(e)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,E)=>{if(l.viewport){const p=l.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),$57acba87d6e25586$var$isScrollingWithinScrollbarBounds(p,E)&&d.preventDefault()}},onResize:()=>{f.current&&l.viewport&&c&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:$57acba87d6e25586$var$toInt(c.paddingTop),paddingEnd:$57acba87d6e25586$var$toInt(c.paddingBottom)}})}}))}),[$57acba87d6e25586$var$ScrollbarProvider,$57acba87d6e25586$var$useScrollbarContext]=$57acba87d6e25586$var$createScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME),$57acba87d6e25586$var$ScrollAreaScrollbarImpl=reactExports.forwardRef((t,i)=>{const{__scopeScrollArea:e,sizes:n,hasThumb:a,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:o,onThumbPositionChange:f,onDragScroll:u,onWheelScroll:d,onResize:E,...p}=t,g=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,e),[x,S]=reactExports.useState(null),w=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,R=>S(R)),T=reactExports.useRef(null),m=reactExports.useRef(""),b=g.viewport,y=n.content-n.viewport,h=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(d),v=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(f),A=$57acba87d6e25586$var$useDebounceCallback(E,10);function P(R){if(T.current){const $=R.clientX-T.current.left,D=R.clientY-T.current.top;u({x:$,y:D})}}return reactExports.useEffect(()=>{const R=$=>{const D=$.target;(x==null?void 0:x.contains(D))&&h($,y)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[b,x,y,h]),reactExports.useEffect(v,[n,v]),$57acba87d6e25586$var$useResizeObserver(x,A),$57acba87d6e25586$var$useResizeObserver(g.content,A),reactExports.createElement($57acba87d6e25586$var$ScrollbarProvider,{scope:e,scrollbar:x,hasThumb:a,onThumbChange:$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(l),onThumbPointerUp:$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(c),onThumbPositionChange:v,onThumbPointerDown:$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(o)},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({},p,{ref:w,style:{position:"absolute",...p.style},onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),T.current=x.getBoundingClientRect(),m.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),P(R))}),onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onPointerMove,P),onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onPointerUp,R=>{const $=R.target;$.hasPointerCapture(R.pointerId)&&$.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=m.current,g.viewport&&(g.viewport.style.scrollBehavior=""),T.current=null})})))}),$57acba87d6e25586$var$THUMB_NAME="ScrollAreaThumb",$57acba87d6e25586$export$9fba1154677d7cd2=reactExports.forwardRef((t,i)=>{const{forceMount:e,...n}=t,a=$57acba87d6e25586$var$useScrollbarContext($57acba87d6e25586$var$THUMB_NAME,t.__scopeScrollArea);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:e||a.hasThumb},reactExports.createElement($57acba87d6e25586$var$ScrollAreaThumbImpl,_extends({ref:i},n)))}),$57acba87d6e25586$var$ScrollAreaThumbImpl=reactExports.forwardRef((t,i)=>{const{__scopeScrollArea:e,style:n,...a}=t,l=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$THUMB_NAME,e),c=$57acba87d6e25586$var$useScrollbarContext($57acba87d6e25586$var$THUMB_NAME,e),{onThumbPositionChange:o}=c,f=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(i,E=>c.onThumbChange(E)),u=reactExports.useRef(),d=$57acba87d6e25586$var$useDebounceCallback(()=>{u.current&&(u.current(),u.current=void 0)},100);return reactExports.useEffect(()=>{const E=l.viewport;if(E){const p=()=>{if(d(),!u.current){const g=$57acba87d6e25586$var$addUnlinkedScrollListener(E,o);u.current=g,o()}};return o(),E.addEventListener("scroll",p),()=>E.removeEventListener("scroll",p)}},[l.viewport,d,o]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({"data-state":c.hasThumb?"visible":"hidden"},a,{ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onPointerDownCapture,E=>{const g=E.target.getBoundingClientRect(),x=E.clientX-g.left,S=E.clientY-g.top;c.onThumbPointerDown({x,y:S})}),onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onPointerUp,c.onThumbPointerUp)}))}),$57acba87d6e25586$var$CORNER_NAME="ScrollAreaCorner",$57acba87d6e25586$export$56969d565df7cc4b=reactExports.forwardRef((t,i)=>{const e=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$CORNER_NAME,t.__scopeScrollArea),n=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&n?reactExports.createElement($57acba87d6e25586$var$ScrollAreaCornerImpl,_extends({},t,{ref:i})):null}),$57acba87d6e25586$var$ScrollAreaCornerImpl=reactExports.forwardRef((t,i)=>{const{__scopeScrollArea:e,...n}=t,a=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$CORNER_NAME,e),[l,c]=reactExports.useState(0),[o,f]=reactExports.useState(0),u=!!(l&&o);return $57acba87d6e25586$var$useResizeObserver(a.scrollbarX,()=>{var d;const E=((d=a.scrollbarX)===null||d===void 0?void 0:d.offsetHeight)||0;a.onCornerHeightChange(E),f(E)}),$57acba87d6e25586$var$useResizeObserver(a.scrollbarY,()=>{var d;const E=((d=a.scrollbarY)===null||d===void 0?void 0:d.offsetWidth)||0;a.onCornerWidthChange(E),c(E)}),u?reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({},n,{ref:i,style:{width:l,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}})):null});function $57acba87d6e25586$var$toInt(t){return t?parseInt(t,10):0}function $57acba87d6e25586$var$getThumbRatio(t,i){const e=t/i;return isNaN(e)?0:e}function $57acba87d6e25586$var$getThumbSize(t){const i=$57acba87d6e25586$var$getThumbRatio(t.viewport,t.content),e=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-e)*i;return Math.max(n,18)}function $57acba87d6e25586$var$getScrollPositionFromPointer(t,i,e,n="ltr"){const a=$57acba87d6e25586$var$getThumbSize(e),l=a/2,c=i||l,o=a-c,f=e.scrollbar.paddingStart+c,u=e.scrollbar.size-e.scrollbar.paddingEnd-o,d=e.content-e.viewport,E=n==="ltr"?[0,d]:[d*-1,0];return $57acba87d6e25586$var$linearScale([f,u],E)(t)}function $57acba87d6e25586$var$getThumbOffsetFromScroll(t,i,e="ltr"){const n=$57acba87d6e25586$var$getThumbSize(i),a=i.scrollbar.paddingStart+i.scrollbar.paddingEnd,l=i.scrollbar.size-a,c=i.content-i.viewport,o=l-n,f=e==="ltr"?[0,c]:[c*-1,0],u=$ae6933e535247d3d$export$7d15b64cf5a3a4c4(t,f);return $57acba87d6e25586$var$linearScale([0,c],[0,o])(u)}function $57acba87d6e25586$var$linearScale(t,i){return e=>{if(t[0]===t[1]||i[0]===i[1])return i[0];const n=(i[1]-i[0])/(t[1]-t[0]);return i[0]+n*(e-t[0])}}function $57acba87d6e25586$var$isScrollingWithinScrollbarBounds(t,i){return t>0&&t<i}const $57acba87d6e25586$var$addUnlinkedScrollListener=(t,i=()=>{})=>{let e={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const l={left:t.scrollLeft,top:t.scrollTop},c=e.left!==l.left,o=e.top!==l.top;(c||o)&&i(),e=l,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function $57acba87d6e25586$var$useDebounceCallback(t,i){const e=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(t),n=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(n.current),[]),reactExports.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(e,i)},[e,i])}function $57acba87d6e25586$var$useResizeObserver(t,i){const e=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(i);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(e)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,e])}const $57acba87d6e25586$export$be92b6f5f03c0fe9=$57acba87d6e25586$export$ccf8d8d7bbf3c2cc,$57acba87d6e25586$export$d5c6c08dc2d3ca7=$57acba87d6e25586$export$a21cbf9f11fca853,$57acba87d6e25586$export$ac61190d9fc311a9=$57acba87d6e25586$export$56969d565df7cc4b,ScrollArea=reactExports.forwardRef(({className:t,children:i,...e},n)=>jsxRuntimeExports.jsxs($57acba87d6e25586$export$be92b6f5f03c0fe9,{ref:n,className:cn("relative overflow-hidden",t),...e,children:[jsxRuntimeExports.jsx($57acba87d6e25586$export$d5c6c08dc2d3ca7,{className:"h-full w-full rounded-[inherit]",children:i}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx($57acba87d6e25586$export$ac61190d9fc311a9,{})]}));ScrollArea.displayName=$57acba87d6e25586$export$be92b6f5f03c0fe9.displayName;const ScrollBar=reactExports.forwardRef(({className:t,orientation:i="vertical",...e},n)=>jsxRuntimeExports.jsx($57acba87d6e25586$export$2fabd85d0eba3c57,{ref:n,orientation:i,className:cn("flex touch-none select-none transition-colors",i==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",i==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...e,children:jsxRuntimeExports.jsx($57acba87d6e25586$export$9fba1154677d7cd2,{className:"relative flex-1 rounded-full bg-border"})}));ScrollBar.displayName=$57acba87d6e25586$export$2fabd85d0eba3c57.displayName;const updateHash=t=>{document.location.hash=`highlight-${t.id}`},Sidebar=({reviews:t,files:i,currentFileReview:e,isSubmitting:n,navigateToHistory:a,studentFiles:l,toggleStudent:c=()=>{},toggleDocument:o=()=>{},handleSubmit:f,selectedPdf:u,selectedStudent:d,resetReviews:E})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:" bg-white p-4 flex flex-col gap-4 border-b",children:[jsxRuntimeExports.jsx("p",{className:" text-xs font-light",children:"To add review select the text and click on add review popup."}),jsxRuntimeExports.jsxs("p",{className:" text-xs font-light",children:["To create area highlight hold ",jsxRuntimeExports.jsx("span",{className:" font-mono bg-primary-foreground px-2 py-1",children:"â¥ Option key (Alt in Windows)"}),", then click and drag."]}),jsxRuntimeExports.jsxs(Select,{disabled:!(i&&Object.keys(i).length>0),value:d,onValueChange:p=>c(p),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select Student"})}),jsxRuntimeExports.jsx(SelectContent,{children:i&&Object.values(i).map(p=>jsxRuntimeExports.jsx(SelectItem,{value:p.name,children:p.name},p.name))})]}),jsxRuntimeExports.jsxs(Select,{disabled:!(l&&Object.keys(l).length>0),value:u==null?void 0:u.id,onValueChange:p=>o(p),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select PDF"})}),jsxRuntimeExports.jsx(SelectContent,{children:l&&Object.values(l).map(p=>jsxRuntimeExports.jsx(SelectItem,{value:p.id,children:p.name},p.id))})]}),e&&jsxRuntimeExports.jsxs(Badge,{className:"cursor-pointer",variant:"outline",onClick:a,children:["Last reviewed ",getRelativeDate(e.created_at)]})]}),jsxRuntimeExports.jsxs(ScrollArea,{className:"px-4 flex flex-col flex-grow h-72",children:[t.length>0&&jsxRuntimeExports.jsx("div",{className:"font-medium mt-4 mb-2",children:"Reviews"}),t.length===0&&jsxRuntimeExports.jsx("div",{className:"font-medium mt-4 mb-2 h-72 flex items-center justify-center",children:"No New Reviews"}),t.map(p=>jsxRuntimeExports.jsxs(Card,{className:"cursor-pointer mt-2",role:"button",onClick:()=>{updateHash(p)},children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:" leading-relaxed",children:p.comment.text})}),jsxRuntimeExports.jsxs(CardContent,{children:[p.content.text?jsxRuntimeExports.jsx("blockquote",{className:" font-thin line-clamp-3 my-2",children:p.content.text}):null,p.content.image?jsxRuntimeExports.jsx("div",{className:" my-2",children:jsxRuntimeExports.jsx("img",{src:p.content.image,alt:"Screenshot"})}):null]}),jsxRuntimeExports.jsxs(CardFooter,{className:"flex items-center justify-start gap-2",children:["Page ",p.position.pageNumber," ",jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"PDF"})]})]},p.id))]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2 bg-white p-2",children:[jsxRuntimeExports.jsxs(Dialog,{children:[jsxRuntimeExports.jsx(Button,{disabled:!t.length,variant:"outline",className:"flex-1",asChild:!0,children:jsxRuntimeExports.jsx(DialogTrigger,{children:"Reset Reviews"})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Are you absolutely sure?"}),jsxRuntimeExports.jsx(DialogDescription,{children:"This action cannot be undone. This will permanently delete your reviews."})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(DialogClose,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{type:"button",variant:"secondary",children:"Cancel"})}),jsxRuntimeExports.jsx(DialogClose,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{onClick:E,children:"Confirm"})})]})]})]}),jsxRuntimeExports.jsxs(Dialog,{children:[jsxRuntimeExports.jsx(Button,{disabled:!t.length,className:"flex-1",asChild:!0,children:jsxRuntimeExports.jsx(DialogTrigger,{children:"Submit Reviews"})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Are you absolutely sure?"}),jsxRuntimeExports.jsx(DialogDescription,{children:"This action cannot be undone. Once you submit your reviews, you will not be able to edit them."})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(DialogClose,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{type:"button",variant:"secondary",children:"Cancel"})}),jsxRuntimeExports.jsx(DialogClose,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{disabled:!t.length||n,onClick:f,children:"Submit Review"})})]})]})]})]})]}),Oops=()=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Error"}),parseIdFromHash=()=>document.location.hash.slice(11),Index=()=>{const t=useAppDispatch(),i=useAppSelector(A=>A.files.files),e=useAppSelector(A=>A.files.studentFiles),n=useAppSelector(A=>A.files.error),a=useAppSelector(A=>A.files.isLoading),l=useAppSelector(A=>A.files.currentStudent),c=useAppSelector(A=>A.files.signedUrl);reactExports.useEffect(()=>{t(getFilesInBucket())},[t]);const o=()=>{document.location.hash=""},f=reactExports.useRef({scrollTo:()=>{}}),u=useAppSelector(A=>A.reviews.reviews||{}),d=useAppSelector(A=>{var P;return(P=A.auth.user)==null?void 0:P.id}),E=useAppSelector(A=>A.files.currentStudent),p=useAppSelector(A=>A.files.currentStudentFile),g=reactExports.useMemo(()=>u[(p==null?void 0:p.id)||""]||[],[u,p]),x=useAppSelector(A=>A.reviews.isLoading),S=useAppSelector(A=>A.history.submitted),w=useAppSelector(A=>A.history.currentFileReview);reactExports.useEffect(()=>{p&&d&&t(getCurrentFileReview({file_id:p.id,user_id:d}))},[p,d,t]);const T=useNavigate(),m=reactExports.useCallback(()=>{p&&E&&t(updateReviews({studentName:E,file:p,reviews:[]}))},[p,E,t]);reactExports.useEffect(()=>{p||t(clearCurrentFieReview())},[p,t]),reactExports.useEffect(()=>{S&&(t(resetSubmitted()),m(),T({to:"/history"}))},[S,t,m,T]);const b=reactExports.useCallback(A=>g.find(P=>P.id===A),[g]),y=()=>String(Math.random()).slice(2),h=reactExports.useCallback(()=>{const A=b(parseIdFromHash());A&&f.current.scrollTo(A)},[b]),v=(A,P,R)=>{let $=[...g];$=$.map(D=>{const{id:X,position:W,content:U,...N}=D;return X===A?{id:X,position:{...W,...P},content:{...U,...R},...N}:D}),p&&E&&t(updateReviews({studentName:E,file:p,reviews:$}))};return reactExports.useEffect(()=>(window.addEventListener("hashchange",h,!1),()=>{window.removeEventListener("hashchange",h,!1)}),[h]),n?jsxRuntimeExports.jsx(Oops,{}):jsxRuntimeExports.jsxs(BaseLayout,{children:[a&&jsxRuntimeExports.jsx(FullPageSpinner,{}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 relative h-full w-full",children:[jsxRuntimeExports.jsxs("div",{className:" col-span-3 relative h-full border-x ",children:[!c&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 items-center justify-center w-full h-full text-2xl",children:[!E&&jsxRuntimeExports.jsx("p",{children:"Select a student to get started"}),E&&!p&&jsxRuntimeExports.jsx("p",{children:"Select a PDF file"})]}),c&&jsxRuntimeExports.jsx(PdfLoader,{url:c,beforeLoad:jsxRuntimeExports.jsx(Spinner,{}),children:A=>jsxRuntimeExports.jsx(PdfHighlighter,{pdfDocument:A,enableAreaSelection:P=>P.altKey,onScrollChange:o,pdfScaleValue:"page-width",scrollRef:P=>{f.current.scrollTo=P,h()},onSelectionFinished:(P,R,$,D)=>jsxRuntimeExports.jsx(Tip,{onOpen:D,onConfirm:X=>{p&&E&&(t(setReviews({studentName:E,file:p,reviews:{content:R,position:P,comment:X,id:y()}})),$())}}),highlightTransform:(P,R,$,D,X,W,U)=>{const z=!(P.content&&P.content.image)?jsxRuntimeExports.jsx(Highlight,{isScrolledTo:U,position:P.position,comment:P.comment}):jsxRuntimeExports.jsx(AreaHighlight,{isScrolledTo:U,highlight:P,onChange:B=>{v(P.id,{boundingRect:X(B)},{image:W(B)})}});return jsxRuntimeExports.jsx(Popup,{popupContent:jsxRuntimeExports.jsx(HighlightPopup,{...P}),onMouseOver:B=>$(P,()=>B),onMouseOut:D,children:z},R)},highlights:g})})]}),jsxRuntimeExports.jsx("div",{className:"h-full border-r col-span-1",children:jsxRuntimeExports.jsx(Sidebar,{navigateToHistory:()=>T({to:"/history",from:"/"}),currentFileReview:w,handleSubmit:()=>{p&&E&&d&&t(saveReviewsForFile({student_folder:E,file:p,reviews:g,user_id:d}))},reviews:g,files:i,selectedPdf:p,selectedStudent:E,studentFiles:(e==null?void 0:e[E||""])||{},toggleDocument:A=>{const P=Object.values((e==null?void 0:e[E||""])||{}).find(R=>R.id===A);l&&P&&t(getSignedUrl({student:l,file:P}))},isSubmitting:x,toggleStudent:A=>t(getFilesFromStudentFolder(A)),resetReviews:m})})]})]})},Route=createLazyFileRoute("/")({component:withAuthenticatedLayout(Index,"Index Page")});export{Route};
