var Ra=Object.defineProperty;var ka=(a,n,e)=>n in a?Ra(a,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[n]=e;var Je=(a,n,e)=>(ka(a,typeof n!="symbol"?n+"":n,e),e);import{y as commonjsGlobal,z as getAugmentedNamespace,r as reactExports,j as jsxRuntimeExports,$ as $6vYhU$react,A as getDefaultExportFromCjs,B as createRoot,f as reactDomExports,S as Spinner}from"./index-CEm0uM7z.js";import{b as $6ed0406888f73fc4$export$c7b2cbe3552a0d05,_ as _extends,$ as $8927f6f2acc4f386$export$250ffa63cdc0d034}from"./index-B1xBldXN.js";import{c as cn,C as Card,a as CardHeader,b as CardTitle}from"./card-LMq989mQ.js";var pdf_viewer={exports:{}};function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}},dommatrix={exports:{}};/*!
* DOMMatrix v1.0.3 (https://thednp.github.io/dommatrix/)
* Copyright 2022 Â© thednp
* Licensed under MIT (https://github.com/thednp/DOMMatrix/blob/master/LICENSE)
*/var hasRequiredDommatrix;function requireDommatrix(){return hasRequiredDommatrix||(hasRequiredDommatrix=1,function(a,n){(function(e,t){a.exports=t()})(commonjsGlobal,function(){function e(g){var y=new S,b=Array.from(g);if(!b.every(function(G){return!Number.isNaN(G)}))throw TypeError('CSSMatrix: "'+g+'" must only have numbers.');if(b.length===16){var l=b[0],h=b[1],A=b[2],P=b[3],R=b[4],k=b[5],F=b[6],Y=b[7],B=b[8],j=b[9],$=b[10],U=b[11],W=b[12],I=b[13],z=b[14],ee=b[15];y.m11=l,y.a=l,y.m21=R,y.c=R,y.m31=B,y.m41=W,y.e=W,y.m12=h,y.b=h,y.m22=k,y.d=k,y.m32=j,y.m42=I,y.f=I,y.m13=A,y.m23=F,y.m33=$,y.m43=z,y.m14=P,y.m24=Y,y.m34=U,y.m44=ee}else if(b.length===6){var Q=b[0],ne=b[1],fe=b[2],X=b[3],C=b[4],M=b[5];y.m11=Q,y.a=Q,y.m12=ne,y.b=ne,y.m21=fe,y.c=fe,y.m22=X,y.d=X,y.m41=C,y.e=C,y.m42=M,y.f=M}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return y}function t(g){var y=Object.keys(new S);if(typeof g=="object"&&y.every(function(b){return b in g}))return e([g.m11,g.m12,g.m13,g.m14,g.m21,g.m22,g.m23,g.m24,g.m31,g.m32,g.m33,g.m34,g.m41,g.m42,g.m43,g.m44]);throw TypeError('CSSMatrix: "'+JSON.stringify(g)+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function s(g){if(typeof g!="string")throw TypeError('CSSMatrix: "'+g+'" is not a string.');var y=String(g).replace(/\s/g,""),b=new S,l='CSSMatrix: invalid transform string "'+g+'"';return y.split(")").filter(function(h){return h}).forEach(function(h){var A=h.split("("),P=A[0],R=A[1];if(!R)throw TypeError(l);var k=R.split(",").map(function(C){return C.includes("rad")?parseFloat(C)*(180/Math.PI):parseFloat(C)}),F=k[0],Y=k[1],B=k[2],j=k[3],$=[F,Y,B],U=[F,Y,B,j];if(P==="perspective"&&F&&[Y,B].every(function(C){return C===void 0}))b.m34=-1/F;else if(P.includes("matrix")&&[6,16].includes(k.length)&&k.every(function(C){return!Number.isNaN(+C)})){var W=k.map(function(C){return Math.abs(C)<1e-6?0:C});b=b.multiply(e(W))}else if(P==="translate3d"&&$.every(function(C){return!Number.isNaN(+C)}))b=b.translate(F,Y,B);else if(P==="translate"&&F&&B===void 0)b=b.translate(F,Y||0,0);else if(P==="rotate3d"&&U.every(function(C){return!Number.isNaN(+C)})&&j)b=b.rotateAxisAngle(F,Y,B,j);else if(P==="rotate"&&F&&[Y,B].every(function(C){return C===void 0}))b=b.rotate(0,0,F);else if(P==="scale3d"&&$.every(function(C){return!Number.isNaN(+C)})&&$.some(function(C){return C!==1}))b=b.scale(F,Y,B);else if(P==="scale"&&!Number.isNaN(F)&&F!==1&&B===void 0){var I=Number.isNaN(+Y),z=I?F:Y;b=b.scale(F,z,1)}else if(P==="skew"&&(F||!Number.isNaN(F)&&Y)&&B===void 0)b=b.skew(F,Y||0);else if(/[XYZ]/.test(P)&&F&&[Y,B].every(function(C){return C===void 0})&&["translate","rotate","scale","skew"].some(function(C){return P.includes(C)}))if(["skewX","skewY"].includes(P))b=b[P](F);else{var ee=P.replace(/[XYZ]/,""),Q=P.replace(ee,""),ne=["X","Y","Z"].indexOf(Q),fe=ee==="scale"?1:0,X=[ne===0?F:fe,ne===1?F:fe,ne===2?F:fe];b=b[ee].apply(b,X)}else throw TypeError(l)}),b}function u(g,y){return y?[g.a,g.b,g.c,g.d,g.e,g.f]:[g.m11,g.m12,g.m13,g.m14,g.m21,g.m22,g.m23,g.m24,g.m31,g.m32,g.m33,g.m34,g.m41,g.m42,g.m43,g.m44]}function p(g,y,b){var l=new S;return l.m41=g,l.e=g,l.m42=y,l.f=y,l.m43=b,l}function o(g,y,b){var l=new S,h=Math.PI/180,A=g*h,P=y*h,R=b*h,k=Math.cos(A),F=-Math.sin(A),Y=Math.cos(P),B=-Math.sin(P),j=Math.cos(R),$=-Math.sin(R),U=Y*j,W=-Y*$;l.m11=U,l.a=U,l.m12=W,l.b=W,l.m13=B;var I=F*B*j+k*$;l.m21=I,l.c=I;var z=k*j-F*B*$;return l.m22=z,l.d=z,l.m23=-F*Y,l.m31=F*$-k*B*j,l.m32=F*j+k*B*$,l.m33=k*Y,l}function _(g,y,b,l){var h=new S,A=Math.sqrt(g*g+y*y+b*b);if(A===0)return h;var P=g/A,R=y/A,k=b/A,F=l*(Math.PI/360),Y=Math.sin(F),B=Math.cos(F),j=Y*Y,$=P*P,U=R*R,W=k*k,I=1-2*(U+W)*j;h.m11=I,h.a=I;var z=2*(P*R*j+k*Y*B);h.m12=z,h.b=z,h.m13=2*(P*k*j-R*Y*B);var ee=2*(R*P*j-k*Y*B);h.m21=ee,h.c=ee;var Q=1-2*(W+$)*j;return h.m22=Q,h.d=Q,h.m23=2*(R*k*j+P*Y*B),h.m31=2*(k*P*j+R*Y*B),h.m32=2*(k*R*j-P*Y*B),h.m33=1-2*($+U)*j,h}function c(g,y,b){var l=new S;return l.m11=g,l.a=g,l.m22=y,l.d=y,l.m33=b,l}function d(g,y){var b=new S;if(g){var l=g*Math.PI/180,h=Math.tan(l);b.m21=h,b.c=h}if(y){var A=y*Math.PI/180,P=Math.tan(A);b.m12=P,b.b=P}return b}function T(g){return d(g,0)}function m(g){return d(0,g)}function v(g,y){var b=y.m11*g.m11+y.m12*g.m21+y.m13*g.m31+y.m14*g.m41,l=y.m11*g.m12+y.m12*g.m22+y.m13*g.m32+y.m14*g.m42,h=y.m11*g.m13+y.m12*g.m23+y.m13*g.m33+y.m14*g.m43,A=y.m11*g.m14+y.m12*g.m24+y.m13*g.m34+y.m14*g.m44,P=y.m21*g.m11+y.m22*g.m21+y.m23*g.m31+y.m24*g.m41,R=y.m21*g.m12+y.m22*g.m22+y.m23*g.m32+y.m24*g.m42,k=y.m21*g.m13+y.m22*g.m23+y.m23*g.m33+y.m24*g.m43,F=y.m21*g.m14+y.m22*g.m24+y.m23*g.m34+y.m24*g.m44,Y=y.m31*g.m11+y.m32*g.m21+y.m33*g.m31+y.m34*g.m41,B=y.m31*g.m12+y.m32*g.m22+y.m33*g.m32+y.m34*g.m42,j=y.m31*g.m13+y.m32*g.m23+y.m33*g.m33+y.m34*g.m43,$=y.m31*g.m14+y.m32*g.m24+y.m33*g.m34+y.m34*g.m44,U=y.m41*g.m11+y.m42*g.m21+y.m43*g.m31+y.m44*g.m41,W=y.m41*g.m12+y.m42*g.m22+y.m43*g.m32+y.m44*g.m42,I=y.m41*g.m13+y.m42*g.m23+y.m43*g.m33+y.m44*g.m43,z=y.m41*g.m14+y.m42*g.m24+y.m43*g.m34+y.m44*g.m44;return e([b,l,h,A,P,R,k,F,Y,B,j,$,U,W,I,z])}var S=function(){for(var y=[],b=arguments.length;b--;)y[b]=arguments[b];var l=this;if(l.a=1,l.b=0,l.c=0,l.d=1,l.e=0,l.f=0,l.m11=1,l.m12=0,l.m13=0,l.m14=0,l.m21=0,l.m22=1,l.m23=0,l.m24=0,l.m31=0,l.m32=0,l.m33=1,l.m34=0,l.m41=0,l.m42=0,l.m43=0,l.m44=1,y.length){var h=[16,6].some(function(A){return A===y.length})?y:y[0];return l.setMatrixValue(h)}return l},w={isIdentity:{configurable:!0},is2D:{configurable:!0}};w.isIdentity.get=function(){var g=this;return g.m11===1&&g.m12===0&&g.m13===0&&g.m14===0&&g.m21===0&&g.m22===1&&g.m23===0&&g.m24===0&&g.m31===0&&g.m32===0&&g.m33===1&&g.m34===0&&g.m41===0&&g.m42===0&&g.m43===0&&g.m44===1},w.is2D.get=function(){var g=this;return g.m31===0&&g.m32===0&&g.m33===1&&g.m34===0&&g.m43===0&&g.m44===1},S.prototype.setMatrixValue=function(y){var b=this;return typeof y=="string"&&y.length&&y!=="none"?s(y):[Array,Float64Array,Float32Array].some(function(l){return y instanceof l})?e(y):[S,DOMMatrix,Object].some(function(l){return y instanceof l})?t(y):b},S.prototype.toFloat32Array=function(y){return Float32Array.from(u(this,y))},S.prototype.toFloat64Array=function(y){return Float64Array.from(u(this,y))},S.prototype.toString=function(){var y=this,b=y.is2D,l=y.toFloat64Array(b).join(", "),h=b?"matrix":"matrix3d";return h+"("+l+")"},S.prototype.toJSON=function(){var y=this,b=y.is2D,l=y.isIdentity;return Object.assign({},y,{is2D:b,isIdentity:l})},S.prototype.multiply=function(y){return v(this,y)},S.prototype.translate=function(y,b,l){var h=y,A=b,P=l;return A===void 0&&(A=0),P===void 0&&(P=0),v(this,p(h,A,P))},S.prototype.scale=function(y,b,l){var h=y,A=b,P=l;return A===void 0&&(A=y),P===void 0&&(P=1),v(this,c(h,A,P))},S.prototype.rotate=function(y,b,l){var h=y,A=b||0,P=l||0;return typeof y=="number"&&b===void 0&&l===void 0&&(P=h,h=0,A=0),v(this,o(h,A,P))},S.prototype.rotateAxisAngle=function(y,b,l,h){if([y,b,l,h].some(function(A){return Number.isNaN(+A)}))throw new TypeError("CSSMatrix: expecting 4 values");return v(this,_(y,b,l,h))},S.prototype.skewX=function(y){return v(this,T(y))},S.prototype.skewY=function(y){return v(this,m(y))},S.prototype.skew=function(y,b){return v(this,d(y,b))},S.prototype.transformPoint=function(y){var b=this,l=b.m11*y.x+b.m21*y.y+b.m31*y.z+b.m41*y.w,h=b.m12*y.x+b.m22*y.y+b.m32*y.z+b.m42*y.w,A=b.m13*y.x+b.m23*y.y+b.m33*y.z+b.m43*y.w,P=b.m14*y.x+b.m24*y.y+b.m34*y.z+b.m44*y.w;return y instanceof DOMPoint?new DOMPoint(l,h,A,P):{x:l,y:h,z:A,w:P}},Object.defineProperties(S.prototype,w),Object.assign(S,{Translate:p,Rotate:o,RotateAxisAngle:_,Scale:c,SkewX:T,SkewY:m,Skew:d,Multiply:v,fromArray:e,fromMatrix:t,fromString:s,toArray:u});var x="1.0.3",L=x;return Object.assign(S,{Version:L}),S})}(dommatrix)),dommatrix.exports}var ponyfill={exports:{}};/**
 * @license
 * web-streams-polyfill v3.3.3
 * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */var hasRequiredPonyfill;function requirePonyfill(){return hasRequiredPonyfill||(hasRequiredPonyfill=1,function(a,n){(function(e,t){t(n)})(commonjsGlobal,function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(i){return"Symbol(".concat(i,")")};function s(i,f){var D={label:0,sent:function(){if(me[0]&1)throw me[1];return me[1]},trys:[],ops:[]},Z,le,me,Te;return Te={next:We(0),throw:We(1),return:We(2)},typeof Symbol=="function"&&(Te[Symbol.iterator]=function(){return this}),Te;function We(Be){return function(Xe){return He([Be,Xe])}}function He(Be){if(Z)throw new TypeError("Generator is already executing.");for(;Te&&(Te=0,Be[0]&&(D=0)),D;)try{if(Z=1,le&&(me=Be[0]&2?le.return:Be[0]?le.throw||((me=le.return)&&me.call(le),0):le.next)&&!(me=me.call(le,Be[1])).done)return me;switch(le=0,me&&(Be=[Be[0]&2,me.value]),Be[0]){case 0:case 1:me=Be;break;case 4:return D.label++,{value:Be[1],done:!1};case 5:D.label++,le=Be[1],Be=[0];continue;case 7:Be=D.ops.pop(),D.trys.pop();continue;default:if(me=D.trys,!(me=me.length>0&&me[me.length-1])&&(Be[0]===6||Be[0]===2)){D=0;continue}if(Be[0]===3&&(!me||Be[1]>me[0]&&Be[1]<me[3])){D.label=Be[1];break}if(Be[0]===6&&D.label<me[1]){D.label=me[1],me=Be;break}if(me&&D.label<me[2]){D.label=me[2],D.ops.push(Be);break}me[2]&&D.ops.pop(),D.trys.pop();continue}Be=f.call(i,D)}catch(Xe){Be=[6,Xe],le=0}finally{Z=me=0}if(Be[0]&5)throw Be[1];return{value:Be[0]?Be[1]:void 0,done:!0}}}function u(i){var f=typeof Symbol=="function"&&Symbol.iterator,D=f&&i[f],Z=0;if(D)return D.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&Z>=i.length&&(i=void 0),{value:i&&i[Z++],done:!i}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(i){return this instanceof p?(this.v=i,this):new p(i)}function o(i,f,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=D.apply(i,f||[]),le,me=[];return le={},Te("next"),Te("throw"),Te("return"),le[Symbol.asyncIterator]=function(){return this},le;function Te(Ze){Z[Ze]&&(le[Ze]=function(ct){return new Promise(function(vt,St){me.push([Ze,ct,vt,St])>1||We(Ze,ct)})})}function We(Ze,ct){try{He(Z[Ze](ct))}catch(vt){Qe(me[0][3],vt)}}function He(Ze){Ze.value instanceof p?Promise.resolve(Ze.value.v).then(Be,Xe):Qe(me[0][2],Ze)}function Be(Ze){We("next",Ze)}function Xe(Ze){We("throw",Ze)}function Qe(Ze,ct){Ze(ct),me.shift(),me.length&&We(me[0][0],me[0][1])}}function _(i){var f,D;return f={},Z("next"),Z("throw",function(le){throw le}),Z("return"),f[Symbol.iterator]=function(){return this},f;function Z(le,me){f[le]=i[le]?function(Te){return(D=!D)?{value:p(i[le](Te)),done:!1}:me?me(Te):Te}:me}}function c(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f=i[Symbol.asyncIterator],D;return f?f.call(i):(i=typeof u=="function"?u(i):i[Symbol.iterator](),D={},Z("next"),Z("throw"),Z("return"),D[Symbol.asyncIterator]=function(){return this},D);function Z(me){D[me]=i[me]&&function(Te){return new Promise(function(We,He){Te=i[me](Te),le(We,He,Te.done,Te.value)})}}function le(me,Te,We,He){Promise.resolve(He).then(function(Be){me({value:Be,done:We})},Te)}}typeof SuppressedError=="function"&&SuppressedError;function d(){}function T(i){return typeof i=="object"&&i!==null||typeof i=="function"}var m=d;function v(i,f){try{Object.defineProperty(i,"name",{value:f,configurable:!0})}catch{}}var S=Promise,w=Promise.prototype.then,x=Promise.reject.bind(S);function L(i){return new S(i)}function g(i){return L(function(f){return f(i)})}function y(i){return x(i)}function b(i,f,D){return w.call(i,f,D)}function l(i,f,D){b(b(i,f,D),void 0,m)}function h(i,f){l(i,f)}function A(i,f){l(i,void 0,f)}function P(i,f,D){return b(i,f,D)}function R(i){b(i,void 0,m)}var k=function(i){if(typeof queueMicrotask=="function")k=queueMicrotask;else{var f=g(void 0);k=function(D){return b(f,D)}}return k(i)};function F(i,f,D){if(typeof i!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(i,f,D)}function Y(i,f,D){try{return g(F(i,f,D))}catch(Z){return y(Z)}}var B=16384,j=function(){function i(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(i.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),i.prototype.push=function(f){var D=this._back,Z=D;D._elements.length===B-1&&(Z={_elements:[],_next:void 0}),D._elements.push(f),Z!==D&&(this._back=Z,D._next=Z),++this._size},i.prototype.shift=function(){var f=this._front,D=f,Z=this._cursor,le=Z+1,me=f._elements,Te=me[Z];return le===B&&(D=f._next,le=0),--this._size,this._cursor=le,f!==D&&(this._front=D),me[Z]=void 0,Te},i.prototype.forEach=function(f){for(var D=this._cursor,Z=this._front,le=Z._elements;(D!==le.length||Z._next!==void 0)&&!(D===le.length&&(Z=Z._next,le=Z._elements,D=0,le.length===0));)f(le[D]),++D},i.prototype.peek=function(){var f=this._front,D=this._cursor;return f._elements[D]},i}(),$=t("[[AbortSteps]]"),U=t("[[ErrorSteps]]"),W=t("[[CancelSteps]]"),I=t("[[PullSteps]]"),z=t("[[ReleaseSteps]]");function ee(i,f){i._ownerReadableStream=f,f._reader=i,f._state==="readable"?X(i):f._state==="closed"?M(i):C(i,f._storedError)}function Q(i,f){var D=i._ownerReadableStream;return Et(D,f)}function ne(i){var f=i._ownerReadableStream;f._state==="readable"?G(i,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):K(i,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),f._readableStreamController[z](),f._reader=void 0,i._ownerReadableStream=void 0}function fe(i){return new TypeError("Cannot "+i+" a stream using a released reader")}function X(i){i._closedPromise=L(function(f,D){i._closedPromise_resolve=f,i._closedPromise_reject=D})}function C(i,f){X(i),G(i,f)}function M(i){X(i),E(i)}function G(i,f){i._closedPromise_reject!==void 0&&(R(i._closedPromise),i._closedPromise_reject(f),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0)}function K(i,f){C(i,f)}function E(i){i._closedPromise_resolve!==void 0&&(i._closedPromise_resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0)}var O=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},N=Math.trunc||function(i){return i<0?Math.ceil(i):Math.floor(i)};function V(i){return typeof i=="object"||typeof i=="function"}function q(i,f){if(i!==void 0&&!V(i))throw new TypeError("".concat(f," is not an object."))}function J(i,f){if(typeof i!="function")throw new TypeError("".concat(f," is not a function."))}function se(i){return typeof i=="object"&&i!==null||typeof i=="function"}function ue(i,f){if(!se(i))throw new TypeError("".concat(f," is not an object."))}function ge(i,f,D){if(i===void 0)throw new TypeError("Parameter ".concat(f," is required in '").concat(D,"'."))}function be(i,f,D){if(i===void 0)throw new TypeError("".concat(f," is required in '").concat(D,"'."))}function ve(i){return Number(i)}function ye(i){return i===0?0:i}function xe(i){return ye(N(i))}function De(i,f){var D=0,Z=Number.MAX_SAFE_INTEGER,le=Number(i);if(le=ye(le),!O(le))throw new TypeError("".concat(f," is not a finite number"));if(le=xe(le),le<D||le>Z)throw new TypeError("".concat(f," is outside the accepted range of ").concat(D," to ").concat(Z,", inclusive"));return!O(le)||le===0?0:le}function Ie(i,f){if(!Ft(i))throw new TypeError("".concat(f," is not a ReadableStream."))}function Fe(i){return new Oe(i)}function je(i,f){i._reader._readRequests.push(f)}function pe(i,f,D){var Z=i._reader,le=Z._readRequests.shift();D?le._closeSteps():le._chunkSteps(f)}function ke(i){return i._reader._readRequests.length}function Ne(i){var f=i._reader;return!(f===void 0||!Ce(f))}var Oe=function(){function i(f){if(ge(f,1,"ReadableStreamDefaultReader"),Ie(f,"First parameter"),It(f))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ee(this,f),this._readRequests=new j}return Object.defineProperty(i.prototype,"closed",{get:function(){return Ce(this)?this._closedPromise:y(Ee("closed"))},enumerable:!1,configurable:!0}),i.prototype.cancel=function(f){return f===void 0&&(f=void 0),Ce(this)?this._ownerReadableStream===void 0?y(fe("cancel")):Q(this,f):y(Ee("cancel"))},i.prototype.read=function(){if(!Ce(this))return y(Ee("read"));if(this._ownerReadableStream===void 0)return y(fe("read from"));var f,D,Z=L(function(me,Te){f=me,D=Te}),le={_chunkSteps:function(me){return f({value:me,done:!1})},_closeSteps:function(){return f({value:void 0,done:!0})},_errorSteps:function(me){return D(me)}};return te(this,le),Z},i.prototype.releaseLock=function(){if(!Ce(this))throw Ee("releaseLock");this._ownerReadableStream!==void 0&&H(this)},i}();Object.defineProperties(Oe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),v(Oe.prototype.cancel,"cancel"),v(Oe.prototype.read,"read"),v(Oe.prototype.releaseLock,"releaseLock"),typeof t.toStringTag=="symbol"&&Object.defineProperty(Oe.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ce(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_readRequests")?!1:i instanceof Oe}function te(i,f){var D=i._ownerReadableStream;D._disturbed=!0,D._state==="closed"?f._closeSteps():D._state==="errored"?f._errorSteps(D._storedError):D._readableStreamController[I](f)}function H(i){ne(i);var f=new TypeError("Reader was released");ae(i,f)}function ae(i,f){var D=i._readRequests;i._readRequests=new j,D.forEach(function(Z){Z._errorSteps(f)})}function Ee(i){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(i," can only be used on a ReadableStreamDefaultReader"))}var he,Pe,Me;function ce(i){return i.slice()}function re(i,f,D,Z,le){new Uint8Array(i).set(new Uint8Array(D,Z,le),f)}var oe=function(i){return typeof i.transfer=="function"?oe=function(f){return f.transfer()}:typeof structuredClone=="function"?oe=function(f){return structuredClone(f,{transfer:[f]})}:oe=function(f){return f},oe(i)},Ae=function(i){return typeof i.detached=="boolean"?Ae=function(f){return f.detached}:Ae=function(f){return f.byteLength===0},Ae(i)};function _e(i,f,D){if(i.slice)return i.slice(f,D);var Z=D-f,le=new ArrayBuffer(Z);return re(le,0,i,f,Z),le}function we(i,f){var D=i[f];if(D!=null){if(typeof D!="function")throw new TypeError("".concat(String(f)," is not a function"));return D}}function de(i){var f,D=(f={},f[t.iterator]=function(){return i.iterator},f),Z=function(){return o(this,arguments,function(){return s(this,function(me){switch(me.label){case 0:return[5,u(_(c(D)))];case 1:return[4,p.apply(void 0,[me.sent()])];case 2:return[4,p.apply(void 0,[me.sent()])];case 3:return[2,me.sent()]}})})}(),le=Z.next;return{iterator:Z,nextMethod:le,done:!1}}var ie=(Me=(he=t.asyncIterator)!==null&&he!==void 0?he:(Pe=t.for)===null||Pe===void 0?void 0:Pe.call(t,"Symbol.asyncIterator"))!==null&&Me!==void 0?Me:"@@asyncIterator";function Se(i,f,D){if(f===void 0&&(f="sync"),D===void 0)if(f==="async"){if(D=we(i,ie),D===void 0){var Z=we(i,t.iterator),le=Se(i,"sync",Z);return de(le)}}else D=we(i,t.iterator);if(D===void 0)throw new TypeError("The object is not iterable");var me=F(D,i,[]);if(!T(me))throw new TypeError("The iterator method must return an object");var Te=me.next;return{iterator:me,nextMethod:Te,done:!1}}function Re(i){var f=F(i.nextMethod,i.iterator,[]);if(!T(f))throw new TypeError("The iterator.next() method must return an object");return f}function Le(i){return!!i.done}function Ue(i){return i.value}var Ve,ze=(Ve={},Ve[ie]=function(){return this},Ve);Object.defineProperty(ze,ie,{enumerable:!1});var $e=function(){function i(f,D){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=f,this._preventCancel=D}return i.prototype.next=function(){var f=this,D=function(){return f._nextSteps()};return this._ongoingPromise=this._ongoingPromise?P(this._ongoingPromise,D,D):D(),this._ongoingPromise},i.prototype.return=function(f){var D=this,Z=function(){return D._returnSteps(f)};return this._ongoingPromise?P(this._ongoingPromise,Z,Z):Z()},i.prototype._nextSteps=function(){var f=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var D=this._reader,Z,le,me=L(function(We,He){Z=We,le=He}),Te={_chunkSteps:function(We){f._ongoingPromise=void 0,k(function(){return Z({value:We,done:!1})})},_closeSteps:function(){f._ongoingPromise=void 0,f._isFinished=!0,ne(D),Z({value:void 0,done:!0})},_errorSteps:function(We){f._ongoingPromise=void 0,f._isFinished=!0,ne(D),le(We)}};return te(D,Te),me},i.prototype._returnSteps=function(f){if(this._isFinished)return Promise.resolve({value:f,done:!0});this._isFinished=!0;var D=this._reader;if(!this._preventCancel){var Z=Q(D,f);return ne(D),P(Z,function(){return{value:f,done:!0}})}return ne(D),g({value:f,done:!0})},i}(),Ge={next:function(){return Ye(this)?this._asyncIteratorImpl.next():y(Ke("next"))},return:function(i){return Ye(this)?this._asyncIteratorImpl.return(i):y(Ke("return"))}};Object.setPrototypeOf(Ge,ze);function rt(i,f){var D=Fe(i),Z=new $e(D,f),le=Object.create(Ge);return le._asyncIteratorImpl=Z,le}function Ye(i){if(!T(i)||!Object.prototype.hasOwnProperty.call(i,"_asyncIteratorImpl"))return!1;try{return i._asyncIteratorImpl instanceof $e}catch{return!1}}function Ke(i){return new TypeError("ReadableStreamAsyncIterator.".concat(i," can only be used on a ReadableSteamAsyncIterator"))}var et=Number.isNaN||function(i){return i!==i};function tt(i){return!(typeof i!="number"||et(i)||i<0)}function lt(i){var f=_e(i.buffer,i.byteOffset,i.byteOffset+i.byteLength);return new Uint8Array(f)}function it(i){var f=i._queue.shift();return i._queueTotalSize-=f.size,i._queueTotalSize<0&&(i._queueTotalSize=0),f.value}function ot(i,f,D){if(!tt(D)||D===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");i._queue.push({value:f,size:D}),i._queueTotalSize+=D}function yt(i){var f=i._queue.peek();return f.value}function ht(i){i._queue=new j,i._queueTotalSize=0}function ft(i){return i===DataView}function ut(i){return ft(i.constructor)}function pt(i){return ft(i)?1:i.BYTES_PER_ELEMENT}var dt=function(){function i(){throw new TypeError("Illegal constructor")}return Object.defineProperty(i.prototype,"view",{get:function(){if(!Dr(this))throw $r("view");return this._view},enumerable:!1,configurable:!0}),i.prototype.respond=function(f){if(!Dr(this))throw $r("respond");if(ge(f,1,"respond"),f=De(f,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Ae(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");dr(this._associatedReadableByteStreamController,f)},i.prototype.respondWithNewView=function(f){if(!Dr(this))throw $r("respondWithNewView");if(ge(f,1,"respondWithNewView"),!ArrayBuffer.isView(f))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Ae(f.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");hr(this._associatedReadableByteStreamController,f)},i}();Object.defineProperties(dt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),v(dt.prototype.respond,"respond"),v(dt.prototype.respondWithNewView,"respondWithNewView"),typeof t.toStringTag=="symbol"&&Object.defineProperty(dt.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Ct=function(){function i(){throw new TypeError("Illegal constructor")}return Object.defineProperty(i.prototype,"byobRequest",{get:function(){if(!$t(this))throw er("byobRequest");return Nr(this)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"desiredSize",{get:function(){if(!$t(this))throw er("desiredSize");return pn(this)},enumerable:!1,configurable:!0}),i.prototype.close=function(){if(!$t(this))throw er("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var f=this._controlledReadableByteStream._state;if(f!=="readable")throw new TypeError("The stream (in ".concat(f," state) is not in the readable state and cannot be closed"));Zt(this)},i.prototype.enqueue=function(f){if(!$t(this))throw er("enqueue");if(ge(f,1,"enqueue"),!ArrayBuffer.isView(f))throw new TypeError("chunk must be an array buffer view");if(f.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(f.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var D=this._controlledReadableByteStream._state;if(D!=="readable")throw new TypeError("The stream (in ".concat(D," state) is not in the readable state and cannot be enqueued to"));ur(this,f)},i.prototype.error=function(f){if(f===void 0&&(f=void 0),!$t(this))throw er("error");_t(this,f)},i.prototype[W]=function(f){nn(this),ht(this);var D=this._cancelAlgorithm(f);return cr(this),D},i.prototype[I]=function(f){var D=this._controlledReadableByteStream;if(this._queueTotalSize>0){fn(this,f);return}var Z=this._autoAllocateChunkSize;if(Z!==void 0){var le=void 0;try{le=new ArrayBuffer(Z)}catch(Te){f._errorSteps(Te);return}var me={buffer:le,bufferByteLength:Z,byteOffset:0,byteLength:Z,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(me)}je(D,f),Bt(this)},i.prototype[z]=function(){if(this._pendingPullIntos.length>0){var f=this._pendingPullIntos.peek();f.readerType="none",this._pendingPullIntos=new j,this._pendingPullIntos.push(f)}},i}();Object.defineProperties(Ct.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),v(Ct.prototype.close,"close"),v(Ct.prototype.enqueue,"enqueue"),v(Ct.prototype.error,"error"),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ct.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function $t(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledReadableByteStream")?!1:i instanceof Ct}function Dr(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_associatedReadableByteStreamController")?!1:i instanceof dt}function Bt(i){var f=si(i);if(f){if(i._pulling){i._pullAgain=!0;return}i._pulling=!0;var D=i._pullAlgorithm();l(D,function(){return i._pulling=!1,i._pullAgain&&(i._pullAgain=!1,Bt(i)),null},function(Z){return _t(i,Z),null})}}function nn(i){Ir(i),i._pendingPullIntos=new j}function Fr(i,f){var D=!1;i._state==="closed"&&(D=!0);var Z=an(f);f.readerType==="default"?pe(i,Z,D):hi(i,Z,D)}function an(i){var f=i.bytesFilled,D=i.elementSize;return new i.viewConstructor(i.buffer,i.byteOffset,f/D)}function lr(i,f,D,Z){i._queue.push({buffer:f,byteOffset:D,byteLength:Z}),i._queueTotalSize+=Z}function sn(i,f,D,Z){var le;try{le=_e(f,D,D+Z)}catch(me){throw _t(i,me),me}lr(i,le,0,Z)}function on(i,f){f.bytesFilled>0&&sn(i,f.buffer,f.byteOffset,f.bytesFilled),Ht(i)}function ln(i,f){var D=Math.min(i._queueTotalSize,f.byteLength-f.bytesFilled),Z=f.bytesFilled+D,le=D,me=!1,Te=Z%f.elementSize,We=Z-Te;We>=f.minimumFill&&(le=We-f.bytesFilled,me=!0);for(var He=i._queue;le>0;){var Be=He.peek(),Xe=Math.min(le,Be.byteLength),Qe=f.byteOffset+f.bytesFilled;re(f.buffer,Qe,Be.buffer,Be.byteOffset,Xe),Be.byteLength===Xe?He.shift():(Be.byteOffset+=Xe,Be.byteLength-=Xe),i._queueTotalSize-=Xe,un(i,Xe,f),le-=Xe}return me}function un(i,f,D){D.bytesFilled+=f}function dn(i){i._queueTotalSize===0&&i._closeRequested?(cr(i),sr(i._controlledReadableByteStream)):Bt(i)}function Ir(i){i._byobRequest!==null&&(i._byobRequest._associatedReadableByteStreamController=void 0,i._byobRequest._view=null,i._byobRequest=null)}function Lr(i){for(;i._pendingPullIntos.length>0;){if(i._queueTotalSize===0)return;var f=i._pendingPullIntos.peek();ln(i,f)&&(Ht(i),Fr(i._controlledReadableByteStream,f))}}function ri(i){for(var f=i._controlledReadableByteStream._reader;f._readRequests.length>0;){if(i._queueTotalSize===0)return;var D=f._readRequests.shift();fn(i,D)}}function ni(i,f,D,Z){var le=i._controlledReadableByteStream,me=f.constructor,Te=pt(me),We=f.byteOffset,He=f.byteLength,Be=D*Te,Xe;try{Xe=oe(f.buffer)}catch(St){Z._errorSteps(St);return}var Qe={buffer:Xe,bufferByteLength:Xe.byteLength,byteOffset:We,byteLength:He,bytesFilled:0,minimumFill:Be,elementSize:Te,viewConstructor:me,readerType:"byob"};if(i._pendingPullIntos.length>0){i._pendingPullIntos.push(Qe),vn(le,Z);return}if(le._state==="closed"){var Ze=new me(Qe.buffer,Qe.byteOffset,0);Z._closeSteps(Ze);return}if(i._queueTotalSize>0){if(ln(i,Qe)){var ct=an(Qe);dn(i),Z._chunkSteps(ct);return}if(i._closeRequested){var vt=new TypeError("Insufficient bytes to fill elements in the given buffer");_t(i,vt),Z._errorSteps(vt);return}}i._pendingPullIntos.push(Qe),vn(le,Z),Bt(i)}function ii(i,f){f.readerType==="none"&&Ht(i);var D=i._controlledReadableByteStream;if(Br(D))for(;bn(D)>0;){var Z=Ht(i);Fr(D,Z)}}function ai(i,f,D){if(un(i,f,D),D.readerType==="none"){on(i,D),Lr(i);return}if(!(D.bytesFilled<D.minimumFill)){Ht(i);var Z=D.bytesFilled%D.elementSize;if(Z>0){var le=D.byteOffset+D.bytesFilled;sn(i,D.buffer,le-Z,Z)}D.bytesFilled-=Z,Fr(i._controlledReadableByteStream,D),Lr(i)}}function hn(i,f){var D=i._pendingPullIntos.peek();Ir(i);var Z=i._controlledReadableByteStream._state;Z==="closed"?ii(i,D):ai(i,f,D),Bt(i)}function Ht(i){var f=i._pendingPullIntos.shift();return f}function si(i){var f=i._controlledReadableByteStream;if(f._state!=="readable"||i._closeRequested||!i._started)return!1;if(Ne(f)&&ke(f)>0||Br(f)&&bn(f)>0)return!0;var D=pn(i);return D>0}function cr(i){i._pullAlgorithm=void 0,i._cancelAlgorithm=void 0}function Zt(i){var f=i._controlledReadableByteStream;if(!(i._closeRequested||f._state!=="readable")){if(i._queueTotalSize>0){i._closeRequested=!0;return}if(i._pendingPullIntos.length>0){var D=i._pendingPullIntos.peek();if(D.bytesFilled%D.elementSize!==0){var Z=new TypeError("Insufficient bytes to fill elements in the given buffer");throw _t(i,Z),Z}}cr(i),sr(f)}}function ur(i,f){var D=i._controlledReadableByteStream;if(!(i._closeRequested||D._state!=="readable")){var Z=f.buffer,le=f.byteOffset,me=f.byteLength;if(Ae(Z))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");var Te=oe(Z);if(i._pendingPullIntos.length>0){var We=i._pendingPullIntos.peek();if(Ae(We.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Ir(i),We.buffer=oe(We.buffer),We.readerType==="none"&&on(i,We)}if(Ne(D))if(ri(i),ke(D)===0)lr(i,Te,le,me);else{i._pendingPullIntos.length>0&&Ht(i);var He=new Uint8Array(Te,le,me);pe(D,He,!1)}else Br(D)?(lr(i,Te,le,me),Lr(i)):lr(i,Te,le,me);Bt(i)}}function _t(i,f){var D=i._controlledReadableByteStream;D._state==="readable"&&(nn(i),ht(i),cr(i),Un(D,f))}function fn(i,f){var D=i._queue.shift();i._queueTotalSize-=D.byteLength,dn(i);var Z=new Uint8Array(D.buffer,D.byteOffset,D.byteLength);f._chunkSteps(Z)}function Nr(i){if(i._byobRequest===null&&i._pendingPullIntos.length>0){var f=i._pendingPullIntos.peek(),D=new Uint8Array(f.buffer,f.byteOffset+f.bytesFilled,f.byteLength-f.bytesFilled),Z=Object.create(dt.prototype);li(Z,i,D),i._byobRequest=Z}return i._byobRequest}function pn(i){var f=i._controlledReadableByteStream._state;return f==="errored"?null:f==="closed"?0:i._strategyHWM-i._queueTotalSize}function dr(i,f){var D=i._pendingPullIntos.peek(),Z=i._controlledReadableByteStream._state;if(Z==="closed"){if(f!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(f===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(D.bytesFilled+f>D.byteLength)throw new RangeError("bytesWritten out of range")}D.buffer=oe(D.buffer),hn(i,f)}function hr(i,f){var D=i._pendingPullIntos.peek(),Z=i._controlledReadableByteStream._state;if(Z==="closed"){if(f.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(f.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(D.byteOffset+D.bytesFilled!==f.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(D.bufferByteLength!==f.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(D.bytesFilled+f.byteLength>D.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var le=f.byteLength;D.buffer=oe(f.buffer),hn(i,le)}function gn(i,f,D,Z,le,me,Te){f._controlledReadableByteStream=i,f._pullAgain=!1,f._pulling=!1,f._byobRequest=null,f._queue=f._queueTotalSize=void 0,ht(f),f._closeRequested=!1,f._started=!1,f._strategyHWM=me,f._pullAlgorithm=Z,f._cancelAlgorithm=le,f._autoAllocateChunkSize=Te,f._pendingPullIntos=new j,i._readableStreamController=f;var We=D();l(g(We),function(){return f._started=!0,Bt(f),null},function(He){return _t(f,He),null})}function oi(i,f,D){var Z=Object.create(Ct.prototype),le,me,Te;f.start!==void 0?le=function(){return f.start(Z)}:le=function(){},f.pull!==void 0?me=function(){return f.pull(Z)}:me=function(){return g(void 0)},f.cancel!==void 0?Te=function(He){return f.cancel(He)}:Te=function(){return g(void 0)};var We=f.autoAllocateChunkSize;if(We===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");gn(i,Z,le,me,Te,D,We)}function li(i,f,D){i._associatedReadableByteStreamController=f,i._view=D}function $r(i){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(i," can only be used on a ReadableStreamBYOBRequest"))}function er(i){return new TypeError("ReadableByteStreamController.prototype.".concat(i," can only be used on a ReadableByteStreamController"))}function ci(i,f){q(i,f);var D=i==null?void 0:i.mode;return{mode:D===void 0?void 0:ui(D,"".concat(f," has member 'mode' that"))}}function ui(i,f){if(i="".concat(i),i!=="byob")throw new TypeError("".concat(f," '").concat(i,"' is not a valid enumeration value for ReadableStreamReaderMode"));return i}function di(i,f){var D;q(i,f);var Z=(D=i==null?void 0:i.min)!==null&&D!==void 0?D:1;return{min:De(Z,"".concat(f," has member 'min' that"))}}function mn(i){return new Ot(i)}function vn(i,f){i._reader._readIntoRequests.push(f)}function hi(i,f,D){var Z=i._reader,le=Z._readIntoRequests.shift();D?le._closeSteps(f):le._chunkSteps(f)}function bn(i){return i._reader._readIntoRequests.length}function Br(i){var f=i._reader;return!(f===void 0||!Wt(f))}var Ot=function(){function i(f){if(ge(f,1,"ReadableStreamBYOBReader"),Ie(f,"First parameter"),It(f))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!$t(f._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ee(this,f),this._readIntoRequests=new j}return Object.defineProperty(i.prototype,"closed",{get:function(){return Wt(this)?this._closedPromise:y(fr("closed"))},enumerable:!1,configurable:!0}),i.prototype.cancel=function(f){return f===void 0&&(f=void 0),Wt(this)?this._ownerReadableStream===void 0?y(fe("cancel")):Q(this,f):y(fr("cancel"))},i.prototype.read=function(f,D){if(D===void 0&&(D={}),!Wt(this))return y(fr("read"));if(!ArrayBuffer.isView(f))return y(new TypeError("view must be an array buffer view"));if(f.byteLength===0)return y(new TypeError("view must have non-zero byteLength"));if(f.buffer.byteLength===0)return y(new TypeError("view's buffer must have non-zero byteLength"));if(Ae(f.buffer))return y(new TypeError("view's buffer has been detached"));var Z;try{Z=di(D,"options")}catch(Be){return y(Be)}var le=Z.min;if(le===0)return y(new TypeError("options.min must be greater than 0"));if(ut(f)){if(le>f.byteLength)return y(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(le>f.length)return y(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return y(fe("read from"));var me,Te,We=L(function(Be,Xe){me=Be,Te=Xe}),He={_chunkSteps:function(Be){return me({value:Be,done:!1})},_closeSteps:function(Be){return me({value:Be,done:!0})},_errorSteps:function(Be){return Te(Be)}};return yn(this,f,le,He),We},i.prototype.releaseLock=function(){if(!Wt(this))throw fr("releaseLock");this._ownerReadableStream!==void 0&&fi(this)},i}();Object.defineProperties(Ot.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),v(Ot.prototype.cancel,"cancel"),v(Ot.prototype.read,"read"),v(Ot.prototype.releaseLock,"releaseLock"),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ot.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Wt(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_readIntoRequests")?!1:i instanceof Ot}function yn(i,f,D,Z){var le=i._ownerReadableStream;le._disturbed=!0,le._state==="errored"?Z._errorSteps(le._storedError):ni(le._readableStreamController,f,D,Z)}function fi(i){ne(i);var f=new TypeError("Reader was released");_n(i,f)}function _n(i,f){var D=i._readIntoRequests;i._readIntoRequests=new j,D.forEach(function(Z){Z._errorSteps(f)})}function fr(i){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(i," can only be used on a ReadableStreamBYOBReader"))}function tr(i,f){var D=i.highWaterMark;if(D===void 0)return f;if(et(D)||D<0)throw new RangeError("Invalid highWaterMark");return D}function pr(i){var f=i.size;return f||function(){return 1}}function gr(i,f){q(i,f);var D=i==null?void 0:i.highWaterMark,Z=i==null?void 0:i.size;return{highWaterMark:D===void 0?void 0:ve(D),size:Z===void 0?void 0:pi(Z,"".concat(f," has member 'size' that"))}}function pi(i,f){return J(i,f),function(D){return ve(i(D))}}function gi(i,f){q(i,f);var D=i==null?void 0:i.abort,Z=i==null?void 0:i.close,le=i==null?void 0:i.start,me=i==null?void 0:i.type,Te=i==null?void 0:i.write;return{abort:D===void 0?void 0:mi(D,i,"".concat(f," has member 'abort' that")),close:Z===void 0?void 0:vi(Z,i,"".concat(f," has member 'close' that")),start:le===void 0?void 0:bi(le,i,"".concat(f," has member 'start' that")),write:Te===void 0?void 0:yi(Te,i,"".concat(f," has member 'write' that")),type:me}}function mi(i,f,D){return J(i,D),function(Z){return Y(i,f,[Z])}}function vi(i,f,D){return J(i,D),function(){return Y(i,f,[])}}function bi(i,f,D){return J(i,D),function(Z){return F(i,f,[Z])}}function yi(i,f,D){return J(i,D),function(Z,le){return Y(i,f,[Z,le])}}function Sn(i,f){if(!Gt(i))throw new TypeError("".concat(f," is not a WritableStream."))}function _i(i){if(typeof i!="object"||i===null)return!1;try{return typeof i.aborted=="boolean"}catch{return!1}}var Si=typeof AbortController=="function";function wi(){if(Si)return new AbortController}var Dt=function(){function i(f,D){f===void 0&&(f={}),D===void 0&&(D={}),f===void 0?f=null:ue(f,"First parameter");var Z=gr(D,"Second parameter"),le=gi(f,"First parameter");En(this);var me=le.type;if(me!==void 0)throw new RangeError("Invalid type is specified");var Te=pr(Z),We=tr(Z,1);Li(this,le,We,Te)}return Object.defineProperty(i.prototype,"locked",{get:function(){if(!Gt(this))throw _r("locked");return Xt(this)},enumerable:!1,configurable:!0}),i.prototype.abort=function(f){return f===void 0&&(f=void 0),Gt(this)?Xt(this)?y(new TypeError("Cannot abort a stream that already has a writer")):mr(this,f):y(_r("abort"))},i.prototype.close=function(){return Gt(this)?Xt(this)?y(new TypeError("Cannot close a stream that already has a writer")):At(this)?y(new TypeError("Cannot close an already-closing stream")):An(this):y(_r("close"))},i.prototype.getWriter=function(){if(!Gt(this))throw _r("getWriter");return wn(this)},i}();Object.defineProperties(Dt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),v(Dt.prototype.abort,"abort"),v(Dt.prototype.close,"close"),v(Dt.prototype.getWriter,"getWriter"),typeof t.toStringTag=="symbol"&&Object.defineProperty(Dt.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});function wn(i){return new Rt(i)}function Ei(i,f,D,Z,le,me){le===void 0&&(le=1),me===void 0&&(me=function(){return 1});var Te=Object.create(Dt.prototype);En(Te);var We=Object.create(Yt.prototype);return kn(Te,We,i,f,D,Z,le,me),Te}function En(i){i._state="writable",i._storedError=void 0,i._writer=void 0,i._writableStreamController=void 0,i._writeRequests=new j,i._inFlightWriteRequest=void 0,i._closeRequest=void 0,i._inFlightCloseRequest=void 0,i._pendingAbortRequest=void 0,i._backpressure=!1}function Gt(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_writableStreamController")?!1:i instanceof Dt}function Xt(i){return i._writer!==void 0}function mr(i,f){var D;if(i._state==="closed"||i._state==="errored")return g(void 0);i._writableStreamController._abortReason=f,(D=i._writableStreamController._abortController)===null||D===void 0||D.abort(f);var Z=i._state;if(Z==="closed"||Z==="errored")return g(void 0);if(i._pendingAbortRequest!==void 0)return i._pendingAbortRequest._promise;var le=!1;Z==="erroring"&&(le=!0,f=void 0);var me=L(function(Te,We){i._pendingAbortRequest={_promise:void 0,_resolve:Te,_reject:We,_reason:f,_wasAlreadyErroring:le}});return i._pendingAbortRequest._promise=me,le||zr(i,f),me}function An(i){var f=i._state;if(f==="closed"||f==="errored")return y(new TypeError("The stream (in ".concat(f," state) is not in the writable state and cannot be closed")));var D=L(function(le,me){var Te={_resolve:le,_reject:me};i._closeRequest=Te}),Z=i._writer;return Z!==void 0&&i._backpressure&&f==="writable"&&qr(Z),Ni(i._writableStreamController),D}function Ai(i){var f=L(function(D,Z){var le={_resolve:D,_reject:Z};i._writeRequests.push(le)});return f}function Wr(i,f){var D=i._state;if(D==="writable"){zr(i,f);return}Ur(i)}function zr(i,f){var D=i._writableStreamController;i._state="erroring",i._storedError=f;var Z=i._writer;Z!==void 0&&xn(Z,f),!Ri(i)&&D._started&&Ur(i)}function Ur(i){i._state="errored",i._writableStreamController[U]();var f=i._storedError;if(i._writeRequests.forEach(function(le){le._reject(f)}),i._writeRequests=new j,i._pendingAbortRequest===void 0){vr(i);return}var D=i._pendingAbortRequest;if(i._pendingAbortRequest=void 0,D._wasAlreadyErroring){D._reject(f),vr(i);return}var Z=i._writableStreamController[$](D._reason);l(Z,function(){return D._resolve(),vr(i),null},function(le){return D._reject(le),vr(i),null})}function Pi(i){i._inFlightWriteRequest._resolve(void 0),i._inFlightWriteRequest=void 0}function xi(i,f){i._inFlightWriteRequest._reject(f),i._inFlightWriteRequest=void 0,Wr(i,f)}function Ti(i){i._inFlightCloseRequest._resolve(void 0),i._inFlightCloseRequest=void 0;var f=i._state;f==="erroring"&&(i._storedError=void 0,i._pendingAbortRequest!==void 0&&(i._pendingAbortRequest._resolve(),i._pendingAbortRequest=void 0)),i._state="closed";var D=i._writer;D!==void 0&&Fn(D)}function Ci(i,f){i._inFlightCloseRequest._reject(f),i._inFlightCloseRequest=void 0,i._pendingAbortRequest!==void 0&&(i._pendingAbortRequest._reject(f),i._pendingAbortRequest=void 0),Wr(i,f)}function At(i){return!(i._closeRequest===void 0&&i._inFlightCloseRequest===void 0)}function Ri(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}function ki(i){i._inFlightCloseRequest=i._closeRequest,i._closeRequest=void 0}function Mi(i){i._inFlightWriteRequest=i._writeRequests.shift()}function vr(i){i._closeRequest!==void 0&&(i._closeRequest._reject(i._storedError),i._closeRequest=void 0);var f=i._writer;f!==void 0&&Xr(f,i._storedError)}function Vr(i,f){var D=i._writer;D!==void 0&&f!==i._backpressure&&(f?ji(D):qr(D)),i._backpressure=f}var Rt=function(){function i(f){if(ge(f,1,"WritableStreamDefaultWriter"),Sn(f,"First parameter"),Xt(f))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=f,f._writer=this;var D=f._state;if(D==="writable")!At(f)&&f._backpressure?wr(this):In(this),Sr(this);else if(D==="erroring")Yr(this,f._storedError),Sr(this);else if(D==="closed")In(this),Ui(this);else{var Z=f._storedError;Yr(this,Z),Dn(this,Z)}}return Object.defineProperty(i.prototype,"closed",{get:function(){return zt(this)?this._closedPromise:y(Ut("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"desiredSize",{get:function(){if(!zt(this))throw Ut("desiredSize");if(this._ownerWritableStream===void 0)throw nr("desiredSize");return Ii(this)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ready",{get:function(){return zt(this)?this._readyPromise:y(Ut("ready"))},enumerable:!1,configurable:!0}),i.prototype.abort=function(f){return f===void 0&&(f=void 0),zt(this)?this._ownerWritableStream===void 0?y(nr("abort")):Oi(this,f):y(Ut("abort"))},i.prototype.close=function(){if(!zt(this))return y(Ut("close"));var f=this._ownerWritableStream;return f===void 0?y(nr("close")):At(f)?y(new TypeError("Cannot close an already-closing stream")):Pn(this)},i.prototype.releaseLock=function(){if(!zt(this))throw Ut("releaseLock");var f=this._ownerWritableStream;f!==void 0&&Tn(this)},i.prototype.write=function(f){return f===void 0&&(f=void 0),zt(this)?this._ownerWritableStream===void 0?y(nr("write to")):Cn(this,f):y(Ut("write"))},i}();Object.defineProperties(Rt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),v(Rt.prototype.abort,"abort"),v(Rt.prototype.close,"close"),v(Rt.prototype.releaseLock,"releaseLock"),v(Rt.prototype.write,"write"),typeof t.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function zt(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_ownerWritableStream")?!1:i instanceof Rt}function Oi(i,f){var D=i._ownerWritableStream;return mr(D,f)}function Pn(i){var f=i._ownerWritableStream;return An(f)}function Di(i){var f=i._ownerWritableStream,D=f._state;return At(f)||D==="closed"?g(void 0):D==="errored"?y(f._storedError):Pn(i)}function Fi(i,f){i._closedPromiseState==="pending"?Xr(i,f):Vi(i,f)}function xn(i,f){i._readyPromiseState==="pending"?Ln(i,f):Hi(i,f)}function Ii(i){var f=i._ownerWritableStream,D=f._state;return D==="errored"||D==="erroring"?null:D==="closed"?0:Mn(f._writableStreamController)}function Tn(i){var f=i._ownerWritableStream,D=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");xn(i,D),Fi(i,D),f._writer=void 0,i._ownerWritableStream=void 0}function Cn(i,f){var D=i._ownerWritableStream,Z=D._writableStreamController,le=$i(Z,f);if(D!==i._ownerWritableStream)return y(nr("write to"));var me=D._state;if(me==="errored")return y(D._storedError);if(At(D)||me==="closed")return y(new TypeError("The stream is closing or closed and cannot be written to"));if(me==="erroring")return y(D._storedError);var Te=Ai(D);return Bi(Z,f,le),Te}var Rn={},Yt=function(){function i(){throw new TypeError("Illegal constructor")}return Object.defineProperty(i.prototype,"abortReason",{get:function(){if(!jr(this))throw Gr("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"signal",{get:function(){if(!jr(this))throw Gr("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),i.prototype.error=function(f){if(f===void 0&&(f=void 0),!jr(this))throw Gr("error");var D=this._controlledWritableStream._state;D==="writable"&&On(this,f)},i.prototype[$]=function(f){var D=this._abortAlgorithm(f);return br(this),D},i.prototype[U]=function(){ht(this)},i}();Object.defineProperties(Yt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Yt.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function jr(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledWritableStream")?!1:i instanceof Yt}function kn(i,f,D,Z,le,me,Te,We){f._controlledWritableStream=i,i._writableStreamController=f,f._queue=void 0,f._queueTotalSize=void 0,ht(f),f._abortReason=void 0,f._abortController=wi(),f._started=!1,f._strategySizeAlgorithm=We,f._strategyHWM=Te,f._writeAlgorithm=Z,f._closeAlgorithm=le,f._abortAlgorithm=me;var He=Hr(f);Vr(i,He);var Be=D(),Xe=g(Be);l(Xe,function(){return f._started=!0,yr(f),null},function(Qe){return f._started=!0,Wr(i,Qe),null})}function Li(i,f,D,Z){var le=Object.create(Yt.prototype),me,Te,We,He;f.start!==void 0?me=function(){return f.start(le)}:me=function(){},f.write!==void 0?Te=function(Be){return f.write(Be,le)}:Te=function(){return g(void 0)},f.close!==void 0?We=function(){return f.close()}:We=function(){return g(void 0)},f.abort!==void 0?He=function(Be){return f.abort(Be)}:He=function(){return g(void 0)},kn(i,le,me,Te,We,He,D,Z)}function br(i){i._writeAlgorithm=void 0,i._closeAlgorithm=void 0,i._abortAlgorithm=void 0,i._strategySizeAlgorithm=void 0}function Ni(i){ot(i,Rn,0),yr(i)}function $i(i,f){try{return i._strategySizeAlgorithm(f)}catch(D){return rr(i,D),1}}function Mn(i){return i._strategyHWM-i._queueTotalSize}function Bi(i,f,D){try{ot(i,f,D)}catch(me){rr(i,me);return}var Z=i._controlledWritableStream;if(!At(Z)&&Z._state==="writable"){var le=Hr(i);Vr(Z,le)}yr(i)}function yr(i){var f=i._controlledWritableStream;if(i._started&&f._inFlightWriteRequest===void 0){var D=f._state;if(D==="erroring"){Ur(f);return}if(i._queue.length!==0){var Z=yt(i);Z===Rn?Wi(i):zi(i,Z)}}}function rr(i,f){i._controlledWritableStream._state==="writable"&&On(i,f)}function Wi(i){var f=i._controlledWritableStream;ki(f),it(i);var D=i._closeAlgorithm();br(i),l(D,function(){return Ti(f),null},function(Z){return Ci(f,Z),null})}function zi(i,f){var D=i._controlledWritableStream;Mi(D);var Z=i._writeAlgorithm(f);l(Z,function(){Pi(D);var le=D._state;if(it(i),!At(D)&&le==="writable"){var me=Hr(i);Vr(D,me)}return yr(i),null},function(le){return D._state==="writable"&&br(i),xi(D,le),null})}function Hr(i){var f=Mn(i);return f<=0}function On(i,f){var D=i._controlledWritableStream;br(i),zr(D,f)}function _r(i){return new TypeError("WritableStream.prototype.".concat(i," can only be used on a WritableStream"))}function Gr(i){return new TypeError("WritableStreamDefaultController.prototype.".concat(i," can only be used on a WritableStreamDefaultController"))}function Ut(i){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(i," can only be used on a WritableStreamDefaultWriter"))}function nr(i){return new TypeError("Cannot "+i+" a stream using a released writer")}function Sr(i){i._closedPromise=L(function(f,D){i._closedPromise_resolve=f,i._closedPromise_reject=D,i._closedPromiseState="pending"})}function Dn(i,f){Sr(i),Xr(i,f)}function Ui(i){Sr(i),Fn(i)}function Xr(i,f){i._closedPromise_reject!==void 0&&(R(i._closedPromise),i._closedPromise_reject(f),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="rejected")}function Vi(i,f){Dn(i,f)}function Fn(i){i._closedPromise_resolve!==void 0&&(i._closedPromise_resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="resolved")}function wr(i){i._readyPromise=L(function(f,D){i._readyPromise_resolve=f,i._readyPromise_reject=D}),i._readyPromiseState="pending"}function Yr(i,f){wr(i),Ln(i,f)}function In(i){wr(i),qr(i)}function Ln(i,f){i._readyPromise_reject!==void 0&&(R(i._readyPromise),i._readyPromise_reject(f),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="rejected")}function ji(i){wr(i)}function Hi(i,f){Yr(i,f)}function qr(i){i._readyPromise_resolve!==void 0&&(i._readyPromise_resolve(void 0),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="fulfilled")}function Gi(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof commonjsGlobal<"u")return commonjsGlobal}var Kr=Gi();function Xi(i){if(!(typeof i=="function"||typeof i=="object")||i.name!=="DOMException")return!1;try{return new i,!0}catch{return!1}}function Yi(){var i=Kr==null?void 0:Kr.DOMException;return Xi(i)?i:void 0}function qi(){var i=function(D,Z){this.message=D||"",this.name=Z||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return v(i,"DOMException"),i.prototype=Object.create(Error.prototype),Object.defineProperty(i.prototype,"constructor",{value:i,writable:!0,configurable:!0}),i}var Ki=Yi()||qi();function Nn(i,f,D,Z,le,me){var Te=Fe(i),We=wn(f);i._disturbed=!0;var He=!1,Be=g(void 0);return L(function(Xe,Qe){var Ze;if(me!==void 0){if(Ze=function(){var qe=me.reason!==void 0?me.reason:new Ki("Aborted","AbortError"),nt=[];Z||nt.push(function(){return f._state==="writable"?mr(f,qe):g(void 0)}),le||nt.push(function(){return i._state==="readable"?Et(i,qe):g(void 0)}),bt(function(){return Promise.all(nt.map(function(st){return st()}))},!0,qe)},me.aborted){Ze();return}me.addEventListener("abort",Ze)}function ct(){return L(function(qe,nt){function st(Tt){Tt?qe():b(vt(),st,nt)}st(!1)})}function vt(){return He?g(!0):b(We._readyPromise,function(){return L(function(qe,nt){te(Te,{_chunkSteps:function(st){Be=b(Cn(We,st),void 0,d),qe(!1)},_closeSteps:function(){return qe(!0)},_errorSteps:nt})})})}if(gt(i,Te._closedPromise,function(qe){return Z?Mt(!0,qe):bt(function(){return mr(f,qe)},!0,qe),null}),gt(f,We._closedPromise,function(qe){return le?Mt(!0,qe):bt(function(){return Et(i,qe)},!0,qe),null}),xt(i,Te._closedPromise,function(){return D?Mt():bt(function(){return Di(We)}),null}),At(f)||f._state==="closed"){var St=new TypeError("the destination writable stream closed before all data could be piped to it");le?Mt(!0,St):bt(function(){return Et(i,St)},!0,St)}R(ct());function Pt(){var qe=Be;return b(Be,function(){return qe!==Be?Pt():void 0})}function gt(qe,nt,st){qe._state==="errored"?st(qe._storedError):A(nt,st)}function xt(qe,nt,st){qe._state==="closed"?st():h(nt,st)}function bt(qe,nt,st){if(He)return;He=!0,f._state==="writable"&&!At(f)?h(Pt(),Tt):Tt();function Tt(){return l(qe(),function(){return at(nt,st)},function(Nt){return at(!0,Nt)}),null}}function Mt(qe,nt){He||(He=!0,f._state==="writable"&&!At(f)?h(Pt(),function(){return at(qe,nt)}):at(qe,nt))}function at(qe,nt){return Tn(We),ne(Te),me!==void 0&&me.removeEventListener("abort",Ze),qe?Qe(nt):Xe(void 0),null}})}var kt=function(){function i(){throw new TypeError("Illegal constructor")}return Object.defineProperty(i.prototype,"desiredSize",{get:function(){if(!Er(this))throw Pr("desiredSize");return Qr(this)},enumerable:!1,configurable:!0}),i.prototype.close=function(){if(!Er(this))throw Pr("close");if(!Kt(this))throw new TypeError("The stream is not in a state that permits close");Vt(this)},i.prototype.enqueue=function(f){if(f===void 0&&(f=void 0),!Er(this))throw Pr("enqueue");if(!Kt(this))throw new TypeError("The stream is not in a state that permits enqueue");return qt(this,f)},i.prototype.error=function(f){if(f===void 0&&(f=void 0),!Er(this))throw Pr("error");wt(this,f)},i.prototype[W]=function(f){ht(this);var D=this._cancelAlgorithm(f);return Ar(this),D},i.prototype[I]=function(f){var D=this._controlledReadableStream;if(this._queue.length>0){var Z=it(this);this._closeRequested&&this._queue.length===0?(Ar(this),sr(D)):ir(this),f._chunkSteps(Z)}else je(D,f),ir(this)},i.prototype[z]=function(){},i}();Object.defineProperties(kt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),v(kt.prototype.close,"close"),v(kt.prototype.enqueue,"enqueue"),v(kt.prototype.error,"error"),typeof t.toStringTag=="symbol"&&Object.defineProperty(kt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Er(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledReadableStream")?!1:i instanceof kt}function ir(i){var f=$n(i);if(f){if(i._pulling){i._pullAgain=!0;return}i._pulling=!0;var D=i._pullAlgorithm();l(D,function(){return i._pulling=!1,i._pullAgain&&(i._pullAgain=!1,ir(i)),null},function(Z){return wt(i,Z),null})}}function $n(i){var f=i._controlledReadableStream;if(!Kt(i)||!i._started)return!1;if(It(f)&&ke(f)>0)return!0;var D=Qr(i);return D>0}function Ar(i){i._pullAlgorithm=void 0,i._cancelAlgorithm=void 0,i._strategySizeAlgorithm=void 0}function Vt(i){if(Kt(i)){var f=i._controlledReadableStream;i._closeRequested=!0,i._queue.length===0&&(Ar(i),sr(f))}}function qt(i,f){if(Kt(i)){var D=i._controlledReadableStream;if(It(D)&&ke(D)>0)pe(D,f,!1);else{var Z=void 0;try{Z=i._strategySizeAlgorithm(f)}catch(le){throw wt(i,le),le}try{ot(i,f,Z)}catch(le){throw wt(i,le),le}}ir(i)}}function wt(i,f){var D=i._controlledReadableStream;D._state==="readable"&&(ht(i),Ar(i),Un(D,f))}function Qr(i){var f=i._controlledReadableStream._state;return f==="errored"?null:f==="closed"?0:i._strategyHWM-i._queueTotalSize}function Qi(i){return!$n(i)}function Kt(i){var f=i._controlledReadableStream._state;return!i._closeRequested&&f==="readable"}function Bn(i,f,D,Z,le,me,Te){f._controlledReadableStream=i,f._queue=void 0,f._queueTotalSize=void 0,ht(f),f._started=!1,f._closeRequested=!1,f._pullAgain=!1,f._pulling=!1,f._strategySizeAlgorithm=Te,f._strategyHWM=me,f._pullAlgorithm=Z,f._cancelAlgorithm=le,i._readableStreamController=f;var We=D();l(g(We),function(){return f._started=!0,ir(f),null},function(He){return wt(f,He),null})}function Ji(i,f,D,Z){var le=Object.create(kt.prototype),me,Te,We;f.start!==void 0?me=function(){return f.start(le)}:me=function(){},f.pull!==void 0?Te=function(){return f.pull(le)}:Te=function(){return g(void 0)},f.cancel!==void 0?We=function(He){return f.cancel(He)}:We=function(){return g(void 0)},Bn(i,le,me,Te,We,D,Z)}function Pr(i){return new TypeError("ReadableStreamDefaultController.prototype.".concat(i," can only be used on a ReadableStreamDefaultController"))}function Zi(i,f){return $t(i._readableStreamController)?ta(i):ea(i)}function ea(i,f){var D=Fe(i),Z=!1,le=!1,me=!1,Te=!1,We,He,Be,Xe,Qe,Ze=L(function(gt){Qe=gt});function ct(){if(Z)return le=!0,g(void 0);Z=!0;var gt={_chunkSteps:function(xt){k(function(){le=!1;var bt=xt,Mt=xt;me||qt(Be._readableStreamController,bt),Te||qt(Xe._readableStreamController,Mt),Z=!1,le&&ct()})},_closeSteps:function(){Z=!1,me||Vt(Be._readableStreamController),Te||Vt(Xe._readableStreamController),(!me||!Te)&&Qe(void 0)},_errorSteps:function(){Z=!1}};return te(D,gt),g(void 0)}function vt(gt){if(me=!0,We=gt,Te){var xt=ce([We,He]),bt=Et(i,xt);Qe(bt)}return Ze}function St(gt){if(Te=!0,He=gt,me){var xt=ce([We,He]),bt=Et(i,xt);Qe(bt)}return Ze}function Pt(){}return Be=ar(Pt,ct,vt),Xe=ar(Pt,ct,St),A(D._closedPromise,function(gt){return wt(Be._readableStreamController,gt),wt(Xe._readableStreamController,gt),(!me||!Te)&&Qe(void 0),null}),[Be,Xe]}function ta(i){var f=Fe(i),D=!1,Z=!1,le=!1,me=!1,Te=!1,We,He,Be,Xe,Qe,Ze=L(function(at){Qe=at});function ct(at){A(at._closedPromise,function(qe){return at!==f||(_t(Be._readableStreamController,qe),_t(Xe._readableStreamController,qe),(!me||!Te)&&Qe(void 0)),null})}function vt(){Wt(f)&&(ne(f),f=Fe(i),ct(f));var at={_chunkSteps:function(qe){k(function(){Z=!1,le=!1;var nt=qe,st=qe;if(!me&&!Te)try{st=lt(qe)}catch(Tt){_t(Be._readableStreamController,Tt),_t(Xe._readableStreamController,Tt),Qe(Et(i,Tt));return}me||ur(Be._readableStreamController,nt),Te||ur(Xe._readableStreamController,st),D=!1,Z?Pt():le&&gt()})},_closeSteps:function(){D=!1,me||Zt(Be._readableStreamController),Te||Zt(Xe._readableStreamController),Be._readableStreamController._pendingPullIntos.length>0&&dr(Be._readableStreamController,0),Xe._readableStreamController._pendingPullIntos.length>0&&dr(Xe._readableStreamController,0),(!me||!Te)&&Qe(void 0)},_errorSteps:function(){D=!1}};te(f,at)}function St(at,qe){Ce(f)&&(ne(f),f=mn(i),ct(f));var nt=qe?Xe:Be,st=qe?Be:Xe,Tt={_chunkSteps:function(Nt){k(function(){Z=!1,le=!1;var Jt=qe?Te:me,or=qe?me:Te;if(or)Jt||hr(nt._readableStreamController,Nt);else{var ti=void 0;try{ti=lt(Nt)}catch(rn){_t(nt._readableStreamController,rn),_t(st._readableStreamController,rn),Qe(Et(i,rn));return}Jt||hr(nt._readableStreamController,Nt),ur(st._readableStreamController,ti)}D=!1,Z?Pt():le&&gt()})},_closeSteps:function(Nt){D=!1;var Jt=qe?Te:me,or=qe?me:Te;Jt||Zt(nt._readableStreamController),or||Zt(st._readableStreamController),Nt!==void 0&&(Jt||hr(nt._readableStreamController,Nt),!or&&st._readableStreamController._pendingPullIntos.length>0&&dr(st._readableStreamController,0)),(!Jt||!or)&&Qe(void 0)},_errorSteps:function(){D=!1}};yn(f,at,1,Tt)}function Pt(){if(D)return Z=!0,g(void 0);D=!0;var at=Nr(Be._readableStreamController);return at===null?vt():St(at._view,!1),g(void 0)}function gt(){if(D)return le=!0,g(void 0);D=!0;var at=Nr(Xe._readableStreamController);return at===null?vt():St(at._view,!0),g(void 0)}function xt(at){if(me=!0,We=at,Te){var qe=ce([We,He]),nt=Et(i,qe);Qe(nt)}return Ze}function bt(at){if(Te=!0,He=at,me){var qe=ce([We,He]),nt=Et(i,qe);Qe(nt)}return Ze}function Mt(){}return Be=zn(Mt,Pt,xt),Xe=zn(Mt,gt,bt),ct(f),[Be,Xe]}function ra(i){return T(i)&&typeof i.getReader<"u"}function na(i){return ra(i)?aa(i.getReader()):ia(i)}function ia(i){var f,D=Se(i,"async"),Z=d;function le(){var Te;try{Te=Re(D)}catch(He){return y(He)}var We=g(Te);return P(We,function(He){if(!T(He))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");var Be=Le(He);if(Be)Vt(f._readableStreamController);else{var Xe=Ue(He);qt(f._readableStreamController,Xe)}})}function me(Te){var We=D.iterator,He;try{He=we(We,"return")}catch(Qe){return y(Qe)}if(He===void 0)return g(void 0);var Be;try{Be=F(He,We,[Te])}catch(Qe){return y(Qe)}var Xe=g(Be);return P(Xe,function(Qe){if(!T(Qe))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return f=ar(Z,le,me,0),f}function aa(i){var f,D=d;function Z(){var me;try{me=i.read()}catch(Te){return y(Te)}return P(me,function(Te){if(!T(Te))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(Te.done)Vt(f._readableStreamController);else{var We=Te.value;qt(f._readableStreamController,We)}})}function le(me){try{return g(i.cancel(me))}catch(Te){return y(Te)}}return f=ar(D,Z,le,0),f}function sa(i,f){q(i,f);var D=i,Z=D==null?void 0:D.autoAllocateChunkSize,le=D==null?void 0:D.cancel,me=D==null?void 0:D.pull,Te=D==null?void 0:D.start,We=D==null?void 0:D.type;return{autoAllocateChunkSize:Z===void 0?void 0:De(Z,"".concat(f," has member 'autoAllocateChunkSize' that")),cancel:le===void 0?void 0:oa(le,D,"".concat(f," has member 'cancel' that")),pull:me===void 0?void 0:la(me,D,"".concat(f," has member 'pull' that")),start:Te===void 0?void 0:ca(Te,D,"".concat(f," has member 'start' that")),type:We===void 0?void 0:ua(We,"".concat(f," has member 'type' that"))}}function oa(i,f,D){return J(i,D),function(Z){return Y(i,f,[Z])}}function la(i,f,D){return J(i,D),function(Z){return Y(i,f,[Z])}}function ca(i,f,D){return J(i,D),function(Z){return F(i,f,[Z])}}function ua(i,f){if(i="".concat(i),i!=="bytes")throw new TypeError("".concat(f," '").concat(i,"' is not a valid enumeration value for ReadableStreamType"));return i}function da(i,f){q(i,f);var D=i==null?void 0:i.preventCancel;return{preventCancel:!!D}}function Wn(i,f){q(i,f);var D=i==null?void 0:i.preventAbort,Z=i==null?void 0:i.preventCancel,le=i==null?void 0:i.preventClose,me=i==null?void 0:i.signal;return me!==void 0&&ha(me,"".concat(f," has member 'signal' that")),{preventAbort:!!D,preventCancel:!!Z,preventClose:!!le,signal:me}}function ha(i,f){if(!_i(i))throw new TypeError("".concat(f," is not an AbortSignal."))}function fa(i,f){q(i,f);var D=i==null?void 0:i.readable;be(D,"readable","ReadableWritablePair"),Ie(D,"".concat(f," has member 'readable' that"));var Z=i==null?void 0:i.writable;return be(Z,"writable","ReadableWritablePair"),Sn(Z,"".concat(f," has member 'writable' that")),{readable:D,writable:Z}}var mt=function(){function i(f,D){f===void 0&&(f={}),D===void 0&&(D={}),f===void 0?f=null:ue(f,"First parameter");var Z=gr(D,"Second parameter"),le=sa(f,"First parameter");if(Jr(this),le.type==="bytes"){if(Z.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var me=tr(Z,0);oi(this,le,me)}else{var Te=pr(Z),me=tr(Z,1);Ji(this,le,me,Te)}}return Object.defineProperty(i.prototype,"locked",{get:function(){if(!Ft(this))throw jt("locked");return It(this)},enumerable:!1,configurable:!0}),i.prototype.cancel=function(f){return f===void 0&&(f=void 0),Ft(this)?It(this)?y(new TypeError("Cannot cancel a stream that already has a reader")):Et(this,f):y(jt("cancel"))},i.prototype.getReader=function(f){if(f===void 0&&(f=void 0),!Ft(this))throw jt("getReader");var D=ci(f,"First parameter");return D.mode===void 0?Fe(this):mn(this)},i.prototype.pipeThrough=function(f,D){if(D===void 0&&(D={}),!Ft(this))throw jt("pipeThrough");ge(f,1,"pipeThrough");var Z=fa(f,"First parameter"),le=Wn(D,"Second parameter");if(It(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Xt(Z.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var me=Nn(this,Z.writable,le.preventClose,le.preventAbort,le.preventCancel,le.signal);return R(me),Z.readable},i.prototype.pipeTo=function(f,D){if(D===void 0&&(D={}),!Ft(this))return y(jt("pipeTo"));if(f===void 0)return y("Parameter 1 is required in 'pipeTo'.");if(!Gt(f))return y(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var Z;try{Z=Wn(D,"Second parameter")}catch(le){return y(le)}return It(this)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Xt(f)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Nn(this,f,Z.preventClose,Z.preventAbort,Z.preventCancel,Z.signal)},i.prototype.tee=function(){if(!Ft(this))throw jt("tee");var f=Zi(this);return ce(f)},i.prototype.values=function(f){if(f===void 0&&(f=void 0),!Ft(this))throw jt("values");var D=da(f,"First parameter");return rt(this,D.preventCancel)},i.prototype[ie]=function(f){return this.values(f)},i.from=function(f){return na(f)},i}();Object.defineProperties(mt,{from:{enumerable:!0}}),Object.defineProperties(mt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),v(mt.from,"from"),v(mt.prototype.cancel,"cancel"),v(mt.prototype.getReader,"getReader"),v(mt.prototype.pipeThrough,"pipeThrough"),v(mt.prototype.pipeTo,"pipeTo"),v(mt.prototype.tee,"tee"),v(mt.prototype.values,"values"),typeof t.toStringTag=="symbol"&&Object.defineProperty(mt.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(mt.prototype,ie,{value:mt.prototype.values,writable:!0,configurable:!0});function ar(i,f,D,Z,le){Z===void 0&&(Z=1),le===void 0&&(le=function(){return 1});var me=Object.create(mt.prototype);Jr(me);var Te=Object.create(kt.prototype);return Bn(me,Te,i,f,D,Z,le),me}function zn(i,f,D){var Z=Object.create(mt.prototype);Jr(Z);var le=Object.create(Ct.prototype);return gn(Z,le,i,f,D,0,void 0),Z}function Jr(i){i._state="readable",i._reader=void 0,i._storedError=void 0,i._disturbed=!1}function Ft(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_readableStreamController")?!1:i instanceof mt}function It(i){return i._reader!==void 0}function Et(i,f){if(i._disturbed=!0,i._state==="closed")return g(void 0);if(i._state==="errored")return y(i._storedError);sr(i);var D=i._reader;if(D!==void 0&&Wt(D)){var Z=D._readIntoRequests;D._readIntoRequests=new j,Z.forEach(function(me){me._closeSteps(void 0)})}var le=i._readableStreamController[W](f);return P(le,d)}function sr(i){i._state="closed";var f=i._reader;if(f!==void 0&&(E(f),Ce(f))){var D=f._readRequests;f._readRequests=new j,D.forEach(function(Z){Z._closeSteps()})}}function Un(i,f){i._state="errored",i._storedError=f;var D=i._reader;D!==void 0&&(G(D,f),Ce(D)?ae(D,f):_n(D,f))}function jt(i){return new TypeError("ReadableStream.prototype.".concat(i," can only be used on a ReadableStream"))}function Vn(i,f){q(i,f);var D=i==null?void 0:i.highWaterMark;return be(D,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ve(D)}}var jn=function(i){return i.byteLength};v(jn,"size");var xr=function(){function i(f){ge(f,1,"ByteLengthQueuingStrategy"),f=Vn(f,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=f.highWaterMark}return Object.defineProperty(i.prototype,"highWaterMark",{get:function(){if(!Gn(this))throw Hn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){if(!Gn(this))throw Hn("size");return jn},enumerable:!1,configurable:!0}),i}();Object.defineProperties(xr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(xr.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Hn(i){return new TypeError("ByteLengthQueuingStrategy.prototype.".concat(i," can only be used on a ByteLengthQueuingStrategy"))}function Gn(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_byteLengthQueuingStrategyHighWaterMark")?!1:i instanceof xr}var Xn=function(){return 1};v(Xn,"size");var Tr=function(){function i(f){ge(f,1,"CountQueuingStrategy"),f=Vn(f,"First parameter"),this._countQueuingStrategyHighWaterMark=f.highWaterMark}return Object.defineProperty(i.prototype,"highWaterMark",{get:function(){if(!qn(this))throw Yn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){if(!qn(this))throw Yn("size");return Xn},enumerable:!1,configurable:!0}),i}();Object.defineProperties(Tr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Tr.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Yn(i){return new TypeError("CountQueuingStrategy.prototype.".concat(i," can only be used on a CountQueuingStrategy"))}function qn(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_countQueuingStrategyHighWaterMark")?!1:i instanceof Tr}function pa(i,f){q(i,f);var D=i==null?void 0:i.cancel,Z=i==null?void 0:i.flush,le=i==null?void 0:i.readableType,me=i==null?void 0:i.start,Te=i==null?void 0:i.transform,We=i==null?void 0:i.writableType;return{cancel:D===void 0?void 0:ba(D,i,"".concat(f," has member 'cancel' that")),flush:Z===void 0?void 0:ga(Z,i,"".concat(f," has member 'flush' that")),readableType:le,start:me===void 0?void 0:ma(me,i,"".concat(f," has member 'start' that")),transform:Te===void 0?void 0:va(Te,i,"".concat(f," has member 'transform' that")),writableType:We}}function ga(i,f,D){return J(i,D),function(Z){return Y(i,f,[Z])}}function ma(i,f,D){return J(i,D),function(Z){return F(i,f,[Z])}}function va(i,f,D){return J(i,D),function(Z,le){return Y(i,f,[Z,le])}}function ba(i,f,D){return J(i,D),function(Z){return Y(i,f,[Z])}}var Cr=function(){function i(f,D,Z){f===void 0&&(f={}),D===void 0&&(D={}),Z===void 0&&(Z={}),f===void 0&&(f=null);var le=gr(D,"Second parameter"),me=gr(Z,"Third parameter"),Te=pa(f,"First parameter");if(Te.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Te.writableType!==void 0)throw new RangeError("Invalid writableType specified");var We=tr(me,0),He=pr(me),Be=tr(le,1),Xe=pr(le),Qe,Ze=L(function(ct){Qe=ct});ya(this,Ze,Be,Xe,We,He),Sa(this,Te),Te.start!==void 0?Qe(Te.start(this._transformStreamController)):Qe(void 0)}return Object.defineProperty(i.prototype,"readable",{get:function(){if(!Kn(this))throw ei("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"writable",{get:function(){if(!Kn(this))throw ei("writable");return this._writable},enumerable:!1,configurable:!0}),i}();Object.defineProperties(Cr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Cr.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});function ya(i,f,D,Z,le,me){function Te(){return f}function We(Ze){return Aa(i,Ze)}function He(Ze){return Pa(i,Ze)}function Be(){return xa(i)}i._writable=Ei(Te,We,Be,He,D,Z);function Xe(){return Ta(i)}function Qe(Ze){return Ca(i,Ze)}i._readable=ar(Te,Xe,Qe,le,me),i._backpressure=void 0,i._backpressureChangePromise=void 0,i._backpressureChangePromise_resolve=void 0,Rr(i,!0),i._transformStreamController=void 0}function Kn(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_transformStreamController")?!1:i instanceof Cr}function Qn(i,f){wt(i._readable._readableStreamController,f),Zr(i,f)}function Zr(i,f){Mr(i._transformStreamController),rr(i._writable._writableStreamController,f),en(i)}function en(i){i._backpressure&&Rr(i,!1)}function Rr(i,f){i._backpressureChangePromise!==void 0&&i._backpressureChangePromise_resolve(),i._backpressureChangePromise=L(function(D){i._backpressureChangePromise_resolve=D}),i._backpressure=f}var Lt=function(){function i(){throw new TypeError("Illegal constructor")}return Object.defineProperty(i.prototype,"desiredSize",{get:function(){if(!kr(this))throw Or("desiredSize");var f=this._controlledTransformStream._readable._readableStreamController;return Qr(f)},enumerable:!1,configurable:!0}),i.prototype.enqueue=function(f){if(f===void 0&&(f=void 0),!kr(this))throw Or("enqueue");Jn(this,f)},i.prototype.error=function(f){if(f===void 0&&(f=void 0),!kr(this))throw Or("error");wa(this,f)},i.prototype.terminate=function(){if(!kr(this))throw Or("terminate");Ea(this)},i}();Object.defineProperties(Lt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),v(Lt.prototype.enqueue,"enqueue"),v(Lt.prototype.error,"error"),v(Lt.prototype.terminate,"terminate"),typeof t.toStringTag=="symbol"&&Object.defineProperty(Lt.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function kr(i){return!T(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledTransformStream")?!1:i instanceof Lt}function _a(i,f,D,Z,le){f._controlledTransformStream=i,i._transformStreamController=f,f._transformAlgorithm=D,f._flushAlgorithm=Z,f._cancelAlgorithm=le,f._finishPromise=void 0,f._finishPromise_resolve=void 0,f._finishPromise_reject=void 0}function Sa(i,f){var D=Object.create(Lt.prototype),Z,le,me;f.transform!==void 0?Z=function(Te){return f.transform(Te,D)}:Z=function(Te){try{return Jn(D,Te),g(void 0)}catch(We){return y(We)}},f.flush!==void 0?le=function(){return f.flush(D)}:le=function(){return g(void 0)},f.cancel!==void 0?me=function(Te){return f.cancel(Te)}:me=function(){return g(void 0)},_a(i,D,Z,le,me)}function Mr(i){i._transformAlgorithm=void 0,i._flushAlgorithm=void 0,i._cancelAlgorithm=void 0}function Jn(i,f){var D=i._controlledTransformStream,Z=D._readable._readableStreamController;if(!Kt(Z))throw new TypeError("Readable side is not in a state that permits enqueue");try{qt(Z,f)}catch(me){throw Zr(D,me),D._readable._storedError}var le=Qi(Z);le!==D._backpressure&&Rr(D,!0)}function wa(i,f){Qn(i._controlledTransformStream,f)}function Zn(i,f){var D=i._transformAlgorithm(f);return P(D,void 0,function(Z){throw Qn(i._controlledTransformStream,Z),Z})}function Ea(i){var f=i._controlledTransformStream,D=f._readable._readableStreamController;Vt(D);var Z=new TypeError("TransformStream terminated");Zr(f,Z)}function Aa(i,f){var D=i._transformStreamController;if(i._backpressure){var Z=i._backpressureChangePromise;return P(Z,function(){var le=i._writable,me=le._state;if(me==="erroring")throw le._storedError;return Zn(D,f)})}return Zn(D,f)}function Pa(i,f){var D=i._transformStreamController;if(D._finishPromise!==void 0)return D._finishPromise;var Z=i._readable;D._finishPromise=L(function(me,Te){D._finishPromise_resolve=me,D._finishPromise_reject=Te});var le=D._cancelAlgorithm(f);return Mr(D),l(le,function(){return Z._state==="errored"?Qt(D,Z._storedError):(wt(Z._readableStreamController,f),tn(D)),null},function(me){return wt(Z._readableStreamController,me),Qt(D,me),null}),D._finishPromise}function xa(i){var f=i._transformStreamController;if(f._finishPromise!==void 0)return f._finishPromise;var D=i._readable;f._finishPromise=L(function(le,me){f._finishPromise_resolve=le,f._finishPromise_reject=me});var Z=f._flushAlgorithm();return Mr(f),l(Z,function(){return D._state==="errored"?Qt(f,D._storedError):(Vt(D._readableStreamController),tn(f)),null},function(le){return wt(D._readableStreamController,le),Qt(f,le),null}),f._finishPromise}function Ta(i){return Rr(i,!1),i._backpressureChangePromise}function Ca(i,f){var D=i._transformStreamController;if(D._finishPromise!==void 0)return D._finishPromise;var Z=i._writable;D._finishPromise=L(function(me,Te){D._finishPromise_resolve=me,D._finishPromise_reject=Te});var le=D._cancelAlgorithm(f);return Mr(D),l(le,function(){return Z._state==="errored"?Qt(D,Z._storedError):(rr(Z._writableStreamController,f),en(i),tn(D)),null},function(me){return rr(Z._writableStreamController,me),en(i),Qt(D,me),null}),D._finishPromise}function Or(i){return new TypeError("TransformStreamDefaultController.prototype.".concat(i," can only be used on a TransformStreamDefaultController"))}function tn(i){i._finishPromise_resolve!==void 0&&(i._finishPromise_resolve(),i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0)}function Qt(i,f){i._finishPromise_reject!==void 0&&(R(i._finishPromise),i._finishPromise_reject(f),i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0)}function ei(i){return new TypeError("TransformStream.prototype.".concat(i," can only be used on a TransformStream"))}e.ByteLengthQueuingStrategy=xr,e.CountQueuingStrategy=Tr,e.ReadableByteStreamController=Ct,e.ReadableStream=mt,e.ReadableStreamBYOBReader=Ot,e.ReadableStreamBYOBRequest=dt,e.ReadableStreamDefaultController=kt,e.ReadableStreamDefaultReader=Oe,e.TransformStream=Cr,e.TransformStreamDefaultController=Lt,e.WritableStream=Dt,e.WritableStreamDefaultController=Yt,e.WritableStreamDefaultWriter=Rt})}(ponyfill,ponyfill.exports)),ponyfill.exports}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$7=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(n,e){module.exports=e()})(globalThis,()=>(()=>{var __webpack_modules__=[,(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.VerbosityLevel=n.Util=n.UnknownErrorException=n.UnexpectedResponseException=n.UNSUPPORTED_FEATURES=n.TextRenderingMode=n.StreamType=n.RenderingIntentFlag=n.PermissionFlag=n.PasswordResponses=n.PasswordException=n.PageActionEventType=n.OPS=n.MissingPDFException=n.LINE_FACTOR=n.LINE_DESCENT_FACTOR=n.InvalidPDFException=n.ImageKind=n.IDENTITY_MATRIX=n.FormatError=n.FontType=n.FeatureTest=n.FONT_IDENTITY_MATRIX=n.DocumentActionEventType=n.CMapCompressionType=n.BaseException=n.AnnotationType=n.AnnotationStateModelType=n.AnnotationReviewState=n.AnnotationReplyType=n.AnnotationMode=n.AnnotationMarkedState=n.AnnotationFlag=n.AnnotationFieldFlag=n.AnnotationEditorType=n.AnnotationEditorPrefix=n.AnnotationEditorParamsType=n.AnnotationBorderStyleType=n.AnnotationActionEventType=n.AbortException=void 0,n.arrayByteLength=ge,n.arraysToBytes=be,n.assert=fe,n.bytesToString=se,n.createPromiseCapability=Me,n.createValidAbsoluteUrl=C,n.escapeString=Oe,n.getModificationDate=Pe,n.getVerbosityLevel=z,n.info=ee,n.isArrayBuffer=Ee,n.isArrayEqual=he,n.isAscii=Ce,n.objectFromMap=xe,n.objectSize=ye,n.setVerbosityLevel=I,n.shadow=M,n.string32=ve,n.stringToBytes=ue,n.stringToPDFString=Ne,n.stringToUTF16BEString=te,n.stringToUTF8String=H,n.unreachable=ne,n.utf8StringToString=ae,n.warn=Q,e(2);const t=[1,0,0,1,0,0];n.IDENTITY_MATRIX=t;const s=[.001,0,0,.001,0,0];n.FONT_IDENTITY_MATRIX=s;const u=1.35;n.LINE_FACTOR=u;const p=.35;n.LINE_DESCENT_FACTOR=p;const o={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};n.RenderingIntentFlag=o;const _={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};n.AnnotationMode=_;const c="pdfjs_internal_editor_";n.AnnotationEditorPrefix=c;const d={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};n.AnnotationEditorType=d;const T={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};n.AnnotationEditorParamsType=T;const m={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};n.PermissionFlag=m;const v={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};n.TextRenderingMode=v;const S={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};n.ImageKind=S;const w={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};n.AnnotationType=w;const x={MARKED:"Marked",REVIEW:"Review"};n.AnnotationStateModelType=x;const L={MARKED:"Marked",UNMARKED:"Unmarked"};n.AnnotationMarkedState=L;const g={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};n.AnnotationReviewState=g;const y={GROUP:"Group",REPLY:"R"};n.AnnotationReplyType=y;const b={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};n.AnnotationFlag=b;const l={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};n.AnnotationFieldFlag=l;const h={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};n.AnnotationBorderStyleType=h;const A={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};n.AnnotationActionEventType=A;const P={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};n.DocumentActionEventType=P;const R={O:"PageOpen",C:"PageClose"};n.PageActionEventType=R;const k={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};n.StreamType=k;const F={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};n.FontType=F;const Y={ERRORS:0,WARNINGS:1,INFOS:5};n.VerbosityLevel=Y;const B={NONE:0,BINARY:1,STREAM:2};n.CMapCompressionType=B;const j={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};n.OPS=j;const $={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};n.UNSUPPORTED_FEATURES=$;const U={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};n.PasswordResponses=U;let W=Y.WARNINGS;function I(ce){Number.isInteger(ce)&&(W=ce)}function z(){return W}function ee(ce){W>=Y.INFOS&&console.log(`Info: ${ce}`)}function Q(ce){W>=Y.WARNINGS&&console.log(`Warning: ${ce}`)}function ne(ce){throw new Error(ce)}function fe(ce,re){ce||ne(re)}function X(ce){if(!ce)return!1;switch(ce.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function C(ce){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!ce)return null;try{if(oe&&typeof ce=="string"){if(oe.addDefaultProtocol&&ce.startsWith("www.")){const _e=ce.match(/\./g);_e&&_e.length>=2&&(ce=`http://${ce}`)}if(oe.tryConvertEncoding)try{ce=H(ce)}catch{}}const Ae=re?new URL(ce,re):new URL(ce);if(X(Ae))return Ae}catch{}return null}function M(ce,re,oe){return Object.defineProperty(ce,re,{value:oe,enumerable:!0,configurable:!0,writable:!1}),oe}const G=function(){function re(oe,Ae){this.constructor===re&&ne("Cannot initialize BaseException."),this.message=oe,this.name=Ae}return re.prototype=new Error,re.constructor=re,re}();n.BaseException=G;class K extends G{constructor(re,oe){super(re,"PasswordException"),this.code=oe}}n.PasswordException=K;class E extends G{constructor(re,oe){super(re,"UnknownErrorException"),this.details=oe}}n.UnknownErrorException=E;class O extends G{constructor(re){super(re,"InvalidPDFException")}}n.InvalidPDFException=O;class N extends G{constructor(re){super(re,"MissingPDFException")}}n.MissingPDFException=N;class V extends G{constructor(re,oe){super(re,"UnexpectedResponseException"),this.status=oe}}n.UnexpectedResponseException=V;class q extends G{constructor(re){super(re,"FormatError")}}n.FormatError=q;class J extends G{constructor(re){super(re,"AbortException")}}n.AbortException=J;function se(ce){(typeof ce!="object"||ce===null||ce.length===void 0)&&ne("Invalid argument for bytesToString");const re=ce.length,oe=8192;if(re<oe)return String.fromCharCode.apply(null,ce);const Ae=[];for(let _e=0;_e<re;_e+=oe){const we=Math.min(_e+oe,re),de=ce.subarray(_e,we);Ae.push(String.fromCharCode.apply(null,de))}return Ae.join("")}function ue(ce){typeof ce!="string"&&ne("Invalid argument for stringToBytes");const re=ce.length,oe=new Uint8Array(re);for(let Ae=0;Ae<re;++Ae)oe[Ae]=ce.charCodeAt(Ae)&255;return oe}function ge(ce){if(ce.length!==void 0)return ce.length;if(ce.byteLength!==void 0)return ce.byteLength;ne("Invalid argument for arrayByteLength")}function be(ce){const re=ce.length;if(re===1&&ce[0]instanceof Uint8Array)return ce[0];let oe=0;for(let we=0;we<re;we++)oe+=ge(ce[we]);let Ae=0;const _e=new Uint8Array(oe);for(let we=0;we<re;we++){let de=ce[we];de instanceof Uint8Array||(typeof de=="string"?de=ue(de):de=new Uint8Array(de));const ie=de.byteLength;_e.set(de,Ae),Ae+=ie}return _e}function ve(ce){return String.fromCharCode(ce>>24&255,ce>>16&255,ce>>8&255,ce&255)}function ye(ce){return Object.keys(ce).length}function xe(ce){const re=Object.create(null);for(const[oe,Ae]of ce)re[oe]=Ae;return re}function De(){const ce=new Uint8Array(4);return ce[0]=1,new Uint32Array(ce.buffer,0,1)[0]===1}function Ie(){try{return new Function(""),!0}catch{return!1}}class Fe{static get isLittleEndian(){return M(this,"isLittleEndian",De())}static get isEvalSupported(){return M(this,"isEvalSupported",Ie())}static get isOffscreenCanvasSupported(){return M(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}n.FeatureTest=Fe;const je=[...Array(256).keys()].map(ce=>ce.toString(16).padStart(2,"0"));class pe{static makeHexColor(re,oe,Ae){return`#${je[re]}${je[oe]}${je[Ae]}`}static scaleMinMax(re,oe){let Ae;re[0]?(re[0]<0&&(Ae=oe[0],oe[0]=oe[1],oe[1]=Ae),oe[0]*=re[0],oe[1]*=re[0],re[3]<0&&(Ae=oe[2],oe[2]=oe[3],oe[3]=Ae),oe[2]*=re[3],oe[3]*=re[3]):(Ae=oe[0],oe[0]=oe[2],oe[2]=Ae,Ae=oe[1],oe[1]=oe[3],oe[3]=Ae,re[1]<0&&(Ae=oe[2],oe[2]=oe[3],oe[3]=Ae),oe[2]*=re[1],oe[3]*=re[1],re[2]<0&&(Ae=oe[0],oe[0]=oe[1],oe[1]=Ae),oe[0]*=re[2],oe[1]*=re[2]),oe[0]+=re[4],oe[1]+=re[4],oe[2]+=re[5],oe[3]+=re[5]}static transform(re,oe){return[re[0]*oe[0]+re[2]*oe[1],re[1]*oe[0]+re[3]*oe[1],re[0]*oe[2]+re[2]*oe[3],re[1]*oe[2]+re[3]*oe[3],re[0]*oe[4]+re[2]*oe[5]+re[4],re[1]*oe[4]+re[3]*oe[5]+re[5]]}static applyTransform(re,oe){const Ae=re[0]*oe[0]+re[1]*oe[2]+oe[4],_e=re[0]*oe[1]+re[1]*oe[3]+oe[5];return[Ae,_e]}static applyInverseTransform(re,oe){const Ae=oe[0]*oe[3]-oe[1]*oe[2],_e=(re[0]*oe[3]-re[1]*oe[2]+oe[2]*oe[5]-oe[4]*oe[3])/Ae,we=(-re[0]*oe[1]+re[1]*oe[0]+oe[4]*oe[1]-oe[5]*oe[0])/Ae;return[_e,we]}static getAxialAlignedBoundingBox(re,oe){const Ae=pe.applyTransform(re,oe),_e=pe.applyTransform(re.slice(2,4),oe),we=pe.applyTransform([re[0],re[3]],oe),de=pe.applyTransform([re[2],re[1]],oe);return[Math.min(Ae[0],_e[0],we[0],de[0]),Math.min(Ae[1],_e[1],we[1],de[1]),Math.max(Ae[0],_e[0],we[0],de[0]),Math.max(Ae[1],_e[1],we[1],de[1])]}static inverseTransform(re){const oe=re[0]*re[3]-re[1]*re[2];return[re[3]/oe,-re[1]/oe,-re[2]/oe,re[0]/oe,(re[2]*re[5]-re[4]*re[3])/oe,(re[4]*re[1]-re[5]*re[0])/oe]}static apply3dTransform(re,oe){return[re[0]*oe[0]+re[1]*oe[1]+re[2]*oe[2],re[3]*oe[0]+re[4]*oe[1]+re[5]*oe[2],re[6]*oe[0]+re[7]*oe[1]+re[8]*oe[2]]}static singularValueDecompose2dScale(re){const oe=[re[0],re[2],re[1],re[3]],Ae=re[0]*oe[0]+re[1]*oe[2],_e=re[0]*oe[1]+re[1]*oe[3],we=re[2]*oe[0]+re[3]*oe[2],de=re[2]*oe[1]+re[3]*oe[3],ie=(Ae+de)/2,Se=Math.sqrt((Ae+de)**2-4*(Ae*de-we*_e))/2,Re=ie+Se||1,Le=ie-Se||1;return[Math.sqrt(Re),Math.sqrt(Le)]}static normalizeRect(re){const oe=re.slice(0);return re[0]>re[2]&&(oe[0]=re[2],oe[2]=re[0]),re[1]>re[3]&&(oe[1]=re[3],oe[3]=re[1]),oe}static intersect(re,oe){const Ae=Math.max(Math.min(re[0],re[2]),Math.min(oe[0],oe[2])),_e=Math.min(Math.max(re[0],re[2]),Math.max(oe[0],oe[2]));if(Ae>_e)return null;const we=Math.max(Math.min(re[1],re[3]),Math.min(oe[1],oe[3])),de=Math.min(Math.max(re[1],re[3]),Math.max(oe[1],oe[3]));return we>de?null:[Ae,we,_e,de]}static bezierBoundingBox(re,oe,Ae,_e,we,de,ie,Se){const Re=[],Le=[[],[]];let Ue,Ve,ze,$e,Ge,rt,Ye,Ke;for(let it=0;it<2;++it){if(it===0?(Ve=6*re-12*Ae+6*we,Ue=-3*re+9*Ae-9*we+3*ie,ze=3*Ae-3*re):(Ve=6*oe-12*_e+6*de,Ue=-3*oe+9*_e-9*de+3*Se,ze=3*_e-3*oe),Math.abs(Ue)<1e-12){if(Math.abs(Ve)<1e-12)continue;$e=-ze/Ve,0<$e&&$e<1&&Re.push($e);continue}Ye=Ve*Ve-4*ze*Ue,Ke=Math.sqrt(Ye),!(Ye<0)&&(Ge=(-Ve+Ke)/(2*Ue),0<Ge&&Ge<1&&Re.push(Ge),rt=(-Ve-Ke)/(2*Ue),0<rt&&rt<1&&Re.push(rt))}let et=Re.length,tt;const lt=et;for(;et--;)$e=Re[et],tt=1-$e,Le[0][et]=tt*tt*tt*re+3*tt*tt*$e*Ae+3*tt*$e*$e*we+$e*$e*$e*ie,Le[1][et]=tt*tt*tt*oe+3*tt*tt*$e*_e+3*tt*$e*$e*de+$e*$e*$e*Se;return Le[0][lt]=re,Le[1][lt]=oe,Le[0][lt+1]=ie,Le[1][lt+1]=Se,Le[0].length=Le[1].length=lt+2,[Math.min(...Le[0]),Math.min(...Le[1]),Math.max(...Le[0]),Math.max(...Le[1])]}}n.Util=pe;const ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ne(ce){if(ce[0]>="Ã¯"){let oe;if(ce[0]==="Ã¾"&&ce[1]==="Ã¿"?oe="utf-16be":ce[0]==="Ã¿"&&ce[1]==="Ã¾"?oe="utf-16le":ce[0]==="Ã¯"&&ce[1]==="Â»"&&ce[2]==="Â¿"&&(oe="utf-8"),oe)try{const Ae=new TextDecoder(oe,{fatal:!0}),_e=ue(ce);return Ae.decode(_e)}catch(Ae){Q(`stringToPDFString: "${Ae}".`)}}const re=[];for(let oe=0,Ae=ce.length;oe<Ae;oe++){const _e=ke[ce.charCodeAt(oe)];re.push(_e?String.fromCharCode(_e):ce.charAt(oe))}return re.join("")}function Oe(ce){return ce.replace(/([()\\\n\r])/g,re=>re===`
`?"\\n":re==="\r"?"\\r":`\\${re}`)}function Ce(ce){return/^[\x00-\x7F]*$/.test(ce)}function te(ce){const re=["Ã¾Ã¿"];for(let oe=0,Ae=ce.length;oe<Ae;oe++){const _e=ce.charCodeAt(oe);re.push(String.fromCharCode(_e>>8&255),String.fromCharCode(_e&255))}return re.join("")}function H(ce){return decodeURIComponent(escape(ce))}function ae(ce){return unescape(encodeURIComponent(ce))}function Ee(ce){return typeof ce=="object"&&ce!==null&&ce.byteLength!==void 0}function he(ce,re){if(ce.length!==re.length)return!1;for(let oe=0,Ae=ce.length;oe<Ae;oe++)if(ce[oe]!==re[oe])return!1;return!0}function Pe(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[ce.getUTCFullYear().toString(),(ce.getUTCMonth()+1).toString().padStart(2,"0"),ce.getUTCDate().toString().padStart(2,"0"),ce.getUTCHours().toString().padStart(2,"0"),ce.getUTCMinutes().toString().padStart(2,"0"),ce.getUTCSeconds().toString().padStart(2,"0")].join("")}function Me(){const ce=Object.create(null);let re=!1;return Object.defineProperty(ce,"settled",{get(){return re}}),ce.promise=new Promise(function(oe,Ae){ce.resolve=function(_e){re=!0,oe(_e)},ce.reject=function(_e){re=!0,Ae(_e)}}),ce}},(a,n,e)=>{var t=e(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!t.isNodeJS||(globalThis.btoa=function(u){return Buffer.from(u,"binary").toString("base64")})}(),function(){globalThis.atob||!t.isNodeJS||(globalThis.atob=function(u){return Buffer.from(u,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!t.isNodeJS||(globalThis.DOMMatrix=requireDommatrix())}(),function(){globalThis.ReadableStream||!t.isNodeJS||(globalThis.ReadableStream=requirePonyfill().ReadableStream)}(),function(){Array.prototype.at||e(4)}(),function(){Uint8Array.prototype.at||e(76)}(),function(){globalThis.structuredClone||e(86)}())},(a,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isNodeJS=void 0;const e=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");n.isNodeJS=e},(a,n,e)=>{e(5);var t=e(75);a.exports=t("Array","at")},(a,n,e)=>{var t=e(6),s=e(41),u=e(65),p=e(63),o=e(70);t({target:"Array",proto:!0},{at:function(c){var d=s(this),T=u(d),m=p(c),v=m>=0?m:T+m;return v<0||v>=T?void 0:d[v]}}),o("at")},(a,n,e)=>{var t=e(7),s=e(8).f,u=e(45),p=e(49),o=e(39),_=e(57),c=e(69);a.exports=function(d,T){var m=d.target,v=d.global,S=d.stat,w,x,L,g,y,b;if(v?x=t:S?x=t[m]||o(m,{}):x=(t[m]||{}).prototype,x)for(L in T){if(y=T[L],d.dontCallGetSet?(b=s(x,L),g=b&&b.value):g=x[L],w=c(v?L:m+(S?".":"#")+L,d.forced),!w&&g!==void 0){if(typeof y==typeof g)continue;_(y,g)}(d.sham||g&&g.sham)&&u(y,"sham",!0),p(x,L,y,d)}}},a=>{var n=function(e){return e&&e.Math==Math&&e};a.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")()},(a,n,e)=>{var t=e(9),s=e(11),u=e(13),p=e(14),o=e(15),_=e(20),c=e(40),d=e(43),T=Object.getOwnPropertyDescriptor;n.f=t?T:function(v,S){if(v=o(v),S=_(S),d)try{return T(v,S)}catch{}if(c(v,S))return p(!s(u.f,v,S),v[S])}},(a,n,e)=>{var t=e(10);a.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},a=>{a.exports=function(n){try{return!!n()}catch{return!0}}},(a,n,e)=>{var t=e(12),s=Function.prototype.call;a.exports=t?s.bind(s):function(){return s.apply(s,arguments)}},(a,n,e)=>{var t=e(10);a.exports=!t(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")})},(a,n)=>{var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,s=t&&!e.call({1:2},1);n.f=s?function(p){var o=t(this,p);return!!o&&o.enumerable}:e},a=>{a.exports=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}},(a,n,e)=>{var t=e(16),s=e(19);a.exports=function(u){return t(s(u))}},(a,n,e)=>{var t=e(17),s=e(10),u=e(18),p=Object,o=t("".split);a.exports=s(function(){return!p("z").propertyIsEnumerable(0)})?function(_){return u(_)=="String"?o(_,""):p(_)}:p},(a,n,e)=>{var t=e(12),s=Function.prototype,u=s.bind,p=s.call,o=t&&u.bind(p,p);a.exports=t?function(_){return _&&o(_)}:function(_){return _&&function(){return p.apply(_,arguments)}}},(a,n,e)=>{var t=e(17),s=t({}.toString),u=t("".slice);a.exports=function(p){return u(s(p),8,-1)}},a=>{var n=TypeError;a.exports=function(e){if(e==null)throw n("Can't call method on "+e);return e}},(a,n,e)=>{var t=e(21),s=e(24);a.exports=function(u){var p=t(u,"string");return s(p)?p:p+""}},(a,n,e)=>{var t=e(11),s=e(22),u=e(24),p=e(31),o=e(34),_=e(35),c=TypeError,d=_("toPrimitive");a.exports=function(T,m){if(!s(T)||u(T))return T;var v=p(T,d),S;if(v){if(m===void 0&&(m="default"),S=t(v,T,m),!s(S)||u(S))return S;throw c("Can't convert object to primitive value")}return m===void 0&&(m="number"),o(T,m)}},(a,n,e)=>{var t=e(23);a.exports=function(s){return typeof s=="object"?s!==null:t(s)}},a=>{a.exports=function(n){return typeof n=="function"}},(a,n,e)=>{var t=e(25),s=e(23),u=e(26),p=e(27),o=Object;a.exports=p?function(_){return typeof _=="symbol"}:function(_){var c=t("Symbol");return s(c)&&u(c.prototype,o(_))}},(a,n,e)=>{var t=e(7),s=e(23),u=function(p){return s(p)?p:void 0};a.exports=function(p,o){return arguments.length<2?u(t[p]):t[p]&&t[p][o]}},(a,n,e)=>{var t=e(17);a.exports=t({}.isPrototypeOf)},(a,n,e)=>{var t=e(28);a.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(a,n,e)=>{var t=e(29),s=e(10);a.exports=!!Object.getOwnPropertySymbols&&!s(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&t&&t<41})},(a,n,e)=>{var t=e(7),s=e(30),u=t.process,p=t.Deno,o=u&&u.versions||p&&p.version,_=o&&o.v8,c,d;_&&(c=_.split("."),d=c[0]>0&&c[0]<4?1:+(c[0]+c[1])),!d&&s&&(c=s.match(/Edge\/(\d+)/),(!c||c[1]>=74)&&(c=s.match(/Chrome\/(\d+)/),c&&(d=+c[1]))),a.exports=d},(a,n,e)=>{var t=e(25);a.exports=t("navigator","userAgent")||""},(a,n,e)=>{var t=e(32);a.exports=function(s,u){var p=s[u];return p==null?void 0:t(p)}},(a,n,e)=>{var t=e(23),s=e(33),u=TypeError;a.exports=function(p){if(t(p))return p;throw u(s(p)+" is not a function")}},a=>{var n=String;a.exports=function(e){try{return n(e)}catch{return"Object"}}},(a,n,e)=>{var t=e(11),s=e(23),u=e(22),p=TypeError;a.exports=function(o,_){var c,d;if(_==="string"&&s(c=o.toString)&&!u(d=t(c,o))||s(c=o.valueOf)&&!u(d=t(c,o))||_!=="string"&&s(c=o.toString)&&!u(d=t(c,o)))return d;throw p("Can't convert object to primitive value")}},(a,n,e)=>{var t=e(7),s=e(36),u=e(40),p=e(42),o=e(28),_=e(27),c=s("wks"),d=t.Symbol,T=d&&d.for,m=_?d:d&&d.withoutSetter||p;a.exports=function(v){if(!u(c,v)||!(o||typeof c[v]=="string")){var S="Symbol."+v;o&&u(d,v)?c[v]=d[v]:_&&T?c[v]=T(S):c[v]=m(S)}return c[v]}},(a,n,e)=>{var t=e(37),s=e(38);(a.exports=function(u,p){return s[u]||(s[u]=p!==void 0?p:{})})("versions",[]).push({version:"3.24.1",mode:t?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},a=>{a.exports=!1},(a,n,e)=>{var t=e(7),s=e(39),u="__core-js_shared__",p=t[u]||s(u,{});a.exports=p},(a,n,e)=>{var t=e(7),s=Object.defineProperty;a.exports=function(u,p){try{s(t,u,{value:p,configurable:!0,writable:!0})}catch{t[u]=p}return p}},(a,n,e)=>{var t=e(17),s=e(41),u=t({}.hasOwnProperty);a.exports=Object.hasOwn||function(o,_){return u(s(o),_)}},(a,n,e)=>{var t=e(19),s=Object;a.exports=function(u){return s(t(u))}},(a,n,e)=>{var t=e(17),s=0,u=Math.random(),p=t(1 .toString);a.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+p(++s+u,36)}},(a,n,e)=>{var t=e(9),s=e(10),u=e(44);a.exports=!t&&!s(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},(a,n,e)=>{var t=e(7),s=e(22),u=t.document,p=s(u)&&s(u.createElement);a.exports=function(o){return p?u.createElement(o):{}}},(a,n,e)=>{var t=e(9),s=e(46),u=e(14);a.exports=t?function(p,o,_){return s.f(p,o,u(1,_))}:function(p,o,_){return p[o]=_,p}},(a,n,e)=>{var t=e(9),s=e(43),u=e(47),p=e(48),o=e(20),_=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,T="enumerable",m="configurable",v="writable";n.f=t?u?function(w,x,L){if(p(w),x=o(x),p(L),typeof w=="function"&&x==="prototype"&&"value"in L&&v in L&&!L[v]){var g=d(w,x);g&&g[v]&&(w[x]=L.value,L={configurable:m in L?L[m]:g[m],enumerable:T in L?L[T]:g[T],writable:!1})}return c(w,x,L)}:c:function(w,x,L){if(p(w),x=o(x),p(L),s)try{return c(w,x,L)}catch{}if("get"in L||"set"in L)throw _("Accessors not supported");return"value"in L&&(w[x]=L.value),w}},(a,n,e)=>{var t=e(9),s=e(10);a.exports=t&&s(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},(a,n,e)=>{var t=e(22),s=String,u=TypeError;a.exports=function(p){if(t(p))return p;throw u(s(p)+" is not an object")}},(a,n,e)=>{var t=e(23),s=e(46),u=e(50),p=e(39);a.exports=function(o,_,c,d){d||(d={});var T=d.enumerable,m=d.name!==void 0?d.name:_;if(t(c)&&u(c,m,d),d.global)T?o[_]=c:p(_,c);else{try{d.unsafe?o[_]&&(T=!0):delete o[_]}catch{}T?o[_]=c:s.f(o,_,{value:c,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return o}},(a,n,e)=>{var t=e(10),s=e(23),u=e(40),p=e(9),o=e(51).CONFIGURABLE,_=e(52),c=e(53),d=c.enforce,T=c.get,m=Object.defineProperty,v=p&&!t(function(){return m(function(){},"length",{value:8}).length!==8}),S=String(String).split("String"),w=a.exports=function(x,L,g){String(L).slice(0,7)==="Symbol("&&(L="["+String(L).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),g&&g.getter&&(L="get "+L),g&&g.setter&&(L="set "+L),(!u(x,"name")||o&&x.name!==L)&&(p?m(x,"name",{value:L,configurable:!0}):x.name=L),v&&g&&u(g,"arity")&&x.length!==g.arity&&m(x,"length",{value:g.arity});try{g&&u(g,"constructor")&&g.constructor?p&&m(x,"prototype",{writable:!1}):x.prototype&&(x.prototype=void 0)}catch{}var y=d(x);return u(y,"source")||(y.source=S.join(typeof L=="string"?L:"")),x};Function.prototype.toString=w(function(){return s(this)&&T(this).source||_(this)},"toString")},(a,n,e)=>{var t=e(9),s=e(40),u=Function.prototype,p=t&&Object.getOwnPropertyDescriptor,o=s(u,"name"),_=o&&(function(){}).name==="something",c=o&&(!t||t&&p(u,"name").configurable);a.exports={EXISTS:o,PROPER:_,CONFIGURABLE:c}},(a,n,e)=>{var t=e(17),s=e(23),u=e(38),p=t(Function.toString);s(u.inspectSource)||(u.inspectSource=function(o){return p(o)}),a.exports=u.inspectSource},(a,n,e)=>{var t=e(54),s=e(7),u=e(17),p=e(22),o=e(45),_=e(40),c=e(38),d=e(55),T=e(56),m="Object already initialized",v=s.TypeError,S=s.WeakMap,w,x,L,g=function(R){return L(R)?x(R):w(R,{})},y=function(R){return function(k){var F;if(!p(k)||(F=x(k)).type!==R)throw v("Incompatible receiver, "+R+" required");return F}};if(t||c.state){var b=c.state||(c.state=new S),l=u(b.get),h=u(b.has),A=u(b.set);w=function(R,k){if(h(b,R))throw new v(m);return k.facade=R,A(b,R,k),k},x=function(R){return l(b,R)||{}},L=function(R){return h(b,R)}}else{var P=d("state");T[P]=!0,w=function(R,k){if(_(R,P))throw new v(m);return k.facade=R,o(R,P,k),k},x=function(R){return _(R,P)?R[P]:{}},L=function(R){return _(R,P)}}a.exports={set:w,get:x,has:L,enforce:g,getterFor:y}},(a,n,e)=>{var t=e(7),s=e(23),u=e(52),p=t.WeakMap;a.exports=s(p)&&/native code/.test(u(p))},(a,n,e)=>{var t=e(36),s=e(42),u=t("keys");a.exports=function(p){return u[p]||(u[p]=s(p))}},a=>{a.exports={}},(a,n,e)=>{var t=e(40),s=e(58),u=e(8),p=e(46);a.exports=function(o,_,c){for(var d=s(_),T=p.f,m=u.f,v=0;v<d.length;v++){var S=d[v];!t(o,S)&&!(c&&t(c,S))&&T(o,S,m(_,S))}}},(a,n,e)=>{var t=e(25),s=e(17),u=e(59),p=e(68),o=e(48),_=s([].concat);a.exports=t("Reflect","ownKeys")||function(d){var T=u.f(o(d)),m=p.f;return m?_(T,m(d)):T}},(a,n,e)=>{var t=e(60),s=e(67),u=s.concat("length","prototype");n.f=Object.getOwnPropertyNames||function(o){return t(o,u)}},(a,n,e)=>{var t=e(17),s=e(40),u=e(15),p=e(61).indexOf,o=e(56),_=t([].push);a.exports=function(c,d){var T=u(c),m=0,v=[],S;for(S in T)!s(o,S)&&s(T,S)&&_(v,S);for(;d.length>m;)s(T,S=d[m++])&&(~p(v,S)||_(v,S));return v}},(a,n,e)=>{var t=e(15),s=e(62),u=e(65),p=function(o){return function(_,c,d){var T=t(_),m=u(T),v=s(d,m),S;if(o&&c!=c){for(;m>v;)if(S=T[v++],S!=S)return!0}else for(;m>v;v++)if((o||v in T)&&T[v]===c)return o||v||0;return!o&&-1}};a.exports={includes:p(!0),indexOf:p(!1)}},(a,n,e)=>{var t=e(63),s=Math.max,u=Math.min;a.exports=function(p,o){var _=t(p);return _<0?s(_+o,0):u(_,o)}},(a,n,e)=>{var t=e(64);a.exports=function(s){var u=+s;return u!==u||u===0?0:t(u)}},a=>{var n=Math.ceil,e=Math.floor;a.exports=Math.trunc||function(s){var u=+s;return(u>0?e:n)(u)}},(a,n,e)=>{var t=e(66);a.exports=function(s){return t(s.length)}},(a,n,e)=>{var t=e(63),s=Math.min;a.exports=function(u){return u>0?s(t(u),9007199254740991):0}},a=>{a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(a,n)=>{n.f=Object.getOwnPropertySymbols},(a,n,e)=>{var t=e(10),s=e(23),u=/#|\.prototype\./,p=function(T,m){var v=_[o(T)];return v==d?!0:v==c?!1:s(m)?t(m):!!m},o=p.normalize=function(T){return String(T).replace(u,".").toLowerCase()},_=p.data={},c=p.NATIVE="N",d=p.POLYFILL="P";a.exports=p},(a,n,e)=>{var t=e(35),s=e(71),u=e(46).f,p=t("unscopables"),o=Array.prototype;o[p]==null&&u(o,p,{configurable:!0,value:s(null)}),a.exports=function(_){o[p][_]=!0}},(a,n,e)=>{var t=e(48),s=e(72),u=e(67),p=e(56),o=e(74),_=e(44),c=e(55),d=">",T="<",m="prototype",v="script",S=c("IE_PROTO"),w=function(){},x=function(l){return T+v+d+l+T+"/"+v+d},L=function(l){l.write(x("")),l.close();var h=l.parentWindow.Object;return l=null,h},g=function(){var l=_("iframe"),h="java"+v+":",A;return l.style.display="none",o.appendChild(l),l.src=String(h),A=l.contentWindow.document,A.open(),A.write(x("document.F=Object")),A.close(),A.F},y,b=function(){try{y=new ActiveXObject("htmlfile")}catch{}b=typeof document<"u"?document.domain&&y?L(y):g():L(y);for(var l=u.length;l--;)delete b[m][u[l]];return b()};p[S]=!0,a.exports=Object.create||function(h,A){var P;return h!==null?(w[m]=t(h),P=new w,w[m]=null,P[S]=h):P=b(),A===void 0?P:s.f(P,A)}},(a,n,e)=>{var t=e(9),s=e(47),u=e(46),p=e(48),o=e(15),_=e(73);n.f=t&&!s?Object.defineProperties:function(d,T){p(d);for(var m=o(T),v=_(T),S=v.length,w=0,x;S>w;)u.f(d,x=v[w++],m[x]);return d}},(a,n,e)=>{var t=e(60),s=e(67);a.exports=Object.keys||function(p){return t(p,s)}},(a,n,e)=>{var t=e(25);a.exports=t("document","documentElement")},(a,n,e)=>{var t=e(7),s=e(17);a.exports=function(u,p){return s(t[u].prototype[p])}},(a,n,e)=>{e(77)},(a,n,e)=>{var t=e(78),s=e(65),u=e(63),p=t.aTypedArray,o=t.exportTypedArrayMethod;o("at",function(c){var d=p(this),T=s(d),m=u(c),v=m>=0?m:T+m;return v<0||v>=T?void 0:d[v]})},(a,n,e)=>{var t=e(79),s=e(9),u=e(7),p=e(23),o=e(22),_=e(40),c=e(80),d=e(33),T=e(45),m=e(49),v=e(46).f,S=e(26),w=e(82),x=e(84),L=e(35),g=e(42),y=e(53),b=y.enforce,l=y.get,h=u.Int8Array,A=h&&h.prototype,P=u.Uint8ClampedArray,R=P&&P.prototype,k=h&&w(h),F=A&&w(A),Y=Object.prototype,B=u.TypeError,j=L("toStringTag"),$=g("TYPED_ARRAY_TAG"),U="TypedArrayConstructor",W=t&&!!x&&c(u.opera)!=="Opera",I=!1,z,ee,Q,ne={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},fe={BigInt64Array:8,BigUint64Array:8},X=function(V){if(!o(V))return!1;var q=c(V);return q==="DataView"||_(ne,q)||_(fe,q)},C=function(N){var V=w(N);if(o(V)){var q=l(V);return q&&_(q,U)?q[U]:C(V)}},M=function(N){if(!o(N))return!1;var V=c(N);return _(ne,V)||_(fe,V)},G=function(N){if(M(N))return N;throw B("Target is not a typed array")},K=function(N){if(p(N)&&(!x||S(k,N)))return N;throw B(d(N)+" is not a typed array constructor")},E=function(N,V,q,J){if(s){if(q)for(var se in ne){var ue=u[se];if(ue&&_(ue.prototype,N))try{delete ue.prototype[N]}catch{try{ue.prototype[N]=V}catch{}}}(!F[N]||q)&&m(F,N,q?V:W&&A[N]||V,J)}},O=function(N,V,q){var J,se;if(s){if(x){if(q){for(J in ne)if(se=u[J],se&&_(se,N))try{delete se[N]}catch{}}if(!k[N]||q)try{return m(k,N,q?V:W&&k[N]||V)}catch{}else return}for(J in ne)se=u[J],se&&(!se[N]||q)&&m(se,N,V)}};for(z in ne)ee=u[z],Q=ee&&ee.prototype,Q?b(Q)[U]=ee:W=!1;for(z in fe)ee=u[z],Q=ee&&ee.prototype,Q&&(b(Q)[U]=ee);if((!W||!p(k)||k===Function.prototype)&&(k=function(){throw B("Incorrect invocation")},W))for(z in ne)u[z]&&x(u[z],k);if((!W||!F||F===Y)&&(F=k.prototype,W))for(z in ne)u[z]&&x(u[z].prototype,F);if(W&&w(R)!==F&&x(R,F),s&&!_(F,j)){I=!0,v(F,j,{get:function(){return o(this)?this[$]:void 0}});for(z in ne)u[z]&&T(u[z],$,z)}a.exports={NATIVE_ARRAY_BUFFER_VIEWS:W,TYPED_ARRAY_TAG:I&&$,aTypedArray:G,aTypedArrayConstructor:K,exportTypedArrayMethod:E,exportTypedArrayStaticMethod:O,getTypedArrayConstructor:C,isView:X,isTypedArray:M,TypedArray:k,TypedArrayPrototype:F}},a=>{a.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(a,n,e)=>{var t=e(81),s=e(23),u=e(18),p=e(35),o=p("toStringTag"),_=Object,c=u(function(){return arguments}())=="Arguments",d=function(T,m){try{return T[m]}catch{}};a.exports=t?u:function(T){var m,v,S;return T===void 0?"Undefined":T===null?"Null":typeof(v=d(m=_(T),o))=="string"?v:c?u(m):(S=u(m))=="Object"&&s(m.callee)?"Arguments":S}},(a,n,e)=>{var t=e(35),s=t("toStringTag"),u={};u[s]="z",a.exports=String(u)==="[object z]"},(a,n,e)=>{var t=e(40),s=e(23),u=e(41),p=e(55),o=e(83),_=p("IE_PROTO"),c=Object,d=c.prototype;a.exports=o?c.getPrototypeOf:function(T){var m=u(T);if(t(m,_))return m[_];var v=m.constructor;return s(v)&&m instanceof v?v.prototype:m instanceof c?d:null}},(a,n,e)=>{var t=e(10);a.exports=!t(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},(a,n,e)=>{var t=e(17),s=e(48),u=e(85);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p=!1,o={},_;try{_=t(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),_(o,[]),p=o instanceof Array}catch{}return function(d,T){return s(d),u(T),p?_(d,T):d.__proto__=T,d}}():void 0)},(a,n,e)=>{var t=e(23),s=String,u=TypeError;a.exports=function(p){if(typeof p=="object"||t(p))return p;throw u("Can't set "+s(p)+" as a prototype")}},(a,n,e)=>{e(87),e(93),e(95),e(117),e(119);var t=e(128);a.exports=t.structuredClone},(a,n,e)=>{var t=e(15),s=e(70),u=e(88),p=e(53),o=e(46).f,_=e(89),c=e(37),d=e(9),T="Array Iterator",m=p.set,v=p.getterFor(T);a.exports=_(Array,"Array",function(w,x){m(this,{type:T,target:t(w),index:0,kind:x})},function(){var w=v(this),x=w.target,L=w.kind,g=w.index++;return!x||g>=x.length?(w.target=void 0,{value:void 0,done:!0}):L=="keys"?{value:g,done:!1}:L=="values"?{value:x[g],done:!1}:{value:[g,x[g]],done:!1}},"values");var S=u.Arguments=u.Array;if(s("keys"),s("values"),s("entries"),!c&&d&&S.name!=="values")try{o(S,"name",{value:"values"})}catch{}},a=>{a.exports={}},(a,n,e)=>{var t=e(6),s=e(11),u=e(37),p=e(51),o=e(23),_=e(90),c=e(82),d=e(84),T=e(92),m=e(45),v=e(49),S=e(35),w=e(88),x=e(91),L=p.PROPER,g=p.CONFIGURABLE,y=x.IteratorPrototype,b=x.BUGGY_SAFARI_ITERATORS,l=S("iterator"),h="keys",A="values",P="entries",R=function(){return this};a.exports=function(k,F,Y,B,j,$,U){_(Y,F,B);var W=function(G){if(G===j&&ne)return ne;if(!b&&G in ee)return ee[G];switch(G){case h:return function(){return new Y(this,G)};case A:return function(){return new Y(this,G)};case P:return function(){return new Y(this,G)}}return function(){return new Y(this)}},I=F+" Iterator",z=!1,ee=k.prototype,Q=ee[l]||ee["@@iterator"]||j&&ee[j],ne=!b&&Q||W(j),fe=F=="Array"&&ee.entries||Q,X,C,M;if(fe&&(X=c(fe.call(new k)),X!==Object.prototype&&X.next&&(!u&&c(X)!==y&&(d?d(X,y):o(X[l])||v(X,l,R)),T(X,I,!0,!0),u&&(w[I]=R))),L&&j==A&&Q&&Q.name!==A&&(!u&&g?m(ee,"name",A):(z=!0,ne=function(){return s(Q,this)})),j)if(C={values:W(A),keys:$?ne:W(h),entries:W(P)},U)for(M in C)(b||z||!(M in ee))&&v(ee,M,C[M]);else t({target:F,proto:!0,forced:b||z},C);return(!u||U)&&ee[l]!==ne&&v(ee,l,ne,{name:j}),w[F]=ne,C}},(a,n,e)=>{var t=e(91).IteratorPrototype,s=e(71),u=e(14),p=e(92),o=e(88),_=function(){return this};a.exports=function(c,d,T,m){var v=d+" Iterator";return c.prototype=s(t,{next:u(+!m,T)}),p(c,v,!1,!0),o[v]=_,c}},(a,n,e)=>{var t=e(10),s=e(23),u=e(71),p=e(82),o=e(49),_=e(35),c=e(37),d=_("iterator"),T=!1,m,v,S;[].keys&&(S=[].keys(),"next"in S?(v=p(p(S)),v!==Object.prototype&&(m=v)):T=!0);var w=m==null||t(function(){var x={};return m[d].call(x)!==x});w?m={}:c&&(m=u(m)),s(m[d])||o(m,d,function(){return this}),a.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:T}},(a,n,e)=>{var t=e(46).f,s=e(40),u=e(35),p=u("toStringTag");a.exports=function(o,_,c){o&&!c&&(o=o.prototype),o&&!s(o,p)&&t(o,p,{configurable:!0,value:_})}},(a,n,e)=>{var t=e(81),s=e(49),u=e(94);t||s(Object.prototype,"toString",u,{unsafe:!0})},(a,n,e)=>{var t=e(81),s=e(80);a.exports=t?{}.toString:function(){return"[object "+s(this)+"]"}},(a,n,e)=>{e(96)},(a,n,e)=>{var t=e(97),s=e(114);t("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},s)},(a,n,e)=>{var t=e(6),s=e(7),u=e(17),p=e(69),o=e(49),_=e(98),c=e(105),d=e(111),T=e(23),m=e(22),v=e(10),S=e(112),w=e(92),x=e(113);a.exports=function(L,g,y){var b=L.indexOf("Map")!==-1,l=L.indexOf("Weak")!==-1,h=b?"set":"add",A=s[L],P=A&&A.prototype,R=A,k={},F=function(I){var z=u(P[I]);o(P,I,I=="add"?function(Q){return z(this,Q===0?0:Q),this}:I=="delete"?function(ee){return l&&!m(ee)?!1:z(this,ee===0?0:ee)}:I=="get"?function(Q){return l&&!m(Q)?void 0:z(this,Q===0?0:Q)}:I=="has"?function(Q){return l&&!m(Q)?!1:z(this,Q===0?0:Q)}:function(Q,ne){return z(this,Q===0?0:Q,ne),this})},Y=p(L,!T(A)||!(l||P.forEach&&!v(function(){new A().entries().next()})));if(Y)R=y.getConstructor(g,L,b,h),_.enable();else if(p(L,!0)){var B=new R,j=B[h](l?{}:-0,1)!=B,$=v(function(){B.has(1)}),U=S(function(I){new A(I)}),W=!l&&v(function(){for(var I=new A,z=5;z--;)I[h](z,z);return!I.has(-0)});U||(R=g(function(I,z){d(I,P);var ee=x(new A,I,R);return z!=null&&c(z,ee[h],{that:ee,AS_ENTRIES:b}),ee}),R.prototype=P,P.constructor=R),($||W)&&(F("delete"),F("has"),b&&F("get")),(W||j)&&F(h),l&&P.clear&&delete P.clear}return k[L]=R,t({global:!0,constructor:!0,forced:R!=A},k),w(R,L),l||y.setStrong(R,L,b),R}},(a,n,e)=>{var t=e(6),s=e(17),u=e(56),p=e(22),o=e(40),_=e(46).f,c=e(59),d=e(99),T=e(102),m=e(42),v=e(104),S=!1,w=m("meta"),x=0,L=function(A){_(A,w,{value:{objectID:"O"+x++,weakData:{}}})},g=function(A,P){if(!p(A))return typeof A=="symbol"?A:(typeof A=="string"?"S":"P")+A;if(!o(A,w)){if(!T(A))return"F";if(!P)return"E";L(A)}return A[w].objectID},y=function(A,P){if(!o(A,w)){if(!T(A))return!0;if(!P)return!1;L(A)}return A[w].weakData},b=function(A){return v&&S&&T(A)&&!o(A,w)&&L(A),A},l=function(){h.enable=function(){},S=!0;var A=c.f,P=s([].splice),R={};R[w]=1,A(R).length&&(c.f=function(k){for(var F=A(k),Y=0,B=F.length;Y<B;Y++)if(F[Y]===w){P(F,Y,1);break}return F},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},h=a.exports={enable:l,fastKey:g,getWeakData:y,onFreeze:b};u[w]=!0},(a,n,e)=>{var t=e(18),s=e(15),u=e(59).f,p=e(100),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],_=function(c){try{return u(c)}catch{return p(o)}};a.exports.f=function(d){return o&&t(d)=="Window"?_(d):u(s(d))}},(a,n,e)=>{var t=e(62),s=e(65),u=e(101),p=Array,o=Math.max;a.exports=function(_,c,d){for(var T=s(_),m=t(c,T),v=t(d===void 0?T:d,T),S=p(o(v-m,0)),w=0;m<v;m++,w++)u(S,w,_[m]);return S.length=w,S}},(a,n,e)=>{var t=e(20),s=e(46),u=e(14);a.exports=function(p,o,_){var c=t(o);c in p?s.f(p,c,u(0,_)):p[c]=_}},(a,n,e)=>{var t=e(10),s=e(22),u=e(18),p=e(103),o=Object.isExtensible,_=t(function(){});a.exports=_||p?function(d){return!s(d)||p&&u(d)=="ArrayBuffer"?!1:o?o(d):!0}:o},(a,n,e)=>{var t=e(10);a.exports=t(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}})},(a,n,e)=>{var t=e(10);a.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},(a,n,e)=>{var t=e(106),s=e(11),u=e(48),p=e(33),o=e(107),_=e(65),c=e(26),d=e(108),T=e(109),m=e(110),v=TypeError,S=function(x,L){this.stopped=x,this.result=L},w=S.prototype;a.exports=function(x,L,g){var y=g&&g.that,b=!!(g&&g.AS_ENTRIES),l=!!(g&&g.IS_RECORD),h=!!(g&&g.IS_ITERATOR),A=!!(g&&g.INTERRUPTED),P=t(L,y),R,k,F,Y,B,j,$,U=function(I){return R&&m(R,"normal",I),new S(!0,I)},W=function(I){return b?(u(I),A?P(I[0],I[1],U):P(I[0],I[1])):A?P(I,U):P(I)};if(l)R=x.iterator;else if(h)R=x;else{if(k=T(x),!k)throw v(p(x)+" is not iterable");if(o(k)){for(F=0,Y=_(x);Y>F;F++)if(B=W(x[F]),B&&c(w,B))return B;return new S(!1)}R=d(x,k)}for(j=l?x.next:R.next;!($=s(j,R)).done;){try{B=W($.value)}catch(I){m(R,"throw",I)}if(typeof B=="object"&&B&&c(w,B))return B}return new S(!1)}},(a,n,e)=>{var t=e(17),s=e(32),u=e(12),p=t(t.bind);a.exports=function(o,_){return s(o),_===void 0?o:u?p(o,_):function(){return o.apply(_,arguments)}}},(a,n,e)=>{var t=e(35),s=e(88),u=t("iterator"),p=Array.prototype;a.exports=function(o){return o!==void 0&&(s.Array===o||p[u]===o)}},(a,n,e)=>{var t=e(11),s=e(32),u=e(48),p=e(33),o=e(109),_=TypeError;a.exports=function(c,d){var T=arguments.length<2?o(c):d;if(s(T))return u(t(T,c));throw _(p(c)+" is not iterable")}},(a,n,e)=>{var t=e(80),s=e(31),u=e(88),p=e(35),o=p("iterator");a.exports=function(_){if(_!=null)return s(_,o)||s(_,"@@iterator")||u[t(_)]}},(a,n,e)=>{var t=e(11),s=e(48),u=e(31);a.exports=function(p,o,_){var c,d;s(p);try{if(c=u(p,"return"),!c){if(o==="throw")throw _;return _}c=t(c,p)}catch(T){d=!0,c=T}if(o==="throw")throw _;if(d)throw c;return s(c),_}},(a,n,e)=>{var t=e(26),s=TypeError;a.exports=function(u,p){if(t(p,u))return u;throw s("Incorrect invocation")}},(a,n,e)=>{var t=e(35),s=t("iterator"),u=!1;try{var p=0,o={next:function(){return{done:!!p++}},return:function(){u=!0}};o[s]=function(){return this},Array.from(o,function(){throw 2})}catch{}a.exports=function(_,c){if(!c&&!u)return!1;var d=!1;try{var T={};T[s]=function(){return{next:function(){return{done:d=!0}}}},_(T)}catch{}return d}},(a,n,e)=>{var t=e(23),s=e(22),u=e(84);a.exports=function(p,o,_){var c,d;return u&&t(c=o.constructor)&&c!==_&&s(d=c.prototype)&&d!==_.prototype&&u(p,d),p}},(a,n,e)=>{var t=e(46).f,s=e(71),u=e(115),p=e(106),o=e(111),_=e(105),c=e(89),d=e(116),T=e(9),m=e(98).fastKey,v=e(53),S=v.set,w=v.getterFor;a.exports={getConstructor:function(x,L,g,y){var b=x(function(R,k){o(R,l),S(R,{type:L,index:s(null),first:void 0,last:void 0,size:0}),T||(R.size=0),k!=null&&_(k,R[y],{that:R,AS_ENTRIES:g})}),l=b.prototype,h=w(L),A=function(R,k,F){var Y=h(R),B=P(R,k),j,$;return B?B.value=F:(Y.last=B={index:$=m(k,!0),key:k,value:F,previous:j=Y.last,next:void 0,removed:!1},Y.first||(Y.first=B),j&&(j.next=B),T?Y.size++:R.size++,$!=="F"&&(Y.index[$]=B)),R},P=function(R,k){var F=h(R),Y=m(k),B;if(Y!=="F")return F.index[Y];for(B=F.first;B;B=B.next)if(B.key==k)return B};return u(l,{clear:function(){for(var k=this,F=h(k),Y=F.index,B=F.first;B;)B.removed=!0,B.previous&&(B.previous=B.previous.next=void 0),delete Y[B.index],B=B.next;F.first=F.last=void 0,T?F.size=0:k.size=0},delete:function(R){var k=this,F=h(k),Y=P(k,R);if(Y){var B=Y.next,j=Y.previous;delete F.index[Y.index],Y.removed=!0,j&&(j.next=B),B&&(B.previous=j),F.first==Y&&(F.first=B),F.last==Y&&(F.last=j),T?F.size--:k.size--}return!!Y},forEach:function(k){for(var F=h(this),Y=p(k,arguments.length>1?arguments[1]:void 0),B;B=B?B.next:F.first;)for(Y(B.value,B.key,this);B&&B.removed;)B=B.previous},has:function(k){return!!P(this,k)}}),u(l,g?{get:function(k){var F=P(this,k);return F&&F.value},set:function(k,F){return A(this,k===0?0:k,F)}}:{add:function(k){return A(this,k=k===0?0:k,k)}}),T&&t(l,"size",{get:function(){return h(this).size}}),b},setStrong:function(x,L,g){var y=L+" Iterator",b=w(L),l=w(y);c(x,L,function(h,A){S(this,{type:y,target:h,state:b(h),kind:A,last:void 0})},function(){for(var h=l(this),A=h.kind,P=h.last;P&&P.removed;)P=P.previous;return!h.target||!(h.last=P=P?P.next:h.state.first)?(h.target=void 0,{value:void 0,done:!0}):A=="keys"?{value:P.key,done:!1}:A=="values"?{value:P.value,done:!1}:{value:[P.key,P.value],done:!1}},g?"entries":"values",!g,!0),d(L)}}},(a,n,e)=>{var t=e(49);a.exports=function(s,u,p){for(var o in u)t(s,o,u[o],p);return s}},(a,n,e)=>{var t=e(25),s=e(46),u=e(35),p=e(9),o=u("species");a.exports=function(_){var c=t(_),d=s.f;p&&c&&!c[o]&&d(c,o,{configurable:!0,get:function(){return this}})}},(a,n,e)=>{e(118)},(a,n,e)=>{var t=e(97),s=e(114);t("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},s)},(a,n,e)=>{var t=e(37),s=e(6),u=e(7),p=e(25),o=e(17),_=e(10),c=e(42),d=e(23),T=e(120),m=e(22),v=e(24),S=e(105),w=e(48),x=e(80),L=e(40),g=e(101),y=e(45),b=e(65),l=e(121),h=e(122),A=e(124),P=e(29),R=e(125),k=e(126),F=e(127),Y=u.Object,B=u.Date,j=u.Error,$=u.EvalError,U=u.RangeError,W=u.ReferenceError,I=u.SyntaxError,z=u.TypeError,ee=u.URIError,Q=u.PerformanceMark,ne=u.WebAssembly,fe=ne&&ne.CompileError||j,X=ne&&ne.LinkError||j,C=ne&&ne.RuntimeError||j,M=p("DOMException"),G=p("Set"),K=p("Map"),E=K.prototype,O=o(E.has),N=o(E.get),V=o(E.set),q=o(G.prototype.add),J=p("Object","keys"),se=o([].push),ue=o((!0).valueOf),ge=o(1 .valueOf),be=o("".valueOf),ve=o(B.prototype.getTime),ye=c("structuredClone"),xe="DataCloneError",De="Transferring",Ie=function(he){return!_(function(){var Pe=new u.Set([7]),Me=he(Pe),ce=he(Y(7));return Me==Pe||!Me.has(7)||typeof ce!="object"||ce!=7})&&he},Fe=function(he,Pe){return!_(function(){var Me=new Pe,ce=he({a:Me,b:Me});return!(ce&&ce.a===ce.b&&ce.a instanceof Pe&&ce.a.stack===Me.stack)})},je=function(he){return!_(function(){var Pe=he(new u.AggregateError([1],ye,{cause:3}));return Pe.name!="AggregateError"||Pe.errors[0]!=1||Pe.message!=ye||Pe.cause!=3})},pe=u.structuredClone,ke=t||!Fe(pe,j)||!Fe(pe,M)||!je(pe),Ne=!pe&&Ie(function(he){return new Q(ye,{detail:he}).detail}),Oe=Ie(pe)||Ne,Ce=function(he){throw new M("Uncloneable type: "+he,xe)},te=function(he,Pe){throw new M((Pe||"Cloning")+" of "+he+" cannot be properly polyfilled in this engine",xe)},H=function(he,Pe){if(v(he)&&Ce("Symbol"),!m(he))return he;if(Pe){if(O(Pe,he))return N(Pe,he)}else Pe=new K;var Me=x(he),ce=!1,re,oe,Ae,_e,we,de,ie,Se,Re,Le;switch(Me){case"Array":Ae=[],ce=!0;break;case"Object":Ae={},ce=!0;break;case"Map":Ae=new K,ce=!0;break;case"Set":Ae=new G,ce=!0;break;case"RegExp":Ae=new RegExp(he.source,h(he));break;case"Error":switch(oe=he.name,oe){case"AggregateError":Ae=p("AggregateError")([]);break;case"EvalError":Ae=$();break;case"RangeError":Ae=U();break;case"ReferenceError":Ae=W();break;case"SyntaxError":Ae=I();break;case"TypeError":Ae=z();break;case"URIError":Ae=ee();break;case"CompileError":Ae=fe();break;case"LinkError":Ae=X();break;case"RuntimeError":Ae=C();break;default:Ae=j()}ce=!0;break;case"DOMException":Ae=new M(he.message,he.name),ce=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":re=u[Me],m(re)||te(Me),Ae=new re(H(he.buffer,Pe),he.byteOffset,Me==="DataView"?he.byteLength:he.length);break;case"DOMQuad":try{Ae=new DOMQuad(H(he.p1,Pe),H(he.p2,Pe),H(he.p3,Pe),H(he.p4,Pe))}catch{Oe?Ae=Oe(he):te(Me)}break;case"FileList":if(re=u.DataTransfer,T(re)){for(_e=new re,we=0,de=b(he);we<de;we++)_e.items.add(H(he[we],Pe));Ae=_e.files}else Oe?Ae=Oe(he):te(Me);break;case"ImageData":try{Ae=new ImageData(H(he.data,Pe),he.width,he.height,{colorSpace:he.colorSpace})}catch{Oe?Ae=Oe(he):te(Me)}break;default:if(Oe)Ae=Oe(he);else switch(Me){case"BigInt":Ae=Y(he.valueOf());break;case"Boolean":Ae=Y(ue(he));break;case"Number":Ae=Y(ge(he));break;case"String":Ae=Y(be(he));break;case"Date":Ae=new B(ve(he));break;case"ArrayBuffer":re=u.DataView,!re&&typeof he.slice!="function"&&te(Me);try{if(typeof he.slice=="function")Ae=he.slice(0);else for(de=he.byteLength,Ae=new ArrayBuffer(de),Re=new re(he),Le=new re(Ae),we=0;we<de;we++)Le.setUint8(we,Re.getUint8(we))}catch{throw new M("ArrayBuffer is detached",xe)}break;case"SharedArrayBuffer":Ae=he;break;case"Blob":try{Ae=he.slice(0,he.size,he.type)}catch{te(Me)}break;case"DOMPoint":case"DOMPointReadOnly":re=u[Me];try{Ae=re.fromPoint?re.fromPoint(he):new re(he.x,he.y,he.z,he.w)}catch{te(Me)}break;case"DOMRect":case"DOMRectReadOnly":re=u[Me];try{Ae=re.fromRect?re.fromRect(he):new re(he.x,he.y,he.width,he.height)}catch{te(Me)}break;case"DOMMatrix":case"DOMMatrixReadOnly":re=u[Me];try{Ae=re.fromMatrix?re.fromMatrix(he):new re(he)}catch{te(Me)}break;case"AudioData":case"VideoFrame":d(he.clone)||te(Me);try{Ae=he.clone()}catch{Ce(Me)}break;case"File":try{Ae=new File([he],he.name,he)}catch{te(Me)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":te(Me);default:Ce(Me)}}if(V(Pe,he,Ae),ce)switch(Me){case"Array":case"Object":for(ie=J(he),we=0,de=b(ie);we<de;we++)Se=ie[we],g(Ae,Se,H(he[Se],Pe));break;case"Map":he.forEach(function(Ue,Ve){V(Ae,H(Ve,Pe),H(Ue,Pe))});break;case"Set":he.forEach(function(Ue){q(Ae,H(Ue,Pe))});break;case"Error":y(Ae,"message",H(he.message,Pe)),L(he,"cause")&&y(Ae,"cause",H(he.cause,Pe)),oe=="AggregateError"&&(Ae.errors=H(he.errors,Pe));case"DOMException":A&&y(Ae,"stack",H(he.stack,Pe))}return Ae},ae=pe&&!_(function(){if(k&&P>92||F&&P>94||R&&P>97)return!1;var he=new ArrayBuffer(8),Pe=pe(he,{transfer:[he]});return he.byteLength!=0||Pe.byteLength!=8}),Ee=function(he,Pe){if(!m(he))throw z("Transfer option cannot be converted to a sequence");var Me=[];S(he,function(Re){se(Me,w(Re))});var ce=0,re=b(Me),oe,Ae,_e,we,de,ie,Se;if(ae)for(we=pe(Me,{transfer:Me});ce<re;)V(Pe,Me[ce],we[ce++]);else for(;ce<re;){if(oe=Me[ce++],O(Pe,oe))throw new M("Duplicate transferable",xe);switch(Ae=x(oe),Ae){case"ImageBitmap":_e=u.OffscreenCanvas,T(_e)||te(Ae,De);try{ie=new _e(oe.width,oe.height),Se=ie.getContext("bitmaprenderer"),Se.transferFromImageBitmap(oe),de=ie.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!d(oe.clone)||!d(oe.close))&&te(Ae,De);try{de=oe.clone(),oe.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":te(Ae,De)}if(de===void 0)throw new M("This object cannot be transferred: "+Ae,xe);V(Pe,oe,de)}};s({global:!0,enumerable:!0,sham:!ae,forced:ke},{structuredClone:function(Pe){var Me=l(arguments.length,1)>1&&arguments[1]!=null?w(arguments[1]):void 0,ce=Me?Me.transfer:void 0,re;return ce!==void 0&&(re=new K,Ee(ce,re)),H(Pe,re)}})},(a,n,e)=>{var t=e(17),s=e(10),u=e(23),p=e(80),o=e(25),_=e(52),c=function(){},d=[],T=o("Reflect","construct"),m=/^\s*(?:class|function)\b/,v=t(m.exec),S=!m.exec(c),w=function(g){if(!u(g))return!1;try{return T(c,d,g),!0}catch{return!1}},x=function(g){if(!u(g))return!1;switch(p(g)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return S||!!v(m,_(g))}catch{return!0}};x.sham=!0,a.exports=!T||s(function(){var L;return w(w.call)||!w(Object)||!w(function(){L=!0})||L})?x:w},a=>{var n=TypeError;a.exports=function(e,t){if(e<t)throw n("Not enough arguments");return e}},(a,n,e)=>{var t=e(11),s=e(40),u=e(26),p=e(123),o=RegExp.prototype;a.exports=function(_){var c=_.flags;return c===void 0&&!("flags"in o)&&!s(_,"flags")&&u(o,_)?t(p,_):c}},(a,n,e)=>{var t=e(48);a.exports=function(){var s=t(this),u="";return s.hasIndices&&(u+="d"),s.global&&(u+="g"),s.ignoreCase&&(u+="i"),s.multiline&&(u+="m"),s.dotAll&&(u+="s"),s.unicode&&(u+="u"),s.unicodeSets&&(u+="v"),s.sticky&&(u+="y"),u}},(a,n,e)=>{var t=e(10),s=e(14);a.exports=!t(function(){var u=Error("a");return"stack"in u?(Object.defineProperty(u,"stack",s(1,7)),u.stack!==7):!0})},(a,n,e)=>{var t=e(126),s=e(127);a.exports=!t&&!s&&typeof window=="object"&&typeof document=="object"},a=>{a.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(a,n,e)=>{var t=e(18),s=e(7);a.exports=t(s.process)=="process"},(a,n,e)=>{var t=e(7);a.exports=t},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(130),_display_utils=__w_pdfjs_require__(133),_font_loader=__w_pdfjs_require__(136),_canvas=__w_pdfjs_require__(137),_worker_options=__w_pdfjs_require__(140),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(141),_metadata=__w_pdfjs_require__(142),_optional_content_config=__w_pdfjs_require__(143),_transport_stream=__w_pdfjs_require__(144),_xfa_text=__w_pdfjs_require__(145);function _classPrivateMethodInitSpec(a,n){_checkPrivateRedeclaration(a,n),n.add(a)}function _classPrivateMethodGet(a,n,e){if(!n.has(a))throw new TypeError("attempted to get private field on non-instance");return e}function _classPrivateFieldInitSpec(a,n,e){_checkPrivateRedeclaration(a,n),n.set(a,e)}function _checkPrivateRedeclaration(a,n){if(n.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(a,n,e){var t=_classExtractFieldDescriptor(a,n,"set");return _classApplyDescriptorSet(a,t,e),e}function _classPrivateFieldGet(a,n){var e=_classExtractFieldDescriptor(a,n,"get");return _classApplyDescriptorGet(a,e)}function _classExtractFieldDescriptor(a,n,e){if(!n.has(a))throw new TypeError("attempted to "+e+" private field on non-instance");return n.get(a)}function _classStaticPrivateFieldSpecSet(a,n,e,t){return _classCheckPrivateStaticAccess(a,n),_classCheckPrivateStaticFieldDescriptor(e,"set"),_classApplyDescriptorSet(a,e,t),t}function _classApplyDescriptorSet(a,n,e){if(n.set)n.set.call(a,e);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=e}}function _classStaticPrivateFieldSpecGet(a,n,e){return _classCheckPrivateStaticAccess(a,n),_classCheckPrivateStaticFieldDescriptor(e,"get"),_classApplyDescriptorGet(a,e)}function _classCheckPrivateStaticFieldDescriptor(a,n){if(a===void 0)throw new TypeError("attempted to "+n+" private static field before its declaration")}function _classCheckPrivateStaticAccess(a,n){if(a!==n)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(a,n){return n.get?n.get.call(a):n.value}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:a,NodeCMapReaderFactory:n,NodeStandardFontDataFactory:e}=__w_pdfjs_require__(146);exports.DefaultCanvasFactory=DefaultCanvasFactory=a,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=n,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=e}let createPDFNetworkStream;function setPDFNetworkStreamFactory(a){createPDFNetworkStream=a}function getDocument(a){const n=new PDFDocumentLoadingTask;let e;if(typeof a=="string"||a instanceof URL)e={url:a};else if((0,_util.isArrayBuffer)(a))e={data:a};else if(a instanceof PDFDataRangeTransport)e={range:a};else{if(typeof a!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!a.url&&!a.data&&!a.range)throw new Error("Invalid parameter object: need either .data, .range or .url");e=a}const t=Object.create(null);let s=null,u=null;for(const o in e){const _=e[o];switch(o){case"url":if(typeof window<"u")try{t[o]=new URL(_,window.location).href;continue}catch(c){(0,_util.warn)(`Cannot create valid URL: "${c}".`)}else if(typeof _=="string"||_ instanceof URL){t[o]=_.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":s=_;continue;case"worker":u=_;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&_ instanceof Buffer)t[o]=new Uint8Array(_);else{if(_ instanceof Uint8Array)break;if(typeof _=="string")t[o]=(0,_util.stringToBytes)(_);else if(typeof _=="object"&&_!==null&&!isNaN(_.length))t[o]=new Uint8Array(_);else if((0,_util.isArrayBuffer)(_))t[o]=new Uint8Array(_);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}t[o]=_}if(t.CMapReaderFactory=t.CMapReaderFactory||DefaultCMapReaderFactory,t.StandardFontDataFactory=t.StandardFontDataFactory||DefaultStandardFontDataFactory,t.ignoreErrors=t.stopAtErrors!==!0,t.fontExtraProperties=t.fontExtraProperties===!0,t.pdfBug=t.pdfBug===!0,t.enableXfa=t.enableXfa===!0,(!Number.isInteger(t.rangeChunkSize)||t.rangeChunkSize<1)&&(t.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof t.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(t.docBaseUrl))&&(t.docBaseUrl=null),(!Number.isInteger(t.maxImageSize)||t.maxImageSize<-1)&&(t.maxImageSize=-1),typeof t.cMapUrl!="string"&&(t.cMapUrl=null),typeof t.standardFontDataUrl!="string"&&(t.standardFontDataUrl=null),typeof t.useWorkerFetch!="boolean"&&(t.useWorkerFetch=t.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&t.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof t.isEvalSupported!="boolean"&&(t.isEvalSupported=!0),typeof t.disableFontFace!="boolean"&&(t.disableFontFace=_is_node.isNodeJS),typeof t.useSystemFonts!="boolean"&&(t.useSystemFonts=!_is_node.isNodeJS&&!t.disableFontFace),(typeof t.ownerDocument!="object"||t.ownerDocument===null)&&(t.ownerDocument=globalThis.document),typeof t.disableRange!="boolean"&&(t.disableRange=!1),typeof t.disableStream!="boolean"&&(t.disableStream=!1),typeof t.disableAutoFetch!="boolean"&&(t.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(t.verbosity),!u){const o={verbosity:t.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};u=o.port?PDFWorker.fromPort(o):new PDFWorker(o),n._worker=u}const p=n.docId;return u.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");const o=_fetchDocument(u,t,s,p),_=new Promise(function(c){let d;s?d=new _transport_stream.PDFDataTransportStream({length:t.length,initialData:t.initialData,progressiveDone:t.progressiveDone,contentDispositionFilename:t.contentDispositionFilename,disableRange:t.disableRange,disableStream:t.disableStream},s):t.data||(d=createPDFNetworkStream({url:t.url,length:t.length,httpHeaders:t.httpHeaders,withCredentials:t.withCredentials,rangeChunkSize:t.rangeChunkSize,disableRange:t.disableRange,disableStream:t.disableStream})),c(d)});return Promise.all([o,_]).then(function(c){let[d,T]=c;if(n.destroyed)throw new Error("Loading aborted");const m=new _message_handler.MessageHandler(p,d,u.port),v=new WorkerTransport(m,n,T,t);n._transport=v,m.send("Ready",null)})}).catch(n._capability.reject),n}async function _fetchDocument(a,n,e,t){if(a.destroyed)throw new Error("Worker was destroyed");e&&(n.length=e.length,n.initialData=e.initialData,n.progressiveDone=e.progressiveDone,n.contentDispositionFilename=e.contentDispositionFilename);const s=await a.messageHandler.sendWithPromise("GetDocRequest",{docId:t,apiVersion:"2.16.105",source:{data:n.data,url:n.url,password:n.password,disableAutoFetch:n.disableAutoFetch,rangeChunkSize:n.rangeChunkSize,length:n.length},maxImageSize:n.maxImageSize,disableFontFace:n.disableFontFace,docBaseUrl:n.docBaseUrl,ignoreErrors:n.ignoreErrors,isEvalSupported:n.isEvalSupported,fontExtraProperties:n.fontExtraProperties,enableXfa:n.enableXfa,useSystemFonts:n.useSystemFonts,cMapUrl:n.useWorkerFetch?n.cMapUrl:null,standardFontDataUrl:n.useWorkerFetch?n.standardFontDataUrl:null});if(n.data&&(n.data=null),a.destroyed)throw new Error("Worker was destroyed");return s}class PDFDocumentLoadingTask{constructor(){var n,e;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(n=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),e=n++,n)),e}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var n;this.destroyed=!0,await((n=this._transport)===null||n===void 0?void 0:n.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var _docId={writable:!0,value:0};class PDFDataRangeTransport{constructor(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=n,this.initialData=e,this.progressiveDone=t,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(n){this._rangeListeners.push(n)}addProgressListener(n){this._progressListeners.push(n)}addProgressiveReadListener(n){this._progressiveReadListeners.push(n)}addProgressiveDoneListener(n){this._progressiveDoneListeners.push(n)}onDataRange(n,e){for(const t of this._rangeListeners)t(n,e)}onDataProgress(n,e){this._readyCapability.promise.then(()=>{for(const t of this._progressListeners)t(n,e)})}onDataProgressiveRead(n){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(n)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const n of this._progressiveDoneListeners)n()})}transportReady(){this._readyCapability.resolve()}requestDataRange(n,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(n,e){this._pdfInfo=n,this._transport=e,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(n){return this._transport.getPage(n)}getPageIndex(n){return this._transport.getPageIndex(n)}getDestinations(){return this._transport.getDestinations()}getDestination(n){return this._transport.getDestination(n)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(n||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(n,e,t,s){let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;this._pageIndex=n,this._pageInfo=e,this._ownerDocument=s,this._transport=t,this._stats=u?new _display_utils.StatTimer:null,this._pdfBug=u,this.commonObjs=t.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:n,rotation:e=this.rotate,offsetX:t=0,offsetY:s=0,dontFlip:u=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:n,rotation:e,offsetX:t,offsetY:s,dontFlip:u})}getAnnotations(){let{intent:n="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=this._transport.getRenderingIntent(n);let t=this._annotationPromises.get(e.cacheKey);return t||(t=this._transport.getAnnotations(this._pageIndex,e.renderingIntent),this._annotationPromises.set(e.cacheKey,t),t=t.then(s=>{for(const u of s)u.titleObj!==void 0&&Object.defineProperty(u,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),u.titleObj.str}}),u.contentsObj!==void 0&&Object.defineProperty(u,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),u.contentsObj.str}});return s})),t}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var n;return((n=this._transport._htmlForXfa)===null||n===void 0?void 0:n.children[this._pageIndex])||null}render(n){var e,t,s;let{canvasContext:u,viewport:p,intent:o="display",annotationMode:_=_util.AnnotationMode.ENABLE,transform:c=null,imageLayer:d=null,canvasFactory:T=null,background:m=null,optionalContentConfigPromise:v=null,annotationCanvasMap:S=null,pageColors:w=null,printAnnotationStorage:x=null}=n;((e=arguments[0])===null||e===void 0?void 0:e.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&_===_util.AnnotationMode.ENABLE&&(_=_util.AnnotationMode.ENABLE_FORMS)),((t=arguments[0])===null||t===void 0?void 0:t.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&_===_util.AnnotationMode.ENABLE&&(_=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const L=this._transport.getRenderingIntent(o,_,x);this.pendingCleanup=!1,v||(v=this._transport.getOptionalContentConfig());let g=this._intentStates.get(L.cacheKey);g||(g=Object.create(null),this._intentStates.set(L.cacheKey,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const y=T||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),b=!!(L.renderingIntent&_util.RenderingIntentFlag.PRINT);g.displayReadyCapability||(g.displayReadyCapability=(0,_util.createPromiseCapability)(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(L));const l=P=>{g.renderTasks.delete(h),(this.cleanupAfterRender||b)&&(this.pendingCleanup=!0),this._tryCleanup(),P?(h.capability.reject(P),this._abortOperatorList({intentState:g,reason:P instanceof Error?P:new Error(P)})):h.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},h=new InternalRenderTask({callback:l,params:{canvasContext:u,viewport:p,transform:c,imageLayer:d,background:m},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:S,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:y,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:w});((s=g).renderTasks||(s.renderTasks=new Set)).add(h);const A=h.task;return Promise.all([g.displayReadyCapability.promise,v]).then(P=>{let[R,k]=P;if(this.pendingCleanup){l();return}this._stats&&this._stats.time("Rendering"),h.initializeGraphics({transparency:R,optionalContentConfig:k}),h.operatorListChanged()}).catch(l),A}getOperatorList(){let{intent:n="display",annotationMode:e=_util.AnnotationMode.ENABLE,printAnnotationStorage:t=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function s(){p.operatorList.lastChunk&&(p.opListReadCapability.resolve(p.operatorList),p.renderTasks.delete(o))}const u=this._transport.getRenderingIntent(n,e,t,!0);let p=this._intentStates.get(u.cacheKey);p||(p=Object.create(null),this._intentStates.set(u.cacheKey,p));let o;if(!p.opListReadCapability){var _;o=Object.create(null),o.operatorListChanged=s,p.opListReadCapability=(0,_util.createPromiseCapability)(),((_=p).renderTasks||(_.renderTasks=new Set)).add(o),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(u)}return p.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:n=!1,includeMarkedContent:e=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:n!==!0,includeMarkedContent:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(t=>_xfa_text.XfaText.textContent(t));const e=this.streamTextContent(n);return new Promise(function(t,s){function u(){p.read().then(function(_){let{value:c,done:d}=_;if(d){t(o);return}Object.assign(o.styles,c.styles),o.items.push(...c.items),u()},s)}const p=e.getReader(),o={items:[],styles:Object.create(null)};u()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const n=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const t of e.renderTasks)n.push(t.completed),t.cancel();this.objs.clear();for(const e of this._bitmaps)e.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(n)}cleanup(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(n)}_tryCleanup(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,n&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const e of this._bitmaps)e.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(n,e){const t=this._intentStates.get(e);t&&(this._stats&&this._stats.timeEnd("Page Request"),t.displayReadyCapability&&t.displayReadyCapability.resolve(n))}_renderPageChunk(n,e){for(let t=0,s=n.length;t<s;t++)e.operatorList.fnArray.push(n.fnArray[t]),e.operatorList.argsArray.push(n.argsArray[t]);e.operatorList.lastChunk=n.lastChunk,e.operatorList.separateAnnots=n.separateAnnots;for(const t of e.renderTasks)t.operatorListChanged();n.lastChunk&&this._tryCleanup()}_pumpOperatorList(n){let{renderingIntent:e,cacheKey:t,annotationStorageMap:s}=n;const p=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s}).getReader(),o=this._intentStates.get(t);o.streamReader=p;const _=()=>{p.read().then(c=>{let{value:d,done:T}=c;if(T){o.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,o),_())},c=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const d of o.renderTasks)d.operatorListChanged();this._tryCleanup()}if(o.displayReadyCapability)o.displayReadyCapability.reject(c);else if(o.opListReadCapability)o.opListReadCapability.reject(c);else throw c}})};_()}_abortOperatorList(n){let{intentState:e,reason:t,force:s=!1}=n;if(e.streamReader){if(!s){if(e.renderTasks.size>0)return;if(t instanceof _display_utils.RenderingCancelledException){e.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:e,reason:t,force:!0}),e.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(e.streamReader.cancel(new _util.AbortException(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[u,p]of this._intentStates)if(p===e){this._intentStates.delete(u);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(n,e){const t={data:structuredClone(n,e)};this._deferred.then(()=>{for(const s of this._listeners)s.call(this,t)})}addEventListener(n,e){this._listeners.push(e)}removeEventListener(n,e){const t=this._listeners.indexOf(e);this._listeners.splice(t,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){var _document,_document$currentScri;const a=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;a&&(PDFWorkerUtil.fallbackWorkerSrc=a.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(a,n){let e;try{if(e=new URL(a),!e.origin||e.origin==="null")return!1}catch{return!1}const t=new URL(n,e);return e.origin===t.origin},PDFWorkerUtil.createCDNWrapper=function(a){const n=`importScripts("${a}");`;return URL.createObjectURL(new Blob([n]))}}class PDFWorker{constructor(){let{name:a=null,port:n=null,verbosity:e=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(n))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=a,this.destroyed=!1,this.verbosity=e,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,n){_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(a){this._port=a,this._messageHandler=new _message_handler.MessageHandler("main","worker",a),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:a}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,a)||(a=PDFWorkerUtil.createCDNWrapper(new URL(a,window.location).href));const n=new Worker(a),e=new _message_handler.MessageHandler("main","worker",n),t=()=>{n.removeEventListener("error",s),e.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||t()};n.addEventListener("error",s),e.on("test",p=>{if(n.removeEventListener("error",s),this.destroyed){t();return}p?(this._messageHandler=e,this._port=n,this._webWorker=n,this._readyCapability.resolve(),e.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),e.destroy(),n.terminate())}),e.on("ready",p=>{if(n.removeEventListener("error",s),this.destroyed){t();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const p=new Uint8Array;e.send("test",p,[p.buffer])};u();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(a=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new LoopbackPort;this._port=n;const e=`fake${PDFWorkerUtil.fakeWorkerId++}`,t=new _message_handler.MessageHandler(e+"_worker",e,n);a.setup(t,n);const s=new _message_handler.MessageHandler(e,e+"_worker",n);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(a=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${a.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(a){if(!(a!=null&&a.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(a.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(a.port):new PDFWorker(a)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var a;return((a=globalThis.pdfjsWorker)===null||a===void 0?void 0:a.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;var _workerPorts={writable:!0,value:new WeakMap};PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(n,e,t,s){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=n,this.loadingTask=e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:e.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this._params=s,s.useWorkerFetch||(this.CMapReaderFactory=new s.CMapReaderFactory({baseUrl:s.cMapUrl,isCompressed:s.cMapPacked}),this.StandardFontDataFactory=new s.StandardFontDataFactory({baseUrl:s.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=t,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u=_util.RenderingIntentFlag.DISPLAY,p=null;switch(n){case"any":u=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":u=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${n}`)}switch(e){case _util.AnnotationMode.DISABLE:u+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:u+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:u+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,p=(u&_util.RenderingIntentFlag.PRINT&&t instanceof _annotation_storage.PrintAnnotationStorage?t:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${e}`)}return s&&(u+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:u,cacheKey:`${u}_${_annotation_storage.AnnotationStorage.getHash(p)}`,annotationStorageMap:p}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const n=[];for(const t of _classPrivateFieldGet(this,_pageCache).values())n.push(t._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return n.push(e),Promise.all(n).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:n,loadingTask:e}=this;n.on("GetReader",(t,s)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=u=>{this._lastProgress={loaded:u.loaded,total:u.total}},s.onPull=()=>{this._fullReader.read().then(function(u){let{value:p,done:o}=u;if(o){s.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(p),"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(p),1,[p])}).catch(u=>{s.error(u)})},s.onCancel=u=>{this._fullReader.cancel(u),s.ready.catch(p=>{if(!this.destroyed)throw p})}}),n.on("ReaderHeadersReady",t=>{const s=(0,_util.createPromiseCapability)(),u=this._fullReader;return u.headersReady.then(()=>{if(!u.isStreamingSupported||!u.isRangeSupported){if(this._lastProgress){var p;(p=e.onProgress)===null||p===void 0||p.call(e,this._lastProgress)}u.onProgress=o=>{var _;(_=e.onProgress)===null||_===void 0||_.call(e,{loaded:o.loaded,total:o.total})}}s.resolve({isStreamingSupported:u.isStreamingSupported,isRangeSupported:u.isRangeSupported,contentLength:u.contentLength})},s.reject),s.promise}),n.on("GetRangeReader",(t,s)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const u=this._networkStream.getRangeReader(t.begin,t.end);if(!u){s.close();return}s.onPull=()=>{u.read().then(function(p){let{value:o,done:_}=p;if(_){s.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(o),"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(p=>{s.error(p)})},s.onCancel=p=>{u.cancel(p),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),n.on("GetDoc",t=>{let{pdfInfo:s}=t;this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new PDFDocumentProxy(s,this))}),n.on("DocException",function(t){let s;switch(t.name){case"PasswordException":s=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":s=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":s=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":s=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":s=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}e._capability.reject(s)}),n.on("PasswordRequest",t=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),e.onPassword){const s=u=>{u instanceof Error?this._passwordCapability.reject(u):this._passwordCapability.resolve({password:u})};try{e.onPassword(s,t.code)}catch(u){this._passwordCapability.reject(u)}}else this._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return this._passwordCapability.promise}),n.on("DataLoaded",t=>{var s;(s=e.onProgress)===null||s===void 0||s.call(e,{loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)}),n.on("StartRenderPage",t=>{if(this.destroyed)return;_classPrivateFieldGet(this,_pageCache).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)}),n.on("commonobj",t=>{var s;let[u,p,o]=t;if(!this.destroyed&&!this.commonObjs.has(u))switch(p){case"Font":const _=this._params;if("error"in o){const T=o.error;(0,_util.warn)(`Error during font loading: ${T}`),this.commonObjs.resolve(u,T);break}let c=null;_.pdfBug&&(s=globalThis.FontInspector)!==null&&s!==void 0&&s.enabled&&(c={registerFont(T,m){globalThis.FontInspector.fontAdded(T,m)}});const d=new _font_loader.FontFaceObject(o,{isEvalSupported:_.isEvalSupported,disableFontFace:_.disableFontFace,ignoreErrors:_.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:c});this.fontLoader.bind(d).catch(T=>n.sendWithPromise("FontFallback",{id:u})).finally(()=>{!_.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(u,d)});break;case"FontPath":case"Image":this.commonObjs.resolve(u,o);break;default:throw new Error(`Got unknown common object type ${p}`)}}),n.on("obj",t=>{let[s,u,p,o]=t;if(this.destroyed)return;const _=_classPrivateFieldGet(this,_pageCache).get(u);if(!_.objs.has(s))switch(p){case"Image":_.objs.resolve(s,o);const d=8e6;if(o){let T;if(o.bitmap){const{bitmap:m,width:v,height:S}=o;T=v*S*4,_._bitmaps.add(m)}else{var c;T=((c=o.data)===null||c===void 0?void 0:c.length)||0}T>d&&(_.cleanupAfterRender=!0)}break;case"Pattern":_.objs.resolve(s,o);break;default:throw new Error(`Got unknown object type ${p}`)}}),n.on("DocProgress",t=>{var s;this.destroyed||(s=e.onProgress)===null||s===void 0||s.call(e,{loaded:t.loaded,total:t.total})}),n.on("DocStats",t=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(t.streamTypes),fontTypes:Object.freeze(t.fontTypes)}))}),n.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),n.on("FetchBuiltInCMap",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),n.on("FetchStandardFontData",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature(n){var e,t;let{featureId:s}=n;this.destroyed||(e=(t=this.loadingTask).onUnsupportedFeature)===null||e===void 0||e.call(t,s)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(n){if(!Number.isInteger(n)||n<=0||n>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=n-1,t=_classPrivateFieldGet(this,_pagePromises).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(u=>{if(this.destroyed)throw new Error("Transport destroyed");const p=new PDFPageProxy(e,u,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(e,p),p});return _classPrivateFieldGet(this,_pagePromises).set(e,s),s}getPageIndex(n){return typeof n!="object"||n===null||!Number.isInteger(n.num)||n.num<0||!Number.isInteger(n.gen)||n.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:n.num,gen:n.gen})}getAnnotations(n,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:n,intent:e})}saveDocument(){var n,e;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(n=(e=this._fullReader)===null||e===void 0?void 0:e.filename)!==null&&n!==void 0?n:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(n){return typeof n!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:n})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(n){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:n})}getStructTree(n){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:n})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(n=>new _optional_content_config.OptionalContentConfig(n))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(n=>{var e,t,s,u;return{info:n[0],metadata:n[1]?new _metadata.Metadata(n[1]):null,contentDispositionFilename:(e=(t=this._fullReader)===null||t===void 0?void 0:t.filename)!==null&&e!==void 0?e:null,contentLength:(s=(u=this._fullReader)===null||u===void 0?void 0:u.contentLength)!==null&&s!==void 0?s:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const e of _classPrivateFieldGet(this,_pageCache).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),n||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const n=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:n.disableAutoFetch,enableXfa:n.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(e){const s=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,n);return s.capability.promise.then(()=>e(s.data)),null}const t=_classPrivateFieldGet(this,_objs)[n];if(!(t!=null&&t.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${n}.`);return t.data}has(n){const e=_classPrivateFieldGet(this,_objs)[n];return(e==null?void 0:e.capability.settled)||!1}resolve(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const t=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,n);t.data=e,t.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(a){const n=_classPrivateFieldGet(this,_objs)[a];return n||(_classPrivateFieldGet(this,_objs)[a]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(n){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,n),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){_classPrivateFieldGet(this,_internalRenderTask).cancel()}get separateAnnots(){const{separateAnnots:n}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!n)return!1;const{annotationCanvasMap:e}=_classPrivateFieldGet(this,_internalRenderTask);return n.form||n.canvas&&(e==null?void 0:e.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(n){let{callback:e,params:t,objs:s,commonObjs:u,annotationCanvasMap:p,operatorList:o,pageIndex:_,canvasFactory:c,useRequestAnimationFrame:d=!1,pdfBug:T=!1,pageColors:m=null}=n;this.callback=e,this.params=t,this.objs=s,this.commonObjs=u,this.annotationCanvasMap=p,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=_,this.canvasFactory=c,this._pdfBug=T,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(n){var e;let{transparency:t=!1,optionalContentConfig:s}=n;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&(e=globalThis.StepperManager)!==null&&e!==void 0&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:u,viewport:p,transform:o,imageLayer:_,background:c}=this.params;this.gfx=new _canvas.CanvasGraphics(u,this.commonObjs,this.objs,this.canvasFactory,_,s,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:p,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(n||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback())))}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PrintAnnotationStorage=n.AnnotationStorage=void 0;var t=e(1),s=e(131),u=e(135);function p(b,l,h){v(b,l),l.set(b,h)}function o(b,l){var h=d(b,l,"get");return _(b,h)}function _(b,l){return l.get?l.get.call(b):l.value}function c(b,l,h){var A=d(b,l,"set");return T(b,A,h),h}function d(b,l,h){if(!l.has(b))throw new TypeError("attempted to "+h+" private field on non-instance");return l.get(b)}function T(b,l,h){if(l.set)l.set.call(b,h);else{if(!l.writable)throw new TypeError("attempted to set read only private field");l.value=h}}function m(b,l){v(b,l),l.add(b)}function v(b,l){if(l.has(b))throw new TypeError("Cannot initialize the same private elements twice on an object")}function S(b,l,h){if(!l.has(b))throw new TypeError("attempted to get private field on non-instance");return h}var w=new WeakSet;class x{constructor(){m(this,w),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(l,h){const A=this._storage.get(l);return A===void 0?h:Object.assign(h,A)}getRawValue(l){return this._storage.get(l)}remove(l){if(this._storage.delete(l),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const h of this._storage.values())if(h instanceof s.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(l,h){const A=this._storage.get(l);let P=!1;if(A!==void 0)for(const[R,k]of Object.entries(h))A[R]!==k&&(P=!0,A[R]=k);else P=!0,this._storage.set(l,h);P&&S(this,w,L).call(this),h instanceof s.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(h.constructor._type)}has(l){return this._storage.has(l)}getAll(){return this._storage.size>0?(0,t.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new y(this)}get serializable(){if(this._storage.size===0)return null;const l=new Map;for(const[h,A]of this._storage){const P=A instanceof s.AnnotationEditor?A.serialize():A;P&&l.set(h,P)}return l}static getHash(l){if(!l)return"";const h=new u.MurmurHash3_64;for(const[A,P]of l)h.update(`${A}:${JSON.stringify(P)}`);return h.hexdigest()}}n.AnnotationStorage=x;function L(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}var g=new WeakMap;class y extends x{constructor(l){super(),p(this,g,{writable:!0,value:null}),c(this,g,structuredClone(l.serializable))}get print(){(0,t.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return o(this,g)}}n.PrintAnnotationStorage=y},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditor=void 0;var t=e(132),s=e(1);function u(b,l,h){return l in b?Object.defineProperty(b,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):b[l]=h,b}function p(b,l,h){o(b,l),l.set(b,h)}function o(b,l){if(l.has(b))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _(b,l,h){var A=T(b,l,"set");return c(b,A,h),h}function c(b,l,h){if(l.set)l.set.call(b,h);else{if(!l.writable)throw new TypeError("attempted to set read only private field");l.value=h}}function d(b,l){var h=T(b,l,"get");return m(b,h)}function T(b,l,h){if(!l.has(b))throw new TypeError("attempted to "+h+" private field on non-instance");return l.get(b)}function m(b,l){return l.get?l.get.call(b):l.value}var v=new WeakMap,S=new WeakMap,w=new WeakMap,x=new WeakMap,L=new WeakMap,g=new WeakMap;class y{constructor(l){p(this,v,{writable:!0,value:this.focusin.bind(this)}),p(this,S,{writable:!0,value:this.focusout.bind(this)}),p(this,w,{writable:!0,value:!1}),p(this,x,{writable:!0,value:!1}),p(this,L,{writable:!0,value:!1}),p(this,g,{writable:!0,value:y._zIndex++}),this.constructor===y&&(0,s.unreachable)("Cannot initialize AnnotationEditor."),this.parent=l.parent,this.id=l.id,this.width=this.height=null,this.pageIndex=l.parent.pageIndex,this.name=l.name,this.div=null;const[h,A]=this.parent.viewportBaseDimensions;this.x=l.x/h,this.y=l.y/A,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,s.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,g)}focusin(l){d(this,w)?_(this,w,!1):this.parent.setSelected(this)}focusout(l){if(!this.isAttachedToDOM)return;const h=l.relatedTarget;h!=null&&h.closest(`#${this.id}`)||(l.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(l){const h=this.parent.div.getBoundingClientRect();this.startX=l.clientX-h.x,this.startY=l.clientY-h.y,l.dataTransfer.setData("text/plain",this.id),l.dataTransfer.effectAllowed="move"}setAt(l,h,A,P){const[R,k]=this.parent.viewportBaseDimensions;[A,P]=this.screenToPageTranslation(A,P),this.x=(l+A)/R,this.y=(h+P)/k,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(l,h){const[A,P]=this.parent.viewportBaseDimensions;[l,h]=this.screenToPageTranslation(l,h),this.x+=l/A,this.y+=h/P,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(l,h){const{rotation:A}=this.parent.viewport;switch(A){case 90:return[h,-l];case 180:return[-l,-h];case 270:return[-h,l];default:return[l,h]}}setDims(l,h){const[A,P]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*l/A}%`,this.div.style.height=`${100*h/P}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",d(this,v)),this.div.addEventListener("focusout",d(this,S));const[l,h]=this.getInitialTranslation();return this.translate(l,h),(0,t.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(l){const h=t.KeyboardManager.platform.isMac;if(l.button!==0||l.ctrlKey&&h){l.preventDefault();return}l.ctrlKey&&!h||l.shiftKey||l.metaKey&&h?this.parent.toggleSelected(this):this.parent.setSelected(this),_(this,w,!0)}getRect(l,h){const[A,P]=this.parent.viewportBaseDimensions,[R,k]=this.parent.pageDimensions,F=R*l/A,Y=k*h/P,B=this.x*R,j=this.y*k,$=this.width*R,U=this.height*k;switch(this.rotation){case 0:return[B+F,k-j-Y-U,B+F+$,k-j-Y];case 90:return[B+Y,k-j+F,B+Y+U,k-j+F+$];case 180:return[B-F-$,k-j+Y,B-F,k-j+Y+U];case 270:return[B-Y-U,k-j-F-$,B-Y,k-j-F];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(l,h){const[A,P,R,k]=l,F=R-A,Y=k-P;switch(this.rotation){case 0:return[A,h-k,F,Y];case 90:return[A,h-P,Y,F];case 180:return[R,h-P,F,Y];case 270:return[R,h-k,Y,F];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_(this,L,!0)}disableEditMode(){_(this,L,!1)}isInEditMode(){return d(this,L)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var l;(l=this.div)===null||l===void 0||l.addEventListener("focusin",d(this,v))}serialize(){(0,s.unreachable)("An editor must be serializable")}static deserialize(l,h){const A=new this.prototype.constructor({parent:h,id:h.getNextId()});A.rotation=l.rotation;const[P,R]=h.pageDimensions,[k,F,Y,B]=A.getRectInCurrentCoords(l.rect,R);return A.x=k/P,A.y=F/R,A.width=Y/P,A.height=B/R,A}remove(){this.div.removeEventListener("focusin",d(this,v)),this.div.removeEventListener("focusout",d(this,S)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var l;(l=this.div)===null||l===void 0||l.classList.add("selectedEditor")}unselect(){var l;(l=this.div)===null||l===void 0||l.classList.remove("selectedEditor")}updateParams(l,h){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return d(this,x)}set isEditing(l){_(this,x,l),l?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}n.AnnotationEditor=y,u(y,"_colorManager",new t.ColorManager),u(y,"_zIndex",1)},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.KeyboardManager=n.CommandManager=n.ColorManager=n.AnnotationEditorUIManager=void 0,n.bindEvents=w,n.opacityToHex=x;var t=e(1),s=e(133);function u(Ce,te,H){return te in Ce?Object.defineProperty(Ce,te,{value:H,enumerable:!0,configurable:!0,writable:!0}):Ce[te]=H,Ce}function p(Ce,te){c(Ce,te),te.add(Ce)}function o(Ce,te,H){if(!te.has(Ce))throw new TypeError("attempted to get private field on non-instance");return H}function _(Ce,te,H){c(Ce,te),te.set(Ce,H)}function c(Ce,te){if(te.has(Ce))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(Ce,te,H){var ae=v(Ce,te,"set");return T(Ce,ae,H),H}function T(Ce,te,H){if(te.set)te.set.call(Ce,H);else{if(!te.writable)throw new TypeError("attempted to set read only private field");te.value=H}}function m(Ce,te){var H=v(Ce,te,"get");return S(Ce,H)}function v(Ce,te,H){if(!te.has(Ce))throw new TypeError("attempted to "+H+" private field on non-instance");return te.get(Ce)}function S(Ce,te){return te.get?te.get.call(Ce):te.value}function w(Ce,te,H){for(const ae of H)te.addEventListener(ae,Ce[ae].bind(Ce))}function x(Ce){return Math.round(Math.min(255,Math.max(1,255*Ce))).toString(16).padStart(2,"0")}var L=new WeakMap;class g{constructor(){_(this,L,{writable:!0,value:0})}getId(){var te,H;return`${t.AnnotationEditorPrefix}${d(this,L,(te=m(this,L),H=te++,te)),H}`}}var y=new WeakMap,b=new WeakMap,l=new WeakMap,h=new WeakMap;class A{constructor(){let te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;_(this,y,{writable:!0,value:[]}),_(this,b,{writable:!0,value:!1}),_(this,l,{writable:!0,value:void 0}),_(this,h,{writable:!0,value:-1}),d(this,l,te)}add(te){let{cmd:H,undo:ae,mustExec:Ee,type:he=NaN,overwriteIfSameType:Pe=!1,keepUndo:Me=!1}=te;if(Ee&&H(),m(this,b))return;const ce={cmd:H,undo:ae,type:he};if(m(this,h)===-1){m(this,y).length>0&&(m(this,y).length=0),d(this,h,0),m(this,y).push(ce);return}if(Pe&&m(this,y)[m(this,h)].type===he){Me&&(ce.undo=m(this,y)[m(this,h)].undo),m(this,y)[m(this,h)]=ce;return}const re=m(this,h)+1;re===m(this,l)?m(this,y).splice(0,1):(d(this,h,re),re<m(this,y).length&&m(this,y).splice(re)),m(this,y).push(ce)}undo(){m(this,h)!==-1&&(d(this,b,!0),m(this,y)[m(this,h)].undo(),d(this,b,!1),d(this,h,m(this,h)-1))}redo(){m(this,h)<m(this,y).length-1&&(d(this,h,m(this,h)+1),d(this,b,!0),m(this,y)[m(this,h)].cmd(),d(this,b,!1))}hasSomethingToUndo(){return m(this,h)!==-1}hasSomethingToRedo(){return m(this,h)<m(this,y).length-1}destroy(){d(this,y,null)}}n.CommandManager=A;var P=new WeakSet;class R{constructor(te){p(this,P),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const H=R.platform.isMac;for(const[ae,Ee]of te)for(const he of ae){const Pe=he.startsWith("mac+");H&&Pe?(this.callbacks.set(he.slice(4),Ee),this.allKeys.add(he.split("+").at(-1))):!H&&!Pe&&(this.callbacks.set(he,Ee),this.allKeys.add(he.split("+").at(-1)))}}static get platform(){const te=typeof navigator<"u"?navigator.platform:"";return(0,t.shadow)(this,"platform",{isWin:te.includes("Win"),isMac:te.includes("Mac")})}exec(te,H){if(!this.allKeys.has(H.key))return;const ae=this.callbacks.get(o(this,P,k).call(this,H));ae&&(ae.bind(te)(),H.stopPropagation(),H.preventDefault())}}n.KeyboardManager=R;function k(Ce){Ce.altKey&&this.buffer.push("alt"),Ce.ctrlKey&&this.buffer.push("ctrl"),Ce.metaKey&&this.buffer.push("meta"),Ce.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ce.key);const te=this.buffer.join("+");return this.buffer.length=0,te}var F=new WeakMap;class Y{constructor(){_(this,F,{writable:!0,value:null})}copy(te){te&&(Array.isArray(te)?d(this,F,te.map(H=>H.serialize())):d(this,F,[te.serialize()]),d(this,F,m(this,F).filter(H=>!!H)),m(this,F).length===0&&d(this,F,null))}paste(){return m(this,F)}isEmpty(){return m(this,F)===null}destroy(){d(this,F,null)}}class B{get _colors(){const te=new Map([["CanvasText",null],["Canvas",null]]);return(0,s.getColorValues)(te),(0,t.shadow)(this,"_colors",te)}convert(te){const H=(0,s.getRGB)(te);if(!window.matchMedia("(forced-colors: active)").matches)return H;for(const[ae,Ee]of this._colors)if(Ee.every((he,Pe)=>he===H[Pe]))return B._colorsMapping.get(ae);return H}getHexCode(te){const H=this._colors.get(te);return H?t.Util.makeHexColor(...H):te}}n.ColorManager=B,u(B,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var j=new WeakMap,$=new WeakMap,U=new WeakMap,W=new WeakMap,I=new WeakMap,z=new WeakMap,ee=new WeakMap,Q=new WeakMap,ne=new WeakMap,fe=new WeakMap,X=new WeakMap,C=new WeakMap,M=new WeakMap,G=new WeakMap,K=new WeakMap,E=new WeakMap,O=new WeakMap,N=new WeakSet,V=new WeakSet,q=new WeakSet,J=new WeakSet,se=new WeakSet,ue=new WeakSet,ge=new WeakSet,be=new WeakSet,ve=new WeakSet;class ye{constructor(te,H){p(this,ve),p(this,be),p(this,ge),p(this,ue),p(this,se),p(this,J),p(this,q),p(this,V),p(this,N),_(this,j,{writable:!0,value:null}),_(this,$,{writable:!0,value:new Map}),_(this,U,{writable:!0,value:new Map}),_(this,W,{writable:!0,value:new Y}),_(this,I,{writable:!0,value:new A}),_(this,z,{writable:!0,value:0}),_(this,ee,{writable:!0,value:null}),_(this,Q,{writable:!0,value:null}),_(this,ne,{writable:!0,value:new g}),_(this,fe,{writable:!0,value:!1}),_(this,X,{writable:!0,value:t.AnnotationEditorType.NONE}),_(this,C,{writable:!0,value:new Set}),_(this,M,{writable:!0,value:this.keydown.bind(this)}),_(this,G,{writable:!0,value:this.onEditingAction.bind(this)}),_(this,K,{writable:!0,value:this.onPageChanging.bind(this)}),_(this,E,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),_(this,O,{writable:!0,value:null}),d(this,O,te),d(this,Q,H),m(this,Q)._on("editingaction",m(this,G)),m(this,Q)._on("pagechanging",m(this,K))}destroy(){o(this,V,De).call(this),m(this,Q)._off("editingaction",m(this,G)),m(this,Q)._off("pagechanging",m(this,K));for(const te of m(this,U).values())te.destroy();m(this,U).clear(),m(this,$).clear(),d(this,j,null),m(this,C).clear(),m(this,W).destroy(),m(this,I).destroy()}onPageChanging(te){let{pageNumber:H}=te;d(this,z,H-1)}focusMainContainer(){m(this,O).focus()}keydown(te){var H;(H=this.getActive())!==null&&H!==void 0&&H.shouldGetKeyboardEvents()||ye._keyboardManager.exec(this,te)}onEditingAction(te){["undo","redo","cut","copy","paste","delete","selectAll"].includes(te.name)&&this[te.name]()}setEditingState(te){te?(o(this,N,xe).call(this),o(this,q,Ie).call(this,{isEditing:m(this,X)!==t.AnnotationEditorType.NONE,isEmpty:o(this,be,Ne).call(this),hasSomethingToUndo:m(this,I).hasSomethingToUndo(),hasSomethingToRedo:m(this,I).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:m(this,W).isEmpty()})):(o(this,V,De).call(this),o(this,q,Ie).call(this,{isEditing:!1}))}registerEditorTypes(te){d(this,ee,te);for(const H of m(this,ee))o(this,J,Fe).call(this,H.defaultPropertiesToUpdate)}getId(){return m(this,ne).getId()}addLayer(te){m(this,U).set(te.pageIndex,te),m(this,fe)?te.enable():te.disable()}removeLayer(te){m(this,U).delete(te.pageIndex)}updateMode(te){if(d(this,X,te),te===t.AnnotationEditorType.NONE)this.setEditingState(!1),o(this,ue,pe).call(this);else{this.setEditingState(!0),o(this,se,je).call(this);for(const H of m(this,U).values())H.updateMode(te)}}updateToolbar(te){te!==m(this,X)&&m(this,Q).dispatch("switchannotationeditormode",{source:this,mode:te})}updateParams(te,H){for(const ae of m(this,C))ae.updateParams(te,H);for(const ae of m(this,ee))ae.updateDefaultParams(te,H)}getEditors(te){const H=[];for(const ae of m(this,$).values())ae.pageIndex===te&&H.push(ae);return H}getEditor(te){return m(this,$).get(te)}addEditor(te){m(this,$).set(te.id,te)}removeEditor(te){m(this,$).delete(te.id),this.unselect(te)}setActiveEditor(te){m(this,j)!==te&&(d(this,j,te),te&&o(this,J,Fe).call(this,te.propertiesToUpdate))}toggleSelected(te){if(m(this,C).has(te)){m(this,C).delete(te),te.unselect(),o(this,q,Ie).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,C).add(te),te.select(),o(this,J,Fe).call(this,te.propertiesToUpdate),o(this,q,Ie).call(this,{hasSelectedEditor:!0})}setSelected(te){for(const H of m(this,C))H!==te&&H.unselect();m(this,C).clear(),m(this,C).add(te),te.select(),o(this,J,Fe).call(this,te.propertiesToUpdate),o(this,q,Ie).call(this,{hasSelectedEditor:!0})}isSelected(te){return m(this,C).has(te)}unselect(te){te.unselect(),m(this,C).delete(te),o(this,q,Ie).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,C).size!==0}undo(){m(this,I).undo(),o(this,q,Ie).call(this,{hasSomethingToUndo:m(this,I).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:o(this,be,Ne).call(this)})}redo(){m(this,I).redo(),o(this,q,Ie).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,I).hasSomethingToRedo(),isEmpty:o(this,be,Ne).call(this)})}addCommands(te){m(this,I).add(te),o(this,q,Ie).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:o(this,be,Ne).call(this)})}delete(){if(m(this,j)&&m(this,j).commitOrRemove(),!this.hasSelection)return;const te=[...m(this,C)],H=()=>{for(const Ee of te)Ee.remove()},ae=()=>{for(const Ee of te)o(this,ge,ke).call(this,Ee)};this.addCommands({cmd:H,undo:ae,mustExec:!0})}copy(){if(m(this,j)&&m(this,j).commitOrRemove(),this.hasSelection){const te=[];for(const H of m(this,C))H.isEmpty()||te.push(H);if(te.length===0)return;m(this,W).copy(te),o(this,q,Ie).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(m(this,W).isEmpty())return;this.unselectAll();const te=m(this,U).get(m(this,z)),H=m(this,W).paste().map(he=>te.deserialize(he)),ae=()=>{for(const he of H)o(this,ge,ke).call(this,he);o(this,ve,Oe).call(this,H)},Ee=()=>{for(const he of H)he.remove()};this.addCommands({cmd:ae,undo:Ee,mustExec:!0})}selectAll(){for(const te of m(this,C))te.commit();o(this,ve,Oe).call(this,m(this,$).values())}unselectAll(){if(m(this,j)){m(this,j).commitOrRemove();return}if(o(this,ve,Oe).size!==0){for(const te of m(this,C))te.unselect();m(this,C).clear(),o(this,q,Ie).call(this,{hasSelectedEditor:!1})}}isActive(te){return m(this,j)===te}getActive(){return m(this,j)}getMode(){return m(this,X)}}n.AnnotationEditorUIManager=ye;function xe(){m(this,O).addEventListener("keydown",m(this,M))}function De(){m(this,O).removeEventListener("keydown",m(this,M))}function Ie(Ce){Object.entries(Ce).some(H=>{let[ae,Ee]=H;return m(this,E)[ae]!==Ee})&&m(this,Q).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,E),Ce)})}function Fe(Ce){m(this,Q).dispatch("annotationeditorparamschanged",{source:this,details:Ce})}function je(){if(!m(this,fe)){d(this,fe,!0);for(const Ce of m(this,U).values())Ce.enable()}}function pe(){if(this.unselectAll(),m(this,fe)){d(this,fe,!1);for(const Ce of m(this,U).values())Ce.disable()}}function ke(Ce){const te=m(this,U).get(Ce.pageIndex);te?te.addOrRebuild(Ce):this.addEditor(Ce)}function Ne(){if(m(this,$).size===0)return!0;if(m(this,$).size===1)for(const Ce of m(this,$).values())return Ce.isEmpty();return!1}function Oe(Ce){m(this,C).clear();for(const te of Ce)te.isEmpty()||(m(this,C).add(te),te.select());o(this,q,Ie).call(this,{hasSelectedEditor:!0})}u(ye,"_keyboardManager",new R([[["ctrl+a","mac+meta+a"],ye.prototype.selectAll],[["ctrl+c","mac+meta+c"],ye.prototype.copy],[["ctrl+v","mac+meta+v"],ye.prototype.paste],[["ctrl+x","mac+meta+x"],ye.prototype.cut],[["ctrl+z","mac+meta+z"],ye.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],ye.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],ye.prototype.delete],[["Escape","mac+Escape"],ye.prototype.unselectAll]]))},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.StatTimer=n.RenderingCancelledException=n.PixelsPerInch=n.PageViewport=n.PDFDateString=n.DOMStandardFontDataFactory=n.DOMSVGFactory=n.DOMCanvasFactory=n.DOMCMapReaderFactory=n.AnnotationPrefix=void 0,n.deprecated=A,n.getColorValues=Y,n.getCurrentTransform=B,n.getCurrentTransformInverse=j,n.getFilenameFromUrl=g,n.getPdfFilenameFromUrl=y,n.getRGB=F,n.getXfaPageViewport=k,n.isDataScheme=x,n.isPdfFile=L,n.isValidFetchUrl=l,n.loadScript=h;var t=e(134),s=e(1);function u($,U,W){return U in $?Object.defineProperty($,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):$[U]=W,$}const p="http://www.w3.org/2000/svg",o="pdfjs_internal_id_";n.AnnotationPrefix=o;class _{}n.PixelsPerInch=_,u(_,"CSS",96),u(_,"PDF",72),u(_,"PDF_TO_CSS_UNITS",_.CSS/_.PDF);class c extends t.BaseCanvasFactory{constructor(){let{ownerDocument:U=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=U}_createCanvas(U,W){const I=this._document.createElement("canvas");return I.width=U,I.height=W,I}}n.DOMCanvasFactory=c;async function d($){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(l($,document.baseURI)){const W=await fetch($);if(!W.ok)throw new Error(W.statusText);return U?new Uint8Array(await W.arrayBuffer()):(0,s.stringToBytes)(await W.text())}return new Promise((W,I)=>{const z=new XMLHttpRequest;z.open("GET",$,!0),U&&(z.responseType="arraybuffer"),z.onreadystatechange=()=>{if(z.readyState===XMLHttpRequest.DONE){if(z.status===200||z.status===0){let ee;if(U&&z.response?ee=new Uint8Array(z.response):!U&&z.responseText&&(ee=(0,s.stringToBytes)(z.responseText)),ee){W(ee);return}}I(new Error(z.statusText))}},z.send(null)})}class T extends t.BaseCMapReaderFactory{_fetchData(U,W){return d(U,this.isCompressed).then(I=>({cMapData:I,compressionType:W}))}}n.DOMCMapReaderFactory=T;class m extends t.BaseStandardFontDataFactory{_fetchData(U){return d(U,!0)}}n.DOMStandardFontDataFactory=m;class v extends t.BaseSVGFactory{_createSVG(U){return document.createElementNS(p,U)}}n.DOMSVGFactory=v;class S{constructor(U){let{viewBox:W,scale:I,rotation:z,offsetX:ee=0,offsetY:Q=0,dontFlip:ne=!1}=U;this.viewBox=W,this.scale=I,this.rotation=z,this.offsetX=ee,this.offsetY=Q;const fe=(W[2]+W[0])/2,X=(W[3]+W[1])/2;let C,M,G,K;switch(z%=360,z<0&&(z+=360),z){case 180:C=-1,M=0,G=0,K=1;break;case 90:C=0,M=1,G=1,K=0;break;case 270:C=0,M=-1,G=-1,K=0;break;case 0:C=1,M=0,G=0,K=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ne&&(G=-G,K=-K);let E,O,N,V;C===0?(E=Math.abs(X-W[1])*I+ee,O=Math.abs(fe-W[0])*I+Q,N=Math.abs(W[3]-W[1])*I,V=Math.abs(W[2]-W[0])*I):(E=Math.abs(fe-W[0])*I+ee,O=Math.abs(X-W[1])*I+Q,N=Math.abs(W[2]-W[0])*I,V=Math.abs(W[3]-W[1])*I),this.transform=[C*I,M*I,G*I,K*I,E-C*I*fe-G*I*X,O-M*I*fe-K*I*X],this.width=N,this.height=V}clone(){let{scale:U=this.scale,rotation:W=this.rotation,offsetX:I=this.offsetX,offsetY:z=this.offsetY,dontFlip:ee=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new S({viewBox:this.viewBox.slice(),scale:U,rotation:W,offsetX:I,offsetY:z,dontFlip:ee})}convertToViewportPoint(U,W){return s.Util.applyTransform([U,W],this.transform)}convertToViewportRectangle(U){const W=s.Util.applyTransform([U[0],U[1]],this.transform),I=s.Util.applyTransform([U[2],U[3]],this.transform);return[W[0],W[1],I[0],I[1]]}convertToPdfPoint(U,W){return s.Util.applyInverseTransform([U,W],this.transform)}}n.PageViewport=S;class w extends s.BaseException{constructor(U,W){super(U,"RenderingCancelledException"),this.type=W}}n.RenderingCancelledException=w;function x($){const U=$.length;let W=0;for(;W<U&&$[W].trim()==="";)W++;return $.substring(W,W+5).toLowerCase()==="data:"}function L($){return typeof $=="string"&&/\.pdf$/i.test($)}function g($){const U=$.indexOf("#"),W=$.indexOf("?"),I=Math.min(U>0?U:$.length,W>0?W:$.length);return $.substring($.lastIndexOf("/",I)+1,I)}function y($){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof $!="string")return U;if(x($))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),U;const W=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,I=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,z=W.exec($);let ee=I.exec(z[1])||I.exec(z[2])||I.exec(z[3]);if(ee&&(ee=ee[0],ee.includes("%")))try{ee=I.exec(decodeURIComponent(ee))[0]}catch{}return ee||U}class b{constructor(){this.started=Object.create(null),this.times=[]}time(U){U in this.started&&(0,s.warn)(`Timer is already running for ${U}`),this.started[U]=Date.now()}timeEnd(U){U in this.started||(0,s.warn)(`Timer has not been started for ${U}`),this.times.push({name:U,start:this.started[U],end:Date.now()}),delete this.started[U]}toString(){const U=[];let W=0;for(const I of this.times){const z=I.name;z.length>W&&(W=z.length)}for(const I of this.times){const z=I.end-I.start;U.push(`${I.name.padEnd(W)} ${z}ms
`)}return U.join("")}}n.StatTimer=b;function l($,U){try{const{protocol:W}=U?new URL($,U):new URL($);return W==="http:"||W==="https:"}catch{return!1}}function h($){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((W,I)=>{const z=document.createElement("script");z.src=$,z.onload=function(ee){U&&z.remove(),W(ee)},z.onerror=function(){I(new Error(`Cannot load script at: ${z.src}`))},(document.head||document.documentElement).append(z)})}function A($){console.log("Deprecated API usage: "+$)}let P;class R{static toDateObject(U){if(!U||typeof U!="string")return null;P||(P=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const W=P.exec(U);if(!W)return null;const I=parseInt(W[1],10);let z=parseInt(W[2],10);z=z>=1&&z<=12?z-1:0;let ee=parseInt(W[3],10);ee=ee>=1&&ee<=31?ee:1;let Q=parseInt(W[4],10);Q=Q>=0&&Q<=23?Q:0;let ne=parseInt(W[5],10);ne=ne>=0&&ne<=59?ne:0;let fe=parseInt(W[6],10);fe=fe>=0&&fe<=59?fe:0;const X=W[7]||"Z";let C=parseInt(W[8],10);C=C>=0&&C<=23?C:0;let M=parseInt(W[9],10)||0;return M=M>=0&&M<=59?M:0,X==="-"?(Q+=C,ne+=M):X==="+"&&(Q-=C,ne-=M),new Date(Date.UTC(I,z,ee,Q,ne,fe))}}n.PDFDateString=R;function k($,U){let{scale:W=1,rotation:I=0}=U;const{width:z,height:ee}=$.attributes.style,Q=[0,0,parseInt(z),parseInt(ee)];return new S({viewBox:Q,scale:W,rotation:I})}function F($){if($.startsWith("#")){const U=parseInt($.slice(1),16);return[(U&16711680)>>16,(U&65280)>>8,U&255]}return $.startsWith("rgb(")?$.slice(4,-1).split(",").map(U=>parseInt(U)):$.startsWith("rgba(")?$.slice(5,-1).split(",").map(U=>parseInt(U)).slice(0,3):((0,s.warn)(`Not a valid color format: "${$}"`),[0,0,0])}function Y($){const U=document.createElement("span");U.style.visibility="hidden",document.body.append(U);for(const W of $.keys()){U.style.color=W;const I=window.getComputedStyle(U).color;$.set(W,F(I))}U.remove()}function B($){const{a:U,b:W,c:I,d:z,e:ee,f:Q}=$.getTransform();return[U,W,I,z,ee,Q]}function j($){const{a:U,b:W,c:I,d:z,e:ee,f:Q}=$.getTransform().invertSelf();return[U,W,I,z,ee,Q]}},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseStandardFontDataFactory=n.BaseSVGFactory=n.BaseCanvasFactory=n.BaseCMapReaderFactory=void 0;var t=e(1);class s{constructor(){this.constructor===s&&(0,t.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,d){if(c<=0||d<=0)throw new Error("Invalid canvas size");const T=this._createCanvas(c,d);return{canvas:T,context:T.getContext("2d")}}reset(c,d,T){if(!c.canvas)throw new Error("Canvas is not specified");if(d<=0||T<=0)throw new Error("Invalid canvas size");c.canvas.width=d,c.canvas.height=T}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,d){(0,t.unreachable)("Abstract method `_createCanvas` called.")}}n.BaseCanvasFactory=s;class u{constructor(c){let{baseUrl:d=null,isCompressed:T=!1}=c;this.constructor===u&&(0,t.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=d,this.isCompressed=T}async fetch(c){let{name:d}=c;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!d)throw new Error("CMap name must be specified.");const T=this.baseUrl+d+(this.isCompressed?".bcmap":""),m=this.isCompressed?t.CMapCompressionType.BINARY:t.CMapCompressionType.NONE;return this._fetchData(T,m).catch(v=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${T}`)})}_fetchData(c,d){(0,t.unreachable)("Abstract method `_fetchData` called.")}}n.BaseCMapReaderFactory=u;class p{constructor(c){let{baseUrl:d=null}=c;this.constructor===p&&(0,t.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=d}async fetch(c){let{filename:d}=c;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!d)throw new Error("Font filename must be specified.");const T=`${this.baseUrl}${d}`;return this._fetchData(T).catch(m=>{throw new Error(`Unable to load font data at: ${T}`)})}_fetchData(c){(0,t.unreachable)("Abstract method `_fetchData` called.")}}n.BaseStandardFontDataFactory=p;class o{constructor(){this.constructor===o&&(0,t.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,d){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(c<=0||d<=0)throw new Error("Invalid SVG dimensions");const m=this._createSVG("svg:svg");return m.setAttribute("version","1.1"),T||(m.setAttribute("width",`${c}px`),m.setAttribute("height",`${d}px`)),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("viewBox",`0 0 ${c} ${d}`),m}createElement(c){if(typeof c!="string")throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,t.unreachable)("Abstract method `_createSVG` called.")}}n.BaseSVGFactory=o},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MurmurHash3_64=void 0;var t=e(1);const s=3285377520,u=4294901760,p=65535;class o{constructor(c){this.h1=c?c&4294967295:s,this.h2=c?c&4294967295:s}update(c){let d,T;if(typeof c=="string"){d=new Uint8Array(c.length*2),T=0;for(let A=0,P=c.length;A<P;A++){const R=c.charCodeAt(A);R<=255?d[T++]=R:(d[T++]=R>>>8,d[T++]=R&255)}}else if((0,t.isArrayBuffer)(c))d=c.slice(),T=d.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const m=T>>2,v=T-m*4,S=new Uint32Array(d.buffer,0,m);let w=0,x=0,L=this.h1,g=this.h2;const y=3432918353,b=461845907,l=y&p,h=b&p;for(let A=0;A<m;A++)A&1?(w=S[A],w=w*y&u|w*l&p,w=w<<15|w>>>17,w=w*b&u|w*h&p,L^=w,L=L<<13|L>>>19,L=L*5+3864292196):(x=S[A],x=x*y&u|x*l&p,x=x<<15|x>>>17,x=x*b&u|x*h&p,g^=x,g=g<<13|g>>>19,g=g*5+3864292196);switch(w=0,v){case 3:w^=d[m*4+2]<<16;case 2:w^=d[m*4+1]<<8;case 1:w^=d[m*4],w=w*y&u|w*l&p,w=w<<15|w>>>17,w=w*b&u|w*h&p,m&1?L^=w:g^=w}this.h1=L,this.h2=g}hexdigest(){let c=this.h1,d=this.h2;c^=d>>>1,c=c*3981806797&u|c*36045&p,d=d*4283543511&u|((d<<16|c>>>16)*2950163797&u)>>>16,c^=d>>>1,c=c*444984403&u|c*60499&p,d=d*3301882366&u|((d<<16|c>>>16)*3120437893&u)>>>16,c^=d>>>1;const T=(c>>>0).toString(16),m=(d>>>0).toString(16);return T.padStart(8,"0")+m.padStart(8,"0")}}n.MurmurHash3_64=o},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FontLoader=n.FontFaceObject=void 0;var t=e(1);class s{constructor(_){let{docId:c,onUnsupportedFeature:d,ownerDocument:T=globalThis.document,styleElement:m=null}=_;this.constructor===s&&(0,t.unreachable)("Cannot initialize BaseFontLoader."),this.docId=c,this._onUnsupportedFeature=d,this._document=T,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(_){this.nativeFontFaces.push(_),this._document.fonts.add(_)}insertRule(_){let c=this.styleElement;c||(c=this.styleElement=this._document.createElement("style"),c.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(c));const d=c.sheet;d.insertRule(_,d.cssRules.length)}clear(){for(const _ of this.nativeFontFaces)this._document.fonts.delete(_);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(_){if(_.attached||_.missingFile)return;if(_.attached=!0,this.isFontLoadingAPISupported){const d=_.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(T){throw this._onUnsupportedFeature({featureId:t.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,t.warn)(`Failed to load font '${d.family}': '${T}'.`),_.disableFontFace=!0,T}}return}const c=_.createFontFaceRule();if(c){if(this.insertRule(c),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const T=this._queueLoadingCallback(d);this._prepareFontLoadEvent([c],[_],T)})}}_queueLoadingCallback(_){(0,t.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var _;const c=!!((_=this._document)!==null&&_!==void 0&&_.fonts);return(0,t.shadow)(this,"isFontLoadingAPISupported",c)}get isSyncFontLoadingSupported(){(0,t.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,t.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(_,c,d){(0,t.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let u;n.FontLoader=u,n.FontLoader=u=class extends s{constructor(_){super(_),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let _=!1;if(typeof navigator>"u")_=!0;else{const c=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(c==null?void 0:c[1])>=14&&(_=!0)}return(0,t.shadow)(this,"isSyncFontLoadingSupported",_)}_queueLoadingCallback(_){function c(){for((0,t.assert)(!T.done,"completeRequest() cannot be called twice."),T.done=!0;d.requests.length>0&&d.requests[0].done;){const m=d.requests.shift();setTimeout(m.callback,0)}}const d=this.loadingContext,T={id:`pdfjs-font-loading-${d.nextRequestId++}`,done:!1,complete:c,callback:_};return d.requests.push(T),T}get _loadTestFont(){const _=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,t.shadow)(this,"_loadTestFont",_())}_prepareFontLoadEvent(_,c,d){function T(B,j){return B.charCodeAt(j)<<24|B.charCodeAt(j+1)<<16|B.charCodeAt(j+2)<<8|B.charCodeAt(j+3)&255}function m(B,j,$,U){const W=B.substring(0,j),I=B.substring(j+$);return W+U+I}let v,S;const w=this._document.createElement("canvas");w.width=1,w.height=1;const x=w.getContext("2d");let L=0;function g(B,j){if(L++,L>30){(0,t.warn)("Load test font never loaded."),j();return}if(x.font="30px "+B,x.fillText(".",0,20),x.getImageData(0,0,1,1).data[3]>0){j();return}setTimeout(g.bind(null,B,j))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=m(b,976,y.length,y);const h=16,A=1482184792;let P=T(b,h);for(v=0,S=y.length-3;v<S;v+=4)P=P-A+T(y,v)|0;v<y.length&&(P=P-A+T(y+"XXX",v)|0),b=m(b,h,4,(0,t.string32)(P));const R=`url(data:font/opentype;base64,${btoa(b)});`,k=`@font-face {font-family:"${y}";src:${R}}`;this.insertRule(k);const F=[];for(const B of c)F.push(B.loadedName);F.push(y);const Y=this._document.createElement("div");Y.style.visibility="hidden",Y.style.width=Y.style.height="10px",Y.style.position="absolute",Y.style.top=Y.style.left="0px";for(const B of F){const j=this._document.createElement("span");j.textContent="Hi",j.style.fontFamily=B,Y.append(j)}this._document.body.append(Y),g(y,()=>{Y.remove(),d.complete()})}};class p{constructor(_,c){let{isEvalSupported:d=!0,disableFontFace:T=!1,ignoreErrors:m=!1,onUnsupportedFeature:v,fontRegistry:S=null}=c;this.compiledGlyphs=Object.create(null);for(const w in _)this[w]=_[w];this.isEvalSupported=d!==!1,this.disableFontFace=T===!0,this.ignoreErrors=m===!0,this._onUnsupportedFeature=v,this.fontRegistry=S}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let _;if(!this.cssFontInfo)_=new FontFace(this.loadedName,this.data,{});else{const c={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(c.style=`oblique ${this.cssFontInfo.italicAngle}deg`),_=new FontFace(this.cssFontInfo.fontFamily,this.data,c)}return this.fontRegistry&&this.fontRegistry.registerFont(this),_}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const _=(0,t.bytesToString)(this.data),c=`url(data:${this.mimetype};base64,${btoa(_)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${c}}`;else{let T=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(T+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${T}src:${c}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,c),d}getPathGenerator(_,c){if(this.compiledGlyphs[c]!==void 0)return this.compiledGlyphs[c];let d;try{d=_.get(this.loadedName+"_path_"+c)}catch(T){if(!this.ignoreErrors)throw T;return this._onUnsupportedFeature({featureId:t.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,t.warn)(`getPathGenerator - ignoring character: "${T}".`),this.compiledGlyphs[c]=function(m,v){}}if(this.isEvalSupported&&t.FeatureTest.isEvalSupported){const T=[];for(const m of d){const v=m.args!==void 0?m.args.join(","):"";T.push("c.",m.cmd,"(",v,`);
`)}return this.compiledGlyphs[c]=new Function("c","size",T.join(""))}return this.compiledGlyphs[c]=function(T,m){for(const v of d)v.cmd==="scale"&&(v.args=[m,-m]),T[v.cmd].apply(T,v.args)}}}n.FontFaceObject=p},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CanvasGraphics=void 0;var t=e(133),s=e(1),u=e(138),p=e(139),o=e(3);function _(X,C){c(X,C),C.add(X)}function c(X,C){if(C.has(X))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(X,C,M){if(!C.has(X))throw new TypeError("attempted to get private field on non-instance");return M}const T=16,m=100,v=4096,S=15,w=10,x=o.isNodeJS&&typeof Path2D>"u"?-1:1e3,L=16;function g(X,C){if(X._removeMirroring)throw new Error("Context is already forwarding operations.");X.__originalSave=X.save,X.__originalRestore=X.restore,X.__originalRotate=X.rotate,X.__originalScale=X.scale,X.__originalTranslate=X.translate,X.__originalTransform=X.transform,X.__originalSetTransform=X.setTransform,X.__originalResetTransform=X.resetTransform,X.__originalClip=X.clip,X.__originalMoveTo=X.moveTo,X.__originalLineTo=X.lineTo,X.__originalBezierCurveTo=X.bezierCurveTo,X.__originalRect=X.rect,X.__originalClosePath=X.closePath,X.__originalBeginPath=X.beginPath,X._removeMirroring=()=>{X.save=X.__originalSave,X.restore=X.__originalRestore,X.rotate=X.__originalRotate,X.scale=X.__originalScale,X.translate=X.__originalTranslate,X.transform=X.__originalTransform,X.setTransform=X.__originalSetTransform,X.resetTransform=X.__originalResetTransform,X.clip=X.__originalClip,X.moveTo=X.__originalMoveTo,X.lineTo=X.__originalLineTo,X.bezierCurveTo=X.__originalBezierCurveTo,X.rect=X.__originalRect,X.closePath=X.__originalClosePath,X.beginPath=X.__originalBeginPath,delete X._removeMirroring},X.save=function(){C.save(),this.__originalSave()},X.restore=function(){C.restore(),this.__originalRestore()},X.translate=function(G,K){C.translate(G,K),this.__originalTranslate(G,K)},X.scale=function(G,K){C.scale(G,K),this.__originalScale(G,K)},X.transform=function(G,K,E,O,N,V){C.transform(G,K,E,O,N,V),this.__originalTransform(G,K,E,O,N,V)},X.setTransform=function(G,K,E,O,N,V){C.setTransform(G,K,E,O,N,V),this.__originalSetTransform(G,K,E,O,N,V)},X.resetTransform=function(){C.resetTransform(),this.__originalResetTransform()},X.rotate=function(G){C.rotate(G),this.__originalRotate(G)},X.clip=function(G){C.clip(G),this.__originalClip(G)},X.moveTo=function(M,G){C.moveTo(M,G),this.__originalMoveTo(M,G)},X.lineTo=function(M,G){C.lineTo(M,G),this.__originalLineTo(M,G)},X.bezierCurveTo=function(M,G,K,E,O,N){C.bezierCurveTo(M,G,K,E,O,N),this.__originalBezierCurveTo(M,G,K,E,O,N)},X.rect=function(M,G,K,E){C.rect(M,G,K,E),this.__originalRect(M,G,K,E)},X.closePath=function(){C.closePath(),this.__originalClosePath()},X.beginPath=function(){C.beginPath(),this.__originalBeginPath()}}class y{constructor(C){this.canvasFactory=C,this.cache=Object.create(null)}getCanvas(C,M,G){let K;return this.cache[C]!==void 0?(K=this.cache[C],this.canvasFactory.reset(K,M,G)):(K=this.canvasFactory.create(M,G),this.cache[C]=K),K}delete(C){delete this.cache[C]}clear(){for(const C in this.cache){const M=this.cache[C];this.canvasFactory.destroy(M),delete this.cache[C]}}}function b(X,C,M,G,K,E,O,N,V,q){const[J,se,ue,ge,be,ve]=(0,t.getCurrentTransform)(X);if(se===0&&ue===0){const De=O*J+be,Ie=Math.round(De),Fe=N*ge+ve,je=Math.round(Fe),pe=(O+V)*J+be,ke=Math.abs(Math.round(pe)-Ie)||1,Ne=(N+q)*ge+ve,Oe=Math.abs(Math.round(Ne)-je)||1;return X.setTransform(Math.sign(J),0,0,Math.sign(ge),Ie,je),X.drawImage(C,M,G,K,E,0,0,ke,Oe),X.setTransform(J,se,ue,ge,be,ve),[ke,Oe]}if(J===0&&ge===0){const De=N*ue+be,Ie=Math.round(De),Fe=O*se+ve,je=Math.round(Fe),pe=(N+q)*ue+be,ke=Math.abs(Math.round(pe)-Ie)||1,Ne=(O+V)*se+ve,Oe=Math.abs(Math.round(Ne)-je)||1;return X.setTransform(0,Math.sign(se),Math.sign(ue),0,Ie,je),X.drawImage(C,M,G,K,E,0,0,Oe,ke),X.setTransform(J,se,ue,ge,be,ve),[Oe,ke]}X.drawImage(C,M,G,K,E,O,N,V,q);const ye=Math.hypot(J,se),xe=Math.hypot(ue,ge);return[ye*V,xe*q]}function l(X){const{width:C,height:M}=X;if(C>x||M>x)return null;const G=1e3,K=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),E=C+1;let O=new Uint8Array(E*(M+1)),N,V,q;const J=C+7&-8;let se=new Uint8Array(J*M),ue=0;for(const xe of X.data){let De=128;for(;De>0;)se[ue++]=xe&De?0:255,De>>=1}let ge=0;for(ue=0,se[ue]!==0&&(O[0]=1,++ge),V=1;V<C;V++)se[ue]!==se[ue+1]&&(O[V]=se[ue]?2:1,++ge),ue++;for(se[ue]!==0&&(O[V]=2,++ge),N=1;N<M;N++){ue=N*J,q=N*E,se[ue-J]!==se[ue]&&(O[q]=se[ue]?1:8,++ge);let xe=(se[ue]?4:0)+(se[ue-J]?8:0);for(V=1;V<C;V++)xe=(xe>>2)+(se[ue+1]?4:0)+(se[ue-J+1]?8:0),K[xe]&&(O[q+V]=K[xe],++ge),ue++;if(se[ue-J]!==se[ue]&&(O[q+V]=se[ue]?2:4,++ge),ge>G)return null}for(ue=J*(M-1),q=N*E,se[ue]!==0&&(O[q]=8,++ge),V=1;V<C;V++)se[ue]!==se[ue+1]&&(O[q+V]=se[ue]?4:8,++ge),ue++;if(se[ue]!==0&&(O[q+V]=4,++ge),ge>G)return null;const be=new Int32Array([0,E,-1,0,-E,0,0,0,1]),ve=new Path2D;for(N=0;ge&&N<=M;N++){let xe=N*E;const De=xe+C;for(;xe<De&&!O[xe];)xe++;if(xe===De)continue;ve.moveTo(xe%E,N);const Ie=xe;let Fe=O[xe];do{const je=be[Fe];do xe+=je;while(!O[xe]);const pe=O[xe];pe!==5&&pe!==10?(Fe=pe,O[xe]=0):(Fe=pe&51*Fe>>4,O[xe]&=Fe>>2|Fe<<2),ve.lineTo(xe%E,xe/E|0),O[xe]||--ge}while(Ie!==xe);--N}return se=null,O=null,function(xe){xe.save(),xe.scale(1/C,-1/M),xe.translate(0,-M),xe.fill(ve),xe.beginPath(),xe.restore()}}class h{constructor(C,M){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,C,M])}clone(){const C=Object.create(this);return C.clipBox=this.clipBox.slice(),C}setCurrentPoint(C,M){this.x=C,this.y=M}updatePathMinMax(C,M,G){[M,G]=s.Util.applyTransform([M,G],C),this.minX=Math.min(this.minX,M),this.minY=Math.min(this.minY,G),this.maxX=Math.max(this.maxX,M),this.maxY=Math.max(this.maxY,G)}updateRectMinMax(C,M){const G=s.Util.applyTransform(M,C),K=s.Util.applyTransform(M.slice(2),C);this.minX=Math.min(this.minX,G[0],K[0]),this.minY=Math.min(this.minY,G[1],K[1]),this.maxX=Math.max(this.maxX,G[0],K[0]),this.maxY=Math.max(this.maxY,G[1],K[1])}updateScalingPathMinMax(C,M){s.Util.scaleMinMax(C,M),this.minX=Math.min(this.minX,M[0]),this.maxX=Math.max(this.maxX,M[1]),this.minY=Math.min(this.minY,M[2]),this.maxY=Math.max(this.maxY,M[3])}updateCurvePathMinMax(C,M,G,K,E,O,N,V,q,J){const se=s.Util.bezierBoundingBox(M,G,K,E,O,N,V,q);if(J){J[0]=Math.min(J[0],se[0],se[2]),J[1]=Math.max(J[1],se[0],se[2]),J[2]=Math.min(J[2],se[1],se[3]),J[3]=Math.max(J[3],se[1],se[3]);return}this.updateRectMinMax(C,se)}getPathBoundingBox(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.PathType.FILL,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const G=[this.minX,this.minY,this.maxX,this.maxY];if(C===u.PathType.STROKE){M||(0,s.unreachable)("Stroke bounding box must include transform.");const K=s.Util.singularValueDecompose2dScale(M),E=K[0]*this.lineWidth/2,O=K[1]*this.lineWidth/2;G[0]-=E,G[1]-=O,G[2]+=E,G[3]+=O}return G}updateClipFromPath(){const C=s.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(C||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(C){this.clipBox=C,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.PathType.FILL,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return s.Util.intersect(this.clipBox,this.getPathBoundingBox(C,M))}}function A(X,C){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData<"u"&&C instanceof ImageData){X.putImageData(C,0,0);return}const G=C.height,K=C.width,E=G%L,O=(G-E)/L,N=E===0?O:O+1,V=X.createImageData(K,L);let q=0,J;const se=C.data,ue=V.data;let ge,be,ve,ye,xe,De,Ie,Fe;if(M)switch(M.length){case 1:xe=M[0],De=M[0],Ie=M[0],Fe=M[0];break;case 4:xe=M[0],De=M[1],Ie=M[2],Fe=M[3];break}if(C.kind===s.ImageKind.GRAYSCALE_1BPP){const je=se.byteLength,pe=new Uint32Array(ue.buffer,0,ue.byteLength>>2),ke=pe.length,Ne=K+7>>3;let Oe=4294967295,Ce=s.FeatureTest.isLittleEndian?4278190080:255;for(Fe&&Fe[0]===255&&Fe[255]===0&&([Oe,Ce]=[Ce,Oe]),ge=0;ge<N;ge++){for(ve=ge<O?L:E,J=0,be=0;be<ve;be++){const te=je-q;let H=0;const ae=te>Ne?K:te*8-7,Ee=ae&-8;let he=0,Pe=0;for(;H<Ee;H+=8)Pe=se[q++],pe[J++]=Pe&128?Oe:Ce,pe[J++]=Pe&64?Oe:Ce,pe[J++]=Pe&32?Oe:Ce,pe[J++]=Pe&16?Oe:Ce,pe[J++]=Pe&8?Oe:Ce,pe[J++]=Pe&4?Oe:Ce,pe[J++]=Pe&2?Oe:Ce,pe[J++]=Pe&1?Oe:Ce;for(;H<ae;H++)he===0&&(Pe=se[q++],he=128),pe[J++]=Pe&he?Oe:Ce,he>>=1}for(;J<ke;)pe[J++]=0;X.putImageData(V,0,ge*L)}}else if(C.kind===s.ImageKind.RGBA_32BPP){const je=!!(xe||De||Ie);for(be=0,ye=K*L*4,ge=0;ge<O;ge++){if(ue.set(se.subarray(q,q+ye)),q+=ye,je)for(let pe=0;pe<ye;pe+=4)xe&&(ue[pe+0]=xe[ue[pe+0]]),De&&(ue[pe+1]=De[ue[pe+1]]),Ie&&(ue[pe+2]=Ie[ue[pe+2]]);X.putImageData(V,0,be),be+=L}if(ge<N){if(ye=K*E*4,ue.set(se.subarray(q,q+ye)),je)for(let pe=0;pe<ye;pe+=4)xe&&(ue[pe+0]=xe[ue[pe+0]]),De&&(ue[pe+1]=De[ue[pe+1]]),Ie&&(ue[pe+2]=Ie[ue[pe+2]]);X.putImageData(V,0,be)}}else if(C.kind===s.ImageKind.RGB_24BPP){const je=!!(xe||De||Ie);for(ve=L,ye=K*ve,ge=0;ge<N;ge++){for(ge>=O&&(ve=E,ye=K*ve),J=0,be=ye;be--;)ue[J++]=se[q++],ue[J++]=se[q++],ue[J++]=se[q++],ue[J++]=255;if(je)for(let pe=0;pe<J;pe+=4)xe&&(ue[pe+0]=xe[ue[pe+0]]),De&&(ue[pe+1]=De[ue[pe+1]]),Ie&&(ue[pe+2]=Ie[ue[pe+2]]);X.putImageData(V,0,ge*L)}}else throw new Error(`bad image kind: ${C.kind}`)}function P(X,C){if(C.bitmap){X.drawImage(C.bitmap,0,0);return}const M=C.height,G=C.width,K=M%L,E=(M-K)/L,O=K===0?E:E+1,N=X.createImageData(G,L);let V=0;const q=C.data,J=N.data;for(let se=0;se<O;se++){const ue=se<E?L:K;({srcPos:V}=(0,p.applyMaskImageData)({src:q,srcPos:V,dest:J,width:G,height:ue})),X.putImageData(N,0,se*L)}}function R(X,C){const M=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let G=0,K=M.length;G<K;G++){const E=M[G];X[E]!==void 0&&(C[E]=X[E])}X.setLineDash!==void 0&&(C.setLineDash(X.getLineDash()),C.lineDashOffset=X.lineDashOffset)}function k(X,C){X.strokeStyle=X.fillStyle=C||"#000000",X.fillRule="nonzero",X.globalAlpha=1,X.lineWidth=1,X.lineCap="butt",X.lineJoin="miter",X.miterLimit=10,X.globalCompositeOperation="source-over",X.font="10px sans-serif",X.setLineDash!==void 0&&(X.setLineDash([]),X.lineDashOffset=0)}function F(X,C,M,G){const K=X.length;for(let E=3;E<K;E+=4){const O=X[E];if(O===0)X[E-3]=C,X[E-2]=M,X[E-1]=G;else if(O<255){const N=255-O;X[E-3]=X[E-3]*O+C*N>>8,X[E-2]=X[E-2]*O+M*N>>8,X[E-1]=X[E-1]*O+G*N>>8}}}function Y(X,C,M){const G=X.length,K=1/255;for(let E=3;E<G;E+=4){const O=M?M[X[E]]:X[E];C[E]=C[E]*O*K|0}}function B(X,C,M){const G=X.length;for(let K=3;K<G;K+=4){const E=X[K-3]*77+X[K-2]*152+X[K-1]*28;C[K]=M?C[K]*M[E>>8]>>8:C[K]*E>>16}}function j(X,C,M,G,K,E,O,N,V,q,J){const se=!!E,ue=se?E[0]:0,ge=se?E[1]:0,be=se?E[2]:0;let ve;K==="Luminosity"?ve=B:ve=Y;const xe=Math.min(G,Math.ceil(1048576/M));for(let De=0;De<G;De+=xe){const Ie=Math.min(xe,G-De),Fe=X.getImageData(N-q,De+(V-J),M,Ie),je=C.getImageData(N,De+V,M,Ie);se&&F(Fe.data,ue,ge,be),ve(Fe.data,je.data,O),C.putImageData(je,N,De+V)}}function $(X,C,M,G){const K=G[0],E=G[1],O=G[2]-K,N=G[3]-E;O===0||N===0||(j(C.context,M,O,N,C.subtype,C.backdrop,C.transferMap,K,E,C.offsetX,C.offsetY),X.save(),X.globalAlpha=1,X.globalCompositeOperation="source-over",X.setTransform(1,0,0,1,0,0),X.drawImage(M.canvas,0,0),X.restore())}function U(X,C){const M=s.Util.singularValueDecompose2dScale(X);M[0]=Math.fround(M[0]),M[1]=Math.fround(M[1]);const G=Math.fround((globalThis.devicePixelRatio||1)*t.PixelsPerInch.PDF_TO_CSS_UNITS);return C!==void 0?C:M[0]<=G||M[1]<=G}const W=["butt","round","square"],I=["miter","round","bevel"],z={},ee={};var Q=new WeakSet;class ne{constructor(C,M,G,K,E,O,N,V){_(this,Q),this.ctx=C,this.current=new h(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=M,this.objs=G,this.canvasFactory=K,this.imageLayer=E,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=O,this.cachedCanvases=new y(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=N,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(V==null?void 0:V.background)||null,this.foregroundColor=(V==null?void 0:V.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(C){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof C=="string"?C.startsWith("g_")?this.commonObjs.get(C):this.objs.get(C):M}beginDrawing(C){let{transform:M,viewport:G,transparency:K=!1,background:E=null}=C;const O=this.ctx.canvas.width,N=this.ctx.canvas.height,V=E||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const q=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const J=this.backgroundColor=this.ctx.fillStyle;let se=!0,ue=V;if(this.ctx.fillStyle=V,ue=this.ctx.fillStyle,se=typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue),q==="#000000"&&J==="#ffffff"||q===J||!se)this.foregroundColor=this.backgroundColor=null;else{const[ge,be,ve]=(0,t.getRGB)(ue),ye=De=>(De/=255,De<=.03928?De/12.92:((De+.055)/1.055)**2.4),xe=Math.round(.2126*ye(ge)+.7152*ye(be)+.0722*ye(ve));this.selectColor=(De,Ie,Fe)=>{const je=.2126*ye(De)+.7152*ye(Ie)+.0722*ye(Fe);return Math.round(je)===xe?J:q}}}if(this.ctx.fillStyle=this.backgroundColor||V,this.ctx.fillRect(0,0,O,N),this.ctx.restore(),K){const q=this.cachedCanvases.getCanvas("transparent",O,N);this.compositeCtx=this.ctx,this.transparentCanvas=q.canvas,this.ctx=q.context,this.ctx.save(),this.ctx.transform(...(0,t.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),k(this.ctx,this.foregroundColor),M&&(this.ctx.transform(...M),this.outputScaleX=M[0],this.outputScaleY=M[0]),this.ctx.transform(...G.transform),this.viewportScale=G.scale,this.baseTransform=(0,t.getCurrentTransform)(this.ctx),this.imageLayer&&((0,t.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(C,M,G,K){const E=C.argsArray,O=C.fnArray;let N=M||0;const V=E.length;if(V===N)return N;const q=V-N>w&&typeof G=="function",J=q?Date.now()+S:0;let se=0;const ue=this.commonObjs,ge=this.objs;let be;for(;;){if(K!==void 0&&N===K.nextBreakPoint)return K.breakIt(N,G),N;if(be=O[N],be!==s.OPS.dependency)this[be].apply(this,E[N]);else for(const ve of E[N]){const ye=ve.startsWith("g_")?ue:ge;if(!ye.has(ve))return ye.get(ve,G),N}if(N++,N===V)return N;if(q&&++se>w){if(Date.now()>J)return G(),N;se=0}}}endDrawing(){d(this,Q,fe).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const C of this._cachedBitmapsMap.values()){for(const M of C.values())typeof HTMLCanvasElement<"u"&&M instanceof HTMLCanvasElement&&(M.width=M.height=0);C.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(C,M){const G=C.width,K=C.height;let E=Math.max(Math.hypot(M[0],M[1]),1),O=Math.max(Math.hypot(M[2],M[3]),1),N=G,V=K,q="prescale1",J,se;for(;E>2&&N>1||O>2&&V>1;){let ue=N,ge=V;E>2&&N>1&&(ue=Math.ceil(N/2),E/=N/ue),O>2&&V>1&&(ge=Math.ceil(V/2),O/=V/ge),J=this.cachedCanvases.getCanvas(q,ue,ge),se=J.context,se.clearRect(0,0,ue,ge),se.drawImage(C,0,0,N,V,0,0,ue,ge),C=J.canvas,N=ue,V=ge,q=q==="prescale1"?"prescale2":"prescale1"}return{img:C,paintWidth:N,paintHeight:V}}_createMaskCanvas(C){const M=this.ctx,{width:G,height:K}=C,E=this.current.fillColor,O=this.current.patternFill,N=(0,t.getCurrentTransform)(M);let V,q,J,se;if((C.bitmap||C.data)&&C.count>1){const ke=C.bitmap||C.data.buffer,Ne=N.slice(0,4);q=JSON.stringify(O?Ne:[Ne,E]),V=this._cachedBitmapsMap.get(ke),V||(V=new Map,this._cachedBitmapsMap.set(ke,V));const Oe=V.get(q);if(Oe&&!O){const Ce=Math.round(Math.min(N[0],N[2])+N[4]),te=Math.round(Math.min(N[1],N[3])+N[5]);return{canvas:Oe,offsetX:Ce,offsetY:te}}J=Oe}J||(se=this.cachedCanvases.getCanvas("maskCanvas",G,K),P(se.context,C));let ue=s.Util.transform(N,[1/G,0,0,-1/K,0,0]);ue=s.Util.transform(ue,[1,0,0,1,0,-K]);const ge=s.Util.applyTransform([0,0],ue),be=s.Util.applyTransform([G,K],ue),ve=s.Util.normalizeRect([ge[0],ge[1],be[0],be[1]]),ye=Math.round(ve[2]-ve[0])||1,xe=Math.round(ve[3]-ve[1])||1,De=this.cachedCanvases.getCanvas("fillCanvas",ye,xe),Ie=De.context,Fe=Math.min(ge[0],be[0]),je=Math.min(ge[1],be[1]);Ie.translate(-Fe,-je),Ie.transform(...ue),J||(J=this._scaleImage(se.canvas,(0,t.getCurrentTransformInverse)(Ie)),J=J.img,V&&O&&V.set(q,J)),Ie.imageSmoothingEnabled=U((0,t.getCurrentTransform)(Ie),C.interpolate),b(Ie,J,0,0,J.width,J.height,0,0,G,K),Ie.globalCompositeOperation="source-in";const pe=s.Util.transform((0,t.getCurrentTransformInverse)(Ie),[1,0,0,1,-Fe,-je]);return Ie.fillStyle=O?E.getPattern(M,this,pe,u.PathType.FILL):E,Ie.fillRect(0,0,G,K),V&&!O&&(this.cachedCanvases.delete("fillCanvas"),V.set(q,De.canvas)),{canvas:De.canvas,offsetX:Math.round(Fe),offsetY:Math.round(je)}}setLineWidth(C){C!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=C,this.ctx.lineWidth=C}setLineCap(C){this.ctx.lineCap=W[C]}setLineJoin(C){this.ctx.lineJoin=I[C]}setMiterLimit(C){this.ctx.miterLimit=C}setDash(C,M){const G=this.ctx;G.setLineDash!==void 0&&(G.setLineDash(C),G.lineDashOffset=M)}setRenderingIntent(C){}setFlatness(C){}setGState(C){for(let M=0,G=C.length;M<G;M++){const K=C[M],E=K[0],O=K[1];switch(E){case"LW":this.setLineWidth(O);break;case"LC":this.setLineCap(O);break;case"LJ":this.setLineJoin(O);break;case"ML":this.setMiterLimit(O);break;case"D":this.setDash(O[0],O[1]);break;case"RI":this.setRenderingIntent(O);break;case"FL":this.setFlatness(O);break;case"Font":this.setFont(O[0],O[1]);break;case"CA":this.current.strokeAlpha=K[1];break;case"ca":this.current.fillAlpha=K[1],this.ctx.globalAlpha=K[1];break;case"BM":this.ctx.globalCompositeOperation=O;break;case"SMask":this.current.activeSMask=O?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=O}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const C=this.inSMaskMode;this.current.activeSMask&&!C?this.beginSMaskMode():!this.current.activeSMask&&C&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const C=this.ctx.canvas.width,M=this.ctx.canvas.height,G="smaskGroupAt"+this.groupLevel,K=this.cachedCanvases.getCanvas(G,C,M);this.suspendedCtx=this.ctx,this.ctx=K.context;const E=this.ctx;E.setTransform(...(0,t.getCurrentTransform)(this.suspendedCtx)),R(this.suspendedCtx,E),g(E,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),R(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(C){if(!this.current.activeSMask)return;C?(C[0]=Math.floor(C[0]),C[1]=Math.floor(C[1]),C[2]=Math.ceil(C[2]),C[3]=Math.ceil(C[3])):C=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const M=this.current.activeSMask,G=this.suspendedCtx;$(G,M,this.ctx,C),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(R(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const C=this.current;this.stateStack.push(C),this.current=C.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),R(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(C,M,G,K,E,O){this.ctx.transform(C,M,G,K,E,O),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(C,M,G){const K=this.ctx,E=this.current;let O=E.x,N=E.y,V,q;const J=(0,t.getCurrentTransform)(K),se=J[0]===0&&J[3]===0||J[1]===0&&J[2]===0,ue=se?G.slice(0):null;for(let ge=0,be=0,ve=C.length;ge<ve;ge++)switch(C[ge]|0){case s.OPS.rectangle:O=M[be++],N=M[be++];const ye=M[be++],xe=M[be++],De=O+ye,Ie=N+xe;K.moveTo(O,N),ye===0||xe===0?K.lineTo(De,Ie):(K.lineTo(De,N),K.lineTo(De,Ie),K.lineTo(O,Ie)),se||E.updateRectMinMax(J,[O,N,De,Ie]),K.closePath();break;case s.OPS.moveTo:O=M[be++],N=M[be++],K.moveTo(O,N),se||E.updatePathMinMax(J,O,N);break;case s.OPS.lineTo:O=M[be++],N=M[be++],K.lineTo(O,N),se||E.updatePathMinMax(J,O,N);break;case s.OPS.curveTo:V=O,q=N,O=M[be+4],N=M[be+5],K.bezierCurveTo(M[be],M[be+1],M[be+2],M[be+3],O,N),E.updateCurvePathMinMax(J,V,q,M[be],M[be+1],M[be+2],M[be+3],O,N,ue),be+=6;break;case s.OPS.curveTo2:V=O,q=N,K.bezierCurveTo(O,N,M[be],M[be+1],M[be+2],M[be+3]),E.updateCurvePathMinMax(J,V,q,O,N,M[be],M[be+1],M[be+2],M[be+3],ue),O=M[be+2],N=M[be+3],be+=4;break;case s.OPS.curveTo3:V=O,q=N,O=M[be+2],N=M[be+3],K.bezierCurveTo(M[be],M[be+1],O,N,O,N),E.updateCurvePathMinMax(J,V,q,M[be],M[be+1],O,N,O,N,ue),be+=4;break;case s.OPS.closePath:K.closePath();break}se&&E.updateScalingPathMinMax(J,ue),E.setCurrentPoint(O,N)}closePath(){this.ctx.closePath()}stroke(C){C=typeof C<"u"?C:!0;const M=this.ctx,G=this.current.strokeColor;M.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof G=="object"&&G!==null&&G!==void 0&&G.getPattern?(M.save(),M.strokeStyle=G.getPattern(M,this,(0,t.getCurrentTransformInverse)(M),u.PathType.STROKE),this.rescaleAndStroke(!1),M.restore()):this.rescaleAndStroke(!0)),C&&this.consumePath(this.current.getClippedPathBoundingBox()),M.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(C){C=typeof C<"u"?C:!0;const M=this.ctx,G=this.current.fillColor,K=this.current.patternFill;let E=!1;K&&(M.save(),M.fillStyle=G.getPattern(M,this,(0,t.getCurrentTransformInverse)(M),u.PathType.FILL),E=!0);const O=this.current.getClippedPathBoundingBox();this.contentVisible&&O!==null&&(this.pendingEOFill?(M.fill("evenodd"),this.pendingEOFill=!1):M.fill()),E&&M.restore(),C&&this.consumePath(O)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=z}eoClip(){this.pendingClip=ee}beginText(){this.current.textMatrix=s.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const C=this.pendingTextPaths,M=this.ctx;if(C===void 0){M.beginPath();return}M.save(),M.beginPath();for(const G of C)M.setTransform(...G.transform),M.translate(G.x,G.y),G.addToPath(M,G.fontSize);M.restore(),M.clip(),M.beginPath(),delete this.pendingTextPaths}setCharSpacing(C){this.current.charSpacing=C}setWordSpacing(C){this.current.wordSpacing=C}setHScale(C){this.current.textHScale=C/100}setLeading(C){this.current.leading=-C}setFont(C,M){const G=this.commonObjs.get(C),K=this.current;if(!G)throw new Error(`Can't find font for ${C}`);if(K.fontMatrix=G.fontMatrix||s.FONT_IDENTITY_MATRIX,(K.fontMatrix[0]===0||K.fontMatrix[3]===0)&&(0,s.warn)("Invalid font matrix for font "+C),M<0?(M=-M,K.fontDirection=-1):K.fontDirection=1,this.current.font=G,this.current.fontSize=M,G.isType3Font)return;const E=G.loadedName||"sans-serif";let O="normal";G.black?O="900":G.bold&&(O="bold");const N=G.italic?"italic":"normal",V=`"${E}", ${G.fallbackName}`;let q=M;M<T?q=T:M>m&&(q=m),this.current.fontSizeScale=M/q,this.ctx.font=`${N} ${O} ${q}px ${V}`}setTextRenderingMode(C){this.current.textRenderingMode=C}setTextRise(C){this.current.textRise=C}moveText(C,M){this.current.x=this.current.lineX+=C,this.current.y=this.current.lineY+=M}setLeadingMoveText(C,M){this.setLeading(-M),this.moveText(C,M)}setTextMatrix(C,M,G,K,E,O){this.current.textMatrix=[C,M,G,K,E,O],this.current.textMatrixScale=Math.hypot(C,M),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(C,M,G,K){const E=this.ctx,O=this.current,N=O.font,V=O.textRenderingMode,q=O.fontSize/O.fontSizeScale,J=V&s.TextRenderingMode.FILL_STROKE_MASK,se=!!(V&s.TextRenderingMode.ADD_TO_PATH_FLAG),ue=O.patternFill&&!N.missingFile;let ge;(N.disableFontFace||se||ue)&&(ge=N.getPathGenerator(this.commonObjs,C)),N.disableFontFace||ue?(E.save(),E.translate(M,G),E.beginPath(),ge(E,q),K&&E.setTransform(...K),(J===s.TextRenderingMode.FILL||J===s.TextRenderingMode.FILL_STROKE)&&E.fill(),(J===s.TextRenderingMode.STROKE||J===s.TextRenderingMode.FILL_STROKE)&&E.stroke(),E.restore()):((J===s.TextRenderingMode.FILL||J===s.TextRenderingMode.FILL_STROKE)&&E.fillText(C,M,G),(J===s.TextRenderingMode.STROKE||J===s.TextRenderingMode.FILL_STROKE)&&E.strokeText(C,M,G)),se&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,t.getCurrentTransform)(E),x:M,y:G,fontSize:q,addToPath:ge})}get isFontSubpixelAAEnabled(){const{context:C}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);C.scale(1.5,1),C.fillText("I",0,10);const M=C.getImageData(0,0,10,10).data;let G=!1;for(let K=3;K<M.length;K+=4)if(M[K]>0&&M[K]<255){G=!0;break}return(0,s.shadow)(this,"isFontSubpixelAAEnabled",G)}showText(C){const M=this.current,G=M.font;if(G.isType3Font)return this.showType3Text(C);const K=M.fontSize;if(K===0)return;const E=this.ctx,O=M.fontSizeScale,N=M.charSpacing,V=M.wordSpacing,q=M.fontDirection,J=M.textHScale*q,se=C.length,ue=G.vertical,ge=ue?1:-1,be=G.defaultVMetrics,ve=K*M.fontMatrix[0],ye=M.textRenderingMode===s.TextRenderingMode.FILL&&!G.disableFontFace&&!M.patternFill;E.save(),E.transform(...M.textMatrix),E.translate(M.x,M.y+M.textRise),q>0?E.scale(J,-1):E.scale(J,1);let xe;if(M.patternFill){E.save();const pe=M.fillColor.getPattern(E,this,(0,t.getCurrentTransformInverse)(E),u.PathType.FILL);xe=(0,t.getCurrentTransform)(E),E.restore(),E.fillStyle=pe}let De=M.lineWidth;const Ie=M.textMatrixScale;if(Ie===0||De===0){const pe=M.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;(pe===s.TextRenderingMode.STROKE||pe===s.TextRenderingMode.FILL_STROKE)&&(De=this.getSinglePixelWidth())}else De/=Ie;O!==1&&(E.scale(O,O),De/=O),E.lineWidth=De;let Fe=0,je;for(je=0;je<se;++je){const pe=C[je];if(typeof pe=="number"){Fe+=ge*pe*K/1e3;continue}let ke=!1;const Ne=(pe.isSpace?V:0)+N,Oe=pe.fontChar,Ce=pe.accent;let te,H,ae=pe.width;if(ue){const he=pe.vmetric||be,Pe=-(pe.vmetric?he[1]:ae*.5)*ve,Me=he[2]*ve;ae=he?-he[0]:ae,te=Pe/O,H=(Fe+Me)/O}else te=Fe/O,H=0;if(G.remeasure&&ae>0){const he=E.measureText(Oe).width*1e3/K*O;if(ae<he&&this.isFontSubpixelAAEnabled){const Pe=ae/he;ke=!0,E.save(),E.scale(Pe,1),te/=Pe}else ae!==he&&(te+=(ae-he)/2e3*K/O)}if(this.contentVisible&&(pe.isInFont||G.missingFile)){if(ye&&!Ce)E.fillText(Oe,te,H);else if(this.paintChar(Oe,te,H,xe),Ce){const he=te+K*Ce.offset.x/O,Pe=H-K*Ce.offset.y/O;this.paintChar(Ce.fontChar,he,Pe,xe)}}let Ee;ue?Ee=ae*ve-Ne*q:Ee=ae*ve+Ne*q,Fe+=Ee,ke&&E.restore()}ue?M.y-=Fe:M.x+=Fe*J,E.restore(),this.compose()}showType3Text(C){const M=this.ctx,G=this.current,K=G.font,E=G.fontSize,O=G.fontDirection,N=K.vertical?1:-1,V=G.charSpacing,q=G.wordSpacing,J=G.textHScale*O,se=G.fontMatrix||s.FONT_IDENTITY_MATRIX,ue=C.length,ge=G.textRenderingMode===s.TextRenderingMode.INVISIBLE;let be,ve,ye,xe;if(!(ge||E===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,M.save(),M.transform(...G.textMatrix),M.translate(G.x,G.y),M.scale(J,O),be=0;be<ue;++be){if(ve=C[be],typeof ve=="number"){xe=N*ve*E/1e3,this.ctx.translate(xe,0),G.x+=xe*J;continue}const De=(ve.isSpace?q:0)+V,Ie=K.charProcOperatorList[ve.operatorListId];if(!Ie){(0,s.warn)(`Type3 character "${ve.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ve,this.save(),M.scale(E,E),M.transform(...se),this.executeOperatorList(Ie),this.restore()),ye=s.Util.applyTransform([ve.width,0],se)[0]*E+De,M.translate(ye,0),G.x+=ye*J}M.restore(),this.processingType3=null}}setCharWidth(C,M){}setCharWidthAndBounds(C,M,G,K,E,O){this.ctx.rect(G,K,E-G,O-K),this.ctx.clip(),this.endPath()}getColorN_Pattern(C){let M;if(C[0]==="TilingPattern"){const G=C[1],K=this.baseTransform||(0,t.getCurrentTransform)(this.ctx),E={createCanvasGraphics:O=>new ne(O,this.commonObjs,this.objs,this.canvasFactory)};M=new u.TilingPattern(C,G,this.ctx,E,K)}else M=this._getPattern(C[1],C[2]);return M}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(C,M,G){var K;const E=((K=this.selectColor)===null||K===void 0?void 0:K.call(this,C,M,G))||s.Util.makeHexColor(C,M,G);this.ctx.strokeStyle=E,this.current.strokeColor=E}setFillRGBColor(C,M,G){var K;const E=((K=this.selectColor)===null||K===void 0?void 0:K.call(this,C,M,G))||s.Util.makeHexColor(C,M,G);this.ctx.fillStyle=E,this.current.fillColor=E,this.current.patternFill=!1}_getPattern(C){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,G;return this.cachedPatterns.has(C)?G=this.cachedPatterns.get(C):(G=(0,u.getShadingPattern)(this.objs.get(C)),this.cachedPatterns.set(C,G)),M&&(G.matrix=M),G}shadingFill(C){if(!this.contentVisible)return;const M=this.ctx;this.save();const G=this._getPattern(C);M.fillStyle=G.getPattern(M,this,(0,t.getCurrentTransformInverse)(M),u.PathType.SHADING);const K=(0,t.getCurrentTransformInverse)(M);if(K){const E=M.canvas,O=E.width,N=E.height,V=s.Util.applyTransform([0,0],K),q=s.Util.applyTransform([0,N],K),J=s.Util.applyTransform([O,0],K),se=s.Util.applyTransform([O,N],K),ue=Math.min(V[0],q[0],J[0],se[0]),ge=Math.min(V[1],q[1],J[1],se[1]),be=Math.max(V[0],q[0],J[0],se[0]),ve=Math.max(V[1],q[1],J[1],se[1]);this.ctx.fillRect(ue,ge,be-ue,ve-ge)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,s.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,s.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(C,M){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(C)&&C.length===6&&this.transform(...C),this.baseTransform=(0,t.getCurrentTransform)(this.ctx),M)){const G=M[2]-M[0],K=M[3]-M[1];this.ctx.rect(M[0],M[1],G,K),this.current.updateRectMinMax((0,t.getCurrentTransform)(this.ctx),M),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(C){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const M=this.ctx;C.isolated||(0,s.info)("TODO: Support non-isolated groups."),C.knockout&&(0,s.warn)("Knockout groups not supported.");const G=(0,t.getCurrentTransform)(M);if(C.matrix&&M.transform(...C.matrix),!C.bbox)throw new Error("Bounding box is required.");let K=s.Util.getAxialAlignedBoundingBox(C.bbox,(0,t.getCurrentTransform)(M));const E=[0,0,M.canvas.width,M.canvas.height];K=s.Util.intersect(K,E)||[0,0,0,0];const O=Math.floor(K[0]),N=Math.floor(K[1]);let V=Math.max(Math.ceil(K[2])-O,1),q=Math.max(Math.ceil(K[3])-N,1),J=1,se=1;V>v&&(J=V/v,V=v),q>v&&(se=q/v,q=v),this.current.startNewPathAndClipBox([0,0,V,q]);let ue="groupAt"+this.groupLevel;C.smask&&(ue+="_smask_"+this.smaskCounter++%2);const ge=this.cachedCanvases.getCanvas(ue,V,q),be=ge.context;be.scale(1/J,1/se),be.translate(-O,-N),be.transform(...G),C.smask?this.smaskStack.push({canvas:ge.canvas,context:be,offsetX:O,offsetY:N,scaleX:J,scaleY:se,subtype:C.smask.subtype,backdrop:C.smask.backdrop,transferMap:C.smask.transferMap||null,startTransformInverse:null}):(M.setTransform(1,0,0,1,0,0),M.translate(O,N),M.scale(J,se),M.save()),R(M,be),this.ctx=be,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(M),this.groupLevel++}endGroup(C){if(!this.contentVisible)return;this.groupLevel--;const M=this.ctx,G=this.groupStack.pop();if(this.ctx=G,this.ctx.imageSmoothingEnabled=!1,C.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const K=(0,t.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...K);const E=s.Util.getAxialAlignedBoundingBox([0,0,M.canvas.width,M.canvas.height],K);this.ctx.drawImage(M.canvas,0,0),this.ctx.restore(),this.compose(E)}}beginAnnotation(C,M,G,K,E){if(d(this,Q,fe).call(this),k(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(M)&&M.length===4){const O=M[2]-M[0],N=M[3]-M[1];if(E&&this.annotationCanvasMap){G=G.slice(),G[4]-=M[0],G[5]-=M[1],M=M.slice(),M[0]=M[1]=0,M[2]=O,M[3]=N;const[V,q]=s.Util.singularValueDecompose2dScale((0,t.getCurrentTransform)(this.ctx)),{viewportScale:J}=this,se=Math.ceil(O*this.outputScaleX*J),ue=Math.ceil(N*this.outputScaleY*J);this.annotationCanvas=this.canvasFactory.create(se,ue);const{canvas:ge,context:be}=this.annotationCanvas;this.annotationCanvasMap.set(C,ge),this.annotationCanvas.savedCtx=this.ctx,this.ctx=be,this.ctx.setTransform(V,0,0,-q,0,N*q),k(this.ctx,this.foregroundColor)}else k(this.ctx,this.foregroundColor),this.ctx.rect(M[0],M[1],O,N),this.ctx.clip(),this.endPath()}this.current=new h(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...G),this.transform(...K)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(C){if(!this.contentVisible)return;const M=C.count;C=this.getObject(C.data,C),C.count=M;const G=this.ctx,K=this.processingType3;if(K&&(K.compiled===void 0&&(K.compiled=l(C)),K.compiled)){K.compiled(G);return}const E=this._createMaskCanvas(C),O=E.canvas;G.save(),G.setTransform(1,0,0,1,0,0),G.drawImage(O,E.offsetX,E.offsetY),G.restore(),this.compose()}paintImageMaskXObjectRepeat(C,M){let G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,E=arguments.length>4?arguments[4]:void 0,O=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;C=this.getObject(C.data,C);const N=this.ctx;N.save();const V=(0,t.getCurrentTransform)(N);N.transform(M,G,K,E,0,0);const q=this._createMaskCanvas(C);N.setTransform(1,0,0,1,0,0);for(let J=0,se=O.length;J<se;J+=2){const ue=s.Util.transform(V,[M,G,K,E,O[J],O[J+1]]),[ge,be]=s.Util.applyTransform([0,0],ue);N.drawImage(q.canvas,ge,be)}N.restore(),this.compose()}paintImageMaskXObjectGroup(C){if(!this.contentVisible)return;const M=this.ctx,G=this.current.fillColor,K=this.current.patternFill;for(const E of C){const{data:O,width:N,height:V,transform:q}=E,J=this.cachedCanvases.getCanvas("maskCanvas",N,V),se=J.context;se.save();const ue=this.getObject(O,E);P(se,ue),se.globalCompositeOperation="source-in",se.fillStyle=K?G.getPattern(se,this,(0,t.getCurrentTransformInverse)(M),u.PathType.FILL):G,se.fillRect(0,0,N,V),se.restore(),M.save(),M.transform(...q),M.scale(1,-1),b(M,J.canvas,0,0,N,V,0,-1,1,1),M.restore()}this.compose()}paintImageXObject(C){if(!this.contentVisible)return;const M=this.getObject(C);if(!M){(0,s.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(M)}paintImageXObjectRepeat(C,M,G,K){if(!this.contentVisible)return;const E=this.getObject(C);if(!E){(0,s.warn)("Dependent image isn't ready yet");return}const O=E.width,N=E.height,V=[];for(let q=0,J=K.length;q<J;q+=2)V.push({transform:[M,0,0,G,K[q],K[q+1]],x:0,y:0,w:O,h:N});this.paintInlineImageXObjectGroup(E,V)}paintInlineImageXObject(C){if(!this.contentVisible)return;const M=C.width,G=C.height,K=this.ctx;this.save(),K.scale(1/M,-1/G);let E;if(typeof HTMLElement=="function"&&C instanceof HTMLElement||!C.data)E=C;else{const q=this.cachedCanvases.getCanvas("inlineImage",M,G),J=q.context;A(J,C,this.current.transferMaps),E=q.canvas}const O=this._scaleImage(E,(0,t.getCurrentTransformInverse)(K));K.imageSmoothingEnabled=U((0,t.getCurrentTransform)(K),C.interpolate);const[N,V]=b(K,O.img,0,0,O.paintWidth,O.paintHeight,0,-G,M,G);if(this.imageLayer){const[q,J]=s.Util.applyTransform([0,-G],(0,t.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:C,left:q,top:J,width:N,height:V})}this.compose(),this.restore()}paintInlineImageXObjectGroup(C,M){if(!this.contentVisible)return;const G=this.ctx,K=C.width,E=C.height,O=this.cachedCanvases.getCanvas("inlineImage",K,E),N=O.context;A(N,C,this.current.transferMaps);for(const V of M){if(G.save(),G.transform(...V.transform),G.scale(1,-1),b(G,O.canvas,V.x,V.y,V.w,V.h,0,-1,1,1),this.imageLayer){const[q,J]=s.Util.applyTransform([V.x,V.y],(0,t.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:C,left:q,top:J,width:K,height:E})}G.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(C){}markPointProps(C,M){}beginMarkedContent(C){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(C,M){C==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(M)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(C){const M=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(C);const G=this.ctx;this.pendingClip&&(M||(this.pendingClip===ee?G.clip("evenodd"):G.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),G.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const C=(0,t.getCurrentTransform)(this.ctx);if(C[1]===0&&C[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(C[0]),Math.abs(C[3]));else{const M=Math.abs(C[0]*C[3]-C[2]*C[1]),G=Math.hypot(C[0],C[2]),K=Math.hypot(C[1],C[3]);this._cachedGetSinglePixelWidth=Math.max(G,K)/M}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:C}=this.current,M=(0,t.getCurrentTransform)(this.ctx);let G,K;if(M[1]===0&&M[2]===0){const E=Math.abs(M[0]),O=Math.abs(M[3]);if(C===0)G=1/E,K=1/O;else{const N=E*C,V=O*C;G=N<1?1/N:1,K=V<1?1/V:1}}else{const E=Math.abs(M[0]*M[3]-M[2]*M[1]),O=Math.hypot(M[0],M[1]),N=Math.hypot(M[2],M[3]);if(C===0)G=N/E,K=O/E;else{const V=C*E;G=N>V?N/V:1,K=O>V?O/V:1}}this._cachedScaleForStroking=[G,K]}return this._cachedScaleForStroking}rescaleAndStroke(C){const{ctx:M}=this,{lineWidth:G}=this.current,[K,E]=this.getScaleForStroking();if(M.lineWidth=G||1,K===1&&E===1){M.stroke();return}let O,N,V;C&&(O=(0,t.getCurrentTransform)(M),N=M.getLineDash().slice(),V=M.lineDashOffset),M.scale(K,E);const q=Math.max(K,E);M.setLineDash(M.getLineDash().map(J=>J/q)),M.lineDashOffset/=q,M.stroke(),C&&(M.setTransform(...O),M.setLineDash(N),M.lineDashOffset=V)}isContentVisible(){for(let C=this.markedContentStack.length-1;C>=0;C--)if(!this.markedContentStack[C].visible)return!1;return!0}}n.CanvasGraphics=ne;function fe(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}for(const X in s.OPS)ne.prototype[X]!==void 0&&(ne.prototype[s.OPS[X]]=ne.prototype[X])},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TilingPattern=n.PathType=void 0,n.getShadingPattern=S;var t=e(1),s=e(133),u=e(3);const p={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};n.PathType=p;function o(L,g){if(!g||u.isNodeJS)return;const y=g[2]-g[0],b=g[3]-g[1],l=new Path2D;l.rect(g[0],g[1],y,b),L.clip(l)}class _{constructor(){this.constructor===_&&(0,t.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,t.unreachable)("Abstract method `getPattern` called.")}}class c extends _{constructor(g){super(),this._type=g[1],this._bbox=g[2],this._colorStops=g[3],this._p0=g[4],this._p1=g[5],this._r0=g[6],this._r1=g[7],this.matrix=null}_createGradient(g){let y;this._type==="axial"?y=g.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(y=g.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const b of this._colorStops)y.addColorStop(b[0],b[1]);return y}getPattern(g,y,b,l){let h;if(l===p.STROKE||l===p.FILL){const A=y.current.getClippedPathBoundingBox(l,(0,s.getCurrentTransform)(g))||[0,0,0,0],P=Math.ceil(A[2]-A[0])||1,R=Math.ceil(A[3]-A[1])||1,k=y.cachedCanvases.getCanvas("pattern",P,R,!0),F=k.context;F.clearRect(0,0,F.canvas.width,F.canvas.height),F.beginPath(),F.rect(0,0,F.canvas.width,F.canvas.height),F.translate(-A[0],-A[1]),b=t.Util.transform(b,[1,0,0,1,A[0],A[1]]),F.transform(...y.baseTransform),this.matrix&&F.transform(...this.matrix),o(F,this._bbox),F.fillStyle=this._createGradient(F),F.fill(),h=g.createPattern(k.canvas,"no-repeat");const Y=new DOMMatrix(b);try{h.setTransform(Y)}catch(B){(0,t.warn)(`RadialAxialShadingPattern.getPattern: "${B==null?void 0:B.message}".`)}}else o(g,this._bbox),h=this._createGradient(g);return h}}function d(L,g,y,b,l,h,A,P){const R=g.coords,k=g.colors,F=L.data,Y=L.width*4;let B;R[y+1]>R[b+1]&&(B=y,y=b,b=B,B=h,h=A,A=B),R[b+1]>R[l+1]&&(B=b,b=l,l=B,B=A,A=P,P=B),R[y+1]>R[b+1]&&(B=y,y=b,b=B,B=h,h=A,A=B);const j=(R[y]+g.offsetX)*g.scaleX,$=(R[y+1]+g.offsetY)*g.scaleY,U=(R[b]+g.offsetX)*g.scaleX,W=(R[b+1]+g.offsetY)*g.scaleY,I=(R[l]+g.offsetX)*g.scaleX,z=(R[l+1]+g.offsetY)*g.scaleY;if($>=z)return;const ee=k[h],Q=k[h+1],ne=k[h+2],fe=k[A],X=k[A+1],C=k[A+2],M=k[P],G=k[P+1],K=k[P+2],E=Math.round($),O=Math.round(z);let N,V,q,J,se,ue,ge,be;for(let ve=E;ve<=O;ve++){if(ve<W){let Fe;ve<$?Fe=0:Fe=($-ve)/($-W),N=j-(j-U)*Fe,V=ee-(ee-fe)*Fe,q=Q-(Q-X)*Fe,J=ne-(ne-C)*Fe}else{let Fe;ve>z?Fe=1:W===z?Fe=0:Fe=(W-ve)/(W-z),N=U-(U-I)*Fe,V=fe-(fe-M)*Fe,q=X-(X-G)*Fe,J=C-(C-K)*Fe}let ye;ve<$?ye=0:ve>z?ye=1:ye=($-ve)/($-z),se=j-(j-I)*ye,ue=ee-(ee-M)*ye,ge=Q-(Q-G)*ye,be=ne-(ne-K)*ye;const xe=Math.round(Math.min(N,se)),De=Math.round(Math.max(N,se));let Ie=Y*ve+xe*4;for(let Fe=xe;Fe<=De;Fe++)ye=(N-Fe)/(N-se),ye<0?ye=0:ye>1&&(ye=1),F[Ie++]=V-(V-ue)*ye|0,F[Ie++]=q-(q-ge)*ye|0,F[Ie++]=J-(J-be)*ye|0,F[Ie++]=255}}function T(L,g,y){const b=g.coords,l=g.colors;let h,A;switch(g.type){case"lattice":const P=g.verticesPerRow,R=Math.floor(b.length/P)-1,k=P-1;for(h=0;h<R;h++){let F=h*P;for(let Y=0;Y<k;Y++,F++)d(L,y,b[F],b[F+1],b[F+P],l[F],l[F+1],l[F+P]),d(L,y,b[F+P+1],b[F+1],b[F+P],l[F+P+1],l[F+1],l[F+P])}break;case"triangles":for(h=0,A=b.length;h<A;h+=3)d(L,y,b[h],b[h+1],b[h+2],l[h],l[h+1],l[h+2]);break;default:throw new Error("illegal figure")}}class m extends _{constructor(g){super(),this._coords=g[2],this._colors=g[3],this._figures=g[4],this._bounds=g[5],this._bbox=g[7],this._background=g[8],this.matrix=null}_createMeshCanvas(g,y,b){const P=Math.floor(this._bounds[0]),R=Math.floor(this._bounds[1]),k=Math.ceil(this._bounds[2])-P,F=Math.ceil(this._bounds[3])-R,Y=Math.min(Math.ceil(Math.abs(k*g[0]*1.1)),3e3),B=Math.min(Math.ceil(Math.abs(F*g[1]*1.1)),3e3),j=k/Y,$=F/B,U={coords:this._coords,colors:this._colors,offsetX:-P,offsetY:-R,scaleX:1/j,scaleY:1/$},W=Y+2*2,I=B+2*2,z=b.getCanvas("mesh",W,I,!1),ee=z.context,Q=ee.createImageData(Y,B);if(y){const fe=Q.data;for(let X=0,C=fe.length;X<C;X+=4)fe[X]=y[0],fe[X+1]=y[1],fe[X+2]=y[2],fe[X+3]=255}for(const fe of this._figures)T(Q,fe,U);return ee.putImageData(Q,2,2),{canvas:z.canvas,offsetX:P-2*j,offsetY:R-2*$,scaleX:j,scaleY:$}}getPattern(g,y,b,l){o(g,this._bbox);let h;if(l===p.SHADING)h=t.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(g));else if(h=t.Util.singularValueDecompose2dScale(y.baseTransform),this.matrix){const P=t.Util.singularValueDecompose2dScale(this.matrix);h=[h[0]*P[0],h[1]*P[1]]}const A=this._createMeshCanvas(h,l===p.SHADING?null:this._background,y.cachedCanvases);return l!==p.SHADING&&(g.setTransform(...y.baseTransform),this.matrix&&g.transform(...this.matrix)),g.translate(A.offsetX,A.offsetY),g.scale(A.scaleX,A.scaleY),g.createPattern(A.canvas,"no-repeat")}}class v extends _{getPattern(){return"hotpink"}}function S(L){switch(L[0]){case"RadialAxial":return new c(L);case"Mesh":return new m(L);case"Dummy":return new v}throw new Error(`Unknown IR type: ${L[0]}`)}const w={COLORED:1,UNCOLORED:2};class x{static get MAX_PATTERN_SIZE(){return(0,t.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(g,y,b,l,h){this.operatorList=g[2],this.matrix=g[3]||[1,0,0,1,0,0],this.bbox=g[4],this.xstep=g[5],this.ystep=g[6],this.paintType=g[7],this.tilingType=g[8],this.color=y,this.ctx=b,this.canvasGraphicsFactory=l,this.baseTransform=h}createPatternCanvas(g){const y=this.operatorList,b=this.bbox,l=this.xstep,h=this.ystep,A=this.paintType,P=this.tilingType,R=this.color,k=this.canvasGraphicsFactory;(0,t.info)("TilingType: "+P);const F=b[0],Y=b[1],B=b[2],j=b[3],$=t.Util.singularValueDecompose2dScale(this.matrix),U=t.Util.singularValueDecompose2dScale(this.baseTransform),W=[$[0]*U[0],$[1]*U[1]],I=this.getSizeAndScale(l,this.ctx.canvas.width,W[0]),z=this.getSizeAndScale(h,this.ctx.canvas.height,W[1]),ee=g.cachedCanvases.getCanvas("pattern",I.size,z.size,!0),Q=ee.context,ne=k.createCanvasGraphics(Q);ne.groupLevel=g.groupLevel,this.setFillAndStrokeStyleToContext(ne,A,R);let fe=F,X=Y,C=B,M=j;return F<0&&(fe=0,C+=Math.abs(F)),Y<0&&(X=0,M+=Math.abs(Y)),Q.translate(-(I.scale*fe),-(z.scale*X)),ne.transform(I.scale,0,0,z.scale,0,0),Q.save(),this.clipBbox(ne,fe,X,C,M),ne.baseTransform=(0,s.getCurrentTransform)(ne.ctx),ne.executeOperatorList(y),ne.endDrawing(),{canvas:ee.canvas,scaleX:I.scale,scaleY:z.scale,offsetX:fe,offsetY:X}}getSizeAndScale(g,y,b){g=Math.abs(g);const l=Math.max(x.MAX_PATTERN_SIZE,y);let h=Math.ceil(g*b);return h>=l?h=l:b=h/g,{scale:b,size:h}}clipBbox(g,y,b,l,h){const A=l-y,P=h-b;g.ctx.rect(y,b,A,P),g.current.updateRectMinMax((0,s.getCurrentTransform)(g.ctx),[y,b,l,h]),g.clip(),g.endPath()}setFillAndStrokeStyleToContext(g,y,b){const l=g.ctx,h=g.current;switch(y){case w.COLORED:const A=this.ctx;l.fillStyle=A.fillStyle,l.strokeStyle=A.strokeStyle,h.fillColor=A.fillStyle,h.strokeColor=A.strokeStyle;break;case w.UNCOLORED:const P=t.Util.makeHexColor(b[0],b[1],b[2]);l.fillStyle=P,l.strokeStyle=P,h.fillColor=P,h.strokeColor=P;break;default:throw new t.FormatError(`Unsupported paint type: ${y}`)}}getPattern(g,y,b,l){let h=b;l!==p.SHADING&&(h=t.Util.transform(h,y.baseTransform),this.matrix&&(h=t.Util.transform(h,this.matrix)));const A=this.createPatternCanvas(y);let P=new DOMMatrix(h);P=P.translate(A.offsetX,A.offsetY),P=P.scale(1/A.scaleX,1/A.scaleY);const R=g.createPattern(A.canvas,"repeat");try{R.setTransform(P)}catch(k){(0,t.warn)(`TilingPattern.getPattern: "${k==null?void 0:k.message}".`)}return R}}n.TilingPattern=x},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.applyMaskImageData=s;var t=e(1);function s(u){let{src:p,srcPos:o=0,dest:_,destPos:c=0,width:d,height:T,inverseDecode:m=!1}=u;const v=t.FeatureTest.isLittleEndian?4278190080:255,[S,w]=m?[0,v]:[v,0],x=d>>3,L=d&7,g=p.length;_=new Uint32Array(_.buffer);for(let y=0;y<T;y++){for(const l=o+x;o<l;o++){const h=o<g?p[o]:255;_[c++]=h&128?w:S,_[c++]=h&64?w:S,_[c++]=h&32?w:S,_[c++]=h&16?w:S,_[c++]=h&8?w:S,_[c++]=h&4?w:S,_[c++]=h&2?w:S,_[c++]=h&1?w:S}if(L===0)continue;const b=o<g?p[o++]:255;for(let l=0;l<L;l++)_[c++]=b&1<<7-l?w:S}return{srcPos:o,destPos:c}}},(a,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalWorkerOptions=void 0;const e=Object.create(null);n.GlobalWorkerOptions=e,e.workerPort=e.workerPort===void 0?null:e.workerPort,e.workerSrc=e.workerSrc===void 0?"":e.workerSrc},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MessageHandler=void 0;var t=e(1);const s={UNKNOWN:0,DATA:1,ERROR:2},u={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function p(_){switch(_ instanceof Error||typeof _=="object"&&_!==null||(0,t.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_.name){case"AbortException":return new t.AbortException(_.message);case"MissingPDFException":return new t.MissingPDFException(_.message);case"PasswordException":return new t.PasswordException(_.message,_.code);case"UnexpectedResponseException":return new t.UnexpectedResponseException(_.message,_.status);case"UnknownErrorException":return new t.UnknownErrorException(_.message,_.details);default:return new t.UnknownErrorException(_.message,_.toString())}}class o{constructor(c,d,T){this.sourceName=c,this.targetName=d,this.comObj=T,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=m=>{const v=m.data;if(v.targetName!==this.sourceName)return;if(v.stream){this._processStreamMessage(v);return}if(v.callback){const w=v.callbackId,x=this.callbackCapabilities[w];if(!x)throw new Error(`Cannot resolve callback ${w}`);if(delete this.callbackCapabilities[w],v.callback===s.DATA)x.resolve(v.data);else if(v.callback===s.ERROR)x.reject(p(v.reason));else throw new Error("Unexpected callback case");return}const S=this.actionHandler[v.action];if(!S)throw new Error(`Unknown action from worker: ${v.action}`);if(v.callbackId){const w=this.sourceName,x=v.sourceName;new Promise(function(L){L(S(v.data))}).then(function(L){T.postMessage({sourceName:w,targetName:x,callback:s.DATA,callbackId:v.callbackId,data:L})},function(L){T.postMessage({sourceName:w,targetName:x,callback:s.ERROR,callbackId:v.callbackId,reason:p(L)})});return}if(v.streamId){this._createStreamSink(v);return}S(v.data)},T.addEventListener("message",this._onComObjOnMessage)}on(c,d){const T=this.actionHandler;if(T[c])throw new Error(`There is already an actionName called "${c}"`);T[c]=d}send(c,d,T){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,data:d},T)}sendWithPromise(c,d,T){const m=this.callbackId++,v=(0,t.createPromiseCapability)();this.callbackCapabilities[m]=v;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,callbackId:m,data:d},T)}catch(S){v.reject(S)}return v.promise}sendWithStream(c,d,T,m){const v=this.streamId++,S=this.sourceName,w=this.targetName,x=this.comObj;return new ReadableStream({start:L=>{const g=(0,t.createPromiseCapability)();return this.streamControllers[v]={controller:L,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},x.postMessage({sourceName:S,targetName:w,action:c,streamId:v,data:d,desiredSize:L.desiredSize},m),g.promise},pull:L=>{const g=(0,t.createPromiseCapability)();return this.streamControllers[v].pullCall=g,x.postMessage({sourceName:S,targetName:w,stream:u.PULL,streamId:v,desiredSize:L.desiredSize}),g.promise},cancel:L=>{(0,t.assert)(L instanceof Error,"cancel must have a valid reason");const g=(0,t.createPromiseCapability)();return this.streamControllers[v].cancelCall=g,this.streamControllers[v].isClosed=!0,x.postMessage({sourceName:S,targetName:w,stream:u.CANCEL,streamId:v,reason:p(L)}),g.promise}},T)}_createStreamSink(c){const d=c.streamId,T=this.sourceName,m=c.sourceName,v=this.comObj,S=this,w=this.actionHandler[c.action],x={enqueue(L){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,y=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=g,b>0&&this.desiredSize<=0&&(this.sinkCapability=(0,t.createPromiseCapability)(),this.ready=this.sinkCapability.promise),v.postMessage({sourceName:T,targetName:m,stream:u.ENQUEUE,streamId:d,chunk:L},y)},close(){this.isCancelled||(this.isCancelled=!0,v.postMessage({sourceName:T,targetName:m,stream:u.CLOSE,streamId:d}),delete S.streamSinks[d])},error(L){(0,t.assert)(L instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,v.postMessage({sourceName:T,targetName:m,stream:u.ERROR,streamId:d,reason:p(L)}))},sinkCapability:(0,t.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:c.desiredSize,ready:null};x.sinkCapability.resolve(),x.ready=x.sinkCapability.promise,this.streamSinks[d]=x,new Promise(function(L){L(w(c.data,x))}).then(function(){v.postMessage({sourceName:T,targetName:m,stream:u.START_COMPLETE,streamId:d,success:!0})},function(L){v.postMessage({sourceName:T,targetName:m,stream:u.START_COMPLETE,streamId:d,reason:p(L)})})}_processStreamMessage(c){const d=c.streamId,T=this.sourceName,m=c.sourceName,v=this.comObj,S=this.streamControllers[d],w=this.streamSinks[d];switch(c.stream){case u.START_COMPLETE:c.success?S.startCall.resolve():S.startCall.reject(p(c.reason));break;case u.PULL_COMPLETE:c.success?S.pullCall.resolve():S.pullCall.reject(p(c.reason));break;case u.PULL:if(!w){v.postMessage({sourceName:T,targetName:m,stream:u.PULL_COMPLETE,streamId:d,success:!0});break}w.desiredSize<=0&&c.desiredSize>0&&w.sinkCapability.resolve(),w.desiredSize=c.desiredSize,new Promise(function(x){x(w.onPull&&w.onPull())}).then(function(){v.postMessage({sourceName:T,targetName:m,stream:u.PULL_COMPLETE,streamId:d,success:!0})},function(x){v.postMessage({sourceName:T,targetName:m,stream:u.PULL_COMPLETE,streamId:d,reason:p(x)})});break;case u.ENQUEUE:if((0,t.assert)(S,"enqueue should have stream controller"),S.isClosed)break;S.controller.enqueue(c.chunk);break;case u.CLOSE:if((0,t.assert)(S,"close should have stream controller"),S.isClosed)break;S.isClosed=!0,S.controller.close(),this._deleteStreamController(S,d);break;case u.ERROR:(0,t.assert)(S,"error should have stream controller"),S.controller.error(p(c.reason)),this._deleteStreamController(S,d);break;case u.CANCEL_COMPLETE:c.success?S.cancelCall.resolve():S.cancelCall.reject(p(c.reason)),this._deleteStreamController(S,d);break;case u.CANCEL:if(!w)break;new Promise(function(x){x(w.onCancel&&w.onCancel(p(c.reason)))}).then(function(){v.postMessage({sourceName:T,targetName:m,stream:u.CANCEL_COMPLETE,streamId:d,success:!0})},function(x){v.postMessage({sourceName:T,targetName:m,stream:u.CANCEL_COMPLETE,streamId:d,reason:p(x)})}),w.sinkCapability.reject(p(c.reason)),w.isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(c,d){await Promise.allSettled([c.startCall&&c.startCall.promise,c.pullCall&&c.pullCall.promise,c.cancelCall&&c.cancelCall.promise]),delete this.streamControllers[d]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}n.MessageHandler=o},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var t=e(1);function s(S,w,x){u(S,w),w.set(S,x)}function u(S,w){if(w.has(S))throw new TypeError("Cannot initialize the same private elements twice on an object")}function p(S,w){var x=c(S,w,"get");return o(S,x)}function o(S,w){return w.get?w.get.call(S):w.value}function _(S,w,x){var L=c(S,w,"set");return d(S,L,x),x}function c(S,w,x){if(!w.has(S))throw new TypeError("attempted to "+x+" private field on non-instance");return w.get(S)}function d(S,w,x){if(w.set)w.set.call(S,x);else{if(!w.writable)throw new TypeError("attempted to set read only private field");w.value=x}}var T=new WeakMap,m=new WeakMap;class v{constructor(w){let{parsedData:x,rawData:L}=w;s(this,T,{writable:!0,value:void 0}),s(this,m,{writable:!0,value:void 0}),_(this,T,x),_(this,m,L)}getRaw(){return p(this,m)}get(w){var x;return(x=p(this,T).get(w))!==null&&x!==void 0?x:null}getAll(){return(0,t.objectFromMap)(p(this,T))}has(w){return p(this,T).has(w)}}n.Metadata=v},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionalContentConfig=void 0;var t=e(1);function s(A,P){o(A,P),P.add(A)}function u(A,P,R){if(!P.has(A))throw new TypeError("attempted to get private field on non-instance");return R}function p(A,P,R){o(A,P),P.set(A,R)}function o(A,P){if(P.has(A))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _(A,P,R){var k=T(A,P,"set");return c(A,k,R),R}function c(A,P,R){if(P.set)P.set.call(A,R);else{if(!P.writable)throw new TypeError("attempted to set read only private field");P.value=R}}function d(A,P){var R=T(A,P,"get");return m(A,R)}function T(A,P,R){if(!P.has(A))throw new TypeError("attempted to "+R+" private field on non-instance");return P.get(A)}function m(A,P){return P.get?P.get.call(A):P.value}const v=Symbol("INTERNAL");var S=new WeakMap;class w{constructor(P,R){p(this,S,{writable:!0,value:!0}),this.name=P,this.intent=R}get visible(){return d(this,S)}_setVisible(P,R){P!==v&&(0,t.unreachable)("Internal method `_setVisible` called."),_(this,S,R)}}var x=new WeakMap,L=new WeakMap,g=new WeakMap,y=new WeakMap,b=new WeakSet;class l{constructor(P){if(s(this,b),p(this,x,{writable:!0,value:!0}),p(this,L,{writable:!0,value:new Map}),p(this,g,{writable:!0,value:null}),p(this,y,{writable:!0,value:null}),this.name=null,this.creator=null,P!==null){this.name=P.name,this.creator=P.creator,_(this,y,P.order);for(const R of P.groups)d(this,L).set(R.id,new w(R.name,R.intent));if(P.baseState==="OFF")for(const R of d(this,L).values())R._setVisible(v,!1);for(const R of P.on)d(this,L).get(R)._setVisible(v,!0);for(const R of P.off)d(this,L).get(R)._setVisible(v,!1);_(this,g,new Map);for(const[R,k]of d(this,L))d(this,g).set(R,k.visible)}}isVisible(P){if(d(this,L).size===0)return!0;if(!P)return(0,t.warn)("Optional content group not defined."),!0;if(P.type==="OCG")return d(this,L).has(P.id)?d(this,L).get(P.id).visible:((0,t.warn)(`Optional content group not found: ${P.id}`),!0);if(P.type==="OCMD"){if(P.expression)return u(this,b,h).call(this,P.expression);if(!P.policy||P.policy==="AnyOn"){for(const R of P.ids){if(!d(this,L).has(R))return(0,t.warn)(`Optional content group not found: ${R}`),!0;if(d(this,L).get(R).visible)return!0}return!1}else if(P.policy==="AllOn"){for(const R of P.ids){if(!d(this,L).has(R))return(0,t.warn)(`Optional content group not found: ${R}`),!0;if(!d(this,L).get(R).visible)return!1}return!0}else if(P.policy==="AnyOff"){for(const R of P.ids){if(!d(this,L).has(R))return(0,t.warn)(`Optional content group not found: ${R}`),!0;if(!d(this,L).get(R).visible)return!0}return!1}else if(P.policy==="AllOff"){for(const R of P.ids){if(!d(this,L).has(R))return(0,t.warn)(`Optional content group not found: ${R}`),!0;if(d(this,L).get(R).visible)return!1}return!0}return(0,t.warn)(`Unknown optional content policy ${P.policy}.`),!0}return(0,t.warn)(`Unknown group type ${P.type}.`),!0}setVisibility(P){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!d(this,L).has(P)){(0,t.warn)(`Optional content group not found: ${P}`);return}d(this,L).get(P)._setVisible(v,!!R),_(this,x,null)}get hasInitialVisibility(){if(d(this,x)!==null)return d(this,x);for(const[P,R]of d(this,L)){const k=d(this,g).get(P);if(R.visible!==k)return _(this,x,!1)}return _(this,x,!0)}getOrder(){return d(this,L).size?d(this,y)?d(this,y).slice():[...d(this,L).keys()]:null}getGroups(){return d(this,L).size>0?(0,t.objectFromMap)(d(this,L)):null}getGroup(P){return d(this,L).get(P)||null}}n.OptionalContentConfig=l;function h(A){const P=A.length;if(P<2)return!0;const R=A[0];for(let k=1;k<P;k++){const F=A[k];let Y;if(Array.isArray(F))Y=u(this,b,h).call(this,F);else if(d(this,L).has(F))Y=d(this,L).get(F).visible;else return(0,t.warn)(`Optional content group not found: ${F}`),!0;switch(R){case"And":if(!Y)return!1;break;case"Or":if(Y)return!0;break;case"Not":return!Y;default:return!0}}return R==="And"}},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFDataTransportStream=void 0;var t=e(1),s=e(133);class u{constructor(c,d){(0,t.assert)(d,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=c.progressiveDone||!1,this._contentDispositionFilename=c.contentDispositionFilename||null;const T=c.initialData;if((T==null?void 0:T.length)>0){const m=new Uint8Array(T).buffer;this._queuedChunks.push(m)}this._pdfDataRangeTransport=d,this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._contentLength=c.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((m,v)=>{this._onReceiveData({begin:m,chunk:v})}),this._pdfDataRangeTransport.addProgressListener((m,v)=>{this._onProgress({loaded:m,total:v})}),this._pdfDataRangeTransport.addProgressiveReadListener(m=>{this._onReceiveData({chunk:m})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(c){const d=new Uint8Array(c.chunk).buffer;if(c.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(d):this._queuedChunks.push(d);else{const T=this._rangeReaders.some(function(m){return m._begin!==c.begin?!1:(m._enqueue(d),!0)});(0,t.assert)(T,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var c,d;return(c=(d=this._fullRequestReader)===null||d===void 0?void 0:d._loaded)!==null&&c!==void 0?c:0}_onProgress(c){if(c.total===void 0){const d=this._rangeReaders[0];d!=null&&d.onProgress&&d.onProgress({loaded:c.loaded})}else{const d=this._fullRequestReader;d!=null&&d.onProgress&&d.onProgress({loaded:c.loaded,total:c.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(c){const d=this._rangeReaders.indexOf(c);d>=0&&this._rangeReaders.splice(d,1)}getFullReader(){(0,t.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const c=this._queuedChunks;return this._queuedChunks=null,new p(this,c,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(c,d){if(d<=this._progressiveDataLength)return null;const T=new o(this,c,d);return this._pdfDataRangeTransport.requestDataRange(c,d),this._rangeReaders.push(T),T}cancelAllRequests(c){this._fullRequestReader&&this._fullRequestReader.cancel(c);for(const d of this._rangeReaders.slice(0))d.cancel(c);this._pdfDataRangeTransport.abort()}}n.PDFDataTransportStream=u;class p{constructor(c,d){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=c,this._done=T||!1,this._filename=(0,s.isPdfFile)(m)?m:null,this._queuedChunks=d||[],this._loaded=0;for(const v of this._queuedChunks)this._loaded+=v.byteLength;this._requests=[],this._headersReady=Promise.resolve(),c._fullRequestReader=this,this.onProgress=null}_enqueue(c){this._done||(this._requests.length>0?this._requests.shift().resolve({value:c,done:!1}):this._queuedChunks.push(c),this._loaded+=c.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const c=(0,t.createPromiseCapability)();return this._requests.push(c),c.promise}cancel(c){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class o{constructor(c,d,T){this._stream=c,this._begin=d,this._end=T,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(c){if(!this._done){if(this._requests.length===0)this._queuedChunk=c;else{this._requests.shift().resolve({value:c,done:!1});for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const d=this._queuedChunk;return this._queuedChunk=null,{value:d,done:!1}}if(this._done)return{value:void 0,done:!0};const c=(0,t.createPromiseCapability)();return this._requests.push(c),c.promise}cancel(c){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(a,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaText=void 0;class e{static textContent(s){const u=[],p={items:u,styles:Object.create(null)};function o(_){var c;if(!_)return;let d=null;const T=_.name;if(T==="#text")d=_.value;else if(e.shouldBuildText(T))_!=null&&(c=_.attributes)!==null&&c!==void 0&&c.textContent?d=_.attributes.textContent:_.value&&(d=_.value);else return;if(d!==null&&u.push({str:d}),!!_.children)for(const m of _.children)o(m)}return o(s),p}static shouldBuildText(s){return!(s==="textarea"||s==="input"||s==="option"||s==="select")}}n.XfaText=e},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NodeStandardFontDataFactory=n.NodeCanvasFactory=n.NodeCMapReaderFactory=void 0;var t=e(134);const s=function(_){return new Promise((c,d)=>{require$$7.readFile(_,(m,v)=>{if(m||!v){d(new Error(m));return}c(new Uint8Array(v))})})};class u extends t.BaseCanvasFactory{_createCanvas(c,d){return require$$7.createCanvas(c,d)}}n.NodeCanvasFactory=u;class p extends t.BaseCMapReaderFactory{_fetchData(c,d){return s(c).then(T=>({cMapData:T,compressionType:d}))}}n.NodeCMapReaderFactory=p;class o extends t.BaseStandardFontDataFactory{_fetchData(c){return s(c)}}n.NodeStandardFontDataFactory=o},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditorLayer=void 0;var t=e(132),s=e(1),u=e(148),p=e(149);function o(I,z){d(I,z),z.add(I)}function _(I,z,ee){return z in I?Object.defineProperty(I,z,{value:ee,enumerable:!0,configurable:!0,writable:!0}):I[z]=ee,I}function c(I,z,ee){d(I,z),z.set(I,ee)}function d(I,z){if(z.has(I))throw new TypeError("Cannot initialize the same private elements twice on an object")}function T(I,z,ee){if(!z.has(I))throw new TypeError("attempted to get private field on non-instance");return ee}function m(I,z){var ee=w(I,z,"get");return v(I,ee)}function v(I,z){return z.get?z.get.call(I):z.value}function S(I,z,ee){var Q=w(I,z,"set");return x(I,Q,ee),ee}function w(I,z,ee){if(!z.has(I))throw new TypeError("attempted to "+ee+" private field on non-instance");return z.get(I)}function x(I,z,ee){if(z.set)z.set.call(I,ee);else{if(!z.writable)throw new TypeError("attempted to set read only private field");z.value=ee}}var L=new WeakMap,g=new WeakMap,y=new WeakMap,b=new WeakMap,l=new WeakMap,h=new WeakMap,A=new WeakMap,P=new WeakMap,R=new WeakSet,k=new WeakSet,F=new WeakSet,Y=new WeakSet;class B{constructor(z){o(this,Y),o(this,F),o(this,k),o(this,R),c(this,L,{writable:!0,value:void 0}),c(this,g,{writable:!0,value:!1}),c(this,y,{writable:!0,value:this.pointerup.bind(this)}),c(this,b,{writable:!0,value:this.pointerdown.bind(this)}),c(this,l,{writable:!0,value:new Map}),c(this,h,{writable:!0,value:!1}),c(this,A,{writable:!0,value:!1}),c(this,P,{writable:!0,value:void 0}),B._initialized||(B._initialized=!0,u.FreeTextEditor.initialize(z.l10n),p.InkEditor.initialize(z.l10n),z.uiManager.registerEditorTypes([u.FreeTextEditor,p.InkEditor])),S(this,P,z.uiManager),this.annotationStorage=z.annotationStorage,this.pageIndex=z.pageIndex,this.div=z.div,S(this,L,z.accessibilityManager),m(this,P).addLayer(this)}updateToolbar(z){m(this,P).updateToolbar(z)}updateMode(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m(this,P).getMode();T(this,Y,W).call(this),z===s.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),m(this,P).unselectAll()}addInkEditorIfNeeded(z){if(!z&&m(this,P).getMode()!==s.AnnotationEditorType.INK)return;if(!z){for(const Q of m(this,l).values())if(Q.isEmpty()){Q.setInBackground();return}}T(this,F,U).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(z){m(this,P).setEditingState(z)}addCommands(z){m(this,P).addCommands(z)}enable(){this.div.style.pointerEvents="auto";for(const z of m(this,l).values())z.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const z of m(this,l).values())z.disableEditing()}setActiveEditor(z){m(this,P).getActive()!==z&&m(this,P).setActiveEditor(z)}enableClick(){this.div.addEventListener("pointerdown",m(this,b)),this.div.addEventListener("pointerup",m(this,y))}disableClick(){this.div.removeEventListener("pointerdown",m(this,b)),this.div.removeEventListener("pointerup",m(this,y))}attach(z){m(this,l).set(z.id,z)}detach(z){var ee;m(this,l).delete(z.id),(ee=m(this,L))===null||ee===void 0||ee.removePointerInTextLayer(z.contentDiv)}remove(z){m(this,P).removeEditor(z),this.detach(z),this.annotationStorage.remove(z.id),z.div.style.display="none",setTimeout(()=>{z.div.style.display="",z.div.remove(),z.isAttachedToDOM=!1,document.activeElement===document.body&&m(this,P).focusMainContainer()},0),m(this,A)||this.addInkEditorIfNeeded(!1)}add(z){if(T(this,R,j).call(this,z),m(this,P).addEditor(z),this.attach(z),!z.isAttachedToDOM){const ee=z.render();this.div.append(ee),z.isAttachedToDOM=!0}this.moveEditorInDOM(z),z.onceAdded(),this.addToAnnotationStorage(z)}moveEditorInDOM(z){var ee;(ee=m(this,L))===null||ee===void 0||ee.moveElementInDOM(this.div,z.div,z.contentDiv,!0)}addToAnnotationStorage(z){!z.isEmpty()&&!this.annotationStorage.has(z.id)&&this.annotationStorage.setValue(z.id,z)}addOrRebuild(z){z.needsToBeRebuilt()?z.rebuild():this.add(z)}addANewEditor(z){const ee=()=>{this.addOrRebuild(z)},Q=()=>{z.remove()};this.addCommands({cmd:ee,undo:Q,mustExec:!0})}addUndoableEditor(z){const ee=()=>{this.addOrRebuild(z)},Q=()=>{z.remove()};this.addCommands({cmd:ee,undo:Q,mustExec:!1})}getNextId(){return m(this,P).getId()}deserialize(z){switch(z.annotationType){case s.AnnotationEditorType.FREETEXT:return u.FreeTextEditor.deserialize(z,this);case s.AnnotationEditorType.INK:return p.InkEditor.deserialize(z,this)}return null}setSelected(z){m(this,P).setSelected(z)}toggleSelected(z){m(this,P).toggleSelected(z)}isSelected(z){return m(this,P).isSelected(z)}unselect(z){m(this,P).unselect(z)}pointerup(z){const ee=t.KeyboardManager.platform.isMac;if(!(z.button!==0||z.ctrlKey&&ee)&&z.target===this.div&&m(this,h)){if(S(this,h,!1),!m(this,g)){S(this,g,!0);return}T(this,F,U).call(this,z)}}pointerdown(z){const ee=t.KeyboardManager.platform.isMac;if(z.button!==0||z.ctrlKey&&ee||z.target!==this.div)return;S(this,h,!0);const Q=m(this,P).getActive();S(this,g,!Q||Q.isEmpty())}drop(z){const ee=z.dataTransfer.getData("text/plain"),Q=m(this,P).getEditor(ee);if(!Q)return;z.preventDefault(),z.dataTransfer.dropEffect="move",T(this,R,j).call(this,Q);const ne=this.div.getBoundingClientRect(),fe=z.clientX-ne.x,X=z.clientY-ne.y;Q.translate(fe-Q.startX,X-Q.startY),this.moveEditorInDOM(Q),Q.div.focus()}dragover(z){z.preventDefault()}destroy(){var z;((z=m(this,P).getActive())===null||z===void 0?void 0:z.parent)===this&&m(this,P).setActiveEditor(null);for(const Q of m(this,l).values()){var ee;(ee=m(this,L))===null||ee===void 0||ee.removePointerInTextLayer(Q.contentDiv),Q.isAttachedToDOM=!1,Q.div.remove(),Q.parent=null}this.div=null,m(this,l).clear(),m(this,P).removeLayer(this)}render(z){this.viewport=z.viewport,(0,t.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const ee of m(this,P).getEditors(this.pageIndex))this.add(ee);this.updateMode()}update(z){this.viewport=z.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[z,ee,Q,ne]=this.viewport.viewBox,fe=Q-z,X=ne-ee;return[fe,X]}get viewportBaseDimensions(){const{width:z,height:ee,rotation:Q}=this.viewport;return Q%180===0?[z,ee]:[ee,z]}setDimensions(){const{width:z,height:ee,rotation:Q}=this.viewport,ne=Q%180!==0,fe=Math.floor(z)+"px",X=Math.floor(ee)+"px";this.div.style.width=ne?X:fe,this.div.style.height=ne?fe:X,this.div.setAttribute("data-main-rotation",Q)}}n.AnnotationEditorLayer=B;function j(I){var z;I.parent!==this&&(this.attach(I),I.pageIndex=this.pageIndex,(z=I.parent)===null||z===void 0||z.detach(I),I.parent=this,I.div&&I.isAttachedToDOM&&(I.div.remove(),this.div.append(I.div)))}function $(I){switch(m(this,P).getMode()){case s.AnnotationEditorType.FREETEXT:return new u.FreeTextEditor(I);case s.AnnotationEditorType.INK:return new p.InkEditor(I)}return null}function U(I){const z=this.getNextId(),ee=T(this,k,$).call(this,{parent:this,id:z,x:I.offsetX,y:I.offsetY});return ee&&this.add(ee),ee}function W(){S(this,A,!0);for(const I of m(this,l).values())I.isEmpty()&&I.remove();S(this,A,!1)}_(B,"_initialized",!1)},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FreeTextEditor=void 0;var t=e(1),s=e(132),u=e(131);function p(U,W){c(U,W),W.add(U)}function o(U,W,I){return W in U?Object.defineProperty(U,W,{value:I,enumerable:!0,configurable:!0,writable:!0}):U[W]=I,U}function _(U,W,I){c(U,W),W.set(U,I)}function c(U,W){if(W.has(U))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(U,W){var I=S(U,W,"get");return T(U,I)}function T(U,W){return W.get?W.get.call(U):W.value}function m(U,W,I){if(!W.has(U))throw new TypeError("attempted to get private field on non-instance");return I}function v(U,W,I){var z=S(U,W,"set");return w(U,z,I),I}function S(U,W,I){if(!W.has(U))throw new TypeError("attempted to "+I+" private field on non-instance");return W.get(U)}function w(U,W,I){if(W.set)W.set.call(U,I);else{if(!W.writable)throw new TypeError("attempted to set read only private field");W.value=I}}var x=new WeakMap,L=new WeakMap,g=new WeakMap,y=new WeakMap,b=new WeakMap,l=new WeakMap,h=new WeakMap,A=new WeakSet,P=new WeakSet,R=new WeakSet,k=new WeakSet;class F extends u.AnnotationEditor{constructor(W){super({...W,name:"freeTextEditor"}),p(this,k),p(this,R),p(this,P),p(this,A),_(this,x,{writable:!0,value:this.editorDivBlur.bind(this)}),_(this,L,{writable:!0,value:this.editorDivFocus.bind(this)}),_(this,g,{writable:!0,value:this.editorDivKeydown.bind(this)}),_(this,y,{writable:!0,value:void 0}),_(this,b,{writable:!0,value:""}),_(this,l,{writable:!0,value:!1}),_(this,h,{writable:!0,value:void 0}),v(this,y,W.color||F._defaultColor||u.AnnotationEditor._defaultLineColor),v(this,h,W.fontSize||F._defaultFontSize)}static initialize(W){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(z=>[z,W.get(z)]));const I=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(I.getPropertyValue("--freetext-padding"))}static updateDefaultParams(W,I){switch(W){case t.AnnotationEditorParamsType.FREETEXT_SIZE:F._defaultFontSize=I;break;case t.AnnotationEditorParamsType.FREETEXT_COLOR:F._defaultColor=I;break}}updateParams(W,I){switch(W){case t.AnnotationEditorParamsType.FREETEXT_SIZE:m(this,A,Y).call(this,I);break;case t.AnnotationEditorParamsType.FREETEXT_COLOR:m(this,P,B).call(this,I);break}}static get defaultPropertiesToUpdate(){return[[t.AnnotationEditorParamsType.FREETEXT_SIZE,F._defaultFontSize],[t.AnnotationEditorParamsType.FREETEXT_COLOR,F._defaultColor||u.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[t.AnnotationEditorParamsType.FREETEXT_SIZE,d(this,h)],[t.AnnotationEditorParamsType.FREETEXT_COLOR,d(this,y)]]}getInitialTranslation(){return[-F._internalPadding*this.parent.scaleFactor,-(F._internalPadding+d(this,h))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(t.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",d(this,g)),this.editorDiv.addEventListener("focus",d(this,L)),this.editorDiv.addEventListener("blur",d(this,x)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",d(this,g)),this.editorDiv.removeEventListener("focus",d(this,L)),this.editorDiv.removeEventListener("blur",d(this,x)),this.div.focus(),this.isEditing=!1)}focusin(W){super.focusin(W),W.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),d(this,l)||(v(this,l,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),v(this,b,m(this,R,j).call(this).trimEnd()),m(this,k,$).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(W){this.enableEditMode(),this.editorDiv.focus()}keydown(W){W.target===this.div&&W.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(W){F._keyboardManager.exec(this,W)}editorDivFocus(W){this.isEditing=!0}editorDivBlur(W){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let W,I;this.width&&(W=this.x,I=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),F._l10nPromise.get("editor_free_text_aria_label").then(ee=>{var Q;return(Q=this.editorDiv)===null||Q===void 0?void 0:Q.setAttribute("aria-label",ee)}),F._l10nPromise.get("free_text_default_content").then(ee=>{var Q;return(Q=this.editorDiv)===null||Q===void 0?void 0:Q.setAttribute("default-content",ee)}),this.editorDiv.contentEditable=!0;const{style:z}=this.editorDiv;if(z.fontSize=`calc(${d(this,h)}px * var(--scale-factor))`,z.color=d(this,y),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,s.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ee,Q]=this.parent.viewportBaseDimensions;this.setAt(W*ee,I*Q,this.width*ee,this.height*Q);for(const ne of d(this,b).split(`
`)){const fe=document.createElement("div");fe.append(ne?document.createTextNode(ne):document.createElement("br")),this.editorDiv.append(fe)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(W,I){const z=super.deserialize(W,I);return v(z,h,W.fontSize),v(z,y,t.Util.makeHexColor(...W.color)),v(z,b,W.value),z}serialize(){if(this.isEmpty())return null;const W=F._internalPadding*this.parent.scaleFactor,I=this.getRect(W,W),z=u.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:t.AnnotationEditorType.FREETEXT,color:z,fontSize:d(this,h),value:d(this,b),pageIndex:this.parent.pageIndex,rect:I,rotation:this.rotation}}}n.FreeTextEditor=F;function Y(U){const W=z=>{this.editorDiv.style.fontSize=`calc(${z}px * var(--scale-factor))`,this.translate(0,-(z-d(this,h))*this.parent.scaleFactor),v(this,h,z),m(this,k,$).call(this)},I=d(this,h);this.parent.addCommands({cmd:()=>{W(U)},undo:()=>{W(I)},mustExec:!0,type:t.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function B(U){const W=d(this,y);this.parent.addCommands({cmd:()=>{v(this,y,U),this.editorDiv.style.color=U},undo:()=>{v(this,y,W),this.editorDiv.style.color=W},mustExec:!0,type:t.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function j(){const U=this.editorDiv.getElementsByTagName("div");if(U.length===0)return this.editorDiv.innerText;const W=[];for(let I=0,z=U.length;I<z;I++){const Q=U[I].firstChild;(Q==null?void 0:Q.nodeName)==="#text"?W.push(Q.data):W.push("")}return W.join(`
`)}function $(){const[U,W]=this.parent.viewportBaseDimensions,I=this.div.getBoundingClientRect();this.width=I.width/U,this.height=I.height/W}o(F,"_freeTextDefaultContent",""),o(F,"_l10nPromise",void 0),o(F,"_internalPadding",0),o(F,"_defaultColor",null),o(F,"_defaultFontSize",10),o(F,"_keyboardManager",new s.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],F.prototype.commitOrRemove]])),o(F,"_type","freetext")},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.InkEditor=void 0,Object.defineProperty(n,"fitCurve",{enumerable:!0,get:function(){return u.fitCurve}});var t=e(1),s=e(131),u=e(150),p=e(132);function o(de,ie){d(de,ie),ie.add(de)}function _(de,ie,Se){return ie in de?Object.defineProperty(de,ie,{value:Se,enumerable:!0,configurable:!0,writable:!0}):de[ie]=Se,de}function c(de,ie,Se){d(de,ie),ie.set(de,Se)}function d(de,ie){if(ie.has(de))throw new TypeError("Cannot initialize the same private elements twice on an object")}function T(de,ie,Se){return m(de,ie),Se}function m(de,ie){if(de!==ie)throw new TypeError("Private static access of wrong provenance")}function v(de,ie,Se){var Re=x(de,ie,"set");return S(de,Re,Se),Se}function S(de,ie,Se){if(ie.set)ie.set.call(de,Se);else{if(!ie.writable)throw new TypeError("attempted to set read only private field");ie.value=Se}}function w(de,ie){var Se=x(de,ie,"get");return L(de,Se)}function x(de,ie,Se){if(!ie.has(de))throw new TypeError("attempted to "+Se+" private field on non-instance");return ie.get(de)}function L(de,ie){return ie.get?ie.get.call(de):ie.value}function g(de,ie,Se){if(!ie.has(de))throw new TypeError("attempted to get private field on non-instance");return Se}const y=16;var b=new WeakMap,l=new WeakMap,h=new WeakMap,A=new WeakMap,P=new WeakMap,R=new WeakMap,k=new WeakMap,F=new WeakMap,Y=new WeakMap,B=new WeakMap,j=new WeakMap,$=new WeakMap,U=new WeakMap,W=new WeakMap,I=new WeakSet,z=new WeakSet,ee=new WeakSet,Q=new WeakSet,ne=new WeakSet,fe=new WeakSet,X=new WeakSet,C=new WeakSet,M=new WeakSet,G=new WeakSet,K=new WeakSet,E=new WeakSet,O=new WeakSet,N=new WeakSet,V=new WeakSet,q=new WeakSet,J=new WeakSet,se=new WeakSet,ue=new WeakSet,ge=new WeakSet,be=new WeakSet,ve=new WeakSet;class ye extends s.AnnotationEditor{constructor(ie){super({...ie,name:"inkEditor"}),o(this,ve),o(this,be),o(this,ge),o(this,ue),o(this,se),o(this,J),o(this,q),o(this,V),o(this,N),o(this,O),o(this,E),o(this,K),o(this,G),o(this,M),o(this,C),o(this,X),o(this,fe),o(this,ne),o(this,Q),o(this,ee),o(this,z),o(this,I),c(this,b,{writable:!0,value:0}),c(this,l,{writable:!0,value:0}),c(this,h,{writable:!0,value:0}),c(this,A,{writable:!0,value:this.canvasPointermove.bind(this)}),c(this,P,{writable:!0,value:this.canvasPointerleave.bind(this)}),c(this,R,{writable:!0,value:this.canvasPointerup.bind(this)}),c(this,k,{writable:!0,value:this.canvasPointerdown.bind(this)}),c(this,F,{writable:!0,value:!1}),c(this,Y,{writable:!0,value:!1}),c(this,B,{writable:!0,value:null}),c(this,j,{writable:!0,value:null}),c(this,$,{writable:!0,value:0}),c(this,U,{writable:!0,value:0}),c(this,W,{writable:!0,value:null}),this.color=ie.color||null,this.thickness=ie.thickness||null,this.opacity=ie.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(ie){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(Se=>[Se,ie.get(Se)]))}static updateDefaultParams(ie,Se){switch(ie){case t.AnnotationEditorParamsType.INK_THICKNESS:ye._defaultThickness=Se;break;case t.AnnotationEditorParamsType.INK_COLOR:ye._defaultColor=Se;break;case t.AnnotationEditorParamsType.INK_OPACITY:ye._defaultOpacity=Se/100;break}}updateParams(ie,Se){switch(ie){case t.AnnotationEditorParamsType.INK_THICKNESS:g(this,I,xe).call(this,Se);break;case t.AnnotationEditorParamsType.INK_COLOR:g(this,z,De).call(this,Se);break;case t.AnnotationEditorParamsType.INK_OPACITY:g(this,ee,Ie).call(this,Se);break}}static get defaultPropertiesToUpdate(){return[[t.AnnotationEditorParamsType.INK_THICKNESS,ye._defaultThickness],[t.AnnotationEditorParamsType.INK_COLOR,ye._defaultColor||s.AnnotationEditor._defaultLineColor],[t.AnnotationEditorParamsType.INK_OPACITY,Math.round(ye._defaultOpacity*100)]]}get propertiesToUpdate(){var ie;return[[t.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ye._defaultThickness],[t.AnnotationEditorParamsType.INK_COLOR,this.color||ye._defaultColor||s.AnnotationEditor._defaultLineColor],[t.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((ie=this.opacity)!==null&&ie!==void 0?ie:ye._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(g(this,K,te).call(this),g(this,E,H).call(this)),this.isAttachedToDOM||(this.parent.add(this),g(this,O,ae).call(this)),g(this,be,_e).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,w(this,j).disconnect(),v(this,j,null),super.remove())}enableEditMode(){w(this,F)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",w(this,k)),this.canvas.addEventListener("pointerup",w(this,R)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",w(this,k)),this.canvas.removeEventListener("pointerup",w(this,R)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){w(this,F)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),v(this,F,!0),this.div.classList.add("disabled"),g(this,be,_e).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(ie){super.focusin(ie),this.enableEditMode()}canvasPointerdown(ie){ie.button!==0||!this.isInEditMode()||w(this,F)||(this.setInForeground(),ie.type!=="mouse"&&this.div.focus(),ie.stopPropagation(),this.canvas.addEventListener("pointerleave",w(this,P)),this.canvas.addEventListener("pointermove",w(this,A)),g(this,fe,pe).call(this,ie.offsetX,ie.offsetY))}canvasPointermove(ie){ie.stopPropagation(),g(this,X,ke).call(this,ie.offsetX,ie.offsetY)}canvasPointerup(ie){ie.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(ie.stopPropagation(),g(this,G,Ce).call(this,ie),this.setInBackground())}canvasPointerleave(ie){g(this,G,Ce).call(this,ie),this.setInBackground()}render(){if(this.div)return this.div;let ie,Se;this.width&&(ie=this.x,Se=this.y),super.render(),ye._l10nPromise.get("editor_ink_aria_label").then(ze=>{var $e;return($e=this.div)===null||$e===void 0?void 0:$e.setAttribute("aria-label",ze)});const[Re,Le,Ue,Ve]=g(this,Q,Fe).call(this);if(this.setAt(Re,Le,0,0),this.setDims(Ue,Ve),g(this,K,te).call(this),this.width){const[ze,$e]=this.parent.viewportBaseDimensions;this.setAt(ie*ze,Se*$e,this.width*ze,this.height*$e),v(this,Y,!0),g(this,O,ae).call(this),this.setDims(this.width*ze,this.height*$e),g(this,M,Oe).call(this),g(this,ve,we).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return g(this,E,H).call(this),this.div}setDimensions(ie,Se){const Re=Math.round(ie),Le=Math.round(Se);if(w(this,$)===Re&&w(this,U)===Le)return;v(this,$,Re),v(this,U,Le),this.canvas.style.visibility="hidden",w(this,b)&&Math.abs(w(this,b)-ie/Se)>.01&&(Se=Math.ceil(ie/w(this,b)),this.setDims(ie,Se));const[Ue,Ve]=this.parent.viewportBaseDimensions;this.width=ie/Ue,this.height=Se/Ve,w(this,F)&&g(this,N,Ee).call(this,ie,Se),g(this,O,ae).call(this),g(this,M,Oe).call(this),this.canvas.style.visibility="visible"}static deserialize(ie,Se){const Re=super.deserialize(ie,Se);Re.thickness=ie.thickness,Re.color=t.Util.makeHexColor(...ie.color),Re.opacity=ie.opacity;const[Le,Ue]=Se.pageDimensions,Ve=Re.width*Le,ze=Re.height*Ue,$e=Se.scaleFactor,Ge=ie.thickness/2;v(Re,b,Ve/ze),v(Re,F,!0),v(Re,$,Math.round(Ve)),v(Re,U,Math.round(ze));for(const{bezier:Ye}of ie.paths){const Ke=[];Re.paths.push(Ke);let et=$e*(Ye[0]-Ge),tt=$e*(ze-Ye[1]-Ge);for(let it=2,ot=Ye.length;it<ot;it+=6){const yt=$e*(Ye[it]-Ge),ht=$e*(ze-Ye[it+1]-Ge),ft=$e*(Ye[it+2]-Ge),ut=$e*(ze-Ye[it+3]-Ge),pt=$e*(Ye[it+4]-Ge),dt=$e*(ze-Ye[it+5]-Ge);Ke.push([[et,tt],[yt,ht],[ft,ut],[pt,dt]]),et=pt,tt=dt}const lt=T(this,ye,Pe).call(this,Ke);Re.bezierPath2D.push(lt)}const rt=g(Re,ue,oe).call(Re);return v(Re,h,Math.max(y,rt[2]-rt[0])),v(Re,l,Math.max(y,rt[3]-rt[1])),g(Re,N,Ee).call(Re,Ve,ze),Re}serialize(){if(this.isEmpty())return null;const ie=this.getRect(0,0),Se=this.rotation%180===0?ie[3]-ie[1]:ie[2]-ie[0],Re=s.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:t.AnnotationEditorType.INK,color:Re,thickness:this.thickness,opacity:this.opacity,paths:g(this,q,Me).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,Se),pageIndex:this.parent.pageIndex,rect:ie,rotation:this.rotation}}}n.InkEditor=ye;function xe(de){const ie=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=de,g(this,be,_e).call(this)},undo:()=>{this.thickness=ie,g(this,be,_e).call(this)},mustExec:!0,type:t.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function De(de){const ie=this.color;this.parent.addCommands({cmd:()=>{this.color=de,g(this,M,Oe).call(this)},undo:()=>{this.color=ie,g(this,M,Oe).call(this)},mustExec:!0,type:t.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Ie(de){de/=100;const ie=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=de,g(this,M,Oe).call(this)},undo:()=>{this.opacity=ie,g(this,M,Oe).call(this)},mustExec:!0,type:t.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function Fe(){const{width:de,height:ie,rotation:Se}=this.parent.viewport;switch(Se){case 90:return[0,de,de,ie];case 180:return[de,ie,de,ie];case 270:return[ie,0,de,ie];default:return[0,0,de,ie]}}function je(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,p.opacityToHex)(this.opacity)}`}function pe(de,ie){if(this.isEditing=!0,!w(this,Y)){var Se;v(this,Y,!0),g(this,O,ae).call(this),this.thickness||(this.thickness=ye._defaultThickness),this.color||(this.color=ye._defaultColor||s.AnnotationEditor._defaultLineColor),(Se=this.opacity)!==null&&Se!==void 0||(this.opacity=ye._defaultOpacity)}this.currentPath.push([de,ie]),v(this,B,null),g(this,ne,je).call(this),this.ctx.beginPath(),this.ctx.moveTo(de,ie),v(this,W,()=>{w(this,W)&&(w(this,B)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):g(this,M,Oe).call(this),this.ctx.lineTo(...w(this,B)),v(this,B,null),this.ctx.stroke()),window.requestAnimationFrame(w(this,W)))}),window.requestAnimationFrame(w(this,W))}function ke(de,ie){const[Se,Re]=this.currentPath.at(-1);de===Se&&ie===Re||(this.currentPath.push([de,ie]),v(this,B,[de,ie]))}function Ne(de,ie){this.ctx.closePath(),v(this,W,null),de=Math.min(Math.max(de,0),this.canvas.width),ie=Math.min(Math.max(ie,0),this.canvas.height);const[Se,Re]=this.currentPath.at(-1);(de!==Se||ie!==Re)&&this.currentPath.push([de,ie]);let Le;if(this.currentPath.length!==1)Le=(0,u.fitCurve)(this.currentPath,30,null);else{const $e=[de,ie];Le=[[$e,$e.slice(),$e.slice(),$e]]}const Ue=T(ye,ye,Pe).call(ye,Le);this.currentPath.length=0;const Ve=()=>{this.paths.push(Le),this.bezierPath2D.push(Ue),this.rebuild()},ze=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(g(this,K,te).call(this),g(this,E,H).call(this)),g(this,be,_e).call(this))};this.parent.addCommands({cmd:Ve,undo:ze,mustExec:!0})}function Oe(){if(this.isEmpty()){g(this,V,he).call(this);return}g(this,ne,je).call(this);const{canvas:de,ctx:ie}=this;ie.setTransform(1,0,0,1,0,0),ie.clearRect(0,0,de.width,de.height),g(this,V,he).call(this);for(const Se of this.bezierPath2D)ie.stroke(Se)}function Ce(de){g(this,C,Ne).call(this,de.offsetX,de.offsetY),this.canvas.removeEventListener("pointerleave",w(this,P)),this.canvas.removeEventListener("pointermove",w(this,A)),this.parent.addToAnnotationStorage(this)}function te(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ye._l10nPromise.get("editor_ink_canvas_aria_label").then(de=>{var ie;return(ie=this.canvas)===null||ie===void 0?void 0:ie.setAttribute("aria-label",de)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function H(){v(this,j,new ResizeObserver(de=>{const ie=de[0].contentRect;ie.width&&ie.height&&this.setDimensions(ie.width,ie.height)})),w(this,j).observe(this.div)}function ae(){if(!w(this,Y))return;const[de,ie]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*de),this.canvas.height=Math.ceil(this.height*ie),g(this,V,he).call(this)}function Ee(de,ie){const Se=g(this,ge,Ae).call(this),Re=(de-Se)/w(this,h),Le=(ie-Se)/w(this,l);this.scaleFactor=Math.min(Re,Le)}function he(){const de=g(this,ge,Ae).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+de,this.translationY*this.scaleFactor+de)}function Pe(de){const ie=new Path2D;for(let Se=0,Re=de.length;Se<Re;Se++){const[Le,Ue,Ve,ze]=de[Se];Se===0&&ie.moveTo(...Le),ie.bezierCurveTo(Ue[0],Ue[1],Ve[0],Ve[1],ze[0],ze[1])}return ie}function Me(de,ie,Se,Re){const Ue=[],Ve=this.thickness/2;let ze,$e;for(const Ge of this.paths){ze=[],$e=[];for(let rt=0,Ye=Ge.length;rt<Ye;rt++){const[Ke,et,tt,lt]=Ge[rt],it=de*(Ke[0]+ie)+Ve,ot=Re-de*(Ke[1]+Se)-Ve,yt=de*(et[0]+ie)+Ve,ht=Re-de*(et[1]+Se)-Ve,ft=de*(tt[0]+ie)+Ve,ut=Re-de*(tt[1]+Se)-Ve,pt=de*(lt[0]+ie)+Ve,dt=Re-de*(lt[1]+Se)-Ve;rt===0&&(ze.push(it,ot),$e.push(it,ot)),ze.push(yt,ht,ft,ut,pt,dt),g(this,J,ce).call(this,it,ot,yt,ht,ft,ut,pt,dt,4,$e)}Ue.push({bezier:ze,points:$e})}return Ue}function ce(de,ie,Se,Re,Le,Ue,Ve,ze,$e,Ge){if(g(this,se,re).call(this,de,ie,Se,Re,Le,Ue,Ve,ze)){Ge.push(Ve,ze);return}for(let rt=1;rt<$e-1;rt++){const Ye=rt/$e,Ke=1-Ye;let et=Ye*de+Ke*Se,tt=Ye*ie+Ke*Re,lt=Ye*Se+Ke*Le,it=Ye*Re+Ke*Ue;const ot=Ye*Le+Ke*Ve,yt=Ye*Ue+Ke*ze;et=Ye*et+Ke*lt,tt=Ye*tt+Ke*it,lt=Ye*lt+Ke*ot,it=Ye*it+Ke*yt,et=Ye*et+Ke*lt,tt=Ye*tt+Ke*it,Ge.push(et,tt)}Ge.push(Ve,ze)}function re(de,ie,Se,Re,Le,Ue,Ve,ze){const Ge=(3*Se-2*de-Ve)**2,rt=(3*Re-2*ie-ze)**2,Ye=(3*Le-de-2*Ve)**2,Ke=(3*Ue-ie-2*ze)**2;return Math.max(Ge,Ye)+Math.max(rt,Ke)<=10}function oe(){let de=1/0,ie=-1/0,Se=1/0,Re=-1/0;for(const Le of this.paths)for(const[Ue,Ve,ze,$e]of Le){const Ge=t.Util.bezierBoundingBox(...Ue,...Ve,...ze,...$e);de=Math.min(de,Ge[0]),Se=Math.min(Se,Ge[1]),ie=Math.max(ie,Ge[2]),Re=Math.max(Re,Ge[3])}return[de,Se,ie,Re]}function Ae(){return w(this,F)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function _e(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!w(this,F)){g(this,M,Oe).call(this);return}const ie=g(this,ue,oe).call(this),Se=g(this,ge,Ae).call(this);v(this,h,Math.max(y,ie[2]-ie[0])),v(this,l,Math.max(y,ie[3]-ie[1]));const Re=Math.ceil(Se+w(this,h)*this.scaleFactor),Le=Math.ceil(Se+w(this,l)*this.scaleFactor),[Ue,Ve]=this.parent.viewportBaseDimensions;this.width=Re/Ue,this.height=Le/Ve,v(this,b,Re/Le),g(this,ve,we).call(this);const ze=this.translationX,$e=this.translationY;this.translationX=-ie[0],this.translationY=-ie[1],g(this,O,ae).call(this),g(this,M,Oe).call(this),v(this,$,Re),v(this,U,Le),this.setDims(Re,Le);const Ge=de?Se/this.scaleFactor/2:0;this.translate(ze-this.translationX-Ge,$e-this.translationY-Ge)}function we(){const{style:de}=this.div;w(this,b)>=1?(de.minHeight=`${y}px`,de.minWidth=`${Math.round(w(this,b)*y)}px`):(de.minWidth=`${y}px`,de.minHeight=`${Math.round(y/w(this,b))}px`)}_(ye,"_defaultColor",null),_(ye,"_defaultOpacity",1),_(ye,"_defaultThickness",1),_(ye,"_l10nPromise",void 0),_(ye,"_type","ink")},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.fitCurve=void 0;const t=e(151);n.fitCurve=t},a=>{function n(S,w,x){if(!Array.isArray(S))throw new TypeError("First argument should be an array");if(S.forEach(b=>{if(!Array.isArray(b)||b.some(l=>typeof l!="number")||b.length!==S[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),S=S.filter((b,l)=>l===0||!b.every((h,A)=>h===S[l-1][A])),S.length<2)return[];const L=S.length,g=T(S[1],S[0]),y=T(S[L-2],S[L-1]);return e(S,g,y,w,x)}function e(S,w,x,L,g){var b,l,h,A,P,R,k,F,Y,B,j,$,U;if(S.length===2)return $=m.vectorLen(m.subtract(S[0],S[1]))/3,b=[S[0],m.addArrays(S[0],m.mulItems(w,$)),m.addArrays(S[1],m.mulItems(x,$)),S[1]],[b];if(l=o(S),[b,A,R]=t(S,l,l,w,x,g),A===0||A<L)return[b];if(A<L*L)for(h=l,P=A,k=R,U=0;U<20;U++){if(h=u(b,S,h),[b,A,R]=t(S,l,h,w,x,g),A<L)return[b];if(R===k){let W=A/P;if(W>.9999&&W<1.0001)break}P=A,k=R}return j=[],F=m.subtract(S[R-1],S[R+1]),F.every(W=>W===0)&&(F=m.subtract(S[R-1],S[R]),[F[0],F[1]]=[-F[1],F[0]]),Y=m.normalize(F),B=m.mulItems(Y,-1),j=j.concat(e(S.slice(0,R+1),w,Y,L,g)),j=j.concat(e(S.slice(R),B,x,L,g)),j}function t(S,w,x,L,g,y){var b,l,h;return b=s(S,x,L,g),[l,h]=_(S,b,w),y&&y({bez:b,points:S,params:w,maxErr:l,maxPoint:h}),[b,l,h]}function s(S,w,x,L){var g,y,b,l,h,A,P,R,k,F,Y,B,j,$,U,W,I,z=S[0],ee=S[S.length-1];for(g=[z,null,null,ee],y=m.zeros_Xx2x2(w.length),j=0,$=w.length;j<$;j++)W=w[j],I=1-W,b=y[j],b[0]=m.mulItems(x,3*W*(I*I)),b[1]=m.mulItems(L,3*I*(W*W));for(l=[[0,0],[0,0]],h=[0,0],j=0,$=S.length;j<$;j++)W=w[j],b=y[j],l[0][0]+=m.dot(b[0],b[0]),l[0][1]+=m.dot(b[0],b[1]),l[1][0]+=m.dot(b[0],b[1]),l[1][1]+=m.dot(b[1],b[1]),U=m.subtract(S[j],v.q([z,z,ee,ee],W)),h[0]+=m.dot(b[0],U),h[1]+=m.dot(b[1],U);return A=l[0][0]*l[1][1]-l[1][0]*l[0][1],P=l[0][0]*h[1]-l[1][0]*h[0],R=h[0]*l[1][1]-h[1]*l[0][1],k=A===0?0:R/A,F=A===0?0:P/A,B=m.vectorLen(m.subtract(z,ee)),Y=1e-6*B,k<Y||F<Y?(g[1]=m.addArrays(z,m.mulItems(x,B/3)),g[2]=m.addArrays(ee,m.mulItems(L,B/3))):(g[1]=m.addArrays(z,m.mulItems(x,k)),g[2]=m.addArrays(ee,m.mulItems(L,F))),g}function u(S,w,x){return x.map((L,g)=>p(S,w[g],L))}function p(S,w,x){var L=m.subtract(v.q(S,x),w),g=v.qprime(S,x),y=m.mulMatrix(L,g),b=m.sum(m.squareItems(g))+2*m.mulMatrix(L,v.qprimeprime(S,x));return b===0?x:x-y/b}function o(S){var w=[],x,L,g;return S.forEach((y,b)=>{x=b?L+m.vectorLen(m.subtract(y,g)):0,w.push(x),L=x,g=y}),w=w.map(y=>y/L),w}function _(S,w,x){var L,g,y,b,l,h,A,P;g=0,y=Math.floor(S.length/2);const R=c(w,10);for(l=0,h=S.length;l<h;l++)A=S[l],P=d(w,x[l],R,10),b=m.subtract(v.q(w,P),A),L=b[0]*b[0]+b[1]*b[1],L>g&&(g=L,y=l);return[g,y]}var c=function(S,w){for(var x,L=[0],g=S[0],y=0,b=1;b<=w;b++)x=v.q(S,b/w),y+=m.vectorLen(m.subtract(x,g)),L.push(y),g=x;return L=L.map(l=>l/y),L};function d(S,w,x,L){if(w<0)return 0;if(w>1)return 1;for(var g,y,b,l,h,A=1;A<=L;A++)if(w<=x[A]){l=(A-1)/L,b=A/L,y=x[A-1],g=x[A],h=(w-y)/(g-y)*(b-l)+l;break}return h}function T(S,w){return m.normalize(m.subtract(S,w))}class m{static zeros_Xx2x2(w){for(var x=[];w--;)x.push([0,0]);return x}static mulItems(w,x){return w.map(L=>L*x)}static mulMatrix(w,x){return w.reduce((L,g,y)=>L+g*x[y],0)}static subtract(w,x){return w.map((L,g)=>L-x[g])}static addArrays(w,x){return w.map((L,g)=>L+x[g])}static addItems(w,x){return w.map(L=>L+x)}static sum(w){return w.reduce((x,L)=>x+L)}static dot(w,x){return m.mulMatrix(w,x)}static vectorLen(w){return Math.hypot(...w)}static divItems(w,x){return w.map(L=>L/x)}static squareItems(w){return w.map(x=>x*x)}static normalize(w){return this.divItems(w,this.vectorLen(w))}}class v{static q(w,x){var L=1-x,g=m.mulItems(w[0],L*L*L),y=m.mulItems(w[1],3*L*L*x),b=m.mulItems(w[2],3*L*x*x),l=m.mulItems(w[3],x*x*x);return m.addArrays(m.addArrays(g,y),m.addArrays(b,l))}static qprime(w,x){var L=1-x,g=m.mulItems(m.subtract(w[1],w[0]),3*L*L),y=m.mulItems(m.subtract(w[2],w[1]),6*L*x),b=m.mulItems(m.subtract(w[3],w[2]),3*x*x);return m.addArrays(m.addArrays(g,y),b)}static qprimeprime(w,x){return m.addArrays(m.mulItems(m.addArrays(m.subtract(w[2],m.mulItems(w[1],2)),w[0]),6*(1-x)),m.mulItems(m.addArrays(m.subtract(w[3],m.mulItems(w[2],2)),w[1]),6*x))}}a.exports=n,a.exports.fitCubic=e,a.exports.createTangent=T},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationLayer=void 0;var t=e(1),s=e(133),u=e(130),p=e(153),o=e(154);function _(K,E,O){return c(K,E),O}function c(K,E){if(K!==E)throw new TypeError("Private static access of wrong provenance")}const d=1e3,T=9,m=new WeakSet;function v(K){return{width:K[2]-K[0],height:K[3]-K[1]}}class S{static create(E){switch(E.data.annotationType){case t.AnnotationType.LINK:return new x(E);case t.AnnotationType.TEXT:return new L(E);case t.AnnotationType.WIDGET:switch(E.data.fieldType){case"Tx":return new y(E);case"Btn":return E.data.radioButton?new l(E):E.data.checkBox?new b(E):new h(E);case"Ch":return new A(E)}return new g(E);case t.AnnotationType.POPUP:return new P(E);case t.AnnotationType.FREETEXT:return new k(E);case t.AnnotationType.LINE:return new F(E);case t.AnnotationType.SQUARE:return new Y(E);case t.AnnotationType.CIRCLE:return new B(E);case t.AnnotationType.POLYLINE:return new j(E);case t.AnnotationType.CARET:return new U(E);case t.AnnotationType.INK:return new W(E);case t.AnnotationType.POLYGON:return new $(E);case t.AnnotationType.HIGHLIGHT:return new I(E);case t.AnnotationType.UNDERLINE:return new z(E);case t.AnnotationType.SQUIGGLY:return new ee(E);case t.AnnotationType.STRIKEOUT:return new Q(E);case t.AnnotationType.STAMP:return new ne(E);case t.AnnotationType.FILEATTACHMENT:return new fe(E);default:return new w(E)}}}class w{constructor(E){let{isRenderable:O=!1,ignoreBorder:N=!1,createQuadrilaterals:V=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=O,this.data=E.data,this.layer=E.layer,this.page=E.page,this.viewport=E.viewport,this.linkService=E.linkService,this.downloadManager=E.downloadManager,this.imageResourcesPath=E.imageResourcesPath,this.renderForms=E.renderForms,this.svgFactory=E.svgFactory,this.annotationStorage=E.annotationStorage,this.enableScripting=E.enableScripting,this.hasJSActions=E.hasJSActions,this._fieldObjects=E.fieldObjects,this._mouseState=E.mouseState,O&&(this.container=this._createContainer(N)),V&&(this.quadrilaterals=this._createQuadrilaterals(N))}_createContainer(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const O=this.data,N=this.page,V=this.viewport,q=document.createElement("section"),{width:J,height:se}=v(O.rect),[ue,ge,be,ve]=V.viewBox,ye=be-ue,xe=ve-ge;q.setAttribute("data-annotation-id",O.id);const De=t.Util.normalizeRect([O.rect[0],N.view[3]-O.rect[1]+N.view[1],O.rect[2],N.view[3]-O.rect[3]+N.view[1]]);if(!E&&O.borderStyle.width>0){q.style.borderWidth=`${O.borderStyle.width}px`;const Fe=O.borderStyle.horizontalCornerRadius,je=O.borderStyle.verticalCornerRadius;if(Fe>0||je>0){const ke=`calc(${Fe}px * var(--scale-factor)) / calc(${je}px * var(--scale-factor))`;q.style.borderRadius=ke}else if(this instanceof l){const ke=`calc(${J}px * var(--scale-factor)) / calc(${se}px * var(--scale-factor))`;q.style.borderRadius=ke}switch(O.borderStyle.style){case t.AnnotationBorderStyleType.SOLID:q.style.borderStyle="solid";break;case t.AnnotationBorderStyleType.DASHED:q.style.borderStyle="dashed";break;case t.AnnotationBorderStyleType.BEVELED:(0,t.warn)("Unimplemented border style: beveled");break;case t.AnnotationBorderStyleType.INSET:(0,t.warn)("Unimplemented border style: inset");break;case t.AnnotationBorderStyleType.UNDERLINE:q.style.borderBottomStyle="solid";break}const pe=O.borderColor||null;pe?q.style.borderColor=t.Util.makeHexColor(pe[0]|0,pe[1]|0,pe[2]|0):q.style.borderWidth=0}q.style.left=`${100*(De[0]-ue)/ye}%`,q.style.top=`${100*(De[1]-ge)/xe}%`;const{rotation:Ie}=O;return O.hasOwnCanvas||Ie===0?(q.style.width=`${100*J/ye}%`,q.style.height=`${100*se/xe}%`):this.setRotation(Ie,q),q}setRotation(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;const[N,V,q,J]=this.viewport.viewBox,se=q-N,ue=J-V,{width:ge,height:be}=v(this.data.rect);let ve,ye;E%180===0?(ve=100*ge/se,ye=100*be/ue):(ve=100*be/se,ye=100*ge/ue),O.style.width=`${ve}%`,O.style.height=`${ye}%`,O.setAttribute("data-main-rotation",(360-E)%360)}get _commonActions(){const E=(O,N,V)=>{const q=V.detail[O];V.target.style[N]=p.ColorConverters[`${q[0]}_HTML`](q.slice(1))};return(0,t.shadow)(this,"_commonActions",{display:O=>{const N=O.detail.display%2===1;this.container.style.visibility=N?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:N,print:O.detail.display===0||O.detail.display===3})},print:O=>{this.annotationStorage.setValue(this.data.id,{print:O.detail.print})},hidden:O=>{this.container.style.visibility=O.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:O.detail.hidden})},focus:O=>{setTimeout(()=>O.target.focus({preventScroll:!1}),0)},userName:O=>{O.target.title=O.detail.userName},readonly:O=>{O.detail.readonly?O.target.setAttribute("readonly",""):O.target.removeAttribute("readonly")},required:O=>{this._setRequired(O.target,O.detail.required)},bgColor:O=>{E("bgColor","backgroundColor",O)},fillColor:O=>{E("fillColor","backgroundColor",O)},fgColor:O=>{E("fgColor","color",O)},textColor:O=>{E("textColor","color",O)},borderColor:O=>{E("borderColor","borderColor",O)},strokeColor:O=>{E("strokeColor","borderColor",O)},rotation:O=>{const N=O.detail.rotation;this.setRotation(N),this.annotationStorage.setValue(this.data.id,{rotation:N})}})}_dispatchEventFromSandbox(E,O){const N=this._commonActions;for(const V of Object.keys(O.detail)){const q=E[V]||N[V];q&&q(O)}}_setDefaultPropertiesFromJS(E){if(!this.enableScripting)return;const O=this.annotationStorage.getRawValue(this.data.id);if(!O)return;const N=this._commonActions;for(const[V,q]of Object.entries(O)){const J=N[V];if(J){const se={detail:{[V]:q},target:E};J(se),delete O[V]}}}_createQuadrilaterals(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;const O=[],N=this.data.rect;for(const V of this.data.quadPoints)this.data.rect=[V[2].x,V[2].y,V[1].x,V[1].y],O.push(this._createContainer(E));return this.data.rect=N,O}_createPopup(E,O){let N=this.container;this.quadrilaterals&&(E=E||this.quadrilaterals,N=this.quadrilaterals[0]),E||(E=document.createElement("div"),E.className="popupTriggerArea",N.append(E));const q=new R({container:N,trigger:E,color:O.color,titleObj:O.titleObj,modificationDate:O.modificationDate,contentsObj:O.contentsObj,richText:O.richText,hideWrapper:!0}).render();q.style.left="100%",N.append(q)}_renderQuadrilaterals(E){for(const O of this.quadrilaterals)O.className=E;return this.quadrilaterals}render(){(0,t.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const N=[];if(this._fieldObjects){const V=this._fieldObjects[E];if(V)for(const{page:q,id:J,exportValues:se}of V){if(q===-1||J===O)continue;const ue=typeof se=="string"?se:null,ge=document.querySelector(`[data-element-id="${J}"]`);if(ge&&!m.has(ge)){(0,t.warn)(`_getElementsByName - element not allowed: ${J}`);continue}N.push({id:J,exportValue:ue,domElement:ge})}return N}for(const V of document.getElementsByName(E)){const{id:q,exportValue:J}=V;q!==O&&m.has(V)&&N.push({id:q,exportValue:J,domElement:V})}return N}static get platform(){const E=typeof navigator<"u"?navigator.platform:"";return(0,t.shadow)(this,"platform",{isWin:E.includes("Win"),isMac:E.includes("Mac")})}}class x extends w{constructor(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(E,{isRenderable:!0,ignoreBorder:!!(O!=null&&O.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=E.data.isTooltipOnly}render(){const{data:E,linkService:O}=this,N=document.createElement("a");N.setAttribute("data-element-id",E.id);let V=!1;return E.url?(O.addLinkAttributes(N,E.url,E.newWindow),V=!0):E.action?(this._bindNamedAction(N,E.action),V=!0):E.dest?(this._bindLink(N,E.dest),V=!0):(E.actions&&(E.actions.Action||E.actions["Mouse Up"]||E.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(N,E),V=!0),E.resetForm?(this._bindResetFormAction(N,E.resetForm),V=!0):this.isTooltipOnly&&!V&&(this._bindLink(N,""),V=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((q,J)=>{const se=J===0?N:N.cloneNode();return q.append(se),q}):(this.container.className="linkAnnotation",V&&this.container.append(N),this.container)}_bindLink(E,O){E.href=this.linkService.getDestinationHash(O),E.onclick=()=>(O&&this.linkService.goToDestination(O),!1),(O||O==="")&&(E.className="internalLink")}_bindNamedAction(E,O){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeNamedAction(O),!1),E.className="internalLink"}_bindJSAction(E,O){E.href=this.linkService.getAnchorUrl("");const N=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const V of Object.keys(O.actions)){const q=N.get(V);q&&(E[q]=()=>{var J;return(J=this.linkService.eventBus)===null||J===void 0||J.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O.id,name:V}}),!1})}E.onclick||(E.onclick=()=>!1),E.className="internalLink"}_bindResetFormAction(E,O){const N=E.onclick;if(N||(E.href=this.linkService.getAnchorUrl("")),E.className="internalLink",!this._fieldObjects){(0,t.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),N||(E.onclick=()=>!1);return}E.onclick=()=>{N&&N();const{fields:V,refs:q,include:J}=O,se=[];if(V.length!==0||q.length!==0){const ve=new Set(q);for(const ye of V){const xe=this._fieldObjects[ye]||[];for(const{id:De}of xe)ve.add(De)}for(const ye of Object.values(this._fieldObjects))for(const xe of ye)ve.has(xe.id)===J&&se.push(xe)}else for(const ve of Object.values(this._fieldObjects))se.push(...ve);const ue=this.annotationStorage,ge=[];for(const ve of se){const{id:ye}=ve;switch(ge.push(ye),ve.type){case"text":{const De=ve.defaultValue||"";ue.setValue(ye,{value:De});break}case"checkbox":case"radiobutton":{const De=ve.defaultValue===ve.exportValues;ue.setValue(ye,{value:De});break}case"combobox":case"listbox":{const De=ve.defaultValue||"";ue.setValue(ye,{value:De});break}default:continue}const xe=document.querySelector(`[data-element-id="${ye}"]`);if(xe){if(!m.has(xe)){(0,t.warn)(`_bindResetFormAction - element not allowed: ${ye}`);continue}}else continue;xe.dispatchEvent(new Event("resetform"))}if(this.enableScripting){var be;(be=this.linkService.eventBus)===null||be===void 0||be.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ge,name:"ResetForm"}})}return!1}}}class L extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q})}render(){this.container.className="textAnnotation";const E=document.createElement("img");return E.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",E.alt="[{{type}} Annotation]",E.dataset.l10nId="text_annotation_type",E.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(E,this.data),this.container.append(E),this.container}}class g extends w{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(E){const{isWin:O,isMac:N}=w.platform;return O&&E.ctrlKey||N&&E.metaKey}_setEventListener(E,O,N,V){O.includes("mouse")?E.addEventListener(O,q=>{var J;(J=this.linkService.eventBus)===null||J===void 0||J.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:V(q),shift:q.shiftKey,modifier:this._getKeyModifier(q)}})}):E.addEventListener(O,q=>{var J;(J=this.linkService.eventBus)===null||J===void 0||J.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:V(q)}})})}_setEventListeners(E,O,N){for(const[q,J]of O){var V;(J==="Action"||(V=this.data.actions)!==null&&V!==void 0&&V[J])&&this._setEventListener(E,q,J,N)}}_setBackgroundColor(E){const O=this.data.backgroundColor||null;E.style.backgroundColor=O===null?"transparent":t.Util.makeHexColor(O[0],O[1],O[2])}_setTextStyle(E){const O=["left","center","right"],{fontColor:N}=this.data.defaultAppearanceData,V=this.data.defaultAppearanceData.fontSize||T,q=E.style;let J;if(this.data.multiLine){const se=Math.abs(this.data.rect[3]-this.data.rect[1]),ue=Math.round(se/(t.LINE_FACTOR*V))||1,ge=se/ue;J=Math.min(V,Math.round(ge/t.LINE_FACTOR))}else{const se=Math.abs(this.data.rect[3]-this.data.rect[1]);J=Math.min(V,Math.round(se/t.LINE_FACTOR))}q.fontSize=`calc(${J}px * var(--scale-factor))`,q.color=t.Util.makeHexColor(N[0],N[1],N[2]),this.data.textAlignment!==null&&(q.textAlign=O[this.data.textAlignment])}_setRequired(E,O){O?E.setAttribute("required",!0):E.removeAttribute("required"),E.setAttribute("aria-required",O)}}class y extends g{constructor(E){const O=E.renderForms||!E.data.hasAppearance&&!!E.data.fieldValue;super(E,{isRenderable:O})}setPropertyOnSiblings(E,O,N,V){const q=this.annotationStorage;for(const J of this._getElementsByName(E.name,E.id))J.domElement&&(J.domElement[O]=N),q.setValue(J.id,{[V]:N})}render(){const E=this.annotationStorage,O=this.data.id;this.container.className="textWidgetAnnotation";let N=null;if(this.renderForms){const q=E.getValue(O,{value:this.data.fieldValue});let J=q.formattedValue||q.value||"";const se=E.getValue(O,{charLimit:this.data.maxLen}).charLimit;se&&J.length>se&&(J=J.slice(0,se));const ue={userValue:J,formattedValue:null,valueOnFocus:""};this.data.multiLine?(N=document.createElement("textarea"),N.textContent=J,this.data.doNotScroll&&(N.style.overflowY="hidden")):(N=document.createElement("input"),N.type="text",N.setAttribute("value",J),this.data.doNotScroll&&(N.style.overflowX="hidden")),m.add(N),N.setAttribute("data-element-id",O),N.disabled=this.data.readOnly,N.name=this.data.fieldName,N.tabIndex=d,this._setRequired(N,this.data.required),se&&(N.maxLength=se),N.addEventListener("input",be=>{E.setValue(O,{value:be.target.value}),this.setPropertyOnSiblings(N,"value",be.target.value,"value")}),N.addEventListener("resetform",be=>{var ve;const ye=(ve=this.data.defaultFieldValue)!==null&&ve!==void 0?ve:"";N.value=ue.userValue=ye,ue.formattedValue=null});let ge=be=>{const{formattedValue:ve}=ue;ve!=null&&(be.target.value=ve),be.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var V;N.addEventListener("focus",ve=>{ue.userValue&&(ve.target.value=ue.userValue),ue.valueOnFocus=ve.target.value}),N.addEventListener("updatefromsandbox",ve=>{const ye={value(xe){var De;ue.userValue=(De=xe.detail.value)!==null&&De!==void 0?De:"",E.setValue(O,{value:ue.userValue.toString()}),xe.target.value=ue.userValue},formattedValue(xe){const{formattedValue:De}=xe.detail;ue.formattedValue=De,De!=null&&xe.target!==document.activeElement&&(xe.target.value=De),E.setValue(O,{formattedValue:De})},selRange(xe){xe.target.setSelectionRange(...xe.detail.selRange)},charLimit:xe=>{var De;const{charLimit:Ie}=xe.detail,{target:Fe}=xe;if(Ie===0){Fe.removeAttribute("maxLength");return}Fe.setAttribute("maxLength",Ie);let je=ue.userValue;!je||je.length<=Ie||(je=je.slice(0,Ie),Fe.value=ue.userValue=je,E.setValue(O,{value:je}),(De=this.linkService.eventBus)===null||De===void 0||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:je,willCommit:!0,commitKey:1,selStart:Fe.selectionStart,selEnd:Fe.selectionEnd}}))}};this._dispatchEventFromSandbox(ye,ve)}),N.addEventListener("keydown",ve=>{var ye;let xe=-1;if(ve.key==="Escape"?xe=0:ve.key==="Enter"?xe=2:ve.key==="Tab"&&(xe=3),xe===-1)return;const{value:De}=ve.target;ue.valueOnFocus!==De&&(ue.userValue=De,(ye=this.linkService.eventBus)===null||ye===void 0||ye.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:De,willCommit:!0,commitKey:xe,selStart:ve.target.selectionStart,selEnd:ve.target.selectionEnd}}))});const be=ge;ge=null,N.addEventListener("blur",ve=>{const{value:ye}=ve.target;if(ue.userValue=ye,this._mouseState.isDown&&ue.valueOnFocus!==ye){var xe;(xe=this.linkService.eventBus)===null||xe===void 0||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:ye,willCommit:!0,commitKey:1,selStart:ve.target.selectionStart,selEnd:ve.target.selectionEnd}})}be(ve)}),(V=this.data.actions)!==null&&V!==void 0&&V.Keystroke&&N.addEventListener("beforeinput",ve=>{var ye;const{data:xe,target:De}=ve,{value:Ie,selectionStart:Fe,selectionEnd:je}=De;let pe=Fe,ke=je;switch(ve.inputType){case"deleteWordBackward":{const Ne=Ie.substring(0,Fe).match(/\w*[^\w]*$/);Ne&&(pe-=Ne[0].length);break}case"deleteWordForward":{const Ne=Ie.substring(Fe).match(/^[^\w]*\w*/);Ne&&(ke+=Ne[0].length);break}case"deleteContentBackward":Fe===je&&(pe-=1);break;case"deleteContentForward":Fe===je&&(ke+=1);break}ve.preventDefault(),(ye=this.linkService.eventBus)===null||ye===void 0||ye.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:Ie,change:xe||"",willCommit:!1,selStart:pe,selEnd:ke}})}),this._setEventListeners(N,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ve=>ve.target.value)}if(ge&&N.addEventListener("blur",ge),this.data.comb){const ve=(this.data.rect[2]-this.data.rect[0])/se;N.classList.add("comb"),N.style.letterSpacing=`calc(${ve}px * var(--scale-factor) - 1ch)`}}else N=document.createElement("div"),N.textContent=this.data.fieldValue,N.style.verticalAlign="middle",N.style.display="table-cell";return this._setTextStyle(N),this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class b extends g{constructor(E){super(E,{isRenderable:E.renderForms})}render(){const E=this.annotationStorage,O=this.data,N=O.id;let V=E.getValue(N,{value:O.exportValue===O.fieldValue}).value;typeof V=="string"&&(V=V!=="Off",E.setValue(N,{value:V})),this.container.className="buttonWidgetAnnotation checkBox";const q=document.createElement("input");return m.add(q),q.setAttribute("data-element-id",N),q.disabled=O.readOnly,this._setRequired(q,this.data.required),q.type="checkbox",q.name=O.fieldName,V&&q.setAttribute("checked",!0),q.setAttribute("exportValue",O.exportValue),q.tabIndex=d,q.addEventListener("change",J=>{const{name:se,checked:ue}=J.target;for(const ge of this._getElementsByName(se,N)){const be=ue&&ge.exportValue===O.exportValue;ge.domElement&&(ge.domElement.checked=be),E.setValue(ge.id,{value:be})}E.setValue(N,{value:ue})}),q.addEventListener("resetform",J=>{const se=O.defaultFieldValue||"Off";J.target.checked=se===O.exportValue}),this.enableScripting&&this.hasJSActions&&(q.addEventListener("updatefromsandbox",J=>{const se={value(ue){ue.target.checked=ue.detail.value!=="Off",E.setValue(N,{value:ue.target.checked})}};this._dispatchEventFromSandbox(se,J)}),this._setEventListeners(q,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],J=>J.target.checked)),this._setBackgroundColor(q),this._setDefaultPropertiesFromJS(q),this.container.append(q),this.container}}class l extends g{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const E=this.annotationStorage,O=this.data,N=O.id;let V=E.getValue(N,{value:O.fieldValue===O.buttonValue}).value;typeof V=="string"&&(V=V!==O.buttonValue,E.setValue(N,{value:V}));const q=document.createElement("input");if(m.add(q),q.setAttribute("data-element-id",N),q.disabled=O.readOnly,this._setRequired(q,this.data.required),q.type="radio",q.name=O.fieldName,V&&q.setAttribute("checked",!0),q.tabIndex=d,q.addEventListener("change",J=>{const{name:se,checked:ue}=J.target;for(const ge of this._getElementsByName(se,N))E.setValue(ge.id,{value:!1});E.setValue(N,{value:ue})}),q.addEventListener("resetform",J=>{const se=O.defaultFieldValue;J.target.checked=se!=null&&se===O.buttonValue}),this.enableScripting&&this.hasJSActions){const J=O.buttonValue;q.addEventListener("updatefromsandbox",se=>{const ue={value:ge=>{const be=J===ge.detail.value;for(const ve of this._getElementsByName(ge.target.name)){const ye=be&&ve.id===N;ve.domElement&&(ve.domElement.checked=ye),E.setValue(ve.id,{value:ye})}}};this._dispatchEventFromSandbox(ue,se)}),this._setEventListeners(q,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],se=>se.target.checked)}return this._setBackgroundColor(q),this._setDefaultPropertiesFromJS(q),this.container.append(q),this.container}}class h extends x{constructor(E){super(E,{ignoreBorder:E.data.hasAppearance})}render(){const E=super.render();E.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(E.title=this.data.alternativeText);const O=E.lastChild;return this.enableScripting&&this.hasJSActions&&O&&(this._setDefaultPropertiesFromJS(O),O.addEventListener("updatefromsandbox",N=>{this._dispatchEventFromSandbox({},N)})),E}}class A extends g{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const E=this.annotationStorage,O=this.data.id,N=E.getValue(O,{value:this.data.fieldValue}),V=document.createElement("select");m.add(V),V.setAttribute("data-element-id",O),V.disabled=this.data.readOnly,this._setRequired(V,this.data.required),V.name=this.data.fieldName,V.tabIndex=d;let q=this.data.combo&&this.data.options.length>0;this.data.combo||(V.size=this.data.options.length,this.data.multiSelect&&(V.multiple=!0)),V.addEventListener("resetform",ge=>{const be=this.data.defaultFieldValue;for(const ve of V.options)ve.selected=ve.value===be});for(const ge of this.data.options){const be=document.createElement("option");be.textContent=ge.displayValue,be.value=ge.exportValue,N.value.includes(ge.exportValue)&&(be.setAttribute("selected",!0),q=!1),V.append(be)}let J=null;if(q){const ge=document.createElement("option");ge.value=" ",ge.setAttribute("hidden",!0),ge.setAttribute("selected",!0),V.prepend(ge),J=()=>{ge.remove(),V.removeEventListener("input",J),J=null},V.addEventListener("input",J)}const se=(ge,be)=>{const ve=be?"value":"textContent",ye=ge.target.options;return ge.target.multiple?Array.prototype.filter.call(ye,xe=>xe.selected).map(xe=>xe[ve]):ye.selectedIndex===-1?null:ye[ye.selectedIndex][ve]},ue=ge=>{const be=ge.target.options;return Array.prototype.map.call(be,ve=>({displayValue:ve.textContent,exportValue:ve.value}))};return this.enableScripting&&this.hasJSActions?(V.addEventListener("updatefromsandbox",ge=>{const be={value(ve){var ye;(ye=J)===null||ye===void 0||ye();const xe=ve.detail.value,De=new Set(Array.isArray(xe)?xe:[xe]);for(const Ie of V.options)Ie.selected=De.has(Ie.value);E.setValue(O,{value:se(ve,!0)})},multipleSelection(ve){V.multiple=!0},remove(ve){const ye=V.options,xe=ve.detail.remove;ye[xe].selected=!1,V.remove(xe),ye.length>0&&Array.prototype.findIndex.call(ye,Ie=>Ie.selected)===-1&&(ye[0].selected=!0),E.setValue(O,{value:se(ve,!0),items:ue(ve)})},clear(ve){for(;V.length!==0;)V.remove(0);E.setValue(O,{value:null,items:[]})},insert(ve){const{index:ye,displayValue:xe,exportValue:De}=ve.detail.insert,Ie=V.children[ye],Fe=document.createElement("option");Fe.textContent=xe,Fe.value=De,Ie?Ie.before(Fe):V.append(Fe),E.setValue(O,{value:se(ve,!0),items:ue(ve)})},items(ve){const{items:ye}=ve.detail;for(;V.length!==0;)V.remove(0);for(const xe of ye){const{displayValue:De,exportValue:Ie}=xe,Fe=document.createElement("option");Fe.textContent=De,Fe.value=Ie,V.append(Fe)}V.options.length>0&&(V.options[0].selected=!0),E.setValue(O,{value:se(ve,!0),items:ue(ve)})},indices(ve){const ye=new Set(ve.detail.indices);for(const xe of ve.target.options)xe.selected=ye.has(xe.index);E.setValue(O,{value:se(ve,!0)})},editable(ve){ve.target.disabled=!ve.detail.editable}};this._dispatchEventFromSandbox(be,ge)}),V.addEventListener("input",ge=>{var be;const ve=se(ge,!0),ye=se(ge,!1);E.setValue(O,{value:ve}),(be=this.linkService.eventBus)===null||be===void 0||be.dispatch("dispatcheventinsandbox",{source:this,detail:{id:O,name:"Keystroke",value:ye,changeEx:ve,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(V,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],ge=>ge.target.checked)):V.addEventListener("input",function(ge){E.setValue(O,{value:se(ge,!0)})}),this.data.combo&&this._setTextStyle(V),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class P extends w{constructor(E){var O,N,V;const q=!!((O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q})}render(){const E=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",E.includes(this.data.parentType))return this.container;const O=`[data-annotation-id="${this.data.parentId}"]`,N=this.layer.querySelectorAll(O);if(N.length===0)return this.container;const V=new R({container:this.container,trigger:Array.from(N),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),q=this.page,J=t.Util.normalizeRect([this.data.parentRect[0],q.view[3]-this.data.parentRect[1]+q.view[1],this.data.parentRect[2],q.view[3]-this.data.parentRect[3]+q.view[1]]),se=J[0]+this.data.parentRect[2]-this.data.parentRect[0],ue=J[1],[ge,be,ve,ye]=this.viewport.viewBox,xe=ve-ge,De=ye-be;return this.container.style.left=`${100*(se-ge)/xe}%`,this.container.style.top=`${100*(ue-be)/De}%`,this.container.append(V.render()),this.container}}class R{constructor(E){this.container=E.container,this.trigger=E.trigger,this.color=E.color,this.titleObj=E.titleObj,this.modificationDate=E.modificationDate,this.contentsObj=E.contentsObj,this.richText=E.richText,this.hideWrapper=E.hideWrapper||!1,this.pinned=!1}render(){var E,O;const V=document.createElement("div");V.className="popupWrapper",this.hideElement=this.hideWrapper?V:this.container,this.hideElement.hidden=!0;const q=document.createElement("div");q.className="popup";const J=this.color;if(J){const ge=.7*(255-J[0])+J[0],be=.7*(255-J[1])+J[1],ve=.7*(255-J[2])+J[2];q.style.backgroundColor=t.Util.makeHexColor(ge|0,be|0,ve|0)}const se=document.createElement("h1");se.dir=this.titleObj.dir,se.textContent=this.titleObj.str,q.append(se);const ue=s.PDFDateString.toDateObject(this.modificationDate);if(ue){const ge=document.createElement("span");ge.className="popupDate",ge.textContent="{{date}}, {{time}}",ge.dataset.l10nId="annotation_date_string",ge.dataset.l10nArgs=JSON.stringify({date:ue.toLocaleDateString(),time:ue.toLocaleTimeString()}),q.append(ge)}if((E=this.richText)!==null&&E!==void 0&&E.str&&(!((O=this.contentsObj)!==null&&O!==void 0&&O.str)||this.contentsObj.str===this.richText.str))o.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:q}),q.lastChild.className="richText popupContent";else{const ge=this._formatContents(this.contentsObj);q.append(ge)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const ge of this.trigger)ge.addEventListener("click",this._toggle.bind(this)),ge.addEventListener("mouseover",this._show.bind(this,!1)),ge.addEventListener("mouseout",this._hide.bind(this,!1));return q.addEventListener("click",this._hide.bind(this,!0)),V.append(q),V}_formatContents(E){let{str:O,dir:N}=E;const V=document.createElement("p");V.className="popupContent",V.dir=N;const q=O.split(/(?:\r\n?|\n)/);for(let J=0,se=q.length;J<se;++J){const ue=q[J];V.append(document.createTextNode(ue)),J<se-1&&V.append(document.createElement("br"))}return V}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class k extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q,ignoreBorder:!0}),this.textContent=E.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const E=document.createElement("div");E.className="annotationTextContent",E.setAttribute("role","comment");for(const O of this.textContent){const N=document.createElement("span");N.textContent=O,E.append(N)}this.container.append(E)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class F extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const E=this.data,{width:O,height:N}=v(E.rect),V=this.svgFactory.create(O,N,!0),q=this.svgFactory.createElement("svg:line");return q.setAttribute("x1",E.rect[2]-E.lineCoordinates[0]),q.setAttribute("y1",E.rect[3]-E.lineCoordinates[1]),q.setAttribute("x2",E.rect[2]-E.lineCoordinates[2]),q.setAttribute("y2",E.rect[3]-E.lineCoordinates[3]),q.setAttribute("stroke-width",E.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),V.append(q),this.container.append(V),this._createPopup(q,E),this.container}}class Y extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const E=this.data,{width:O,height:N}=v(E.rect),V=this.svgFactory.create(O,N,!0),q=E.borderStyle.width,J=this.svgFactory.createElement("svg:rect");return J.setAttribute("x",q/2),J.setAttribute("y",q/2),J.setAttribute("width",O-q),J.setAttribute("height",N-q),J.setAttribute("stroke-width",q||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),V.append(J),this.container.append(V),this._createPopup(J,E),this.container}}class B extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const E=this.data,{width:O,height:N}=v(E.rect),V=this.svgFactory.create(O,N,!0),q=E.borderStyle.width,J=this.svgFactory.createElement("svg:ellipse");return J.setAttribute("cx",O/2),J.setAttribute("cy",N/2),J.setAttribute("rx",O/2-q/2),J.setAttribute("ry",N/2-q/2),J.setAttribute("stroke-width",q||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),V.append(J),this.container.append(V),this._createPopup(J,E),this.container}}class j extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const E=this.data,{width:O,height:N}=v(E.rect),V=this.svgFactory.create(O,N,!0);let q=[];for(const se of E.vertices){const ue=se.x-E.rect[0],ge=E.rect[3]-se.y;q.push(ue+","+ge)}q=q.join(" ");const J=this.svgFactory.createElement(this.svgElementName);return J.setAttribute("points",q),J.setAttribute("stroke-width",E.borderStyle.width||1),J.setAttribute("stroke","transparent"),J.setAttribute("fill","transparent"),V.append(J),this.container.append(V),this._createPopup(J,E),this.container}}class $ extends j{constructor(E){super(E),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class U extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class W extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const E=this.data,{width:O,height:N}=v(E.rect),V=this.svgFactory.create(O,N,!0);for(const q of E.inkLists){let J=[];for(const ue of q){const ge=ue.x-E.rect[0],be=E.rect[3]-ue.y;J.push(`${ge},${be}`)}J=J.join(" ");const se=this.svgFactory.createElement(this.svgElementName);se.setAttribute("points",J),se.setAttribute("stroke-width",E.borderStyle.width||1),se.setAttribute("stroke","transparent"),se.setAttribute("fill","transparent"),this._createPopup(se,E),V.append(se)}return this.container.append(V),this.container}}class I extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class z extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ee extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Q extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ne extends w{constructor(E){var O,N,V;const q=!!(E.data.hasPopup||(O=E.data.titleObj)!==null&&O!==void 0&&O.str||(N=E.data.contentsObj)!==null&&N!==void 0&&N.str||(V=E.data.richText)!==null&&V!==void 0&&V.str);super(E,{isRenderable:q,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class fe extends w{constructor(E){var O;super(E,{isRenderable:!0});const{filename:N,content:V}=this.data.file;this.filename=(0,s.getFilenameFromUrl)(N),this.content=V,(O=this.linkService.eventBus)===null||O===void 0||O.dispatch("fileattachmentannotation",{source:this,filename:N,content:V})}render(){var E,O;this.container.className="fileAttachmentAnnotation";const N=document.createElement("div");return N.className="popupTriggerArea",N.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((E=this.data.titleObj)!==null&&E!==void 0&&E.str||(O=this.data.contentsObj)!==null&&O!==void 0&&O.str||this.data.richText)&&this._createPopup(N,this.data),this.container.append(N),this.container}_download(){var E;(E=this.downloadManager)===null||E===void 0||E.openOrDownloadData(this.container,this.content,this.filename)}}class X{static render(E){const{annotations:O,div:N,viewport:V,accessibilityManager:q}=E;_(this,X,M).call(this,N,V);let J=0;for(const se of O){if(se.annotationType!==t.AnnotationType.POPUP){const{width:ge,height:be}=v(se.rect);if(ge<=0||be<=0)continue}const ue=S.create({data:se,layer:N,page:E.page,viewport:V,linkService:E.linkService,downloadManager:E.downloadManager,imageResourcesPath:E.imageResourcesPath||"",renderForms:E.renderForms!==!1,svgFactory:new s.DOMSVGFactory,annotationStorage:E.annotationStorage||new u.AnnotationStorage,enableScripting:E.enableScripting,hasJSActions:E.hasJSActions,fieldObjects:E.fieldObjects,mouseState:E.mouseState||{isDown:!1}});if(ue.isRenderable){const ge=ue.render();if(se.hidden&&(ge.style.visibility="hidden"),Array.isArray(ge))for(const be of ge)be.style.zIndex=J++,_(X,X,C).call(X,be,se.id,N,q);else ge.style.zIndex=J++,ue instanceof P?N.prepend(ge):_(X,X,C).call(X,ge,se.id,N,q)}}_(this,X,G).call(this,N,E.annotationCanvasMap)}static update(E){const{annotationCanvasMap:O,div:N,viewport:V}=E;_(this,X,M).call(this,N,V),_(this,X,G).call(this,N,O),N.hidden=!1}}n.AnnotationLayer=X;function C(K,E,O,N){const V=K.firstChild||K;V.id=`${s.AnnotationPrefix}${E}`,O.append(K),N==null||N.moveElementInDOM(O,K,V,!1)}function M(K,E){let{width:O,height:N,rotation:V}=E;const{style:q}=K,J=V%180!==0,se=Math.floor(O)+"px",ue=Math.floor(N)+"px";q.width=J?ue:se,q.height=J?se:ue,K.setAttribute("data-main-rotation",V)}function G(K,E){if(E){for(const[O,N]of E){const V=K.querySelector(`[data-annotation-id="${O}"]`);if(!V)continue;const{firstChild:q}=V;q?q.nodeName==="CANVAS"?q.replaceWith(N):q.before(N):V.append(N)}E.clear()}}},(a,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorConverters=void 0;function e(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}class t{static CMYK_G(u){let[p,o,_,c]=u;return["G",1-Math.min(1,.3*p+.59*_+.11*o+c)]}static G_CMYK(u){let[p]=u;return["CMYK",0,0,0,1-p]}static G_RGB(u){let[p]=u;return["RGB",p,p,p]}static G_HTML(u){let[p]=u;const o=e(p);return`#${o}${o}${o}`}static RGB_G(u){let[p,o,_]=u;return["G",.3*p+.59*o+.11*_]}static RGB_HTML(u){let[p,o,_]=u;const c=e(p),d=e(o),T=e(_);return`#${c}${d}${T}`}static T_HTML(){return"#00000000"}static CMYK_RGB(u){let[p,o,_,c]=u;return["RGB",1-Math.min(1,p+c),1-Math.min(1,_+c),1-Math.min(1,o+c)]}static CMYK_HTML(u){const p=this.CMYK_RGB(u).slice(1);return this.RGB_HTML(p)}static RGB_CMYK(u){let[p,o,_]=u;const c=1-p,d=1-o,T=1-_,m=Math.min(c,d,T);return["CMYK",c,d,T,m]}}n.ColorConverters=t},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaLayer=void 0;var t=e(145);class s{static setupStorage(p,o,_,c,d){const T=c.getValue(o,{value:null});switch(_.name){case"textarea":if(T.value!==null&&(p.textContent=T.value),d==="print")break;p.addEventListener("input",m=>{c.setValue(o,{value:m.target.value})});break;case"input":if(_.attributes.type==="radio"||_.attributes.type==="checkbox"){if(T.value===_.attributes.xfaOn?p.setAttribute("checked",!0):T.value===_.attributes.xfaOff&&p.removeAttribute("checked"),d==="print")break;p.addEventListener("change",m=>{c.setValue(o,{value:m.target.checked?m.target.getAttribute("xfaOn"):m.target.getAttribute("xfaOff")})})}else{if(T.value!==null&&p.setAttribute("value",T.value),d==="print")break;p.addEventListener("input",m=>{c.setValue(o,{value:m.target.value})})}break;case"select":if(T.value!==null)for(const m of _.children)m.attributes.value===T.value&&(m.attributes.selected=!0);p.addEventListener("input",m=>{const v=m.target.options,S=v.selectedIndex===-1?"":v[v.selectedIndex].value;c.setValue(o,{value:S})});break}}static setAttributes(p){let{html:o,element:_,storage:c=null,intent:d,linkService:T}=p;const{attributes:m}=_,v=o instanceof HTMLAnchorElement;m.type==="radio"&&(m.name=`${m.name}-${d}`);for(const[S,w]of Object.entries(m))if(w!=null)switch(S){case"class":w.length&&o.setAttribute(S,w.join(" "));break;case"dataId":break;case"id":o.setAttribute("data-element-id",w);break;case"style":Object.assign(o.style,w);break;case"textContent":o.textContent=w;break;default:(!v||S!=="href"&&S!=="newWindow")&&o.setAttribute(S,w)}v&&T.addLinkAttributes(o,m.href,m.newWindow),c&&m.dataId&&this.setupStorage(o,m.dataId,_,c)}static render(p){const o=p.annotationStorage,_=p.linkService,c=p.xfaHtml,d=p.intent||"display",T=document.createElement(c.name);c.attributes&&this.setAttributes({html:T,element:c,intent:d,linkService:_});const m=[[c,-1,T]],v=p.div;if(v.append(T),p.viewport){const x=`matrix(${p.viewport.transform.join(",")})`;v.style.transform=x}d!=="richText"&&v.setAttribute("class","xfaLayer xfaFont");const S=[];for(;m.length>0;){var w;const[x,L,g]=m.at(-1);if(L+1===x.children.length){m.pop();continue}const y=x.children[++m.at(-1)[1]];if(y===null)continue;const{name:b}=y;if(b==="#text"){const h=document.createTextNode(y.value);S.push(h),g.append(h);continue}let l;if(y!=null&&(w=y.attributes)!==null&&w!==void 0&&w.xmlns?l=document.createElementNS(y.attributes.xmlns,b):l=document.createElement(b),g.append(l),y.attributes&&this.setAttributes({html:l,element:y,storage:o,intent:d,linkService:_}),y.children&&y.children.length>0)m.push([y,-1,l]);else if(y.value){const h=document.createTextNode(y.value);t.XfaText.shouldBuildText(b)&&S.push(h),l.append(h)}}for(const x of v.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))x.setAttribute("readOnly",!0);return{textDivs:S}}static update(p){const o=`matrix(${p.viewport.transform.join(",")})`;p.div.style.transform=o,p.div.hidden=!1}}n.XfaLayer=s},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextLayerRenderTask=void 0,n.renderTextLayer=g;var t=e(1),s=e(133);const u=1e5,p=30,o=.8,_=new Map,c=/^\s+$/g;function d(y,b){const l=_.get(y);if(l)return l;b.save(),b.font=`${p}px ${y}`;const h=b.measureText("");let A=h.fontBoundingBoxAscent,P=Math.abs(h.fontBoundingBoxDescent);if(A){b.restore();const k=A/(A+P);return _.set(y,k),k}b.strokeStyle="red",b.clearRect(0,0,p,p),b.strokeText("g",0,0);let R=b.getImageData(0,0,p,p).data;P=0;for(let k=R.length-1-3;k>=0;k-=4)if(R[k]>0){P=Math.ceil(k/4/p);break}b.clearRect(0,0,p,p),b.strokeText("A",0,p),R=b.getImageData(0,0,p,p).data,A=0;for(let k=0,F=R.length;k<F;k+=4)if(R[k]>0){A=p-Math.floor(k/4/p);break}if(b.restore(),A){const k=A/(A+P);return _.set(y,k),k}return _.set(y,o),o}function T(y,b,l,h){const A=document.createElement("span"),P=y._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:b.str!=="",hasEOL:b.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:b.str!=="",hasEOL:b.hasEOL,fontSize:0};y._textDivs.push(A);const R=t.Util.transform(y._viewport.transform,b.transform);let k=Math.atan2(R[1],R[0]);const F=l[b.fontName];F.vertical&&(k+=Math.PI/2);const Y=Math.hypot(R[2],R[3]),B=Y*d(F.fontFamily,h);let j,$;k===0?(j=R[4],$=R[5]-B):(j=R[4]+B*Math.sin(k),$=R[5]-B*Math.cos(k)),A.style.left=`${j}px`,A.style.top=`${$}px`,A.style.fontSize=`${Y}px`,A.style.fontFamily=F.fontFamily,P.fontSize=Y,A.setAttribute("role","presentation"),A.textContent=b.str,A.dir=b.dir,y._fontInspectorEnabled&&(A.dataset.fontName=b.fontName),k!==0&&(P.angle=k*(180/Math.PI));let U=!1;if(b.str.length>1||y._enhanceTextSelection&&c.test(b.str))U=!0;else if(b.str!==" "&&b.transform[0]!==b.transform[3]){const W=Math.abs(b.transform[0]),I=Math.abs(b.transform[3]);W!==I&&Math.max(W,I)/Math.min(W,I)>1.5&&(U=!0)}if(U&&(F.vertical?P.canvasWidth=b.height*y._viewport.scale:P.canvasWidth=b.width*y._viewport.scale),y._textDivProperties.set(A,P),y._textContentStream&&y._layoutText(A),y._enhanceTextSelection&&P.hasText){let W=1,I=0;k!==0&&(W=Math.cos(k),I=Math.sin(k));const z=(F.vertical?b.height:b.width)*y._viewport.scale,ee=Y;let Q,ne;k!==0?(Q=[W,I,-I,W,j,$],ne=t.Util.getAxialAlignedBoundingBox([0,0,z,ee],Q)):ne=[j,$,j+z,$+ee],y._bounds.push({left:ne[0],top:ne[1],right:ne[2],bottom:ne[3],div:A,size:[z,ee],m:Q})}}function m(y){if(y._canceled)return;const b=y._textDivs,l=y._capability,h=b.length;if(h>u){y._renderingDone=!0,l.resolve();return}if(!y._textContentStream)for(let A=0;A<h;A++)y._layoutText(b[A]);y._renderingDone=!0,l.resolve()}function v(y,b,l){let h=0;for(let A=0;A<l;A++){const P=y[b++];P>0&&(h=h?Math.min(P,h):P)}return h}function S(y){const b=y._bounds,l=y._viewport,h=w(l.width,l.height,b);for(let A=0;A<h.length;A++){const P=b[A].div,R=y._textDivProperties.get(P);if(R.angle===0){R.paddingLeft=b[A].left-h[A].left,R.paddingTop=b[A].top-h[A].top,R.paddingRight=h[A].right-b[A].right,R.paddingBottom=h[A].bottom-b[A].bottom,y._textDivProperties.set(P,R);continue}const k=h[A],F=b[A],Y=F.m,B=Y[0],j=Y[1],$=[[0,0],[0,F.size[1]],[F.size[0],0],F.size],U=new Float64Array(64);for(let I=0,z=$.length;I<z;I++){const ee=t.Util.applyTransform($[I],Y);U[I+0]=B&&(k.left-ee[0])/B,U[I+4]=j&&(k.top-ee[1])/j,U[I+8]=B&&(k.right-ee[0])/B,U[I+12]=j&&(k.bottom-ee[1])/j,U[I+16]=j&&(k.left-ee[0])/-j,U[I+20]=B&&(k.top-ee[1])/B,U[I+24]=j&&(k.right-ee[0])/-j,U[I+28]=B&&(k.bottom-ee[1])/B,U[I+32]=B&&(k.left-ee[0])/-B,U[I+36]=j&&(k.top-ee[1])/-j,U[I+40]=B&&(k.right-ee[0])/-B,U[I+44]=j&&(k.bottom-ee[1])/-j,U[I+48]=j&&(k.left-ee[0])/j,U[I+52]=B&&(k.top-ee[1])/-B,U[I+56]=j&&(k.right-ee[0])/j,U[I+60]=B&&(k.bottom-ee[1])/-B}const W=1+Math.min(Math.abs(B),Math.abs(j));R.paddingLeft=v(U,32,16)/W,R.paddingTop=v(U,48,16)/W,R.paddingRight=v(U,0,16)/W,R.paddingBottom=v(U,16,16)/W,y._textDivProperties.set(P,R)}}function w(y,b,l){const h=l.map(function(P,R){return{x1:P.left,y1:P.top,x2:P.right,y2:P.bottom,index:R,x1New:void 0,x2New:void 0}});x(y,h);const A=new Array(l.length);for(const P of h){const R=P.index;A[R]={left:P.x1New,top:0,right:P.x2New,bottom:0}}l.map(function(P,R){const k=A[R],F=h[R];F.x1=P.top,F.y1=y-k.right,F.x2=P.bottom,F.y2=y-k.left,F.index=R,F.x1New=void 0,F.x2New=void 0}),x(b,h);for(const P of h){const R=P.index;A[R].top=P.x1New,A[R].bottom=P.x2New}return A}function x(y,b){b.sort(function(A,P){return A.x1-P.x1||A.index-P.index});const h=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const A of b){let P=0;for(;P<h.length&&h[P].end<=A.y1;)P++;let R=h.length-1;for(;R>=0&&h[R].start>=A.y2;)R--;let k,F,Y,B,j=-1/0;for(Y=P;Y<=R;Y++){k=h[Y],F=k.boundary;let W;F.x2>A.x1?W=F.index>A.index?F.x1New:A.x1:F.x2New===void 0?W=(F.x2+A.x1)/2:W=F.x2New,W>j&&(j=W)}for(A.x1New=j,Y=P;Y<=R;Y++)k=h[Y],F=k.boundary,F.x2New===void 0?F.x2>A.x1?F.index>A.index&&(F.x2New=F.x2):F.x2New=j:F.x2New>j&&(F.x2New=Math.max(j,F.x2));const $=[];let U=null;for(Y=P;Y<=R;Y++){k=h[Y],F=k.boundary;const W=F.x2>A.x2?F:A;U===W?$.at(-1).end=k.end:($.push({start:k.start,end:k.end,boundary:W}),U=W)}for(h[P].start<A.y1&&($[0].start=A.y1,$.unshift({start:h[P].start,end:A.y1,boundary:h[P].boundary})),A.y2<h[R].end&&($.at(-1).end=A.y2,$.push({start:A.y2,end:h[R].end,boundary:h[R].boundary})),Y=P;Y<=R;Y++){if(k=h[Y],F=k.boundary,F.x2New!==void 0)continue;let W=!1;for(B=P-1;!W&&B>=0&&h[B].start>=F.y1;B--)W=h[B].boundary===F;for(B=R+1;!W&&B<h.length&&h[B].end<=F.y2;B++)W=h[B].boundary===F;for(B=0;!W&&B<$.length;B++)W=$[B].boundary===F;W||(F.x2New=j)}Array.prototype.splice.apply(h,[P,R-P+1,...$])}for(const A of h){const P=A.boundary;P.x2New===void 0&&(P.x2New=Math.max(y,P.x2))}}class L{constructor(b){var l;let{textContent:h,textContentStream:A,container:P,viewport:R,textDivs:k,textContentItemsStr:F,enhanceTextSelection:Y}=b;Y&&(0,s.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=h,this._textContentStream=A,this._container=P,this._document=P.ownerDocument,this._viewport=R,this._textDivs=k||[],this._textContentItemsStr=F||[],this._enhanceTextSelection=!!Y,this._fontInspectorEnabled=!!((l=globalThis.FontInspector)!==null&&l!==void 0&&l.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,t.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new t.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(b,l){for(let h=0,A=b.length;h<A;h++){if(b[h].str===void 0){if(b[h].type==="beginMarkedContentProps"||b[h].type==="beginMarkedContent"){const P=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),b[h].id!==null&&this._container.setAttribute("id",`${b[h].id}`),P.append(this._container)}else b[h].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(b[h].str),T(this,b[h],l,this._layoutTextCtx)}}_layoutText(b){const l=this._textDivProperties.get(b);let h="";if(l.canvasWidth!==0&&l.hasText){const{fontFamily:A}=b.style,{fontSize:P}=l;(P!==this._layoutTextLastFontSize||A!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${P*this._devicePixelRatio}px ${A}`,this._layoutTextLastFontSize=P,this._layoutTextLastFontFamily=A);const{width:R}=this._layoutTextCtx.measureText(b.textContent);if(R>0){const k=this._devicePixelRatio*l.canvasWidth/R;this._enhanceTextSelection&&(l.scale=k),h=`scaleX(${k})`}}if(l.angle!==0&&(h=`rotate(${l.angle}deg) ${h}`),h.length>0&&(this._enhanceTextSelection&&(l.originalTransform=h),b.style.transform=h),l.hasText&&this._container.append(b),l.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this._container.append(A)}}_render(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const l=(0,t.createPromiseCapability)();let h=Object.create(null);const A=this._document.createElement("canvas");if(A.height=A.width=p,this._layoutTextCtx=A.getContext("2d",{alpha:!1}),this._textContent){const P=this._textContent.items,R=this._textContent.styles;this._processItems(P,R),l.resolve()}else if(this._textContentStream){const P=()=>{this._reader.read().then(R=>{let{value:k,done:F}=R;if(F){l.resolve();return}Object.assign(h,k.styles),this._processItems(k.items,h),P()},l.reject)};this._reader=this._textContentStream.getReader(),P()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');l.promise.then(()=>{h=null,b?this._renderTimer=setTimeout(()=>{m(this),this._renderTimer=null},b):m(this)},this._capability.reject)}expandTextDivs(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(S(this),this._bounds=null);const l=[],h=[];for(let A=0,P=this._textDivs.length;A<P;A++){const R=this._textDivs[A],k=this._textDivProperties.get(R);k.hasText&&(b?(l.length=0,h.length=0,k.originalTransform&&l.push(k.originalTransform),k.paddingTop>0?(h.push(`${k.paddingTop}px`),l.push(`translateY(${-k.paddingTop}px)`)):h.push(0),k.paddingRight>0?h.push(`${k.paddingRight/k.scale}px`):h.push(0),k.paddingBottom>0?h.push(`${k.paddingBottom}px`):h.push(0),k.paddingLeft>0?(h.push(`${k.paddingLeft/k.scale}px`),l.push(`translateX(${-k.paddingLeft/k.scale}px)`)):h.push(0),R.style.padding=h.join(" "),l.length&&(R.style.transform=l.join(" "))):(R.style.padding=null,R.style.transform=k.originalTransform))}}}n.TextLayerRenderTask=L;function g(y){const b=new L({textContent:y.textContent,textContentStream:y.textContentStream,container:y.container,viewport:y.viewport,textDivs:y.textDivs,textContentItemsStr:y.textContentItemsStr,enhanceTextSelection:y.enhanceTextSelection});return b._render(y.timeout),b}},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SVGGraphics=void 0;var t=e(133),s=e(1),u=e(3);let p=class{constructor(){(0,s.unreachable)("Not implemented: SVGGraphics")}};n.SVGGraphics=p;{let w=function(l){let h=[];const A=[];for(const P of l){if(P.fn==="save"){h.push({fnId:92,fn:"group",items:[]}),A.push(h),h=h.at(-1).items;continue}P.fn==="restore"?h=A.pop():h.push(P)}return h},x=function(l){if(Number.isInteger(l))return l.toString();const h=l.toFixed(10);let A=h.length-1;if(h[A]!=="0")return h;do A--;while(h[A]==="0");return h.substring(0,h[A]==="."?A:A+1)},L=function(l){if(l[4]===0&&l[5]===0){if(l[1]===0&&l[2]===0)return l[0]===1&&l[3]===1?"":`scale(${x(l[0])} ${x(l[3])})`;if(l[0]===l[3]&&l[1]===-l[2]){const h=Math.acos(l[0])*180/Math.PI;return`rotate(${x(h)})`}}else if(l[0]===1&&l[1]===0&&l[2]===0&&l[3]===1)return`translate(${x(l[4])} ${x(l[5])})`;return`matrix(${x(l[0])} ${x(l[1])} ${x(l[2])} ${x(l[3])} ${x(l[4])} ${x(l[5])})`};const o={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},_="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",d=["butt","round","square"],T=["miter","round","bevel"],m=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!A)return URL.createObjectURL(new Blob([l],{type:h}));const P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let R=`data:${h};base64,`;for(let k=0,F=l.length;k<F;k+=3){const Y=l[k]&255,B=l[k+1]&255,j=l[k+2]&255,$=Y>>2,U=(Y&3)<<4|B>>4,W=k+1<F?(B&15)<<2|j>>6:64,I=k+2<F?j&63:64;R+=P[$]+P[U]+P[W]+P[I]}return R},v=function(){const l=new Uint8Array([137,80,78,71,13,10,26,10]),h=12,A=new Int32Array(256);for(let j=0;j<256;j++){let $=j;for(let U=0;U<8;U++)$&1?$=3988292384^$>>1&2147483647:$=$>>1&2147483647;A[j]=$}function P(j,$,U){let W=-1;for(let I=$;I<U;I++){const z=(W^j[I])&255,ee=A[z];W=W>>>8^ee}return W^-1}function R(j,$,U,W){let I=W;const z=$.length;U[I]=z>>24&255,U[I+1]=z>>16&255,U[I+2]=z>>8&255,U[I+3]=z&255,I+=4,U[I]=j.charCodeAt(0)&255,U[I+1]=j.charCodeAt(1)&255,U[I+2]=j.charCodeAt(2)&255,U[I+3]=j.charCodeAt(3)&255,I+=4,U.set($,I),I+=$.length;const ee=P(U,W+4,I);U[I]=ee>>24&255,U[I+1]=ee>>16&255,U[I+2]=ee>>8&255,U[I+3]=ee&255}function k(j,$,U){let W=1,I=0;for(let z=$;z<U;++z)W=(W+(j[z]&255))%65521,I=(I+W)%65521;return I<<16|W}function F(j){if(!u.isNodeJS)return Y(j);try{let $;parseInt(process.versions.node)>=8?$=j:$=Buffer.from(j);const U=require$$7.deflateSync($,{level:9});return U instanceof Uint8Array?U:new Uint8Array(U)}catch($){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+$)}return Y(j)}function Y(j){let $=j.length;const U=65535,W=Math.ceil($/U),I=new Uint8Array(2+$+W*5+4);let z=0;I[z++]=120,I[z++]=156;let ee=0;for(;$>U;)I[z++]=0,I[z++]=255,I[z++]=255,I[z++]=0,I[z++]=0,I.set(j.subarray(ee,ee+U),z),z+=U,ee+=U,$-=U;I[z++]=1,I[z++]=$&255,I[z++]=$>>8&255,I[z++]=~$&65535&255,I[z++]=(~$&65535)>>8&255,I.set(j.subarray(ee),z),z+=j.length-ee;const Q=k(j,0,j.length);return I[z++]=Q>>24&255,I[z++]=Q>>16&255,I[z++]=Q>>8&255,I[z++]=Q&255,I}function B(j,$,U,W){const I=j.width,z=j.height;let ee,Q,ne;const fe=j.data;switch($){case s.ImageKind.GRAYSCALE_1BPP:Q=0,ee=1,ne=I+7>>3;break;case s.ImageKind.RGB_24BPP:Q=2,ee=8,ne=I*3;break;case s.ImageKind.RGBA_32BPP:Q=6,ee=8,ne=I*4;break;default:throw new Error("invalid format")}const X=new Uint8Array((1+ne)*z);let C=0,M=0;for(let V=0;V<z;++V)X[C++]=0,X.set(fe.subarray(M,M+ne),C),M+=ne,C+=ne;if($===s.ImageKind.GRAYSCALE_1BPP&&W){C=0;for(let V=0;V<z;V++){C++;for(let q=0;q<ne;q++)X[C++]^=255}}const G=new Uint8Array([I>>24&255,I>>16&255,I>>8&255,I&255,z>>24&255,z>>16&255,z>>8&255,z&255,ee,Q,0,0,0]),K=F(X),E=l.length+h*3+G.length+K.length,O=new Uint8Array(E);let N=0;return O.set(l,N),N+=l.length,R("IHDR",G,O,N),N+=h+G.length,R("IDATA",K,O,N),N+=h+K.length,R("IEND",new Uint8Array(0),O,N),m(O,"image/png",U)}return function($,U,W){const I=$.kind===void 0?s.ImageKind.GRAYSCALE_1BPP:$.kind;return B($,I,U,W)}}();class S{constructor(){this.fontSizeScale=1,this.fontWeight=o.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(h,A){this.x=h,this.y=A}}let g=0,y=0,b=0;n.SVGGraphics=p=class{constructor(l,h){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,t.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new t.DOMSVGFactory,this.current=new S,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=l,this.objs=h,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!A,this._operatorIdMapping=[];for(const P in s.OPS)this._operatorIdMapping[s.OPS[P]]=P}save(){this.transformStack.push(this.transformMatrix);const l=this.current;this.extraStack.push(l),this.current=l.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(l){this.save(),this.executeOpTree(l),this.restore()}loadDependencies(l){const h=l.fnArray,A=l.argsArray;for(let P=0,R=h.length;P<R;P++)if(h[P]===s.OPS.dependency)for(const k of A[P]){const F=k.startsWith("g_")?this.commonObjs:this.objs,Y=new Promise(B=>{F.get(k,B)});this.current.dependencies.push(Y)}return Promise.all(this.current.dependencies)}transform(l,h,A,P,R,k){const F=[l,h,A,P,R,k];this.transformMatrix=s.Util.transform(this.transformMatrix,F),this.tgrp=null}getSVG(l,h){this.viewport=h;const A=this._initialize(h);return this.loadDependencies(l).then(()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(l)),A))}convertOpList(l){const h=this._operatorIdMapping,A=l.argsArray,P=l.fnArray,R=[];for(let k=0,F=P.length;k<F;k++){const Y=P[k];R.push({fnId:Y,fn:h[Y],args:A[k]})}return w(R)}executeOpTree(l){for(const h of l){const A=h.fn,P=h.fnId,R=h.args;switch(P|0){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(R);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(R[0],R[1]);break;case s.OPS.setFont:this.setFont(R);break;case s.OPS.showText:this.showText(R[0]);break;case s.OPS.showSpacedText:this.showText(R[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(R[0],R[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(R[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(R[0]);break;case s.OPS.setHScale:this.setHScale(R[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(R[0],R[1],R[2],R[3],R[4],R[5]);break;case s.OPS.setTextRise:this.setTextRise(R[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(R[0]);break;case s.OPS.setLineWidth:this.setLineWidth(R[0]);break;case s.OPS.setLineJoin:this.setLineJoin(R[0]);break;case s.OPS.setLineCap:this.setLineCap(R[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(R[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(R[0],R[1],R[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(R[0],R[1],R[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(R);break;case s.OPS.setFillColorN:this.setFillColorN(R);break;case s.OPS.shadingFill:this.shadingFill(R[0]);break;case s.OPS.setDash:this.setDash(R[0],R[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(R[0]);break;case s.OPS.setFlatness:this.setFlatness(R[0]);break;case s.OPS.setGState:this.setGState(R[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(R[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(R[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(R[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(R[0],R[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(R[0],R[1],R[2],R[3],R[4],R[5]);break;case s.OPS.constructPath:this.constructPath(R[0],R[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(h.items);break;default:(0,s.warn)(`Unimplemented operator ${A}`);break}}}setWordSpacing(l){this.current.wordSpacing=l}setCharSpacing(l){this.current.charSpacing=l}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(l,h,A,P,R,k){const F=this.current;F.textMatrix=F.lineMatrix=[l,h,A,P,R,k],F.textMatrixScale=Math.hypot(l,h),F.x=F.lineX=0,F.y=F.lineY=0,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${x(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",x(-F.y)),F.txtElement=this.svgFactory.createElement("svg:text"),F.txtElement.append(F.tspan)}beginText(){const l=this.current;l.x=l.lineX=0,l.y=l.lineY=0,l.textMatrix=s.IDENTITY_MATRIX,l.lineMatrix=s.IDENTITY_MATRIX,l.textMatrixScale=1,l.tspan=this.svgFactory.createElement("svg:tspan"),l.txtElement=this.svgFactory.createElement("svg:text"),l.txtgrp=this.svgFactory.createElement("svg:g"),l.xcoords=[],l.ycoords=[]}moveText(l,h){const A=this.current;A.x=A.lineX+=l,A.y=A.lineY+=h,A.xcoords=[],A.ycoords=[],A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${x(A.fontSize)}px`),A.tspan.setAttributeNS(null,"y",x(-A.y))}showText(l){const h=this.current,A=h.font,P=h.fontSize;if(P===0)return;const R=h.fontSizeScale,k=h.charSpacing,F=h.wordSpacing,Y=h.fontDirection,B=h.textHScale*Y,j=A.vertical,$=j?1:-1,U=A.defaultVMetrics,W=P*h.fontMatrix[0];let I=0;for(const Q of l){if(Q===null){I+=Y*F;continue}else if(typeof Q=="number"){I+=$*Q*P/1e3;continue}const ne=(Q.isSpace?F:0)+k,fe=Q.fontChar;let X,C,M=Q.width;if(j){let K;const E=Q.vmetric||U;K=Q.vmetric?E[1]:M*.5,K=-K*W;const O=E[2]*W;M=E?-E[0]:M,X=K/R,C=(I+O)/R}else X=I/R,C=0;(Q.isInFont||A.missingFile)&&(h.xcoords.push(h.x+X),j&&h.ycoords.push(-h.y+C),h.tspan.textContent+=fe);let G;j?G=M*W-ne*Y:G=M*W+ne*Y,I+=G}h.tspan.setAttributeNS(null,"x",h.xcoords.map(x).join(" ")),j?h.tspan.setAttributeNS(null,"y",h.ycoords.map(x).join(" ")):h.tspan.setAttributeNS(null,"y",x(-h.y)),j?h.y-=I:h.x+=I*B,h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size",`${x(h.fontSize)}px`),h.fontStyle!==o.fontStyle&&h.tspan.setAttributeNS(null,"font-style",h.fontStyle),h.fontWeight!==o.fontWeight&&h.tspan.setAttributeNS(null,"font-weight",h.fontWeight);const z=h.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;if(z===s.TextRenderingMode.FILL||z===s.TextRenderingMode.FILL_STROKE?(h.fillColor!==o.fillColor&&h.tspan.setAttributeNS(null,"fill",h.fillColor),h.fillAlpha<1&&h.tspan.setAttributeNS(null,"fill-opacity",h.fillAlpha)):h.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?h.tspan.setAttributeNS(null,"fill","transparent"):h.tspan.setAttributeNS(null,"fill","none"),z===s.TextRenderingMode.STROKE||z===s.TextRenderingMode.FILL_STROKE){const Q=1/(h.textMatrixScale||1);this._setStrokeAttributes(h.tspan,Q)}let ee=h.textMatrix;h.textRise!==0&&(ee=ee.slice(),ee[5]+=h.textRise),h.txtElement.setAttributeNS(null,"transform",`${L(ee)} scale(${x(B)}, -1)`),h.txtElement.setAttributeNS(_,"xml:space","preserve"),h.txtElement.append(h.tspan),h.txtgrp.append(h.txtElement),this._ensureTransformGroup().append(h.txtElement)}setLeadingMoveText(l,h){this.setLeading(-h),this.moveText(l,h)}addFontStyle(l){if(!l.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const h=m(l.data,l.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${l.loadedName}"; src: url(${h}); }
`}setFont(l){const h=this.current,A=this.commonObjs.get(l[0]);let P=l[1];h.font=A,this.embedFonts&&!A.missingFile&&!this.embeddedFonts[A.loadedName]&&(this.addFontStyle(A),this.embeddedFonts[A.loadedName]=A),h.fontMatrix=A.fontMatrix||s.FONT_IDENTITY_MATRIX;let R="normal";A.black?R="900":A.bold&&(R="bold");const k=A.italic?"italic":"normal";P<0?(P=-P,h.fontDirection=-1):h.fontDirection=1,h.fontSize=P,h.fontFamily=A.loadedName,h.fontWeight=R,h.fontStyle=k,h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"y",x(-h.y)),h.xcoords=[],h.ycoords=[]}endText(){var l;const h=this.current;h.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&(l=h.txtElement)!==null&&l!==void 0&&l.hasChildNodes()&&(h.element=h.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(l){l>0&&(this.current.lineWidth=l)}setLineCap(l){this.current.lineCap=d[l]}setLineJoin(l){this.current.lineJoin=T[l]}setMiterLimit(l){this.current.miterLimit=l}setStrokeAlpha(l){this.current.strokeAlpha=l}setStrokeRGBColor(l,h,A){this.current.strokeColor=s.Util.makeHexColor(l,h,A)}setFillAlpha(l){this.current.fillAlpha=l}setFillRGBColor(l,h,A){this.current.fillColor=s.Util.makeHexColor(l,h,A),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(l){this.current.strokeColor=this._makeColorN_Pattern(l)}setFillColorN(l){this.current.fillColor=this._makeColorN_Pattern(l)}shadingFill(l){const h=this.viewport.width,A=this.viewport.height,P=s.Util.inverseTransform(this.transformMatrix),R=s.Util.applyTransform([0,0],P),k=s.Util.applyTransform([0,A],P),F=s.Util.applyTransform([h,0],P),Y=s.Util.applyTransform([h,A],P),B=Math.min(R[0],k[0],F[0],Y[0]),j=Math.min(R[1],k[1],F[1],Y[1]),$=Math.max(R[0],k[0],F[0],Y[0]),U=Math.max(R[1],k[1],F[1],Y[1]),W=this.svgFactory.createElement("svg:rect");W.setAttributeNS(null,"x",B),W.setAttributeNS(null,"y",j),W.setAttributeNS(null,"width",$-B),W.setAttributeNS(null,"height",U-j),W.setAttributeNS(null,"fill",this._makeShadingPattern(l)),this.current.fillAlpha<1&&W.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(W)}_makeColorN_Pattern(l){return l[0]==="TilingPattern"?this._makeTilingPattern(l):this._makeShadingPattern(l)}_makeTilingPattern(l){const h=l[1],A=l[2],P=l[3]||s.IDENTITY_MATRIX,[R,k,F,Y]=l[4],B=l[5],j=l[6],$=l[7],U=`shading${b++}`,[W,I,z,ee]=s.Util.normalizeRect([...s.Util.applyTransform([R,k],P),...s.Util.applyTransform([F,Y],P)]),[Q,ne]=s.Util.singularValueDecompose2dScale(P),fe=B*Q,X=j*ne,C=this.svgFactory.createElement("svg:pattern");C.setAttributeNS(null,"id",U),C.setAttributeNS(null,"patternUnits","userSpaceOnUse"),C.setAttributeNS(null,"width",fe),C.setAttributeNS(null,"height",X),C.setAttributeNS(null,"x",`${W}`),C.setAttributeNS(null,"y",`${I}`);const M=this.svg,G=this.transformMatrix,K=this.current.fillColor,E=this.current.strokeColor,O=this.svgFactory.create(z-W,ee-I);if(this.svg=O,this.transformMatrix=P,$===2){const N=s.Util.makeHexColor(...h);this.current.fillColor=N,this.current.strokeColor=N}return this.executeOpTree(this.convertOpList(A)),this.svg=M,this.transformMatrix=G,this.current.fillColor=K,this.current.strokeColor=E,C.append(O.childNodes[0]),this.defs.append(C),`url(#${U})`}_makeShadingPattern(l){switch(typeof l=="string"&&(l=this.objs.get(l)),l[0]){case"RadialAxial":const h=`shading${b++}`,A=l[3];let P;switch(l[1]){case"axial":const R=l[4],k=l[5];P=this.svgFactory.createElement("svg:linearGradient"),P.setAttributeNS(null,"id",h),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"x1",R[0]),P.setAttributeNS(null,"y1",R[1]),P.setAttributeNS(null,"x2",k[0]),P.setAttributeNS(null,"y2",k[1]);break;case"radial":const F=l[4],Y=l[5],B=l[6],j=l[7];P=this.svgFactory.createElement("svg:radialGradient"),P.setAttributeNS(null,"id",h),P.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),P.setAttributeNS(null,"cx",Y[0]),P.setAttributeNS(null,"cy",Y[1]),P.setAttributeNS(null,"r",j),P.setAttributeNS(null,"fx",F[0]),P.setAttributeNS(null,"fy",F[1]),P.setAttributeNS(null,"fr",B);break;default:throw new Error(`Unknown RadialAxial type: ${l[1]}`)}for(const R of A){const k=this.svgFactory.createElement("svg:stop");k.setAttributeNS(null,"offset",R[0]),k.setAttributeNS(null,"stop-color",R[1]),P.append(k)}return this.defs.append(P),`url(#${h})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${l[0]}`)}}setDash(l,h){this.current.dashArray=l,this.current.dashPhase=h}constructPath(l,h){const A=this.current;let P=A.x,R=A.y,k=[],F=0;for(const Y of l)switch(Y|0){case s.OPS.rectangle:P=h[F++],R=h[F++];const B=h[F++],j=h[F++],$=P+B,U=R+j;k.push("M",x(P),x(R),"L",x($),x(R),"L",x($),x(U),"L",x(P),x(U),"Z");break;case s.OPS.moveTo:P=h[F++],R=h[F++],k.push("M",x(P),x(R));break;case s.OPS.lineTo:P=h[F++],R=h[F++],k.push("L",x(P),x(R));break;case s.OPS.curveTo:P=h[F+4],R=h[F+5],k.push("C",x(h[F]),x(h[F+1]),x(h[F+2]),x(h[F+3]),x(P),x(R)),F+=6;break;case s.OPS.curveTo2:k.push("C",x(P),x(R),x(h[F]),x(h[F+1]),x(h[F+2]),x(h[F+3])),P=h[F+2],R=h[F+3],F+=4;break;case s.OPS.curveTo3:P=h[F+2],R=h[F+3],k.push("C",x(h[F]),x(h[F+1]),x(P),x(R),x(P),x(R)),F+=4;break;case s.OPS.closePath:k.push("Z");break}k=k.join(" "),A.path&&l.length>0&&l[0]!==s.OPS.rectangle&&l[0]!==s.OPS.moveTo?k=A.path.getAttributeNS(null,"d")+k:(A.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(A.path)),A.path.setAttributeNS(null,"d",k),A.path.setAttributeNS(null,"fill","none"),A.element=A.path,A.setCurrentPoint(P,R)}endPath(){const l=this.current;if(l.path=null,!this.pendingClip)return;if(!l.element){this.pendingClip=null;return}const h=`clippath${g++}`,A=this.svgFactory.createElement("svg:clipPath");A.setAttributeNS(null,"id",h),A.setAttributeNS(null,"transform",L(this.transformMatrix));const P=l.element.cloneNode(!0);if(this.pendingClip==="evenodd"?P.setAttributeNS(null,"clip-rule","evenodd"):P.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,A.append(P),this.defs.append(A),l.activeClipUrl){l.clipGroup=null;for(const R of this.extraStack)R.clipGroup=null;A.setAttributeNS(null,"clip-path",l.activeClipUrl)}l.activeClipUrl=`url(#${h})`,this.tgrp=null}clip(l){this.pendingClip=l}closePath(){const l=this.current;if(l.path){const h=`${l.path.getAttributeNS(null,"d")}Z`;l.path.setAttributeNS(null,"d",h)}}setLeading(l){this.current.leading=-l}setTextRise(l){this.current.textRise=l}setTextRenderingMode(l){this.current.textRenderingMode=l}setHScale(l){this.current.textHScale=l/100}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(const[h,A]of l)switch(h){case"LW":this.setLineWidth(A);break;case"LC":this.setLineCap(A);break;case"LJ":this.setLineJoin(A);break;case"ML":this.setMiterLimit(A);break;case"D":this.setDash(A[0],A[1]);break;case"RI":this.setRenderingIntent(A);break;case"FL":this.setFlatness(A);break;case"Font":this.setFont(A);break;case"CA":this.setStrokeAlpha(A);break;case"ca":this.setFillAlpha(A);break;default:(0,s.warn)(`Unimplemented graphic state operator ${h}`);break}}fill(){const l=this.current;l.element&&(l.element.setAttributeNS(null,"fill",l.fillColor),l.element.setAttributeNS(null,"fill-opacity",l.fillAlpha),this.endPath())}stroke(){const l=this.current;l.element&&(this._setStrokeAttributes(l.element),l.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const A=this.current;let P=A.dashArray;h!==1&&P.length>0&&(P=P.map(function(R){return h*R})),l.setAttributeNS(null,"stroke",A.strokeColor),l.setAttributeNS(null,"stroke-opacity",A.strokeAlpha),l.setAttributeNS(null,"stroke-miterlimit",x(A.miterLimit)),l.setAttributeNS(null,"stroke-linecap",A.lineCap),l.setAttributeNS(null,"stroke-linejoin",A.lineJoin),l.setAttributeNS(null,"stroke-width",x(h*A.lineWidth)+"px"),l.setAttributeNS(null,"stroke-dasharray",P.map(x).join(" ")),l.setAttributeNS(null,"stroke-dashoffset",x(h*A.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width","1px"),l.setAttributeNS(null,"height","1px"),l.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(l)}paintImageXObject(l){const h=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);if(!h){(0,s.warn)(`Dependent image with object ID ${l} is not ready yet`);return}this.paintInlineImageXObject(h)}paintInlineImageXObject(l,h){const A=l.width,P=l.height,R=v(l,this.forceDataSchema,!!h),k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y","0"),k.setAttributeNS(null,"width",x(A)),k.setAttributeNS(null,"height",x(P)),this.current.element=k,this.clip("nonzero");const F=this.svgFactory.createElement("svg:image");F.setAttributeNS(c,"xlink:href",R),F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y",x(-P)),F.setAttributeNS(null,"width",x(A)+"px"),F.setAttributeNS(null,"height",x(P)+"px"),F.setAttributeNS(null,"transform",`scale(${x(1/A)} ${x(-1/P)})`),h?h.append(F):this._ensureTransformGroup().append(F)}paintImageMaskXObject(l){const h=this.current,A=l.width,P=l.height,R=h.fillColor;h.maskId=`mask${y++}`;const k=this.svgFactory.createElement("svg:mask");k.setAttributeNS(null,"id",h.maskId);const F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y","0"),F.setAttributeNS(null,"width",x(A)),F.setAttributeNS(null,"height",x(P)),F.setAttributeNS(null,"fill",R),F.setAttributeNS(null,"mask",`url(#${h.maskId})`),this.defs.append(k),this._ensureTransformGroup().append(F),this.paintInlineImageXObject(l,k)}paintFormXObjectBegin(l,h){if(Array.isArray(l)&&l.length===6&&this.transform(l[0],l[1],l[2],l[3],l[4],l[5]),h){const A=h[2]-h[0],P=h[3]-h[1],R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x",h[0]),R.setAttributeNS(null,"y",h[1]),R.setAttributeNS(null,"width",x(A)),R.setAttributeNS(null,"height",x(P)),this.current.element=R,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(l){const h=this.svgFactory.create(l.width,l.height),A=this.svgFactory.createElement("svg:defs");h.append(A),this.defs=A;const P=this.svgFactory.createElement("svg:g");return P.setAttributeNS(null,"transform",L(l.transform)),h.append(P),this.svg=P,h}_ensureClipGroup(){if(!this.current.clipGroup){const l=this.svgFactory.createElement("svg:g");l.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(l),this.current.clipGroup=l}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",L(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNodeStream=void 0;var t=e(1),s=e(158);const u=require$$7,p=require$$7,o=require$$7,_=require$$7,c=/^file:\/\/\/[a-zA-Z]:\//;function d(y){const b=_.parse(y);return b.protocol==="file:"||b.host?b:/^[a-z]:[/\\]/i.test(y)?_.parse(`file:///${y}`):(b.host||(b.protocol="file:"),b)}class T{constructor(b){this.source=b,this.url=d(b.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var b,l;return(b=(l=this._fullRequestReader)===null||l===void 0?void 0:l._loaded)!==null&&b!==void 0?b:0}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new L(this):new w(this),this._fullRequestReader}getRangeReader(b,l){if(l<=this._progressiveDataLength)return null;const h=this.isFsUrl?new g(this,b,l):new x(this,b,l);return this._rangeRequestReaders.push(h),h}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const l of this._rangeRequestReaders.slice(0))l.cancel(b)}}n.PDFNodeStream=T;class m{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null;const l=b.source;this._contentLength=l.length,this._loaded=0,this._filename=null,this._disableRange=l.disableRange||!1,this._rangeChunkSize=l.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!l.disableStream,this._isRangeSupported=!l.disableRange,this._readableStream=null,this._readCapability=(0,t.createPromiseCapability)(),this._headersCapability=(0,t.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const b=this._readableStream.read();return b===null?(this._readCapability=(0,t.createPromiseCapability)(),this.read()):(this._loaded+=b.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(b).buffer,done:!1})}cancel(b){if(!this._readableStream){this._error(b);return}this._readableStream.destroy(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",l=>{this._error(l)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new t.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class v{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,t.createPromiseCapability)();const l=b.source;this._isStreamingSupported=!l.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const b=this._readableStream.read();return b===null?(this._readCapability=(0,t.createPromiseCapability)(),this.read()):(this._loaded+=b.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(b).buffer,done:!1})}cancel(b){if(!this._readableStream){this._error(b);return}this._readableStream.destroy(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",l=>{this._error(l)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function S(y,b){return{protocol:y.protocol,auth:y.auth,host:y.hostname,port:y.port,path:y.path,method:"GET",headers:b}}class w extends m{constructor(b){super(b);const l=h=>{if(h.statusCode===404){const k=new t.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=k,this._headersCapability.reject(k);return}this._headersCapability.resolve(),this._setReadableStream(h);const A=k=>this._readableStream.headers[k.toLowerCase()],{allowRangeRequests:P,suggestedLength:R}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:b.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=P,this._contentLength=R||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(A)};this._request=null,this._url.protocol==="http:"?this._request=p.request(S(this._url,b.httpHeaders),l):this._request=o.request(S(this._url,b.httpHeaders),l),this._request.on("error",h=>{this._storedError=h,this._headersCapability.reject(h)}),this._request.end()}}class x extends v{constructor(b,l,h){super(b),this._httpHeaders={};for(const P in b.httpHeaders){const R=b.httpHeaders[P];typeof R>"u"||(this._httpHeaders[P]=R)}this._httpHeaders.Range=`bytes=${l}-${h-1}`;const A=P=>{if(P.statusCode===404){const R=new t.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=R;return}this._setReadableStream(P)};this._request=null,this._url.protocol==="http:"?this._request=p.request(S(this._url,this._httpHeaders),A):this._request=o.request(S(this._url,this._httpHeaders),A),this._request.on("error",P=>{this._storedError=P}),this._request.end()}}class L extends m{constructor(b){super(b);let l=decodeURIComponent(this._url.path);c.test(this._url.href)&&(l=l.replace(/^\//,"")),u.lstat(l,(h,A)=>{if(h){h.code==="ENOENT"&&(h=new t.MissingPDFException(`Missing PDF "${l}".`)),this._storedError=h,this._headersCapability.reject(h);return}this._contentLength=A.size,this._setReadableStream(u.createReadStream(l)),this._headersCapability.resolve()})}}class g extends v{constructor(b,l,h){super(b);let A=decodeURIComponent(this._url.path);c.test(this._url.href)&&(A=A.replace(/^\//,"")),this._setReadableStream(u.createReadStream(A,{start:l,end:h-1}))}}},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createResponseStatusError=_,n.extractFilenameFromHeader=o,n.validateRangeRequestCapabilities=p,n.validateResponseStatus=c;var t=e(1),s=e(159),u=e(133);function p(d){let{getResponseHeader:T,isHttp:m,rangeChunkSize:v,disableRange:S}=d;const w={allowRangeRequests:!1,suggestedLength:void 0},x=parseInt(T("Content-Length"),10);return!Number.isInteger(x)||(w.suggestedLength=x,x<=2*v)||S||!m||T("Accept-Ranges")!=="bytes"||(T("Content-Encoding")||"identity")!=="identity"||(w.allowRangeRequests=!0),w}function o(d){const T=d("Content-Disposition");if(T){let m=(0,s.getFilenameFromContentDispositionHeader)(T);if(m.includes("%"))try{m=decodeURIComponent(m)}catch{}if((0,u.isPdfFile)(m))return m}return null}function _(d,T){return d===404||d===0&&T.startsWith("file:")?new t.MissingPDFException('Missing PDF "'+T+'".'):new t.UnexpectedResponseException(`Unexpected server response (${d}) while retrieving PDF "${T}".`,d)}function c(d){return d===200||d===206}},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getFilenameFromContentDispositionHeader=s;var t=e(1);function s(u){let p=!0,o=_("filename\\*","i").exec(u);if(o){o=o[1];let w=m(o);return w=unescape(w),w=v(w),w=S(w),d(w)}if(o=T(u),o){const w=S(o);return d(w)}if(o=_("filename","i").exec(u),o){o=o[1];let w=m(o);return w=S(w),d(w)}function _(w,x){return new RegExp("(?:^|;)\\s*"+w+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',x)}function c(w,x){if(w){if(!/^[\x00-\xFF]+$/.test(x))return x;try{const L=new TextDecoder(w,{fatal:!0}),g=(0,t.stringToBytes)(x);x=L.decode(g),p=!1}catch{}}return x}function d(w){return p&&/[\x80-\xff]/.test(w)&&(w=c("utf-8",w),p&&(w=c("iso-8859-1",w))),w}function T(w){const x=[];let L;const g=_("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(L=g.exec(w))!==null;){let[,b,l,h]=L;if(b=parseInt(b,10),b in x){if(b===0)break;continue}x[b]=[l,h]}const y=[];for(let b=0;b<x.length&&b in x;++b){let[l,h]=x[b];h=m(h),l&&(h=unescape(h),b===0&&(h=v(h))),y.push(h)}return y.join("")}function m(w){if(w.startsWith('"')){const x=w.slice(1).split('\\"');for(let L=0;L<x.length;++L){const g=x[L].indexOf('"');g!==-1&&(x[L]=x[L].slice(0,g),x.length=L+1),x[L]=x[L].replace(/\\(.)/g,"$1")}w=x.join('"')}return w}function v(w){const x=w.indexOf("'");if(x===-1)return w;const L=w.slice(0,x),y=w.slice(x+1).replace(/^[^']*'/,"");return c(L,y)}function S(w){return!w.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(w)?w:w.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(x,L,g,y){if(g==="q"||g==="Q")return y=y.replace(/_/g," "),y=y.replace(/=([0-9a-fA-F]{2})/g,function(b,l){return String.fromCharCode(parseInt(l,16))}),c(L,y);try{y=atob(y)}catch{}return c(L,y)})}return""}},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNetworkStream=void 0;var t=e(1),s=e(158);const u=200,p=206;function o(m){const v=m.response;return typeof v!="string"?v:(0,t.stringToBytes)(v).buffer}class _{constructor(v){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=v,this.isHttp=/^https?:/i.test(v),this.httpHeaders=this.isHttp&&S.httpHeaders||Object.create(null),this.withCredentials=S.withCredentials||!1,this.getXhr=S.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(v,S,w){const x={begin:v,end:S};for(const L in w)x[L]=w[L];return this.request(x)}requestFull(v){return this.request(v)}request(v){const S=this.getXhr(),w=this.currXhrId++,x=this.pendingRequests[w]={xhr:S};S.open("GET",this.url),S.withCredentials=this.withCredentials;for(const L in this.httpHeaders){const g=this.httpHeaders[L];typeof g>"u"||S.setRequestHeader(L,g)}return this.isHttp&&"begin"in v&&"end"in v?(S.setRequestHeader("Range",`bytes=${v.begin}-${v.end-1}`),x.expectedStatus=p):x.expectedStatus=u,S.responseType="arraybuffer",v.onError&&(S.onerror=function(L){v.onError(S.status)}),S.onreadystatechange=this.onStateChange.bind(this,w),S.onprogress=this.onProgress.bind(this,w),x.onHeadersReceived=v.onHeadersReceived,x.onDone=v.onDone,x.onError=v.onError,x.onProgress=v.onProgress,S.send(null),w}onProgress(v,S){var w;const x=this.pendingRequests[v];x&&((w=x.onProgress)===null||w===void 0||w.call(x,S))}onStateChange(v,S){const w=this.pendingRequests[v];if(!w)return;const x=w.xhr;if(x.readyState>=2&&w.onHeadersReceived&&(w.onHeadersReceived(),delete w.onHeadersReceived),x.readyState!==4||!(v in this.pendingRequests))return;if(delete this.pendingRequests[v],x.status===0&&this.isHttp){var L;(L=w.onError)===null||L===void 0||L.call(w,x.status);return}const g=x.status||u;if(!(g===u&&w.expectedStatus===p)&&g!==w.expectedStatus){var b;(b=w.onError)===null||b===void 0||b.call(w,x.status);return}const l=o(x);if(g===p){const A=x.getResponseHeader("Content-Range"),P=/bytes (\d+)-(\d+)\/(\d+)/.exec(A);w.onDone({begin:parseInt(P[1],10),chunk:l})}else if(l)w.onDone({begin:0,chunk:l});else{var h;(h=w.onError)===null||h===void 0||h.call(w,x.status)}}getRequestXhr(v){return this.pendingRequests[v].xhr}isPendingRequest(v){return v in this.pendingRequests}abortRequest(v){const S=this.pendingRequests[v].xhr;delete this.pendingRequests[v],S.abort()}}class c{constructor(v){this._source=v,this._manager=new _(v.url,{httpHeaders:v.httpHeaders,withCredentials:v.withCredentials}),this._rangeChunkSize=v.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(v){const S=this._rangeRequestReaders.indexOf(v);S>=0&&this._rangeRequestReaders.splice(S,1)}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(v,S){const w=new T(this._manager,v,S);return w.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(w),w}cancelAllRequests(v){var S;(S=this._fullRequestReader)===null||S===void 0||S.cancel(v);for(const w of this._rangeRequestReaders.slice(0))w.cancel(v)}}n.PDFNetworkStream=c;class d{constructor(v,S){this._manager=v;const w={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=S.url,this._fullRequestId=v.requestFull(w),this._headersReceivedCapability=(0,t.createPromiseCapability)(),this._disableRange=S.disableRange||!1,this._contentLength=S.length,this._rangeChunkSize=S.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const v=this._fullRequestId,S=this._manager.getRequestXhr(v),w=g=>S.getResponseHeader(g),{allowRangeRequests:x,suggestedLength:L}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});x&&(this._isRangeSupported=!0),this._contentLength=L||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(w),this._isRangeSupported&&this._manager.abortRequest(v),this._headersReceivedCapability.resolve()}_onDone(v){if(v&&(this._requests.length>0?this._requests.shift().resolve({value:v.chunk,done:!1}):this._cachedChunks.push(v.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(v){this._storedError=(0,s.createResponseStatusError)(v,this._url),this._headersReceivedCapability.reject(this._storedError);for(const S of this._requests)S.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(v){var S;(S=this.onProgress)===null||S===void 0||S.call(this,{loaded:v.loaded,total:v.lengthComputable?v.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const v=(0,t.createPromiseCapability)();return this._requests.push(v),v.promise}cancel(v){this._done=!0,this._headersReceivedCapability.reject(v);for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class T{constructor(v,S,w){this._manager=v;const x={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=v.url,this._requestId=v.requestRange(S,w,x),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var v;(v=this.onClosed)===null||v===void 0||v.call(this,this)}_onDone(v){const S=v.chunk;this._requests.length>0?this._requests.shift().resolve({value:S,done:!1}):this._queuedChunk=S,this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(v){this._storedError=(0,s.createResponseStatusError)(v,this._url);for(const S of this._requests)S.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(v){if(!this.isStreamingSupported){var S;(S=this.onProgress)===null||S===void 0||S.call(this,{loaded:v.loaded})}}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const S=this._queuedChunk;return this._queuedChunk=null,{value:S,done:!1}}if(this._done)return{value:void 0,done:!0};const v=(0,t.createPromiseCapability)();return this._requests.push(v),v.promise}cancel(v){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(a,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFFetchStream=void 0;var t=e(1),s=e(158);function u(d,T,m){return{method:"GET",headers:d,signal:m.signal,mode:"cors",credentials:T?"include":"same-origin",redirect:"follow"}}function p(d){const T=new Headers;for(const m in d){const v=d[m];typeof v>"u"||T.append(m,v)}return T}class o{constructor(T){this.source=T,this.isHttp=/^https?:/i.test(T.url),this.httpHeaders=this.isHttp&&T.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var T,m;return(T=(m=this._fullRequestReader)===null||m===void 0?void 0:m._loaded)!==null&&T!==void 0?T:0}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new _(this),this._fullRequestReader}getRangeReader(T,m){if(m<=this._progressiveDataLength)return null;const v=new c(this,T,m);return this._rangeRequestReaders.push(v),v}cancelAllRequests(T){this._fullRequestReader&&this._fullRequestReader.cancel(T);for(const m of this._rangeRequestReaders.slice(0))m.cancel(T)}}n.PDFFetchStream=o;class _{constructor(T){this._stream=T,this._reader=null,this._loaded=0,this._filename=null;const m=T.source;this._withCredentials=m.withCredentials||!1,this._contentLength=m.length,this._headersCapability=(0,t.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._headers=p(this._stream.httpHeaders);const v=m.url;fetch(v,u(this._headers,this._withCredentials,this._abortController)).then(S=>{if(!(0,s.validateResponseStatus)(S.status))throw(0,s.createResponseStatusError)(S.status,v);this._reader=S.body.getReader(),this._headersCapability.resolve();const w=g=>S.headers.get(g),{allowRangeRequests:x,suggestedLength:L}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=x,this._contentLength=L||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(w),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new t.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:T,done:m}=await this._reader.read();return m?{value:T,done:m}:(this._loaded+=T.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(T).buffer,done:!1})}cancel(T){this._reader&&this._reader.cancel(T),this._abortController.abort()}}class c{constructor(T,m,v){this._stream=T,this._reader=null,this._loaded=0;const S=T.source;this._withCredentials=S.withCredentials||!1,this._readCapability=(0,t.createPromiseCapability)(),this._isStreamingSupported=!S.disableStream,this._abortController=new AbortController,this._headers=p(this._stream.httpHeaders),this._headers.append("Range",`bytes=${m}-${v-1}`);const w=S.url;fetch(w,u(this._headers,this._withCredentials,this._abortController)).then(x=>{if(!(0,s.validateResponseStatus)(x.status))throw(0,s.createResponseStatusError)(x.status,w);this._readCapability.resolve(),this._reader=x.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:T,done:m}=await this._reader.read();return m?{value:T,done:m}:(this._loaded+=T.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(T).buffer,done:!1})}cancel(T){this._reader&&this._reader.cancel(T),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(a){var n=__webpack_module_cache__[a];if(n!==void 0)return n.exports;var e=__webpack_module_cache__[a]={exports:{}};return __webpack_modules__[a](e,e.exports,__w_pdfjs_require__),e.exports}var __webpack_exports__={};return(()=>{var a=__webpack_exports__;Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"AnnotationEditorLayer",{enumerable:!0,get:function(){return s.AnnotationEditorLayer}}),Object.defineProperty(a,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return n.AnnotationEditorParamsType}}),Object.defineProperty(a,"AnnotationEditorType",{enumerable:!0,get:function(){return n.AnnotationEditorType}}),Object.defineProperty(a,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return u.AnnotationEditorUIManager}}),Object.defineProperty(a,"AnnotationLayer",{enumerable:!0,get:function(){return p.AnnotationLayer}}),Object.defineProperty(a,"AnnotationMode",{enumerable:!0,get:function(){return n.AnnotationMode}}),Object.defineProperty(a,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(a,"GlobalWorkerOptions",{enumerable:!0,get:function(){return o.GlobalWorkerOptions}}),Object.defineProperty(a,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(a,"LoopbackPort",{enumerable:!0,get:function(){return e.LoopbackPort}}),Object.defineProperty(a,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(a,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(a,"PDFDataRangeTransport",{enumerable:!0,get:function(){return e.PDFDataRangeTransport}}),Object.defineProperty(a,"PDFDateString",{enumerable:!0,get:function(){return t.PDFDateString}}),Object.defineProperty(a,"PDFWorker",{enumerable:!0,get:function(){return e.PDFWorker}}),Object.defineProperty(a,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(a,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(a,"PixelsPerInch",{enumerable:!0,get:function(){return t.PixelsPerInch}}),Object.defineProperty(a,"RenderingCancelledException",{enumerable:!0,get:function(){return t.RenderingCancelledException}}),Object.defineProperty(a,"SVGGraphics",{enumerable:!0,get:function(){return d.SVGGraphics}}),Object.defineProperty(a,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return n.UNSUPPORTED_FEATURES}}),Object.defineProperty(a,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(a,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(a,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(a,"XfaLayer",{enumerable:!0,get:function(){return T.XfaLayer}}),Object.defineProperty(a,"build",{enumerable:!0,get:function(){return e.build}}),Object.defineProperty(a,"createPromiseCapability",{enumerable:!0,get:function(){return n.createPromiseCapability}}),Object.defineProperty(a,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(a,"getDocument",{enumerable:!0,get:function(){return e.getDocument}}),Object.defineProperty(a,"getFilenameFromUrl",{enumerable:!0,get:function(){return t.getFilenameFromUrl}}),Object.defineProperty(a,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return t.getPdfFilenameFromUrl}}),Object.defineProperty(a,"getXfaPageViewport",{enumerable:!0,get:function(){return t.getXfaPageViewport}}),Object.defineProperty(a,"isPdfFile",{enumerable:!0,get:function(){return t.isPdfFile}}),Object.defineProperty(a,"loadScript",{enumerable:!0,get:function(){return t.loadScript}}),Object.defineProperty(a,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(a,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return e.version}});var n=__w_pdfjs_require__(1),e=__w_pdfjs_require__(129),t=__w_pdfjs_require__(133),s=__w_pdfjs_require__(147),u=__w_pdfjs_require__(132),p=__w_pdfjs_require__(152),o=__w_pdfjs_require__(140),_=__w_pdfjs_require__(3),c=__w_pdfjs_require__(155),d=__w_pdfjs_require__(156),T=__w_pdfjs_require__(154);if(_.isNodeJS){const{PDFNodeStream:m}=__w_pdfjs_require__(157);(0,e.setPDFNetworkStreamFactory)(v=>new m(v))}else{const{PDFNetworkStream:m}=__w_pdfjs_require__(160),{PDFFetchStream:v}=__w_pdfjs_require__(161);(0,e.setPDFNetworkStreamFactory)(S=>(0,t.isValidFetchUrl)(S.url)?new v(S):new m(S))}})(),__webpack_exports__})())}(pdf)),pdf.exports}(function(a,n){(function(t,s){a.exports=s()})(globalThis,()=>(()=>{var e=[,(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DefaultXfaLayerFactory=o.DefaultTextLayerFactory=o.DefaultStructTreeLayerFactory=o.DefaultAnnotationLayerFactory=o.DefaultAnnotationEditorLayerFactory=void 0;var c=_(2),d=_(5),T=_(4),m=_(6),v=_(8),S=_(9),w=_(10);class x{createAnnotationLayerBuilder(h){let{pageDiv:A,pdfPage:P,annotationStorage:R=null,imageResourcesPath:k="",renderForms:F=!0,l10n:Y=T.NullL10n,enableScripting:B=!1,hasJSActionsPromise:j=null,mouseState:$=null,fieldObjectsPromise:U=null,annotationCanvasMap:W=null,accessibilityManager:I=null}=h;return new d.AnnotationLayerBuilder({pageDiv:A,pdfPage:P,imageResourcesPath:k,renderForms:F,linkService:new m.SimpleLinkService,l10n:Y,annotationStorage:R,enableScripting:B,hasJSActionsPromise:j,fieldObjectsPromise:U,mouseState:$,annotationCanvasMap:W,accessibilityManager:I})}}o.DefaultAnnotationLayerFactory=x;class L{createAnnotationEditorLayerBuilder(h){let{uiManager:A=null,pageDiv:P,pdfPage:R,accessibilityManager:k=null,l10n:F,annotationStorage:Y=null}=h;return new c.AnnotationEditorLayerBuilder({uiManager:A,pageDiv:P,pdfPage:R,accessibilityManager:k,l10n:F,annotationStorage:Y})}}o.DefaultAnnotationEditorLayerFactory=L;class g{createStructTreeLayerBuilder(h){let{pdfPage:A}=h;return new v.StructTreeLayerBuilder({pdfPage:A})}}o.DefaultStructTreeLayerFactory=g;class y{createTextLayerBuilder(h){let{textLayerDiv:A,pageIndex:P,viewport:R,enhanceTextSelection:k=!1,eventBus:F,highlighter:Y,accessibilityManager:B=null}=h;return new S.TextLayerBuilder({textLayerDiv:A,pageIndex:P,viewport:R,enhanceTextSelection:k,eventBus:F,highlighter:Y,accessibilityManager:B})}}o.DefaultTextLayerFactory=y;class b{createXfaLayerBuilder(h){let{pageDiv:A,pdfPage:P,annotationStorage:R=null}=h;return new w.XfaLayerBuilder({pageDiv:A,pdfPage:P,annotationStorage:R,linkService:new m.SimpleLinkService})}}o.DefaultXfaLayerFactory=b},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditorLayerBuilder=void 0;var c=_(3),d=_(4);function T(b,l,h){m(b,l),l.set(b,h)}function m(b,l){if(l.has(b))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(b,l){var h=x(b,l,"get");return S(b,h)}function S(b,l){return l.get?l.get.call(b):l.value}function w(b,l,h){var A=x(b,l,"set");return L(b,A,h),h}function x(b,l,h){if(!l.has(b))throw new TypeError("attempted to "+h+" private field on non-instance");return l.get(b)}function L(b,l,h){if(l.set)l.set.call(b,h);else{if(!l.writable)throw new TypeError("attempted to set read only private field");l.value=h}}var g=new WeakMap;class y{constructor(l){T(this,g,{writable:!0,value:void 0}),this.pageDiv=l.pageDiv,this.pdfPage=l.pdfPage,this.annotationStorage=l.annotationStorage||null,this.accessibilityManager=l.accessibilityManager,this.l10n=l.l10n||d.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,w(this,g,l.uiManager)}async render(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(h!=="display"||this._cancelled)return;const A=l.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:A}),this.show();return}this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new c.AnnotationEditorLayer({uiManager:v(this,g),div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:A});const P={viewport:A,div:this.div,annotations:null,intent:h};this.annotationEditorLayer.render(P)}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}o.AnnotationEditorLayerBuilder=y},p=>{let o;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?o=window["pdfjs-dist/build/pdf"]:o=requirePdf(),p.exports=o},(p,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NullL10n=void 0,o.fixupLangCode=T,o.getL10nFallback=c;const _={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} Ã {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} Ã {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loadingâ¦",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter textâ¦",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function c(S,w){switch(S){case"find_match_count":S=`find_match_count[${w.total===1?"one":"other"}]`;break;case"find_match_count_limit":S=`find_match_count_limit[${w.limit===1?"one":"other"}]`;break}return _[S]||""}const d={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function T(S){return d[S==null?void 0:S.toLowerCase()]||S}function m(S,w){return w?S.replace(/\{\{\s*(\w+)\s*\}\}/g,(x,L)=>L in w?w[L]:"{{"+L+"}}"):S}const v={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(S){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c(S,w);return m(x,w)},async translate(S){}};o.NullL10n=v},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationLayerBuilder=void 0;var c=_(3),d=_(4);class T{constructor(v){let{pageDiv:S,pdfPage:w,linkService:x,downloadManager:L,annotationStorage:g=null,imageResourcesPath:y="",renderForms:b=!0,l10n:l=d.NullL10n,enableScripting:h=!1,hasJSActionsPromise:A=null,fieldObjectsPromise:P=null,mouseState:R=null,annotationCanvasMap:k=null,accessibilityManager:F=null}=v;this.pageDiv=S,this.pdfPage=w,this.linkService=x,this.downloadManager=L,this.imageResourcesPath=y,this.renderForms=b,this.l10n=l,this.annotationStorage=g,this.enableScripting=h,this._hasJSActionsPromise=A,this._fieldObjectsPromise=P,this._mouseState=R,this._annotationCanvasMap=k,this._accessibilityManager=F,this.div=null,this._cancelled=!1}async render(v){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";const[w,x=!1,L=null]=await Promise.all([this.pdfPage.getAnnotations({intent:S}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||w.length===0)return;const g={viewport:v.clone({dontFlip:!0}),div:this.div,annotations:w,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:x,fieldObjects:L,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?c.AnnotationLayer.update(g):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),g.div=this.div,c.AnnotationLayer.render(g),this.l10n.translate(this.div))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}o.AnnotationLayerBuilder=T},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SimpleLinkService=o.PDFLinkService=o.LinkTarget=void 0;var c=_(7);function d(Y,B){m(Y,B),B.add(Y)}function T(Y,B,j){m(Y,B),B.set(Y,j)}function m(Y,B){if(B.has(Y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(Y,B,j){return S(Y,B),j}function S(Y,B){if(Y!==B)throw new TypeError("Private static access of wrong provenance")}function w(Y,B,j){if(!B.has(Y))throw new TypeError("attempted to get private field on non-instance");return j}function x(Y,B){var j=L(Y,B,"get");return g(Y,j)}function L(Y,B,j){if(!B.has(Y))throw new TypeError("attempted to "+j+" private field on non-instance");return B.get(Y)}function g(Y,B){return B.get?B.get.call(Y):B.value}const y="noopener noreferrer nofollow",b={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};o.LinkTarget=b;function l(Y){let{url:B,target:j,rel:$,enabled:U=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!B||typeof B!="string")throw new Error('A valid "url" parameter must provided.');const W=(0,c.removeNullCharacters)(B);U?Y.href=Y.title=W:(Y.href="",Y.title=`Disabled: ${W}`,Y.onclick=()=>!1);let I="";switch(j){case b.NONE:break;case b.SELF:I="_self";break;case b.BLANK:I="_blank";break;case b.PARENT:I="_parent";break;case b.TOP:I="_top";break}Y.target=I,Y.rel=typeof $=="string"?$:y}var h=new WeakMap,A=new WeakSet;class P{constructor(){let{eventBus:B,externalLinkTarget:j=null,externalLinkRel:$=null,ignoreDestinationZoom:U=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};d(this,A),T(this,h,{writable:!0,value:new Map}),this.eventBus=B,this.externalLinkTarget=j,this.externalLinkRel=$,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=U,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(B){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.baseUrl=j,this.pdfDocument=B,x(this,h).clear()}setViewer(B){this.pdfViewer=B}setHistory(B){this.pdfHistory=B}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(B){this.pdfViewer.currentPageNumber=B}get rotation(){return this.pdfViewer.pagesRotation}set rotation(B){this.pdfViewer.pagesRotation=B}async goToDestination(B){if(!this.pdfDocument)return;let j,$;if(typeof B=="string"?(j=B,$=await this.pdfDocument.getDestination(B)):(j=null,$=await B),!Array.isArray($)){console.error(`PDFLinkService.goToDestination: "${$}" is not a valid destination array, for dest="${B}".`);return}w(this,A,R).call(this,B,j,$)}goToPage(B){if(!this.pdfDocument)return;const j=typeof B=="string"&&this.pdfViewer.pageLabelToPageNumber(B)||B|0;if(!(Number.isInteger(j)&&j>0&&j<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${B}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(j)),this.pdfViewer.scrollPageIntoView({pageNumber:j})}addLinkAttributes(B,j){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;l(B,{url:j,target:$?b.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(B){if(typeof B=="string"){if(B.length>0)return this.getAnchorUrl("#"+escape(B))}else if(Array.isArray(B)){const j=JSON.stringify(B);if(j.length>0)return this.getAnchorUrl("#"+escape(j))}return this.getAnchorUrl("")}getAnchorUrl(B){return(this.baseUrl||"")+B}setHash(B){if(!this.pdfDocument)return;let j,$;if(B.includes("=")){const U=(0,c.parseQueryString)(B);if(U.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:U.get("search").replace(/"/g,""),phraseSearch:U.get("phrase")==="true"}),U.has("page")&&(j=U.get("page")|0||1),U.has("zoom")){const W=U.get("zoom").split(","),I=W[0],z=parseFloat(I);I.includes("Fit")?I==="Fit"||I==="FitB"?$=[null,{name:I}]:I==="FitH"||I==="FitBH"||I==="FitV"||I==="FitBV"?$=[null,{name:I},W.length>1?W[1]|0:null]:I==="FitR"?W.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):$=[null,{name:I},W[1]|0,W[2]|0,W[3]|0,W[4]|0]:console.error(`PDFLinkService.setHash: "${I}" is not a valid zoom value.`):$=[null,{name:"XYZ"},W.length>1?W[1]|0:null,W.length>2?W[2]|0:null,z?z/100:I]}$?this.pdfViewer.scrollPageIntoView({pageNumber:j||this.page,destArray:$,allowNegativeOffset:!0}):j&&(this.page=j),U.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:U.get("pagemode")}),U.has("nameddest")&&this.goToDestination(U.get("nameddest"))}else{$=unescape(B);try{$=JSON.parse($),Array.isArray($)||($=$.toString())}catch{}if(typeof $=="string"||v(P,P,k).call(P,$)){this.goToDestination($);return}console.error(`PDFLinkService.setHash: "${unescape(B)}" is not a valid destination.`)}}executeNamedAction(B){var j,$;switch(B){case"GoBack":(j=this.pdfHistory)===null||j===void 0||j.back();break;case"GoForward":($=this.pdfHistory)===null||$===void 0||$.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:B})}cachePageRef(B,j){if(!j)return;const $=j.gen===0?`${j.num}R`:`${j.num}R${j.gen}`;x(this,h).set($,B)}_cachedPageNumber(B){if(!B)return null;const j=B.gen===0?`${B.num}R`:`${B.num}R${B.gen}`;return x(this,h).get(j)||null}isPageVisible(B){return this.pdfViewer.isPageVisible(B)}isPageCached(B){return this.pdfViewer.isPageCached(B)}}o.PDFLinkService=P;function R(Y){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,j=arguments.length>2?arguments[2]:void 0;const $=j[0];let U;if(typeof $=="object"&&$!==null){if(U=this._cachedPageNumber($),!U){this.pdfDocument.getPageIndex($).then(W=>{this.cachePageRef(W+1,$),w(this,A,R).call(this,Y,B,j)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${$}" is not a valid page reference, for dest="${Y}".`)});return}}else if(Number.isInteger($))U=$+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${$}" is not a valid destination reference, for dest="${Y}".`);return}if(!U||U<1||U>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${U}" is not a valid page number, for dest="${Y}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:B,explicitDest:j,pageNumber:U})),this.pdfViewer.scrollPageIntoView({pageNumber:U,destArray:j,ignoreDestinationZoom:this._ignoreDestinationZoom})}function k(Y){if(!Array.isArray(Y))return!1;const B=Y.length;if(B<2)return!1;const j=Y[0];if(!(typeof j=="object"&&Number.isInteger(j.num)&&Number.isInteger(j.gen))&&!(Number.isInteger(j)&&j>=0))return!1;const $=Y[1];if(!(typeof $=="object"&&typeof $.name=="string"))return!1;let U=!0;switch($.name){case"XYZ":if(B!==5)return!1;break;case"Fit":case"FitB":return B===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(B!==3)return!1;break;case"FitR":if(B!==6)return!1;U=!1;break;default:return!1}for(let W=2;W<B;W++){const I=Y[W];if(!(typeof I=="number"||U&&I===null))return!1}return!0}class F{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(B){}get rotation(){return 0}set rotation(B){}async goToDestination(B){}goToPage(B){}addLinkAttributes(B,j){l(B,{url:j,enabled:this.externalLinkEnabled})}getDestinationHash(B){return"#"}getAnchorUrl(B){return"#"}setHash(B){}executeNamedAction(B){}cachePageRef(B,j){}isPageVisible(B){return!0}isPageCached(B){return!0}}o.SimpleLinkService=F},(p,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.animationStarted=o.VERTICAL_PADDING=o.UNKNOWN_SCALE=o.TextLayerMode=o.SpreadMode=o.SidebarView=o.ScrollMode=o.SCROLLBAR_PADDING=o.RenderingStates=o.RendererType=o.ProgressBar=o.PresentationModeState=o.OutputScale=o.MIN_SCALE=o.MAX_SCALE=o.MAX_AUTO_SCALE=o.DEFAULT_SCALE_VALUE=o.DEFAULT_SCALE_DELTA=o.DEFAULT_SCALE=o.AutoPrintRegExp=void 0,o.apiPageLayoutToViewerModes=Fe,o.apiPageModeToSidebarView=je,o.approximateFraction=X,o.backtrackBeforeAllVisibleElements=G,o.binarySearchFirstItem=fe,o.docStyle=void 0,o.getActiveOrFocusedElement=Ie,o.getPageSizeInches=M,o.getVisibleElements=K,o.isPortraitOrientation=se,o.isValidRotation=V,o.isValidScrollMode=q,o.isValidSpreadMode=J,o.noContextMenuHandler=E,o.normalizeWheelEventDelta=N,o.normalizeWheelEventDirection=O,o.parseQueryString=z,o.removeNullCharacters=ne,o.roundToDivide=C,o.scrollIntoView=W,o.watchScroll=I;function _(pe,ke,Ne){c(pe,ke),ke.set(pe,Ne)}function c(pe,ke){if(ke.has(pe))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(pe,ke){var Ne=v(pe,ke,"get");return T(pe,Ne)}function T(pe,ke){return ke.get?ke.get.call(pe):ke.value}function m(pe,ke,Ne){var Oe=v(pe,ke,"set");return S(pe,Oe,Ne),Ne}function v(pe,ke,Ne){if(!ke.has(pe))throw new TypeError("attempted to "+Ne+" private field on non-instance");return ke.get(pe)}function S(pe,ke,Ne){if(ke.set)ke.set.call(pe,Ne);else{if(!ke.writable)throw new TypeError("attempted to set read only private field");ke.value=Ne}}const w="auto";o.DEFAULT_SCALE_VALUE=w;const x=1;o.DEFAULT_SCALE=x;const L=1.1;o.DEFAULT_SCALE_DELTA=L;const g=.1;o.MIN_SCALE=g;const y=10;o.MAX_SCALE=y;const b=0;o.UNKNOWN_SCALE=b;const l=1.25;o.MAX_AUTO_SCALE=l;const h=40;o.SCROLLBAR_PADDING=h;const A=5;o.VERTICAL_PADDING=A;const P={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};o.RenderingStates=P;const R={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};o.PresentationModeState=R;const k={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};o.SidebarView=k;const F={CANVAS:"canvas",SVG:"svg"};o.RendererType=F;const Y={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};o.TextLayerMode=Y;const B={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};o.ScrollMode=B;const j={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};o.SpreadMode=j;const $=/\bprint\s*\(/;o.AutoPrintRegExp=$;class U{constructor(){const ke=window.devicePixelRatio||1;this.sx=ke,this.sy=ke}get scaled(){return this.sx!==1||this.sy!==1}}o.OutputScale=U;function W(pe,ke){let Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Oe=pe.offsetParent;if(!Oe){console.error("offsetParent is not set -- cannot scroll");return}let Ce=pe.offsetTop+pe.clientTop,te=pe.offsetLeft+pe.clientLeft;for(;Oe.clientHeight===Oe.scrollHeight&&Oe.clientWidth===Oe.scrollWidth||Ne&&(Oe.classList.contains("markedContent")||getComputedStyle(Oe).overflow==="hidden");)if(Ce+=Oe.offsetTop,te+=Oe.offsetLeft,Oe=Oe.offsetParent,!Oe)return;ke&&(ke.top!==void 0&&(Ce+=ke.top),ke.left!==void 0&&(te+=ke.left,Oe.scrollLeft=te)),Oe.scrollTop=Ce}function I(pe,ke){const Ne=function(te){Ce||(Ce=window.requestAnimationFrame(function(){Ce=null;const ae=pe.scrollLeft,Ee=Oe.lastX;ae!==Ee&&(Oe.right=ae>Ee),Oe.lastX=ae;const he=pe.scrollTop,Pe=Oe.lastY;he!==Pe&&(Oe.down=he>Pe),Oe.lastY=he,ke(Oe)}))},Oe={right:!0,down:!0,lastX:pe.scrollLeft,lastY:pe.scrollTop,_eventHandler:Ne};let Ce=null;return pe.addEventListener("scroll",Ne,!0),Oe}function z(pe){const ke=new Map;for(const[Ne,Oe]of new URLSearchParams(pe))ke.set(Ne.toLowerCase(),Oe);return ke}const ee=/\x00/g,Q=/[\x01-\x1F]/g;function ne(pe){let ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof pe!="string"?(console.error("The argument must be a string."),pe):(ke&&(pe=pe.replace(Q," ")),pe.replace(ee,""))}function fe(pe,ke){let Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Ce=pe.length-1;if(Ce<0||!ke(pe[Ce]))return pe.length;if(ke(pe[Oe]))return Oe;for(;Oe<Ce;){const te=Oe+Ce>>1,H=pe[te];ke(H)?Ce=te:Oe=te+1}return Oe}function X(pe){if(Math.floor(pe)===pe)return[pe,1];const ke=1/pe,Ne=8;if(ke>Ne)return[1,Ne];if(Math.floor(ke)===ke)return[1,ke];const Oe=pe>1?ke:pe;let Ce=0,te=1,H=1,ae=1;for(;;){const he=Ce+H,Pe=te+ae;if(Pe>Ne)break;Oe<=he/Pe?(H=he,ae=Pe):(Ce=he,te=Pe)}let Ee;return Oe-Ce/te<H/ae-Oe?Ee=Oe===pe?[Ce,te]:[te,Ce]:Ee=Oe===pe?[H,ae]:[ae,H],Ee}function C(pe,ke){const Ne=pe%ke;return Ne===0?pe:Math.round(pe-Ne+ke)}function M(pe){let{view:ke,userUnit:Ne,rotate:Oe}=pe;const[Ce,te,H,ae]=ke,Ee=Oe%180!==0,he=(H-Ce)/72*Ne,Pe=(ae-te)/72*Ne;return{width:Ee?Pe:he,height:Ee?he:Pe}}function G(pe,ke,Ne){if(pe<2)return pe;let Oe=ke[pe].div,Ce=Oe.offsetTop+Oe.clientTop;Ce>=Ne&&(Oe=ke[pe-1].div,Ce=Oe.offsetTop+Oe.clientTop);for(let te=pe-2;te>=0&&(Oe=ke[te].div,!(Oe.offsetTop+Oe.clientTop+Oe.clientHeight<=Ce));--te)pe=te;return pe}function K(pe){let{scrollEl:ke,views:Ne,sortByVisibility:Oe=!1,horizontal:Ce=!1,rtl:te=!1}=pe;const H=ke.scrollTop,ae=H+ke.clientHeight,Ee=ke.scrollLeft,he=Ee+ke.clientWidth;function Pe(ie){const Se=ie.div;return Se.offsetTop+Se.clientTop+Se.clientHeight>H}function Me(ie){const Se=ie.div,Re=Se.offsetLeft+Se.clientLeft,Le=Re+Se.clientWidth;return te?Re<he:Le>Ee}const ce=[],re=new Set,oe=Ne.length;let Ae=fe(Ne,Ce?Me:Pe);Ae>0&&Ae<oe&&!Ce&&(Ae=G(Ae,Ne,H));let _e=Ce?he:-1;for(let ie=Ae;ie<oe;ie++){const Se=Ne[ie],Re=Se.div,Le=Re.offsetLeft+Re.clientLeft,Ue=Re.offsetTop+Re.clientTop,Ve=Re.clientWidth,ze=Re.clientHeight,$e=Le+Ve,Ge=Ue+ze;if(_e===-1)Ge>=ae&&(_e=Ge);else if((Ce?Le:Ue)>_e)break;if(Ge<=H||Ue>=ae||$e<=Ee||Le>=he)continue;const rt=Math.max(0,H-Ue)+Math.max(0,Ge-ae),Ye=Math.max(0,Ee-Le)+Math.max(0,$e-he),Ke=(ze-rt)/ze,et=(Ve-Ye)/Ve,tt=Ke*et*100|0;ce.push({id:Se.id,x:Le,y:Ue,view:Se,percent:tt,widthPercent:et*100|0}),re.add(Se.id)}const we=ce[0],de=ce.at(-1);return Oe&&ce.sort(function(ie,Se){const Re=ie.percent-Se.percent;return Math.abs(Re)>.001?-Re:ie.id-Se.id}),{first:we,last:de,views:ce,ids:re}}function E(pe){pe.preventDefault()}function O(pe){let ke=Math.hypot(pe.deltaX,pe.deltaY);const Ne=Math.atan2(pe.deltaY,pe.deltaX);return-.25*Math.PI<Ne&&Ne<.75*Math.PI&&(ke=-ke),ke}function N(pe){let ke=O(pe);const Ne=0,Oe=1,Ce=30,te=30;return pe.deltaMode===Ne?ke/=Ce*te:pe.deltaMode===Oe&&(ke/=te),ke}function V(pe){return Number.isInteger(pe)&&pe%90===0}function q(pe){return Number.isInteger(pe)&&Object.values(B).includes(pe)&&pe!==B.UNKNOWN}function J(pe){return Number.isInteger(pe)&&Object.values(j).includes(pe)&&pe!==j.UNKNOWN}function se(pe){return pe.width<=pe.height}const ue=new Promise(function(pe){window.requestAnimationFrame(pe)});o.animationStarted=ue;const ge=document.documentElement.style;o.docStyle=ge;function be(pe,ke,Ne){return Math.min(Math.max(pe,ke),Ne)}var ve=new WeakMap,ye=new WeakMap,xe=new WeakMap;class De{constructor(ke){if(_(this,ve,{writable:!0,value:null}),_(this,ye,{writable:!0,value:0}),_(this,xe,{writable:!0,value:!0}),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const Ne=document.getElementById(ke);m(this,ve,Ne.classList)}get percent(){return d(this,ye)}set percent(ke){if(m(this,ye,be(ke,0,100)),isNaN(ke)){d(this,ve).add("indeterminate");return}d(this,ve).remove("indeterminate"),ge.setProperty("--progressBar-percent",`${d(this,ye)}%`)}setWidth(ke){if(!ke)return;const Oe=ke.parentNode.offsetWidth-ke.offsetWidth;Oe>0&&ge.setProperty("--progressBar-end-offset",`${Oe}px`)}hide(){d(this,xe)&&(m(this,xe,!1),d(this,ve).add("hidden"))}show(){d(this,xe)||(m(this,xe,!0),d(this,ve).remove("hidden"))}}o.ProgressBar=De;function Ie(){let pe=document,ke=pe.activeElement||pe.querySelector(":focus");for(;(Ne=ke)!==null&&Ne!==void 0&&Ne.shadowRoot;){var Ne;pe=ke.shadowRoot,ke=pe.activeElement||pe.querySelector(":focus")}return ke}function Fe(pe){let ke=B.VERTICAL,Ne=j.NONE;switch(pe){case"SinglePage":ke=B.PAGE;break;case"OneColumn":break;case"TwoPageLeft":ke=B.PAGE;case"TwoColumnLeft":Ne=j.ODD;break;case"TwoPageRight":ke=B.PAGE;case"TwoColumnRight":Ne=j.EVEN;break}return{scrollMode:ke,spreadMode:Ne}}function je(pe){switch(pe){case"UseNone":return k.NONE;case"UseThumbs":return k.THUMBS;case"UseOutlines":return k.OUTLINE;case"UseAttachments":return k.ATTACHMENTS;case"UseOC":return k.LAYERS}return k.NONE}},(p,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.StructTreeLayerBuilder=void 0;const _={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},c=/^H(\d+)$/;class d{constructor(m){let{pdfPage:v}=m;this.pdfPage=v}render(m){return this._walk(m)}_setAttributes(m,v){m.alt!==void 0&&v.setAttribute("aria-label",m.alt),m.id!==void 0&&v.setAttribute("aria-owns",m.id),m.lang!==void 0&&v.setAttribute("lang",m.lang)}_walk(m){if(!m)return null;const v=document.createElement("span");if("role"in m){const{role:S}=m,w=S.match(c);w?(v.setAttribute("role","heading"),v.setAttribute("aria-level",w[1])):_[S]&&v.setAttribute("role",_[S])}if(this._setAttributes(m,v),m.children)if(m.children.length===1&&"id"in m.children[0])this._setAttributes(m.children[0],v);else for(const S of m.children)v.append(this._walk(S));return v}}o.StructTreeLayerBuilder=d},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextLayerBuilder=void 0;var c=_(3);const d=300;class T{constructor(v){let{textLayerDiv:S,eventBus:w,pageIndex:x,viewport:L,highlighter:g=null,enhanceTextSelection:y=!1,accessibilityManager:b=null}=v;this.textLayerDiv=S,this.eventBus=w,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=x+1,this.viewport=L,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=g,this.enhanceTextSelection=y,this.accessibilityManager=b,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const v=document.createElement("div");v.className="endOfContent",this.textLayerDiv.append(v)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(){var v,S;let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,(v=this.highlighter)===null||v===void 0||v.setTextMapping(this.textDivs,this.textContentItemsStr),(S=this.accessibilityManager)===null||S===void 0||S.setTextMapping(this.textDivs);const x=document.createDocumentFragment();this.textLayerRenderTask=(0,c.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:x,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:w,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var L,g;this.textLayerDiv.append(x),this._finishRendering(),(L=this.highlighter)===null||L===void 0||L.enable(),(g=this.accessibilityManager)===null||g===void 0||g.enable()},function(L){})}cancel(){var v,S;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(v=this.highlighter)===null||v===void 0||v.disable(),(S=this.accessibilityManager)===null||S===void 0||S.disable()}setTextContentStream(v){this.cancel(),this.textContentStream=v}setTextContent(v){this.cancel(),this.textContent=v}_bindMouse(){const v=this.textLayerDiv;let S=null;v.addEventListener("mousedown",w=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){this.textLayerRenderTask.expandTextDivs(!0),S&&(clearTimeout(S),S=null);return}const x=v.querySelector(".endOfContent");if(!x)return;let L=w.target!==v;if(L=L&&window.getComputedStyle(x).getPropertyValue("-moz-user-select")!=="none",L){const g=v.getBoundingClientRect(),y=Math.max(0,(w.pageY-g.top)/g.height);x.style.top=(y*100).toFixed(2)+"%"}x.classList.add("active")}),v.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){S=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),S=null},d);return}const w=v.querySelector(".endOfContent");w&&(w.style.top="",w.classList.remove("active"))})}}o.TextLayerBuilder=T},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayerBuilder=void 0;var c=_(3);class d{constructor(m){let{pageDiv:v,pdfPage:S,annotationStorage:w=null,linkService:x,xfaHtml:L=null}=m;this.pageDiv=v,this.pdfPage=S,this.annotationStorage=w,this.linkService=x,this.xfaHtml=L,this.div=null,this._cancelled=!1}render(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(v==="print"){const S={viewport:m.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:v},w=document.createElement("div");this.pageDiv.append(w),S.div=w;const x=c.XfaLayer.render(S);return Promise.resolve(x)}return this.pdfPage.getXfa().then(S=>{if(this._cancelled||!S)return{textDivs:[]};const w={viewport:m.clone({dontFlip:!0}),div:this.div,xfaHtml:S,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:v};return this.div?c.XfaLayer.update(w):(this.div=document.createElement("div"),this.pageDiv.append(this.div),w.div=this.div,c.XfaLayer.render(w))}).catch(S=>{console.error(S)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}o.XfaLayerBuilder=d},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFViewer=o.PDFSinglePageViewer=void 0;var c=_(7),d=_(12);class T extends d.BaseViewer{}o.PDFViewer=T;class m extends d.BaseViewer{_resetView(){super._resetView(),this._scrollMode=c.ScrollMode.PAGE,this._spreadMode=c.SpreadMode.NONE}set scrollMode(S){}_updateScrollMode(){}set spreadMode(S){}_updateSpreadMode(){}}o.PDFSinglePageViewer=m},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PagesCountLimit=o.PDFPageViewBuffer=o.BaseViewer=void 0;var c=_(3),d=_(7),T=_(2),m=_(5),v=_(4),S=_(13),w=_(16),x=_(6),L=_(8),g=_(17),y=_(9),b=_(10);let l;function h(te,H){P(te,H),H.add(te)}function A(te,H,ae){P(te,H),H.set(te,ae)}function P(te,H){if(H.has(te))throw new TypeError("Cannot initialize the same private elements twice on an object")}function R(te,H,ae){if(!H.has(te))throw new TypeError("attempted to get private field on non-instance");return ae}function k(te,H){var ae=B(te,H,"get");return F(te,ae)}function F(te,H){return H.get?H.get.call(te):H.value}function Y(te,H,ae){var Ee=B(te,H,"set");return j(te,Ee,ae),ae}function B(te,H,ae){if(!H.has(te))throw new TypeError("attempted to "+ae+" private field on non-instance");return H.get(te)}function j(te,H,ae){if(H.set)H.set.call(te,ae);else{if(!H.writable)throw new TypeError("attempted to set read only private field");H.value=ae}}const $=10,U="enablePermissions",W={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};o.PagesCountLimit=W;function I(te){return Object.values(c.AnnotationEditorType).includes(te)&&te!==c.AnnotationEditorType.DISABLE}var z=new WeakMap,ee=new WeakMap,Q=new WeakSet;l=Symbol.iterator;class ne{constructor(H){h(this,Q),A(this,z,{writable:!0,value:new Set}),A(this,ee,{writable:!0,value:0}),Y(this,ee,H)}push(H){const ae=k(this,z);ae.has(H)&&ae.delete(H),ae.add(H),ae.size>k(this,ee)&&R(this,Q,fe).call(this)}resize(H){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Y(this,ee,H);const Ee=k(this,z);if(ae){const he=Ee.size;let Pe=1;for(const Me of Ee)if(ae.has(Me.id)&&(Ee.delete(Me),Ee.add(Me)),++Pe>he)break}for(;Ee.size>k(this,ee);)R(this,Q,fe).call(this)}has(H){return k(this,z).has(H)}[l](){return k(this,z).keys()}}o.PDFPageViewBuffer=ne;function fe(){const te=k(this,z).keys().next().value;te==null||te.destroy(),k(this,z).delete(te)}var X=new WeakMap,C=new WeakMap,M=new WeakMap,G=new WeakMap,K=new WeakMap,E=new WeakMap,O=new WeakMap,N=new WeakMap,V=new WeakSet,q=new WeakSet,J=new WeakSet,se=new WeakSet,ue=new WeakSet,ge=new WeakSet,be=new WeakSet,ve=new WeakSet,ye=new WeakSet;class xe{constructor(H){var ae,Ee,he,Pe,Me;if(h(this,ye),h(this,ve),h(this,be),h(this,ge),h(this,ue),h(this,se),h(this,J),h(this,q),h(this,V),A(this,X,{writable:!0,value:null}),A(this,C,{writable:!0,value:c.AnnotationEditorType.DISABLE}),A(this,M,{writable:!0,value:null}),A(this,G,{writable:!0,value:c.AnnotationMode.ENABLE_FORMS}),A(this,K,{writable:!0,value:!1}),A(this,E,{writable:!0,value:0}),A(this,O,{writable:!0,value:null}),A(this,N,{writable:!0,value:null}),this.constructor===xe)throw new Error("Cannot initialize BaseViewer.");const ce="2.16.105";if(c.version!==ce)throw new Error(`The API version "${c.version}" does not match the Viewer version "${ce}".`);if(this.container=H.container,this.viewer=H.viewer||H.container.firstElementChild,!(((ae=this.container)===null||ae===void 0?void 0:ae.tagName.toUpperCase())==="DIV"&&((Ee=this.viewer)===null||Ee===void 0?void 0:Ee.tagName.toUpperCase())==="DIV"))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=H.eventBus,this.linkService=H.linkService||new x.SimpleLinkService,this.downloadManager=H.downloadManager||null,this.findController=H.findController||null,this._scriptingManager=H.scriptingManager||null,this.removePageBorders=H.removePageBorders||!1,this.textLayerMode=(he=H.textLayerMode)!==null&&he!==void 0?he:d.TextLayerMode.ENABLE,Y(this,G,(Pe=H.annotationMode)!==null&&Pe!==void 0?Pe:c.AnnotationMode.ENABLE_FORMS),Y(this,C,(Me=H.annotationEditorMode)!==null&&Me!==void 0?Me:c.AnnotationEditorType.DISABLE),this.imageResourcesPath=H.imageResourcesPath||"",this.enablePrintAutoRotate=H.enablePrintAutoRotate||!1,this.renderer=H.renderer||d.RendererType.CANVAS,this.useOnlyCssZoom=H.useOnlyCssZoom||!1,this.maxCanvasPixels=H.maxCanvasPixels,this.l10n=H.l10n||v.NullL10n,Y(this,K,H.enablePermissions||!1),this.pageColors=H.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!H.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new w.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=H.renderingQueue,this.scroll=(0,d.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=d.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(H){return this._pages[H]}get pageViewsReady(){return this._pagesCapability.settled?this._pages.every(function(H){return H==null?void 0:H.pdfPage}):!1}get renderForms(){return k(this,G)===c.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(H){if(!Number.isInteger(H))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(H,!0)||console.error(`currentPageNumber: "${H}" is not a valid page.`))}_setCurrentPageNumber(H){var ae,Ee;let he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this._currentPageNumber===H)return he&&R(this,ge,ke).call(this),!0;if(!(0<H&&H<=this.pagesCount))return!1;const Pe=this._currentPageNumber;return this._currentPageNumber=H,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:H,pageLabel:(ae=(Ee=this._pageLabels)===null||Ee===void 0?void 0:Ee[H-1])!==null&&ae!==void 0?ae:null,previous:Pe}),he&&R(this,ge,ke).call(this),!0}get currentPageLabel(){var H,ae;return(H=(ae=this._pageLabels)===null||ae===void 0?void 0:ae[this._currentPageNumber-1])!==null&&H!==void 0?H:null}set currentPageLabel(H){if(!this.pdfDocument)return;let ae=H|0;if(this._pageLabels){const Ee=this._pageLabels.indexOf(H);Ee>=0&&(ae=Ee+1)}this._setCurrentPageNumber(ae,!0)||console.error(`currentPageLabel: "${H}" is not a valid page.`)}get currentScale(){return this._currentScale!==d.UNKNOWN_SCALE?this._currentScale:d.DEFAULT_SCALE}set currentScale(H){if(isNaN(H))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(H,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(H){this.pdfDocument&&this._setScale(H,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(H){if(!(0,d.isValidRotation)(H))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(H%=360,H<0&&(H+=360),this._pagesRotation===H))return;this._pagesRotation=H;const ae=this._currentPageNumber,Ee={rotation:H};for(const he of this._pages)he.update(Ee);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:H,pageNumber:ae}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(H){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),k(this,M)&&(k(this,M).destroy(),Y(this,M,null))),this.pdfDocument=H,!H)return;const ae=H.isPureXfa,Ee=H.numPages,he=H.getPage(1),Pe=H.getOptionalContentConfig(),Me=k(this,K)?H.getPermissions():Promise.resolve();if(Ee>W.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ce=this._scrollMode=d.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ce})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Ee})},()=>{}),this._onBeforeDraw=ce=>{const re=this._pages[ce.pageNumber-1];re&&k(this,X).push(re)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ce=>{ce.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ce.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,k(this,N)&&(document.removeEventListener("visibilitychange",k(this,N)),Y(this,N,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([he,Me]).then(ce=>{let[re,oe]=ce;if(H!==this.pdfDocument)return;this._firstPageCapability.resolve(re),this._optionalContentConfigPromise=Pe;const{annotationEditorMode:Ae,annotationMode:_e,textLayerMode:we}=R(this,V,De).call(this,oe);if(Ae!==c.AnnotationEditorType.DISABLE){const $e=Ae;ae?console.warn("Warning: XFA-editing is not implemented."):I($e)?(Y(this,M,new c.AnnotationEditorUIManager(this.container,this.eventBus)),$e!==c.AnnotationEditorType.NONE&&k(this,M).updateMode($e)):console.error(`Invalid AnnotationEditor mode: ${$e}`)}const de=this._scrollMode===d.ScrollMode.PAGE?null:this.viewer,ie=this.currentScale,Se=re.getViewport({scale:ie*c.PixelsPerInch.PDF_TO_CSS_UNITS}),Re=we!==d.TextLayerMode.DISABLE&&!ae?this:null,Le=_e!==c.AnnotationMode.DISABLE?this:null,Ue=ae?this:null,Ve=k(this,M)?this:null;for(let $e=1;$e<=Ee;++$e){const Ge=new S.PDFPageView({container:de,eventBus:this.eventBus,id:$e,scale:ie,defaultViewport:Se.clone(),optionalContentConfigPromise:Pe,renderingQueue:this.renderingQueue,textLayerFactory:Re,textLayerMode:we,annotationLayerFactory:Le,annotationMode:_e,xfaLayerFactory:Ue,annotationEditorLayerFactory:Ve,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Ge)}const ze=this._pages[0];ze&&(ze.setPdfPage(re),this.linkService.cachePageRef(1,re.ref)),this._scrollMode===d.ScrollMode.PAGE?R(this,J,Fe).call(this):this._spreadMode!==d.SpreadMode.NONE&&this._updateSpreadMode(),R(this,q,Ie).call(this).then(async()=>{if(this.findController&&this.findController.setDocument(H),this._scriptingManager&&this._scriptingManager.setDocument(H),k(this,M)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:k(this,C)}),H.loadingParams.disableAutoFetch||Ee>W.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let $e=Ee-1;if($e<=0){this._pagesCapability.resolve();return}for(let Ge=2;Ge<=Ee;++Ge){const rt=H.getPage(Ge).then(Ye=>{const Ke=this._pages[Ge-1];Ke.pdfPage||Ke.setPdfPage(Ye),this.linkService.cachePageRef(Ge,Ye.ref),--$e===0&&this._pagesCapability.resolve()},Ye=>{console.error(`Unable to get page ${Ge} to initialize viewer`,Ye),--$e===0&&this._pagesCapability.resolve()});Ge%W.PAUSE_EAGER_PAGE_INIT===0&&await rt}}),this.eventBus.dispatch("pagesinit",{source:this}),H.getMetadata().then($e=>{let{info:Ge}=$e;H===this.pdfDocument&&Ge.Language&&(this.viewer.lang=Ge.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ce=>{console.error("Unable to initialize viewer",ce),this._pagesCapability.reject(ce)})}setPageLabels(H){if(this.pdfDocument){H?Array.isArray(H)&&this.pdfDocument.numPages===H.length?this._pageLabels=H:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let he=0,Pe=this._pages.length;he<Pe;he++){var ae,Ee;this._pages[he].setPageLabel((ae=(Ee=this._pageLabels)===null||Ee===void 0?void 0:Ee[he])!==null&&ae!==void 0?ae:null)}}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=d.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Y(this,X,new ne($)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,c.createPromiseCapability)(),this._onePageRenderedCapability=(0,c.createPromiseCapability)(),this._pagesCapability=(0,c.createPromiseCapability)(),this._scrollMode=d.ScrollMode.VERTICAL,this._previousScrollMode=d.ScrollMode.UNKNOWN,this._spreadMode=d.SpreadMode.NONE,Y(this,O,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),k(this,N)&&(document.removeEventListener("visibilitychange",k(this,N)),Y(this,N,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(U)}_scrollUpdate(){this.pagesCount!==0&&this.update()}_setScaleUpdatePages(H,ae){let Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this._currentScaleValue=ae.toString(),R(this,ue,pe).call(this,H)){he&&this.eventBus.dispatch("scalechanging",{source:this,scale:H,presetValue:ae});return}d.docStyle.setProperty("--scale-factor",H*c.PixelsPerInch.PDF_TO_CSS_UNITS);const Pe={scale:H};for(const Me of this._pages)Me.update(Pe);if(this._currentScale=H,!Ee){let Me=this._currentPageNumber,ce;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Me=this._location.pageNumber,ce=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Me,destArray:ce,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:H,presetValue:he?ae:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==d.SpreadMode.NONE&&this._scrollMode!==d.ScrollMode.HORIZONTAL?2:1}_setScale(H){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ee=parseFloat(H);if(Ee>0)this._setScaleUpdatePages(Ee,H,ae,!1);else{const he=this._pages[this._currentPageNumber-1];if(!he)return;let Pe=d.SCROLLBAR_PADDING,Me=d.VERTICAL_PADDING;this.isInPresentationMode?Pe=Me=4:this.removePageBorders?Pe=Me=0:this._scrollMode===d.ScrollMode.HORIZONTAL&&([Pe,Me]=[Me,Pe]);const ce=(this.container.clientWidth-Pe)/he.width*he.scale/this._pageWidthScaleFactor,re=(this.container.clientHeight-Me)/he.height*he.scale;switch(H){case"page-actual":Ee=1;break;case"page-width":Ee=ce;break;case"page-height":Ee=re;break;case"page-fit":Ee=Math.min(ce,re);break;case"auto":const oe=(0,d.isPortraitOrientation)(he)?ce:Math.min(re,ce);Ee=Math.min(d.MAX_AUTO_SCALE,oe);break;default:console.error(`_setScale: "${H}" is an unknown zoom value.`);return}this._setScaleUpdatePages(Ee,H,ae,!0)}}pageLabelToPageNumber(H){if(!this._pageLabels)return null;const ae=this._pageLabels.indexOf(H);return ae<0?null:ae+1}scrollPageIntoView(H){let{pageNumber:ae,destArray:Ee=null,allowNegativeOffset:he=!1,ignoreDestinationZoom:Pe=!1}=H;if(!this.pdfDocument)return;const Me=Number.isInteger(ae)&&this._pages[ae-1];if(!Me){console.error(`scrollPageIntoView: "${ae}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!Ee){this._setCurrentPageNumber(ae,!0);return}let ce=0,re=0,oe=0,Ae=0,_e,we;const de=Me.rotation%180!==0,ie=(de?Me.height:Me.width)/Me.scale/c.PixelsPerInch.PDF_TO_CSS_UNITS,Se=(de?Me.width:Me.height)/Me.scale/c.PixelsPerInch.PDF_TO_CSS_UNITS;let Re=0;switch(Ee[1].name){case"XYZ":ce=Ee[2],re=Ee[3],Re=Ee[4],ce=ce!==null?ce:0,re=re!==null?re:Se;break;case"Fit":case"FitB":Re="page-fit";break;case"FitH":case"FitBH":re=Ee[2],Re="page-width",re===null&&this._location?(ce=this._location.left,re=this._location.top):(typeof re!="number"||re<0)&&(re=Se);break;case"FitV":case"FitBV":ce=Ee[2],oe=ie,Ae=Se,Re="page-height";break;case"FitR":ce=Ee[2],re=Ee[3],oe=Ee[4]-ce,Ae=Ee[5]-re;const ze=this.removePageBorders?0:d.SCROLLBAR_PADDING,$e=this.removePageBorders?0:d.VERTICAL_PADDING;_e=(this.container.clientWidth-ze)/oe/c.PixelsPerInch.PDF_TO_CSS_UNITS,we=(this.container.clientHeight-$e)/Ae/c.PixelsPerInch.PDF_TO_CSS_UNITS,Re=Math.min(Math.abs(_e),Math.abs(we));break;default:console.error(`scrollPageIntoView: "${Ee[1].name}" is not a valid destination type.`);return}if(Pe||(Re&&Re!==this._currentScale?this.currentScaleValue=Re:this._currentScale===d.UNKNOWN_SCALE&&(this.currentScaleValue=d.DEFAULT_SCALE_VALUE)),Re==="page-fit"&&!Ee[4]){R(this,se,je).call(this,Me);return}const Le=[Me.viewport.convertToViewportPoint(ce,re),Me.viewport.convertToViewportPoint(ce+oe,re+Ae)];let Ue=Math.min(Le[0][0],Le[1][0]),Ve=Math.min(Le[0][1],Le[1][1]);he||(Ue=Math.max(Ue,0),Ve=Math.max(Ve,0)),R(this,se,je).call(this,Me,{left:Ue,top:Ve})}_updateLocation(H){const ae=this._currentScale,Ee=this._currentScaleValue,he=parseFloat(Ee)===ae?Math.round(ae*1e4)/100:Ee,Pe=H.id,Me=this._pages[Pe-1],ce=this.container,re=Me.getPagePoint(ce.scrollLeft-H.x,ce.scrollTop-H.y),oe=Math.round(re[0]),Ae=Math.round(re[1]);let _e=`#page=${Pe}`;this.isInPresentationMode||(_e+=`&zoom=${he},${oe},${Ae}`),this._location={pageNumber:Pe,scale:he,top:Ae,left:oe,rotation:this._pagesRotation,pdfOpenParams:_e}}update(){const H=this._getVisiblePages(),ae=H.views,Ee=ae.length;if(Ee===0)return;const he=Math.max($,2*Ee+1);k(this,X).resize(he,H.ids),this.renderingQueue.renderHighestPriority(H);const Pe=this._spreadMode===d.SpreadMode.NONE&&(this._scrollMode===d.ScrollMode.PAGE||this._scrollMode===d.ScrollMode.VERTICAL),Me=this._currentPageNumber;let ce=!1;for(const re of ae){if(re.percent<100)break;if(re.id===Me&&Pe){ce=!0;break}}this._setCurrentPageNumber(ce?Me:ae[0].id),this._updateLocation(H.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(H){return this.container.contains(H)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===d.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===d.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const H=this._scrollMode===d.ScrollMode.PAGE?k(this,O).pages:this._pages,ae=this._scrollMode===d.ScrollMode.HORIZONTAL,Ee=ae&&this._isContainerRtl;return(0,d.getVisibleElements)({scrollEl:this.container,views:H,sortByVisibility:!0,horizontal:ae,rtl:Ee})}isPageVisible(H){return this.pdfDocument?Number.isInteger(H)&&H>0&&H<=this.pagesCount?this._getVisiblePages().ids.has(H):(console.error(`isPageVisible: "${H}" is not a valid page.`),!1):!1}isPageCached(H){if(!this.pdfDocument)return!1;if(!(Number.isInteger(H)&&H>0&&H<=this.pagesCount))return console.error(`isPageCached: "${H}" is not a valid page.`),!1;const ae=this._pages[H-1];return k(this,X).has(ae)}cleanup(){for(const H of this._pages)H.renderingState!==d.RenderingStates.FINISHED&&H.reset()}_cancelRendering(){for(const H of this._pages)H.cancelRendering()}forceRendering(H){const ae=H||this._getVisiblePages(),Ee=R(this,ve,Oe).call(this,ae),he=this._spreadMode!==d.SpreadMode.NONE&&this._scrollMode!==d.ScrollMode.HORIZONTAL,Pe=this.renderingQueue.getHighestPriority(ae,this._pages,Ee,he);return R(this,ye,Ce).call(this,ae.ids),Pe?(R(this,be,Ne).call(this,Pe).then(()=>{this.renderingQueue.renderView(Pe)}),!0):!1}createTextLayerBuilder(H){let{textLayerDiv:ae,pageIndex:Ee,viewport:he,enhanceTextSelection:Pe=!1,eventBus:Me,highlighter:ce,accessibilityManager:re=null}=H;return new y.TextLayerBuilder({textLayerDiv:ae,eventBus:Me,pageIndex:Ee,viewport:he,enhanceTextSelection:this.isInPresentationMode?!1:Pe,highlighter:ce,accessibilityManager:re})}createTextHighlighter(H){let{pageIndex:ae,eventBus:Ee}=H;return new g.TextHighlighter({eventBus:Ee,pageIndex:ae,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(H){var ae,Ee,he,Pe;let{pageDiv:Me,pdfPage:ce,annotationStorage:re=(ae=this.pdfDocument)===null||ae===void 0?void 0:ae.annotationStorage,imageResourcesPath:oe="",renderForms:Ae=!0,l10n:_e=v.NullL10n,enableScripting:we=this.enableScripting,hasJSActionsPromise:de=(Ee=this.pdfDocument)===null||Ee===void 0?void 0:Ee.hasJSActions(),mouseState:ie=(he=this._scriptingManager)===null||he===void 0?void 0:he.mouseState,fieldObjectsPromise:Se=(Pe=this.pdfDocument)===null||Pe===void 0?void 0:Pe.getFieldObjects(),annotationCanvasMap:Re=null,accessibilityManager:Le=null}=H;return new m.AnnotationLayerBuilder({pageDiv:Me,pdfPage:ce,annotationStorage:re,imageResourcesPath:oe,renderForms:Ae,linkService:this.linkService,downloadManager:this.downloadManager,l10n:_e,enableScripting:we,hasJSActionsPromise:de,mouseState:ie,fieldObjectsPromise:Se,annotationCanvasMap:Re,accessibilityManager:Le})}createAnnotationEditorLayerBuilder(H){var ae;let{uiManager:Ee=k(this,M),pageDiv:he,pdfPage:Pe,accessibilityManager:Me=null,l10n:ce,annotationStorage:re=(ae=this.pdfDocument)===null||ae===void 0?void 0:ae.annotationStorage}=H;return new T.AnnotationEditorLayerBuilder({uiManager:Ee,pageDiv:he,pdfPage:Pe,annotationStorage:re,accessibilityManager:Me,l10n:ce})}createXfaLayerBuilder(H){var ae;let{pageDiv:Ee,pdfPage:he,annotationStorage:Pe=(ae=this.pdfDocument)===null||ae===void 0?void 0:ae.annotationStorage}=H;return new b.XfaLayerBuilder({pageDiv:Ee,pdfPage:he,annotationStorage:Pe,linkService:this.linkService})}createStructTreeLayerBuilder(H){let{pdfPage:ae}=H;return new L.StructTreeLayerBuilder({pdfPage:ae})}get hasEqualPageSizes(){const H=this._pages[0];for(let ae=1,Ee=this._pages.length;ae<Ee;++ae){const he=this._pages[ae];if(he.width!==H.width||he.height!==H.height)return!1}return!0}getPagesOverview(){return this._pages.map(H=>{const ae=H.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,d.isPortraitOrientation)(ae)?{width:ae.width,height:ae.height,rotation:ae.rotation}:{width:ae.height,height:ae.width,rotation:(ae.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(H){if(!(H instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${H}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=H;const ae={optionalContentConfigPromise:H};for(const Ee of this._pages)Ee.update(ae);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:H})}get scrollMode(){return this._scrollMode}set scrollMode(H){if(this._scrollMode!==H){if(!(0,d.isValidScrollMode)(H))throw new Error(`Invalid scroll mode: ${H}`);this.pagesCount>W.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=H,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:H}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const ae=this._scrollMode,Ee=this.viewer;Ee.classList.toggle("scrollHorizontal",ae===d.ScrollMode.HORIZONTAL),Ee.classList.toggle("scrollWrapped",ae===d.ScrollMode.WRAPPED),!(!this.pdfDocument||!H)&&(ae===d.ScrollMode.PAGE?R(this,J,Fe).call(this):this._previousScrollMode===d.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(H,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(H){if(this._spreadMode!==H){if(!(0,d.isValidSpreadMode)(H))throw new Error(`Invalid spread mode: ${H}`);this._spreadMode=H,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:H}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.pdfDocument)return;const ae=this.viewer,Ee=this._pages;if(this._scrollMode===d.ScrollMode.PAGE)R(this,J,Fe).call(this);else if(ae.textContent="",this._spreadMode===d.SpreadMode.NONE)for(const he of this._pages)ae.append(he.div);else{const he=this._spreadMode-1;let Pe=null;for(let Me=0,ce=Ee.length;Me<ce;++Me)Pe===null?(Pe=document.createElement("div"),Pe.className="spread",ae.append(Pe)):Me%2===he&&(Pe=Pe.cloneNode(!1),ae.append(Pe)),Pe.append(Ee[Me].div)}H&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(H,!0),this.update())}_getPageAdvance(H){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(this._scrollMode){case d.ScrollMode.WRAPPED:{const{views:Ee}=this._getVisiblePages(),he=new Map;for(const{id:Pe,y:Me,percent:ce,widthPercent:re}of Ee){if(ce===0||re<100)continue;let oe=he.get(Me);oe||he.set(Me,oe||(oe=[])),oe.push(Pe)}for(const Pe of he.values()){const Me=Pe.indexOf(H);if(Me===-1)continue;const ce=Pe.length;if(ce===1)break;if(ae)for(let re=Me-1,oe=0;re>=oe;re--){const Ae=Pe[re],_e=Pe[re+1]-1;if(Ae<_e)return H-_e}else for(let re=Me+1,oe=ce;re<oe;re++){const Ae=Pe[re],_e=Pe[re-1]+1;if(Ae>_e)return _e-H}if(ae){const re=Pe[0];if(re<H)return H-re+1}else{const re=Pe[ce-1];if(re>H)return re-H+1}break}break}case d.ScrollMode.HORIZONTAL:break;case d.ScrollMode.PAGE:case d.ScrollMode.VERTICAL:{if(this._spreadMode===d.SpreadMode.NONE)break;const Ee=this._spreadMode-1;if(ae&&H%2!==Ee)break;if(!ae&&H%2===Ee)break;const{views:he}=this._getVisiblePages(),Pe=ae?H-1:H+1;for(const{id:Me,percent:ce,widthPercent:re}of he)if(Me===Pe){if(ce>0&&re===100)return 2;break}break}}return 1}nextPage(){const H=this._currentPageNumber,ae=this.pagesCount;if(H>=ae)return!1;const Ee=this._getPageAdvance(H,!1)||1;return this.currentPageNumber=Math.min(H+Ee,ae),!0}previousPage(){const H=this._currentPageNumber;if(H<=1)return!1;const ae=this._getPageAdvance(H,!0)||1;return this.currentPageNumber=Math.max(H-ae,1),!0}increaseScale(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,ae=this._currentScale;do ae=(ae*d.DEFAULT_SCALE_DELTA).toFixed(2),ae=Math.ceil(ae*10)/10,ae=Math.min(d.MAX_SCALE,ae);while(--H>0&&ae<d.MAX_SCALE);this.currentScaleValue=ae}decreaseScale(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,ae=this._currentScale;do ae=(ae/d.DEFAULT_SCALE_DELTA).toFixed(2),ae=Math.floor(ae*10)/10,ae=Math.max(d.MIN_SCALE,ae);while(--H>0&&ae>d.MIN_SCALE);this.currentScaleValue=ae}updateContainerHeightCss(){const H=this.container.clientHeight;H!==k(this,E)&&(Y(this,E,H),d.docStyle.setProperty("--viewer-container-height",`${H}px`))}get annotationEditorMode(){return k(this,M)?k(this,C):c.AnnotationEditorType.DISABLE}set annotationEditorMode(H){if(!k(this,M))throw new Error("The AnnotationEditor is not enabled.");if(k(this,C)!==H){if(!I(H))throw new Error(`Invalid AnnotationEditor mode: ${H}`);this.pdfDocument&&(Y(this,C,H),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:H}),k(this,M).updateMode(H))}}set annotationEditorParams(H){let{type:ae,value:Ee}=H;if(!k(this,M))throw new Error("The AnnotationEditor is not enabled.");k(this,M).updateParams(ae,Ee)}refresh(){if(!this.pdfDocument)return;const H={};for(const ae of this._pages)ae.update(H);this.update()}}o.BaseViewer=xe;function De(te){const H={annotationEditorMode:k(this,C),annotationMode:k(this,G),textLayerMode:this.textLayerMode};return te&&(te.includes(c.PermissionFlag.COPY)||this.viewer.classList.add(U),te.includes(c.PermissionFlag.MODIFY_CONTENTS)||(H.annotationEditorMode=c.AnnotationEditorType.DISABLE),!te.includes(c.PermissionFlag.MODIFY_ANNOTATIONS)&&!te.includes(c.PermissionFlag.FILL_INTERACTIVE_FORMS)&&k(this,G)===c.AnnotationMode.ENABLE_FORMS&&(H.annotationMode=c.AnnotationMode.ENABLE)),H}function Ie(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const te=new Promise(H=>{Y(this,N,()=>{document.visibilityState==="hidden"&&(H(),document.removeEventListener("visibilitychange",k(this,N)),Y(this,N,null))}),document.addEventListener("visibilitychange",k(this,N))});return Promise.race([this._onePageRenderedCapability.promise,te])}function Fe(){if(this._scrollMode!==d.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const te=this._currentPageNumber,H=k(this,O),ae=this.viewer;if(ae.textContent="",H.pages.length=0,this._spreadMode===d.SpreadMode.NONE&&!this.isInPresentationMode){const Ee=this._pages[te-1];ae.append(Ee.div),H.pages.push(Ee)}else{const Ee=new Set,he=this._spreadMode-1;he===-1?Ee.add(te-1):te%2!==he?(Ee.add(te-1),Ee.add(te)):(Ee.add(te-2),Ee.add(te-1));const Pe=document.createElement("div");if(Pe.className="spread",this.isInPresentationMode){const Me=document.createElement("div");Me.className="dummyPage",Pe.append(Me)}for(const Me of Ee){const ce=this._pages[Me];ce&&(Pe.append(ce.div),H.pages.push(ce))}ae.append(Pe)}H.scrollDown=te>=H.previousPageNumber,H.previousPageNumber=te}function je(te){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const{div:ae,id:Ee}=te;if(this._scrollMode===d.ScrollMode.PAGE&&(this._setCurrentPageNumber(Ee),R(this,J,Fe).call(this),this.update()),!H&&!this.isInPresentationMode){const he=ae.offsetLeft+ae.clientLeft,Pe=he+ae.clientWidth,{scrollLeft:Me,clientWidth:ce}=this.container;(this._scrollMode===d.ScrollMode.HORIZONTAL||he<Me||Pe>Me+ce)&&(H={left:0,top:0})}(0,d.scrollIntoView)(ae,H)}function pe(te){return te===this._currentScale||Math.abs(te-this._currentScale)<1e-15}function ke(){const te=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),R(this,se,je).call(this,te)}async function Ne(te){if(te.pdfPage)return te.pdfPage;try{var H,ae;const Ee=await this.pdfDocument.getPage(te.id);return te.pdfPage||te.setPdfPage(Ee),(H=(ae=this.linkService)._cachedPageNumber)!==null&&H!==void 0&&H.call(ae,Ee.ref)||this.linkService.cachePageRef(te.id,Ee.ref),Ee}catch(Ee){return console.error("Unable to get page for page view",Ee),null}}function Oe(te){var H,ae;if(((H=te.first)===null||H===void 0?void 0:H.id)===1)return!0;if(((ae=te.last)===null||ae===void 0?void 0:ae.id)===this.pagesCount)return!1;switch(this._scrollMode){case d.ScrollMode.PAGE:return k(this,O).scrollDown;case d.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Ce(te){for(const H of te){const ae=this._pages[H-1];ae==null||ae.toggleLoadingIconSpinner(!0)}for(const H of k(this,X))te.has(H.id)||H.toggleLoadingIconSpinner(!1)}},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFPageView=void 0;var c=_(3),d=_(7),T=_(14),m=_(4),v=_(15);function S(R,k,F){w(R,k),k.set(R,F)}function w(R,k){if(k.has(R))throw new TypeError("Cannot initialize the same private elements twice on an object")}function x(R,k){var F=y(R,k,"get");return L(R,F)}function L(R,k){return k.get?k.get.call(R):k.value}function g(R,k,F){var Y=y(R,k,"set");return b(R,Y,F),F}function y(R,k,F){if(!k.has(R))throw new TypeError("attempted to "+F+" private field on non-instance");return k.get(R)}function b(R,k,F){if(k.set)k.set.call(R,F);else{if(!k.writable)throw new TypeError("attempted to set read only private field");k.value=F}}const l=T.compatibilityParams.maxCanvasPixels||16777216;var h=new WeakMap,A=new WeakMap;class P{constructor(k){var F,Y,B,j;S(this,h,{writable:!0,value:c.AnnotationMode.ENABLE_FORMS}),S(this,A,{writable:!0,value:{initialOptionalContent:!0,regularAnnotations:!0}});const $=k.container,U=k.defaultViewport;this.id=k.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=k.scale||d.DEFAULT_SCALE,this.viewport=U,this.pdfPageRotate=U.rotation,this._optionalContentConfigPromise=k.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=(F=k.textLayerMode)!==null&&F!==void 0?F:d.TextLayerMode.ENABLE,g(this,h,(Y=k.annotationMode)!==null&&Y!==void 0?Y:c.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=k.imageResourcesPath||"",this.useOnlyCssZoom=k.useOnlyCssZoom||!1,this.maxCanvasPixels=k.maxCanvasPixels||l,this.pageColors=k.pageColors||null,this.eventBus=k.eventBus,this.renderingQueue=k.renderingQueue,this.textLayerFactory=k.textLayerFactory,this.annotationLayerFactory=k.annotationLayerFactory,this.annotationEditorLayerFactory=k.annotationEditorLayerFactory,this.xfaLayerFactory=k.xfaLayerFactory,this.textHighlighter=(B=k.textHighlighterFactory)===null||B===void 0?void 0:B.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=k.structTreeLayerFactory,this.renderer=k.renderer||d.RendererType.CANVAS,this.l10n=k.l10n||m.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=d.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!((j=this.renderingQueue)!==null&&j!==void 0&&j.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const W=document.createElement("div");if(W.className="page",W.style.width=Math.floor(this.viewport.width)+"px",W.style.height=Math.floor(this.viewport.height)+"px",W.setAttribute("data-page-number",this.id),W.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(I=>{W.setAttribute("aria-label",I)}),this.div=W,$==null||$.append(W),this._isStandalone){const{optionalContentConfigPromise:I}=k;I&&I.then(z=>{I===this._optionalContentConfigPromise&&(x(this,A).initialOptionalContent=z.hasInitialVisibility)})}}setPdfPage(k){this.pdfPage=k,this.pdfPageRotate=k.rotate;const F=(this.rotation+this.pdfPageRotate)%360;this.viewport=k.getViewport({scale:this.scale*c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:F}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}async _renderAnnotationLayer(){let k=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(F){console.error(`_renderAnnotationLayer: "${F}".`),k=F}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:k})}}async _renderAnnotationEditorLayer(){let k=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(F){console.error(`_renderAnnotationEditorLayer: "${F}".`),k=F}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:k})}}async _renderXfaLayer(){let k=null;try{const F=await this.xfaLayer.render(this.viewport,"display");this.textHighlighter&&this._buildXfaTextContentItems(F.textDivs)}catch(F){console.error(`_renderXfaLayer: "${F}".`),k=F}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:k})}}async _buildXfaTextContentItems(k){const F=await this.pdfPage.getTextContent(),Y=[];for(const B of F.items)Y.push(B.str);this.textHighlighter.setTextMapping(k,Y),this.textHighlighter.enable()}_resetZoomLayer(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.zoomLayer)return;const F=this.zoomLayer.firstChild;this.paintedViewportMap.delete(F),F.width=0,F.height=0,k&&this.zoomLayer.remove(),this.zoomLayer=null}reset(){var k,F,Y;let{keepZoomLayer:B=!1,keepAnnotationLayer:j=!1,keepAnnotationEditorLayer:$=!1,keepXfaLayer:U=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.cancelRendering({keepAnnotationLayer:j,keepAnnotationEditorLayer:$,keepXfaLayer:U}),this.renderingState=d.RenderingStates.INITIAL;const W=this.div;W.style.width=Math.floor(this.viewport.width)+"px",W.style.height=Math.floor(this.viewport.height)+"px";const I=W.childNodes,z=B&&this.zoomLayer||null,ee=j&&((k=this.annotationLayer)===null||k===void 0?void 0:k.div)||null,Q=$&&((F=this.annotationEditorLayer)===null||F===void 0?void 0:F.div)||null,ne=U&&((Y=this.xfaLayer)===null||Y===void 0?void 0:Y.div)||null;for(let X=I.length-1;X>=0;X--){const C=I[X];switch(C){case z:case ee:case Q:case ne:continue}C.remove()}if(W.removeAttribute("data-loaded"),ee&&this.annotationLayer.hide(),Q)this.annotationEditorLayer.hide();else{var fe;(fe=this.annotationEditorLayer)===null||fe===void 0||fe.destroy()}ne&&this.xfaLayer.hide(),z||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(X=>{var C;(C=this.loadingIconDiv)===null||C===void 0||C.setAttribute("aria-label",X)}),W.append(this.loadingIconDiv)}update(k){let{scale:F=0,rotation:Y=null,optionalContentConfigPromise:B=null}=k;this.scale=F||this.scale,typeof Y=="number"&&(this.rotation=Y),B instanceof Promise&&(this._optionalContentConfigPromise=B,B.then(U=>{B===this._optionalContentConfigPromise&&(x(this,A).initialOptionalContent=U.hasInitialVisibility)}));const j=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:j}),this._isStandalone&&d.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}let $=!1;if(this.canvas&&this.maxCanvasPixels>0){const U=this.outputScale;(Math.floor(this.viewport.width)*U.sx|0)*(Math.floor(this.viewport.height)*U.sy|0)>this.maxCanvasPixels&&($=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&$){this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering(){let{keepAnnotationLayer:k=!1,keepAnnotationEditorLayer:F=!1,keepXfaLayer:Y=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!k||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!F||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!Y||!this.xfaLayer.div)){var B;this.xfaLayer.cancel(),this.xfaLayer=null,(B=this.textHighlighter)===null||B===void 0||B.disable()}this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform(k){let{target:F,redrawAnnotationLayer:Y=!1,redrawAnnotationEditorLayer:B=!1,redrawXfaLayer:j=!1}=k;const $=this.viewport.width,U=this.viewport.height,W=this.div;F.style.width=F.parentNode.style.width=W.style.width=Math.floor($)+"px",F.style.height=F.parentNode.style.height=W.style.height=Math.floor(U)+"px";const I=this.viewport.rotation-this.paintedViewportMap.get(F).rotation,z=Math.abs(I);let ee=1,Q=1;if((z===90||z===270)&&(ee=U/$,Q=$/U),F.style.transform=`rotate(${I}deg) scale(${ee}, ${Q})`,this.textLayer){const ne=this.textLayer.viewport,fe=this.viewport.rotation-ne.rotation,X=Math.abs(fe);let C=$/ne.width;(X===90||X===270)&&(C=$/ne.height);const M=this.textLayer.textLayerDiv;let G,K;switch(X){case 0:G=K=0;break;case 90:G=0,K="-"+M.style.height;break;case 180:G="-"+M.style.width,K="-"+M.style.height;break;case 270:G="-"+M.style.width,K=0;break;default:console.error("Bad rotation value.");break}M.style.transform=`rotate(${X}deg) scale(${C}) translate(${G}, ${K})`,M.style.transformOrigin="0% 0%"}Y&&this.annotationLayer&&this._renderAnnotationLayer(),B&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),j&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(k,F){return this.viewport.convertToPdfPoint(k,F)}toggleLoadingIconSpinner(){var k;let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;(k=this.loadingIconDiv)===null||k===void 0||k.classList.toggle("notVisible",!F)}draw(){var k,F,Y,B=this;this.renderingState!==d.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:j,pdfPage:$}=this;if(!$)return this.renderingState=d.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=d.RenderingStates.RUNNING;const U=document.createElement("div");U.style.width=j.style.width,U.style.height=j.style.height,U.classList.add("canvasWrapper");const W=((k=this.annotationLayer)===null||k===void 0?void 0:k.div)||((F=this.annotationEditorLayer)===null||F===void 0?void 0:F.div);W?W.before(U):j.append(U);let I=null;if(this.textLayerMode!==d.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||(this._accessibilityManager=new v.TextAccessibilityManager);const fe=document.createElement("div");fe.className="textLayer",fe.style.width=U.style.width,fe.style.height=U.style.height,W?W.before(fe):j.append(fe),I=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:fe,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===d.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=I,x(this,h)!==c.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:j,pdfPage:$,imageResourcesPath:this.imageResourcesPath,renderForms:x(this,h)===c.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}))),(Y=this.xfaLayer)!==null&&Y!==void 0&&Y.div&&j.append(this.xfaLayer.div);let z=null;this.renderingQueue&&(z=fe=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=d.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=d.RenderingStates.RUNNING,fe()};return}fe()});const ee=async function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(Q===B.paintTask&&(B.paintTask=null),fe instanceof c.RenderingCancelledException){B._renderError=null;return}if(B._renderError=fe,B.renderingState=d.RenderingStates.FINISHED,B.loadingIconDiv&&(B.loadingIconDiv.remove(),delete B.loadingIconDiv),B._resetZoomLayer(!0),x(B,A).regularAnnotations=!Q.separateAnnots,B.eventBus.dispatch("pagerendered",{source:B,pageNumber:B.id,cssTransform:!1,timestamp:performance.now(),error:B._renderError}),fe)throw fe},Q=this.renderer===d.RendererType.SVG?this.paintOnSvg(U):this.paintOnCanvas(U);Q.onRenderContinue=z,this.paintTask=Q;const ne=Q.promise.then(()=>ee(null).then(()=>{if(I){const fe=$.streamTextContent({includeMarkedContent:!0});I.setTextContentStream(fe),I.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||(this.annotationEditorLayer=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:j,pdfPage:$,l10n:this.l10n,accessibilityManager:this._accessibilityManager})),this._renderAnnotationEditorLayer())})}),function(fe){return ee(fe)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:j,pdfPage:$})),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=fe=>{fe.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(X=>{if(!X||!this.canvas)return;const C=this.structTreeLayer.render(X);C.classList.add("structTree"),this.canvas.append(C)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:$})),j.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),ne}paintOnCanvas(k){const F=(0,c.createPromiseCapability)(),Y={promise:F.promise,onRenderContinue(X){X()},cancel(){fe.cancel()},get separateAnnots(){return fe.separateAnnots}},B=this.viewport,j=document.createElement("canvas");j.setAttribute("role","presentation"),j.hidden=!0;let $=!0;const U=function(){$&&(j.hidden=!1,$=!1)};k.append(j),this.canvas=j;const W=j.getContext("2d",{alpha:!1}),I=this.outputScale=new d.OutputScale;if(this.useOnlyCssZoom){const X=B.clone({scale:c.PixelsPerInch.PDF_TO_CSS_UNITS});I.sx*=X.width/B.width,I.sy*=X.height/B.height}if(this.maxCanvasPixels>0){const X=B.width*B.height,C=Math.sqrt(this.maxCanvasPixels/X);I.sx>C||I.sy>C?(I.sx=C,I.sy=C,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const z=(0,d.approximateFraction)(I.sx),ee=(0,d.approximateFraction)(I.sy);j.width=(0,d.roundToDivide)(B.width*I.sx,z[0]),j.height=(0,d.roundToDivide)(B.height*I.sy,ee[0]),j.style.width=(0,d.roundToDivide)(B.width,z[1])+"px",j.style.height=(0,d.roundToDivide)(B.height,ee[1])+"px",this.paintedViewportMap.set(j,B);const Q=I.scaled?[I.sx,0,0,I.sy,0,0]:null,ne={canvasContext:W,transform:Q,viewport:this.viewport,annotationMode:x(this,h),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},fe=this.pdfPage.render(ne);return fe.onContinue=function(X){U(),Y.onRenderContinue?Y.onRenderContinue(X):X()},fe.promise.then(function(){U(),F.resolve()},function(X){U(),F.reject(X)}),Y}paintOnSvg(k){let F=!1;const Y=()=>{if(F)throw new c.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},B=this.pdfPage,j=this.viewport.clone({scale:c.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:B.getOperatorList({annotationMode:x(this,h)}).then(U=>(Y(),new c.SVGGraphics(B.commonObjs,B.objs).getSVG(U,j).then(I=>{Y(),this.svg=I,this.paintedViewportMap.set(I,j),I.style.width=k.style.width,I.style.height=k.style.height,this.renderingState=d.RenderingStates.FINISHED,k.append(I)}))),onRenderContinue(U){U()},cancel(){F=!0},get separateAnnots(){return!1}}}setPageLabel(k){this.pageLabel=typeof k=="string"?k:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:k,regularAnnotations:F}=x(this,A);return k&&F?this.canvas:null}}o.PDFPageView=P},(p,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.compatibilityParams=o.OptionKind=o.AppOptions=void 0;const _=Object.create(null);o.compatibilityParams=_;{const v=navigator.userAgent||"",S=navigator.platform||"",w=navigator.maxTouchPoints||1,x=/Android/.test(v),L=/\b(iPad|iPhone|iPod)(?=;)/.test(v)||S==="MacIntel"&&w>1;(function(){(L||x)&&(_.maxCanvasPixels=5242880)})()}const c={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};o.OptionKind=c;const d={annotationEditorMode:{value:-1,kind:c.VIEWER+c.PREFERENCE},annotationMode:{value:2,kind:c.VIEWER+c.PREFERENCE},cursorToolOnLoad:{value:0,kind:c.VIEWER+c.PREFERENCE},defaultZoomValue:{value:"",kind:c.VIEWER+c.PREFERENCE},disableHistory:{value:!1,kind:c.VIEWER},disablePageLabels:{value:!1,kind:c.VIEWER+c.PREFERENCE},enablePermissions:{value:!1,kind:c.VIEWER+c.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:c.VIEWER+c.PREFERENCE},enableScripting:{value:!0,kind:c.VIEWER+c.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:c.VIEWER},externalLinkTarget:{value:0,kind:c.VIEWER+c.PREFERENCE},historyUpdateUrl:{value:!1,kind:c.VIEWER+c.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:c.VIEWER+c.PREFERENCE},imageResourcesPath:{value:"./images/",kind:c.VIEWER},maxCanvasPixels:{value:16777216,kind:c.VIEWER},forcePageColors:{value:!1,kind:c.VIEWER+c.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:c.VIEWER+c.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:c.VIEWER+c.PREFERENCE},pdfBugEnabled:{value:!1,kind:c.VIEWER+c.PREFERENCE},printResolution:{value:150,kind:c.VIEWER},sidebarViewOnLoad:{value:-1,kind:c.VIEWER+c.PREFERENCE},scrollModeOnLoad:{value:-1,kind:c.VIEWER+c.PREFERENCE},spreadModeOnLoad:{value:-1,kind:c.VIEWER+c.PREFERENCE},textLayerMode:{value:1,kind:c.VIEWER+c.PREFERENCE},useOnlyCssZoom:{value:!1,kind:c.VIEWER+c.PREFERENCE},viewerCssTheme:{value:0,kind:c.VIEWER+c.PREFERENCE},viewOnLoad:{value:0,kind:c.VIEWER+c.PREFERENCE},cMapPacked:{value:!0,kind:c.API},cMapUrl:{value:"../web/cmaps/",kind:c.API},disableAutoFetch:{value:!1,kind:c.API+c.PREFERENCE},disableFontFace:{value:!1,kind:c.API+c.PREFERENCE},disableRange:{value:!1,kind:c.API+c.PREFERENCE},disableStream:{value:!1,kind:c.API+c.PREFERENCE},docBaseUrl:{value:"",kind:c.API},enableXfa:{value:!0,kind:c.API+c.PREFERENCE},fontExtraProperties:{value:!1,kind:c.API},isEvalSupported:{value:!0,kind:c.API},maxImageSize:{value:-1,kind:c.API},pdfBug:{value:!1,kind:c.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:c.API},verbosity:{value:1,kind:c.API},workerPort:{value:null,kind:c.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:c.WORKER}};d.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:c.VIEWER},d.disablePreferences={value:!1,kind:c.VIEWER},d.locale={value:navigator.language||"en-US",kind:c.VIEWER},d.renderer={value:"canvas",kind:c.VIEWER+c.PREFERENCE},d.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:c.VIEWER};const T=Object.create(null);class m{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(S){const w=T[S];if(w!==void 0)return w;const x=d[S];if(x!==void 0){var L;return(L=_[S])!==null&&L!==void 0?L:x.value}}static getAll(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const w=Object.create(null);for(const L in d){var x;const g=d[L];if(S){if(!(S&g.kind))continue;if(S===c.PREFERENCE){const b=g.value,l=typeof b;if(l==="boolean"||l==="string"||l==="number"&&Number.isInteger(b)){w[L]=b;continue}throw new Error(`Invalid type for preference: ${L}`)}}const y=T[L];w[L]=y!==void 0?y:(x=_[L])!==null&&x!==void 0?x:g.value}return w}static set(S,w){T[S]=w}static setAll(S){for(const w in S)T[w]=S[w]}static remove(S){delete T[S]}static _hasUserOptions(){return Object.keys(T).length>0}}o.AppOptions=m},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextAccessibilityManager=void 0;var c=_(7);function d(B,j){m(B,j),j.add(B)}function T(B,j,$){m(B,j),j.set(B,$)}function m(B,j){if(j.has(B))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(B,j,$){if(!j.has(B))throw new TypeError("attempted to get private field on non-instance");return $}function S(B,j,$){return w(B,j),$}function w(B,j){if(B!==j)throw new TypeError("Private static access of wrong provenance")}function x(B,j){var $=y(B,j,"get");return L(B,$)}function L(B,j){return j.get?j.get.call(B):j.value}function g(B,j,$){var U=y(B,j,"set");return b(B,U,$),$}function y(B,j,$){if(!j.has(B))throw new TypeError("attempted to "+$+" private field on non-instance");return j.get(B)}function b(B,j,$){if(j.set)j.set.call(B,$);else{if(!j.writable)throw new TypeError("attempted to set read only private field");j.value=$}}var l=new WeakMap,h=new WeakMap,A=new WeakMap,P=new WeakMap,R=new WeakSet;class k{constructor(){d(this,R),T(this,l,{writable:!0,value:!1}),T(this,h,{writable:!0,value:null}),T(this,A,{writable:!0,value:new Map}),T(this,P,{writable:!0,value:new Map})}setTextMapping(j){g(this,h,j)}enable(){if(x(this,l))throw new Error("TextAccessibilityManager is already enabled.");if(!x(this,h))throw new Error("Text divs and strings have not been set.");if(g(this,l,!0),g(this,h,x(this,h).slice()),x(this,h).sort(S(k,k,F)),x(this,A).size>0){const j=x(this,h);for(const[$,U]of x(this,A)){if(!document.getElementById($)){x(this,A).delete($);continue}v(this,R,Y).call(this,$,j[U])}}for(const[j,$]of x(this,P))this.addPointerInTextLayer(j,$);x(this,P).clear()}disable(){x(this,l)&&(x(this,P).clear(),g(this,h,null),g(this,l,!1))}removePointerInTextLayer(j){var $;if(!x(this,l)){x(this,P).delete(j);return}const U=x(this,h);if(!U||U.length===0)return;const{id:W}=j,I=x(this,A).get(W);if(I===void 0)return;const z=U[I];x(this,A).delete(W);let ee=z.getAttribute("aria-owns");($=ee)!==null&&$!==void 0&&$.includes(W)&&(ee=ee.split(" ").filter(Q=>Q!==W).join(" "),ee?z.setAttribute("aria-owns",ee):(z.removeAttribute("aria-owns"),z.setAttribute("role","presentation")))}addPointerInTextLayer(j,$){const{id:U}=j;if(!U)return;if(!x(this,l)){x(this,P).set(j,$);return}$&&this.removePointerInTextLayer(j);const W=x(this,h);if(!W||W.length===0)return;const I=(0,c.binarySearchFirstItem)(W,ee=>S(k,k,F).call(k,j,ee)<0),z=Math.max(0,I-1);v(this,R,Y).call(this,U,W[z]),x(this,A).set(U,z)}moveElementInDOM(j,$,U,W){if(this.addPointerInTextLayer(U,W),!j.hasChildNodes()){j.append($);return}const I=Array.from(j.childNodes).filter(Q=>Q!==$);if(I.length===0)return;const z=U||$,ee=(0,c.binarySearchFirstItem)(I,Q=>S(k,k,F).call(k,z,Q)<0);ee===0?I[0].before($):I[ee-1].after($)}}o.TextAccessibilityManager=k;function F(B,j){const $=B.getBoundingClientRect(),U=j.getBoundingClientRect();if($.width===0&&$.height===0)return 1;if(U.width===0&&U.height===0)return-1;const W=$.y,I=$.y+$.height,z=$.y+$.height/2,ee=U.y,Q=U.y+U.height,ne=U.y+U.height/2;if(z<=ee&&ne>=I)return-1;if(ne<=W&&z>=Q)return 1;const fe=$.x+$.width/2,X=U.x+U.width/2;return fe-X}function Y(B,j){const $=j.getAttribute("aria-owns");$!=null&&$.includes(B)||j.setAttribute("aria-owns",$?`${$} ${B}`:B),j.removeAttribute("role")}},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFRenderingQueue=void 0;var c=_(3),d=_(7);const T=3e4;class m{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(S){this.pdfViewer=S}setThumbnailViewer(S){this.pdfThumbnailViewer=S}isHighestPriority(S){return this.highestPriorityPage===S.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(S){var w;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(S)&&(this.isThumbnailViewEnabled&&(w=this.pdfThumbnailViewer)!==null&&w!==void 0&&w.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),T)))}getHighestPriority(S,w,x){let L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const g=S.views,y=g.length;if(y===0)return null;for(let P=0;P<y;P++){const R=g[P].view;if(!this.isViewFinished(R))return R}const b=S.first.id,l=S.last.id;if(l-b+1>y){const P=S.ids;for(let R=1,k=l-b;R<k;R++){const F=x?b+R:l-R;if(P.has(F))continue;const Y=w[F-1];if(!this.isViewFinished(Y))return Y}}let h=x?l:b-2,A=w[h];return A&&!this.isViewFinished(A)||L&&(h+=x?1:-1,A=w[h],A&&!this.isViewFinished(A))?A:null}isViewFinished(S){return S.renderingState===d.RenderingStates.FINISHED}renderView(S){switch(S.renderingState){case d.RenderingStates.FINISHED:return!1;case d.RenderingStates.PAUSED:this.highestPriorityPage=S.renderingId,S.resume();break;case d.RenderingStates.RUNNING:this.highestPriorityPage=S.renderingId;break;case d.RenderingStates.INITIAL:this.highestPriorityPage=S.renderingId,S.draw().finally(()=>{this.renderHighestPriority()}).catch(w=>{w instanceof c.RenderingCancelledException||console.error(`renderView: "${w}"`)});break}return!0}}o.PDFRenderingQueue=m},(p,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextHighlighter=void 0;class _{constructor(d){let{findController:T,eventBus:m,pageIndex:v}=d;this.findController=T,this.matches=[],this.eventBus=m,this.pageIdx=v,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(d,T){this.textDivs=d,this.textContentItemsStr=T}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=d=>{(d.pageIndex===this.pageIdx||d.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(d,T){if(!d)return[];const{textContentItemsStr:m}=this;let v=0,S=0;const w=m.length-1,x=[];for(let L=0,g=d.length;L<g;L++){let y=d[L];for(;v!==w&&y>=S+m[v].length;)S+=m[v].length,v++;v===m.length&&console.error("Could not find a matching mapping");const b={begin:{divIdx:v,offset:y-S}};for(y+=T[L];v!==w&&y>S+m[v].length;)S+=m[v].length,v++;b.end={divIdx:v,offset:y-S},x.push(b)}return x}_renderMatches(d){if(d.length===0)return;const{findController:T,pageIdx:m}=this,{textContentItemsStr:v,textDivs:S}=this,w=m===T.selected.pageIdx,x=T.selected.matchIdx,L=T.state.highlightAll;let g=null;const y={divIdx:-1,offset:void 0};function b(P,R){const k=P.divIdx;return S[k].textContent="",l(k,0,P.offset,R)}function l(P,R,k,F){let Y=S[P];if(Y.nodeType===Node.TEXT_NODE){const $=document.createElement("span");Y.before($),$.append(Y),S[P]=$,Y=$}const B=v[P].substring(R,k),j=document.createTextNode(B);if(F){const $=document.createElement("span");return $.className=`${F} appended`,$.append(j),Y.append($),F.includes("selected")?$.offsetLeft:0}return Y.append(j),0}let h=x,A=h+1;if(L)h=0,A=d.length;else if(!w)return;for(let P=h;P<A;P++){const R=d[P],k=R.begin,F=R.end,Y=w&&P===x,B=Y?" selected":"";let j=0;if(!g||k.divIdx!==g.divIdx?(g!==null&&l(g.divIdx,g.offset,y.offset),b(k)):l(g.divIdx,g.offset,k.offset),k.divIdx===F.divIdx)j=l(k.divIdx,k.offset,F.offset,"highlight"+B);else{j=l(k.divIdx,k.offset,y.offset,"highlight begin"+B);for(let $=k.divIdx+1,U=F.divIdx;$<U;$++)S[$].className="highlight middle"+B;b(F,"highlight end"+B)}g=F,Y&&T.scrollMatchIntoView({element:S[k.divIdx],selectedLeft:j,pageIndex:m,matchIndex:x})}g&&l(g.divIdx,g.offset,y.offset)}_updateMatches(){if(!this.enabled)return;const{findController:d,matches:T,pageIdx:m}=this,{textContentItemsStr:v,textDivs:S}=this;let w=-1;for(let g=0,y=T.length;g<y;g++){const b=T[g],l=Math.max(w,b.begin.divIdx);for(let h=l,A=b.end.divIdx;h<=A;h++){const P=S[h];P.textContent=v[h],P.className=""}w=b.end.divIdx+1}if(!(d!=null&&d.highlightMatches))return;const x=d.pageMatches[m]||null,L=d.pageMatchesLength[m]||null;this.matches=this._convertMatches(x,L),this._renderMatches(this.matches)}}o.TextHighlighter=_},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DownloadManager=void 0;var c=_(3);function d(m,v){const S=document.createElement("a");if(!S.click)throw new Error('DownloadManager: "a.click()" is not supported.');S.href=m,S.target="_parent","download"in S&&(S.download=v),(document.body||document.documentElement).append(S),S.click(),S.remove()}class T{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(v,S){if(!(0,c.createValidAbsoluteUrl)(v,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${v}`);return}d(v+"#pdfjs.action=download",S)}downloadData(v,S,w){const x=URL.createObjectURL(new Blob([v],{type:w}));d(x,S)}openOrDownloadData(v,S,w){const x=(0,c.isPdfFile)(w),L=x?"application/pdf":"";if(x){let g=this._openBlobUrls.get(v);g||(g=URL.createObjectURL(new Blob([S],{type:L})),this._openBlobUrls.set(v,g));let y;y="?file="+encodeURIComponent(g+"#"+w);try{return window.open(y),!0}catch(b){console.error(`openOrDownloadData: ${b}`),URL.revokeObjectURL(g),this._openBlobUrls.delete(v)}}return this.downloadData(S,w,L),!1}download(v,S,w){const x=URL.createObjectURL(v);d(x,w)}}o.DownloadManager=T},(p,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WaitOnType=o.EventBus=o.AutomationEventBus=void 0,o.waitOnEventOrTimeout=c;const _={EVENT:"event",TIMEOUT:"timeout"};o.WaitOnType=_;function c(m){let{target:v,name:S,delay:w=0}=m;return new Promise(function(x,L){if(typeof v!="object"||!(S&&typeof S=="string")||!(Number.isInteger(w)&&w>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function g(h){v instanceof d?v._off(S,y):v.removeEventListener(S,y),l&&clearTimeout(l),x(h)}const y=g.bind(null,_.EVENT);v instanceof d?v._on(S,y):v.addEventListener(S,y);const b=g.bind(null,_.TIMEOUT),l=setTimeout(b,w)})}class d{constructor(){this._listeners=Object.create(null)}on(v,S){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._on(v,S,{external:!0,once:w==null?void 0:w.once})}off(v,S){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._off(v,S,{external:!0,once:w==null?void 0:w.once})}dispatch(v,S){const w=this._listeners[v];if(!w||w.length===0)return;let x;for(const{listener:L,external:g,once:y}of w.slice(0)){if(y&&this._off(v,L),g){(x||(x=[])).push(L);continue}L(S)}if(x){for(const L of x)L(S);x=null}}_on(v,S){var w;let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;((w=this._listeners)[v]||(w[v]=[])).push({listener:S,external:(x==null?void 0:x.external)===!0,once:(x==null?void 0:x.once)===!0})}_off(v,S){const w=this._listeners[v];if(w){for(let x=0,L=w.length;x<L;x++)if(w[x].listener===S){w.splice(x,1);return}}}}o.EventBus=d;class T extends d{dispatch(v,S){throw new Error("Not implemented: AutomationEventBus.dispatch")}}o.AutomationEventBus=T},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GenericL10n=void 0,_(21);var c=_(4);const d=document.webL10n;class T{constructor(v){this._lang=v,this._ready=new Promise((S,w)=>{d.setLanguage((0,c.fixupLangCode)(v),()=>{S(d)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(v){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(0,c.getL10nFallback)(v,S);return(await this._ready).get(v,S,w)}async translate(v){return(await this._ready).translate(v)}}o.GenericL10n=T},()=>{document.webL10n=function(p,o,_){var c={},d="",T="textContent",m="",v={},S="loading",w=!0;function x(){return o.querySelectorAll('link[type="application/l10n"]')}function L(){var $=o.querySelector('script[type="application/l10n"]');return $?JSON.parse($.innerHTML):null}function g($){return $?$.querySelectorAll("*[data-l10n-id]"):[]}function y($){if(!$)return{};var U=$.getAttribute("data-l10n-id"),W=$.getAttribute("data-l10n-args"),I={};if(W)try{I=JSON.parse(W)}catch{console.warn("could not parse arguments for #"+U)}return{id:U,args:I}}function b($,U,W){U=U||function(ee){},W=W||function(){};var I=new XMLHttpRequest;I.open("GET",$,w),I.overrideMimeType&&I.overrideMimeType("text/plain; charset=utf-8"),I.onreadystatechange=function(){I.readyState==4&&(I.status==200||I.status===0?U(I.responseText):W())},I.onerror=W,I.ontimeout=W;try{I.send(null)}catch{W()}}function l($,U,W,I){var z=$.replace(/[^\/]*$/,"")||"./";function ee(ne){return ne.lastIndexOf("\\")<0?ne:ne.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function Q(ne,fe){var X={},C=/^\s*|\s*$/,M=/^\s*#|^\s*$/,G=/^\s*\[(.*)\]\s*$/,K=/^\s*@import\s+url\((.*)\)\s*$/i,E=/^([^=\s]*)\s*=\s*(.+)$/;function O(V,q,J){var se=V.replace(C,"").split(/[\r\n]+/),ue="*",ge=U.split("-",1)[0],be=!1,ve="";function ye(){for(;;){if(!se.length){J();return}var xe=se.shift();if(!M.test(xe)){if(q){if(ve=G.exec(xe),ve){ue=ve[1].toLowerCase(),be=ue!=="*"&&ue!==U&&ue!==ge;continue}else if(be)continue;if(ve=K.exec(xe),ve){N(z+ve[1],ye);return}}var De=xe.match(E);De&&De.length==3&&(X[De[1]]=ee(De[2]))}}}ye()}function N(V,q){b(V,function(J){O(J,!1,q)},function(){console.warn(V+" not found."),q()})}O(ne,!0,function(){fe(X)})}b($,function(ne){d+=ne,Q(ne,function(fe){for(var X in fe){var C,M,G=X.lastIndexOf(".");G>0?(C=X.substring(0,G),M=X.substring(G+1)):(C=X,M=T),c[C]||(c[C]={}),c[C][M]=fe[X]}W&&W()})},I)}function h($,U){$&&($=$.toLowerCase()),U=U||function(){},A(),m=$;var W=x(),I=W.length;if(I===0){var z=L();if(z&&z.locales&&z.default_locale){if(console.log("using the embedded JSON directory, early way out"),c=z.locales[$],!c){var ee=z.default_locale.toLowerCase();for(var Q in z.locales)if(Q=Q.toLowerCase(),Q===$){c=z.locales[$];break}else Q===ee&&(c=z.locales[ee])}U()}else console.log("no resource to load, early way out");S="complete";return}var ne=null,fe=0;ne=function(){fe++,fe>=I&&(U(),S="complete")};function X(G){var K=G.href;this.load=function(E,O){l(K,E,O,function(){console.warn(K+" not found."),console.warn('"'+E+'" resource not found'),m="",O()})}}for(var C=0;C<I;C++){var M=new X(W[C]);M.load($,ne)}}function A(){c={},d="",m=""}function P($){var U={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function W(Q,ne){return ne.indexOf(Q)!==-1}function I(Q,ne,fe){return ne<=Q&&Q<=fe}var z={0:function(Q){return"other"},1:function(Q){return I(Q%100,3,10)?"few":Q===0?"zero":I(Q%100,11,99)?"many":Q==2?"two":Q==1?"one":"other"},2:function(Q){return Q!==0&&Q%10===0?"many":Q==2?"two":Q==1?"one":"other"},3:function(Q){return Q==1?"one":"other"},4:function(Q){return I(Q,0,1)?"one":"other"},5:function(Q){return I(Q,0,2)&&Q!=2?"one":"other"},6:function(Q){return Q===0?"zero":Q%10==1&&Q%100!=11?"one":"other"},7:function(Q){return Q==2?"two":Q==1?"one":"other"},8:function(Q){return I(Q,3,6)?"few":I(Q,7,10)?"many":Q==2?"two":Q==1?"one":"other"},9:function(Q){return Q===0||Q!=1&&I(Q%100,1,19)?"few":Q==1?"one":"other"},10:function(Q){return I(Q%10,2,9)&&!I(Q%100,11,19)?"few":Q%10==1&&!I(Q%100,11,19)?"one":"other"},11:function(Q){return I(Q%10,2,4)&&!I(Q%100,12,14)?"few":Q%10===0||I(Q%10,5,9)||I(Q%100,11,14)?"many":Q%10==1&&Q%100!=11?"one":"other"},12:function(Q){return I(Q,2,4)?"few":Q==1?"one":"other"},13:function(Q){return I(Q%10,2,4)&&!I(Q%100,12,14)?"few":Q!=1&&I(Q%10,0,1)||I(Q%10,5,9)||I(Q%100,12,14)?"many":Q==1?"one":"other"},14:function(Q){return I(Q%100,3,4)?"few":Q%100==2?"two":Q%100==1?"one":"other"},15:function(Q){return Q===0||I(Q%100,2,10)?"few":I(Q%100,11,19)?"many":Q==1?"one":"other"},16:function(Q){return Q%10==1&&Q!=11?"one":"other"},17:function(Q){return Q==3?"few":Q===0?"zero":Q==6?"many":Q==2?"two":Q==1?"one":"other"},18:function(Q){return Q===0?"zero":I(Q,0,2)&&Q!==0&&Q!=2?"one":"other"},19:function(Q){return I(Q,2,10)?"few":I(Q,0,1)?"one":"other"},20:function(Q){return(I(Q%10,3,4)||Q%10==9)&&!(I(Q%100,10,19)||I(Q%100,70,79)||I(Q%100,90,99))?"few":Q%1e6===0&&Q!==0?"many":Q%10==2&&!W(Q%100,[12,72,92])?"two":Q%10==1&&!W(Q%100,[11,71,91])?"one":"other"},21:function(Q){return Q===0?"zero":Q==1?"one":"other"},22:function(Q){return I(Q,0,1)||I(Q,11,99)?"one":"other"},23:function(Q){return I(Q%10,1,2)||Q%20===0?"one":"other"},24:function(Q){return I(Q,3,10)||I(Q,13,19)?"few":W(Q,[2,12])?"two":W(Q,[1,11])?"one":"other"}},ee=U[$.replace(/-.*$/,"")];return ee in z?z[ee]:(console.warn("plural form unknown for ["+$+"]"),function(){return"other"})}v.plural=function($,U,W,I){var z=parseFloat(U);if(isNaN(z)||I!=T)return $;v._pluralRules||(v._pluralRules=P(m));var ee="["+v._pluralRules(z)+"]";return z===0&&W+"[zero]"in c?$=c[W+"[zero]"][I]:z==1&&W+"[one]"in c?$=c[W+"[one]"][I]:z==2&&W+"[two]"in c?$=c[W+"[two]"][I]:W+ee in c?$=c[W+ee][I]:W+"[other]"in c&&($=c[W+"[other]"][I]),$};function R($,U,W){var I=c[$];if(!I){if(console.warn("#"+$+" is undefined."),!W)return null;I=W}var z={};for(var ee in I){var Q=I[ee];Q=k(Q,U,$,ee),Q=F(Q,U,$),z[ee]=Q}return z}function k($,U,W,I){var z=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,ee=z.exec($);if(!ee||!ee.length)return $;var Q=ee[1],ne=ee[2],fe;if(U&&ne in U?fe=U[ne]:ne in c&&(fe=c[ne]),Q in v){var X=v[Q];$=X($,fe,W,I)}return $}function F($,U,W){var I=/\{\{\s*(.+?)\s*\}\}/g;return $.replace(I,function(z,ee){return U&&ee in U?U[ee]:ee in c?c[ee]:(console.log("argument {{"+ee+"}} for #"+W+" is undefined."),z)})}function Y($){var U=y($);if(U.id){var W=R(U.id,U.args);if(!W){console.warn("#"+U.id+" is undefined.");return}if(W[T]){if(B($)===0)$[T]=W[T];else{for(var I=$.childNodes,z=!1,ee=0,Q=I.length;ee<Q;ee++)I[ee].nodeType===3&&/\S/.test(I[ee].nodeValue)&&(z?I[ee].nodeValue="":(I[ee].nodeValue=W[T],z=!0));if(!z){var ne=o.createTextNode(W[T]);$.prepend(ne)}}delete W[T]}for(var fe in W)$[fe]=W[fe]}}function B($){if($.children)return $.children.length;if(typeof $.childElementCount<"u")return $.childElementCount;for(var U=0,W=0;W<$.childNodes.length;W++)U+=$.nodeType===1?1:0;return U}function j($){$=$||o.documentElement;for(var U=g($),W=U.length,I=0;I<W;I++)Y(U[I]);Y($)}return{get:function($,U,W){var I=$.lastIndexOf("."),z=T;I>0&&(z=$.substring(I+1),$=$.substring(0,I));var ee;W&&(ee={},ee[z]=W);var Q=R($,U,ee);return Q&&z in Q?Q[z]:"{{"+$+"}}"},getData:function(){return c},getText:function(){return d},getLanguage:function(){return m},setLanguage:function($,U){h($,function(){U&&U()})},getDirection:function(){var $=["ar","he","fa","ps","ur"],U=m.split("-",1)[0];return $.indexOf(U)>=0?"rtl":"ltr"},translate:j,getReadyState:function(){return S},ready:function($){if($)S=="complete"||S=="interactive"?p.setTimeout(function(){$()}):o.addEventListener&&o.addEventListener("localized",function U(){o.removeEventListener("localized",U),$()});else return}}}(window,document)},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFindController=o.FindState=void 0;var c=_(7),d=_(3),T=_(23);function m(_e,we,de){S(_e,we),we.set(_e,de)}function v(_e,we){S(_e,we),we.add(_e)}function S(_e,we){if(we.has(_e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(_e,we){var de=x(_e,we,"get");return L(_e,de)}function x(_e,we,de){if(!we.has(_e))throw new TypeError("attempted to "+de+" private field on non-instance");return we.get(_e)}function L(_e,we){return we.get?we.get.call(_e):we.value}function g(_e,we,de){if(!we.has(_e))throw new TypeError("attempted to get private field on non-instance");return de}const y={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};o.FindState=y;const b=250,l=-50,h=-400,A={"â":"-","â":"'","â":"'","â":"'","â":"'","â":'"',"â":'"',"â":'"',"â":'"',"Â¼":"1/4","Â½":"1/2","Â¾":"3/4"},P=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),R=[...P.values()].map(_e=>String.fromCharCode(_e)).join(""),k=new RegExp("\\p{M}+","gu"),F=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),Y=new RegExp("([^\\p{M}])\\p{M}*$","u"),B=new RegExp("^\\p{M}*([^\\p{M}])","u"),j=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,$=new Map,U="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]";let W=null,I=null;function z(_e){const we=[];let de;for(;(de=j.exec(_e))!==null;){let{index:Ye}=de;for(const Ke of de[0]){let et=$.get(Ke);et||(et=Ke.normalize("NFD").length,$.set(Ke,et)),we.push([et,Ye++])}}let ie;if(we.length===0&&W)ie=W;else if(we.length>0&&I)ie=I;else{const Ke=`([${Object.keys(A).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;we.length===0?ie=W=new RegExp(Ke+"|(\\u0000)","gum"):ie=I=new RegExp(Ke+`|(${U})`,"gum")}const Se=[];for(;(de=k.exec(_e))!==null;)Se.push([de[0].length,de.index]);let Re=_e.normalize("NFD");const Le=[[0,0]];let Ue=0,Ve=0,ze=0,$e=0,Ge=0,rt=!1;return Re=Re.replace(ie,(Ye,Ke,et,tt,lt,it,ot)=>{var yt;if(ot-=$e,Ke){const ft=A[Ye],ut=ft.length;for(let pt=1;pt<ut;pt++)Le.push([ot-ze+pt,ze-pt]);return ze-=ut-1,ft}if(et){var ht;const ft=et.endsWith(`
`),ut=ft?et.length-2:et.length;rt=!0;let pt=ut;ot+Ge===((ht=Se[Ue])===null||ht===void 0?void 0:ht[1])&&(pt-=Se[Ue][0],++Ue);for(let dt=1;dt<=pt;dt++)Le.push([ot-1-ze+dt,ze-dt]);return ze-=pt,$e+=pt,ft?(ot+=ut-1,Le.push([ot-ze+1,1+ze]),ze+=1,$e+=1,Ge+=1,et.slice(0,ut)):et}if(tt)return Le.push([ot-ze+1,1+ze]),ze+=1,$e+=1,Ge+=1,tt.charAt(0);if(lt)return Le.push([ot-ze+1,ze-1]),ze-=1,$e+=1,Ge+=1," ";if(ot+Ge===((yt=we[Ve])===null||yt===void 0?void 0:yt[1])){const ft=we[Ve][0]-1;++Ve;for(let ut=1;ut<=ft;ut++)Le.push([ot-(ze-ut),ze-ut]);ze-=ft,$e+=ft}return it}),Le.push([Re.length,ze]),[Re,Le,rt]}function ee(_e,we,de){if(!_e)return[we,de];const ie=we,Se=we+de;let Re=(0,c.binarySearchFirstItem)(_e,Ue=>Ue[0]>=ie);_e[Re][0]>ie&&--Re;let Le=(0,c.binarySearchFirstItem)(_e,Ue=>Ue[0]>=Se,Re);return _e[Le][0]>Se&&--Le,[ie+_e[Re][1],de+_e[Le][1]-_e[Re][1]]}var Q=new WeakSet,ne=new WeakSet,fe=new WeakMap,X=new WeakSet,C=new WeakSet,M=new WeakSet,G=new WeakSet,K=new WeakSet,E=new WeakSet,O=new WeakSet,N=new WeakSet,V=new WeakSet,q=new WeakSet,J=new WeakSet,se=new WeakSet,ue=new WeakSet,ge=new WeakSet,be=new WeakSet,ve=new WeakSet,ye=new WeakSet;class xe{constructor(we){let{linkService:de,eventBus:ie}=we;v(this,ye),v(this,ve),v(this,be),v(this,ge),v(this,ue),v(this,se),v(this,J),v(this,q),v(this,V),v(this,N),v(this,O),v(this,E),v(this,K),v(this,G),v(this,M),v(this,C),v(this,X),m(this,fe,{get:Fe,set:void 0}),v(this,ne),v(this,Q),this._linkService=de,this._eventBus=ie,g(this,ne,Ie).call(this),ie._on("find",g(this,Q,De).bind(this)),ie._on("findbarclose",g(this,ge,ce).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(we){this._pdfDocument&&g(this,ne,Ie).call(this),we&&(this._pdfDocument=we,this._firstPageCapability.resolve())}scrollMatchIntoView(we){let{element:de=null,selectedLeft:ie=0,pageIndex:Se=-1,matchIndex:Re=-1}=we;if(!this._scrollMatches||!de)return;if(Re===-1||Re!==this._selected.matchIdx)return;if(Se===-1||Se!==this._selected.pageIdx)return;this._scrollMatches=!1;const Le={top:l,left:ie+h};(0,c.scrollIntoView)(de,Le,!0)}}o.PDFFindController=xe;function De(_e){if(!_e)return;const we=this._pdfDocument,{type:de}=_e;(this._state===null||g(this,X,je).call(this,_e))&&(this._dirtyMatch=!0),this._state=_e,de!=="highlightallchange"&&g(this,ye,Ae).call(this,y.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||we&&this._pdfDocument!==we)return;g(this,E,Ce).call(this);const ie=!this._highlightMatches,Se=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),de?this._dirtyMatch?g(this,V,ae).call(this):de==="again"?(g(this,V,ae).call(this),ie&&this._state.highlightAll&&g(this,N,H).call(this)):de==="highlightallchange"?(Se?g(this,V,ae).call(this):this._highlightMatches=!0,g(this,N,H).call(this)):g(this,V,ae).call(this):this._findTimeout=setTimeout(()=>{g(this,V,ae).call(this),this._findTimeout=null},b)})}function Ie(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,d.createPromiseCapability)()}function Fe(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=z(this._state.query)),this._normalizedQuery}function je(_e){if(_e.query!==this._state.query)return!0;switch(_e.type){case"again":const we=this._selected.pageIdx+1,de=this._linkService;return we>=1&&we<=de.pagesCount&&we!==de.page&&!de.isPageVisible(we);case"highlightallchange":return!1}return!0}function pe(_e,we,de){let ie=_e.slice(0,we).match(Y);if(ie){const Se=_e.charCodeAt(we),Re=ie[1].charCodeAt(0);if((0,T.getCharacterType)(Se)===(0,T.getCharacterType)(Re))return!1}if(ie=_e.slice(we+de).match(B),ie){const Se=_e.charCodeAt(we+de-1),Re=ie[1].charCodeAt(0);if((0,T.getCharacterType)(Se)===(0,T.getCharacterType)(Re))return!1}return!0}function ke(_e,we,de,ie){const Se=[],Re=[],Le=this._pageDiffs[de];let Ue;for(;(Ue=_e.exec(ie))!==null;){if(we&&!g(this,C,pe).call(this,ie,Ue.index,Ue[0].length))continue;const[Ve,ze]=ee(Le,Ue.index,Ue[0].length);ze&&(Se.push(Ve),Re.push(ze))}this._pageMatches[de]=Se,this._pageMatchesLength[de]=Re}function Ne(_e,we){const{matchDiacritics:de}=this._state;let ie=!1;_e=_e.replace(F,(Re,Le,Ue,Ve,ze,$e)=>Le?`[ ]*\\${Le}[ ]*`:Ue?`[ ]*${Ue}[ ]*`:Ve?"[ ]+":de?ze||$e:ze?P.has(ze.charCodeAt(0))?ze:"":we?(ie=!0,`${$e}\\p{M}*`):$e);const Se="[ ]*";return _e.endsWith(Se)&&(_e=_e.slice(0,_e.length-Se.length)),de&&we&&(ie=!0,_e=`${_e}(?=[${R}]|[^\\p{M}]|$)`),[ie,_e]}function Oe(_e){let we=w(this,fe);if(we.length===0)return;const{caseSensitive:de,entireWord:ie,phraseSearch:Se}=this._state,Re=this._pageContents[_e],Le=this._hasDiacritics[_e];let Ue=!1;if(Se)[Ue,we]=g(this,G,Ne).call(this,we,Le);else{const $e=we.match(/\S+/g);$e&&(we=$e.sort().reverse().map(Ge=>{const[rt,Ye]=g(this,G,Ne).call(this,Ge,Le);return Ue||(Ue=rt),`(${Ye})`}).join("|"))}const Ve=`g${Ue?"u":""}${de?"":"i"}`;we=new RegExp(we,Ve),g(this,M,ke).call(this,we,ie,_e,Re),this._state.highlightAll&&g(this,O,te).call(this,_e),this._resumePageIdx===_e&&(this._resumePageIdx=null,g(this,J,he).call(this));const ze=this._pageMatches[_e].length;ze>0&&(this._matchesCountTotal+=ze,g(this,ve,oe).call(this))}function Ce(){if(this._extractTextPromises.length>0)return;let _e=Promise.resolve();for(let we=0,de=this._linkService.pagesCount;we<de;we++){const ie=(0,d.createPromiseCapability)();this._extractTextPromises[we]=ie.promise,_e=_e.then(()=>this._pdfDocument.getPage(we+1).then(Se=>Se.getTextContent()).then(Se=>{const Re=[];for(const Le of Se.items)Re.push(Le.str),Le.hasEOL&&Re.push(`
`);[this._pageContents[we],this._pageDiffs[we],this._hasDiacritics[we]]=z(Re.join("")),ie.resolve()},Se=>{console.error(`Unable to get text content for page ${we+1}`,Se),this._pageContents[we]="",this._pageDiffs[we]=null,this._hasDiacritics[we]=!1,ie.resolve()}))}}function te(_e){this._scrollMatches&&this._selected.pageIdx===_e&&(this._linkService.page=_e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:_e})}function H(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function ae(){const _e=this._state.findPrevious,we=this._linkService.page-1,de=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=we,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,g(this,N,H).call(this);for(let Se=0;Se<de;Se++)this._pendingFindMatches.has(Se)||(this._pendingFindMatches.add(Se),this._extractTextPromises[Se].then(()=>{this._pendingFindMatches.delete(Se),g(this,K,Oe).call(this,Se)}))}if(w(this,fe)===""){g(this,ye,Ae).call(this,y.FOUND);return}if(this._resumePageIdx)return;const ie=this._offset;if(this._pagesToSearch=de,ie.matchIdx!==null){const Se=this._pageMatches[ie.pageIdx].length;if(!_e&&ie.matchIdx+1<Se||_e&&ie.matchIdx>0){ie.matchIdx=_e?ie.matchIdx-1:ie.matchIdx+1,g(this,ue,Me).call(this,!0);return}g(this,se,Pe).call(this,_e)}g(this,J,he).call(this)}function Ee(_e){const we=this._offset,de=_e.length,ie=this._state.findPrevious;return de?(we.matchIdx=ie?de-1:0,g(this,ue,Me).call(this,!0),!0):(g(this,se,Pe).call(this,ie),we.wrapped&&(we.matchIdx=null,this._pagesToSearch<0)?(g(this,ue,Me).call(this,!1),!0):!1)}function he(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let _e=null;do{const we=this._offset.pageIdx;if(_e=this._pageMatches[we],!_e){this._resumePageIdx=we;break}}while(!g(this,q,Ee).call(this,_e))}function Pe(_e){const we=this._offset,de=this._linkService.pagesCount;we.pageIdx=_e?we.pageIdx-1:we.pageIdx+1,we.matchIdx=null,this._pagesToSearch--,(we.pageIdx>=de||we.pageIdx<0)&&(we.pageIdx=_e?de-1:0,we.wrapped=!0)}function Me(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,we=y.NOT_FOUND;const de=this._offset.wrapped;if(this._offset.wrapped=!1,_e){const ie=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,we=de?y.WRAPPED:y.FOUND,ie!==-1&&ie!==this._selected.pageIdx&&g(this,O,te).call(this,ie)}g(this,ye,Ae).call(this,we,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,g(this,O,te).call(this,this._selected.pageIdx))}function ce(_e){const we=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||we&&this._pdfDocument!==we||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),g(this,ye,Ae).call(this,y.FOUND),this._highlightMatches=!1,g(this,N,H).call(this))})}function re(){const{pageIdx:_e,matchIdx:we}=this._selected;let de=0,ie=this._matchesCountTotal;if(we!==-1){for(let Re=0;Re<_e;Re++){var Se;de+=((Se=this._pageMatches[Re])===null||Se===void 0?void 0:Se.length)||0}de+=we+1}return(de<1||de>ie)&&(de=ie=0),{current:de,total:ie}}function oe(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:g(this,be,re).call(this)})}function Ae(_e){var we,de;let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:_e,previous:ie,matchesCount:g(this,be,re).call(this),rawQuery:(we=(de=this._state)===null||de===void 0?void 0:de.query)!==null&&we!==void 0?we:null})}},(p,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterType=void 0,o.getCharacterType=y;const _={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};o.CharacterType=_;function c(b){return b<11904}function d(b){return(b&65408)===0}function T(b){return b>=97&&b<=122||b>=65&&b<=90}function m(b){return b>=48&&b<=57}function v(b){return b===32||b===9||b===13||b===10}function S(b){return b>=13312&&b<=40959||b>=63744&&b<=64255}function w(b){return b>=12448&&b<=12543}function x(b){return b>=12352&&b<=12447}function L(b){return b>=65376&&b<=65439}function g(b){return(b&65408)===3584}function y(b){return c(b)?d(b)?v(b)?_.SPACE:T(b)||m(b)||b===95?_.ALPHA_LETTER:_.PUNCT:g(b)?_.THAI_LETTER:b===160?_.SPACE:_.ALPHA_LETTER:S(b)?_.HAN_LETTER:w(b)?_.KATAKANA_LETTER:x(b)?_.HIRAGANA_LETTER:L(b)?_.HALFWIDTH_KATAKANA_LETTER:_.ALPHA_LETTER}},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFHistory=void 0,o.isDestArraysEqual=L,o.isDestHashesEqual=x;var c=_(7),d=_(19);const T=1e3,m=50,v=1e3;function S(){return document.location.hash}class w{constructor(y){let{linkService:b,eventBus:l}=y;this.linkService=b,this.eventBus=l,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",h=>{this._isPagesLoaded=!!h.pagesCount},{once:!0})})}initialize(y){let{fingerprint:b,resetHistory:l=!1,updateUrl:h=!1}=y;if(!b||typeof b!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const A=this._fingerprint!==""&&this._fingerprint!==b;this._fingerprint=b,this._updateUrl=h===!0,this._initialized=!0,this._bindEvents();const P=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=S(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(P,!0)||l){const{hash:k,page:F,rotation:Y}=this._parseCurrentHash(!0);if(!k||A||l){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:k,page:F,rotation:Y},!0);return}const R=P.destination;this._updateInternalState(R,P.uid,!0),R.rotation!==void 0&&(this._initialRotation=R.rotation),R.dest?(this._initialBookmark=JSON.stringify(R.dest),this._destination.page=null):R.hash?this._initialBookmark=R.hash:R.page&&(this._initialBookmark=`page=${R.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push(y){let{namedDest:b=null,explicitDest:l,pageNumber:h}=y;if(!this._initialized)return;if(b&&typeof b!="string"){console.error(`PDFHistory.push: "${b}" is not a valid namedDest parameter.`);return}else if(Array.isArray(l)){if(!this._isValidPage(h)&&(h!==null||this._destination)){console.error(`PDFHistory.push: "${h}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${l}" is not a valid explicitDest parameter.`);return}const A=b||JSON.stringify(l);if(!A)return;let P=!1;if(this._destination&&(x(this._destination.hash,A)||L(this._destination.dest,l))){if(this._destination.page)return;P=!0}this._popStateInProgress&&!P||(this._pushOrReplaceState({dest:l,hash:A,page:h,rotation:this.linkService.rotation},P),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(y){var b;if(this._initialized){if(!this._isValidPage(y)){console.error(`PDFHistory.pushPage: "${y}" is not a valid page number.`);return}((b=this._destination)===null||b===void 0?void 0:b.page)!==y&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${y}`,page:y,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const y=window.history.state;this._isValidState(y)&&y.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const y=window.history.state;this._isValidState(y)&&y.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(y){const l=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||!this._destination,h={fingerprint:this._fingerprint,uid:l?this._uid:this._uid+1,destination:y};this._updateInternalState(y,h.uid);let A;if(this._updateUrl&&y!==null&&y!==void 0&&y.hash){const P=document.location.href.split("#")[0];P.startsWith("file://")||(A=`${P}#${y.hash}`)}l?window.history.replaceState(h,"",A):window.history.pushState(h,"",A)}_tryPushCurrentPosition(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._position)return;let b=this._position;if(y&&(b=Object.assign(Object.create(null),this._position),b.temporary=!0),!this._destination){this._pushOrReplaceState(b);return}if(this._destination.temporary){this._pushOrReplaceState(b,!0);return}if(this._destination.hash===b.hash||!this._destination.page&&this._numPositionUpdates<=m)return;let l=!1;if(this._destination.page>=b.first&&this._destination.page<=b.page){if(this._destination.dest!==void 0||!this._destination.first)return;l=!0}this._pushOrReplaceState(b,l)}_isValidPage(y){return Number.isInteger(y)&&y>0&&y<=this.linkService.pagesCount}_isValidState(y){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!y)return!1;if(y.fingerprint!==this._fingerprint)if(b){if(typeof y.fingerprint!="string"||y.fingerprint.length!==this._fingerprint.length)return!1;const[l]=performance.getEntriesByType("navigation");if((l==null?void 0:l.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(y.uid)||y.uid<0||y.destination===null||typeof y.destination!="object")}_updateInternalState(y,b){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),l&&y!==null&&y!==void 0&&y.temporary&&delete y.temporary,this._destination=y,this._uid=b,this._maxUid=Math.max(this._maxUid,b),this._numPositionUpdates=0}_parseCurrentHash(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const b=unescape(S()).substring(1),l=(0,c.parseQueryString)(b),h=l.get("nameddest")||"";let A=l.get("page")|0;return(!this._isValidPage(A)||y&&h.length>0)&&(A=null),{hash:b,page:A,rotation:this.linkService.rotation}}_updateViewarea(y){let{location:b}=y;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:b.pdfOpenParams.substring(1),page:this.linkService.page,first:b.pageNumber,rotation:b.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},v))}_popState(y){let{state:b}=y;const l=S(),h=this._currentHash!==l;if(this._currentHash=l,!b){this._uid++;const{hash:P,page:R,rotation:k}=this._parseCurrentHash();this._pushOrReplaceState({hash:P,page:R,rotation:k},!0);return}if(!this._isValidState(b))return;this._popStateInProgress=!0,h&&(this._blockHashChange++,(0,d.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:T}).then(()=>{this._blockHashChange--}));const A=b.destination;this._updateInternalState(A,b.uid,!0),(0,c.isValidRotation)(A.rotation)&&(this.linkService.rotation=A.rotation),A.dest?this.linkService.goToDestination(A.dest):A.hash?this.linkService.setHash(A.hash):A.page&&(this.linkService.page=A.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}o.PDFHistory=w;function x(g,y){return typeof g!="string"||typeof y!="string"?!1:g===y||(0,c.parseQueryString)(g).get("nameddest")===y}function L(g,y){function b(l,h){if(typeof l!=typeof h||Array.isArray(l)||Array.isArray(h))return!1;if(l!==null&&typeof l=="object"&&h!==null){if(Object.keys(l).length!==Object.keys(h).length)return!1;for(const A in l)if(!b(l[A],h[A]))return!1;return!0}return l===h||Number.isNaN(l)&&Number.isNaN(h)}if(!(Array.isArray(g)&&Array.isArray(y))||g.length!==y.length)return!1;for(let l=0,h=g.length;l<h;l++)if(!b(g[l],y[l]))return!1;return!0}},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFScriptingManager=void 0;var c=_(7),d=_(3);class T{constructor(v){let{eventBus:S,sandboxBundleSrc:w=null,scriptingFactory:x=null,docPropertiesLookup:L=null}=v;this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=S,this._sandboxBundleSrc=w,this._scriptingFactory=x,this._docPropertiesLookup=L,this._scriptingFactory||window.addEventListener("updatefromsandbox",g=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:g.detail})})}setViewer(v){this._pdfViewer=v}async setDocument(v){var S;if(this._pdfDocument&&await this._destroyScripting(),this._pdfDocument=v,!v)return;const[w,x,L]=await Promise.all([v.getFieldObjects(),v.getCalculationOrderIds(),v.getJSActions()]);if(!w&&!L){await this._destroyScripting();return}if(v===this._pdfDocument){try{this._scripting=this._createScripting()}catch(g){console.error(`PDFScriptingManager.setDocument: "${g==null?void 0:g.message}".`),await this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",g=>{(g==null?void 0:g.source)===window&&this._updateFromSandbox(g.detail)}),this._internalEvents.set("dispatcheventinsandbox",g=>{var y;(y=this._scripting)===null||y===void 0||y.dispatchEventInSandbox(g.detail)}),this._internalEvents.set("pagechanging",g=>{let{pageNumber:y,previous:b}=g;y!==b&&(this._dispatchPageClose(b),this._dispatchPageOpen(y))}),this._internalEvents.set("pagerendered",g=>{let{pageNumber:y}=g;this._pageOpenPending.has(y)&&y===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(y)}),this._internalEvents.set("pagesdestroy",async g=>{var y,b;await this._dispatchPageClose(this._pdfViewer.currentPageNumber),await((y=this._scripting)===null||y===void 0?void 0:y.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(b=this._closeCapability)===null||b===void 0||b.resolve()}),this._domEvents.set("mousedown",g=>{this._mouseState.isDown=!0}),this._domEvents.set("mouseup",g=>{this._mouseState.isDown=!1});for(const[g,y]of this._internalEvents)this._eventBus._on(g,y);for(const[g,y]of this._domEvents)window.addEventListener(g,y,!0);try{const g=await this._getDocProperties();if(v!==this._pdfDocument)return;await this._scripting.createSandbox({objects:w,calculationOrder:x,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...g,actions:L}}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(g){console.error(`PDFScriptingManager.setDocument: "${g==null?void 0:g.message}".`),await this._destroyScripting();return}await((S=this._scripting)===null||S===void 0?void 0:S.dispatchEventInSandbox({id:"doc",name:"Open"})),await this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{v===this._pdfDocument&&(this._ready=!0)})}}async dispatchWillSave(v){var S;return(S=this._scripting)===null||S===void 0?void 0:S.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(v){var S;return(S=this._scripting)===null||S===void 0?void 0:S.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(v){var S;return(S=this._scripting)===null||S===void 0?void 0:S.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(v){var S;return(S=this._scripting)===null||S===void 0?void 0:S.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get mouseState(){return this._mouseState}get destroyPromise(){var v;return((v=this._destroyCapability)===null||v===void 0?void 0:v.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,d.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,d.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,d.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,d.shadow)(this,"_visitedPages",new Map)}async _updateFromSandbox(v){const S=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:w,siblings:x,command:L,value:g}=v;if(!w){switch(L){case"clear":console.clear();break;case"error":console.error(g);break;case"layout":if(S)return;const l=(0,c.apiPageLayoutToViewerModes)(g);this._pdfViewer.spreadMode=l.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=g+1;break;case"print":await this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(g);break;case"zoom":if(S)return;this._pdfViewer.currentScaleValue=g;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(S)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(S)return;this._pdfViewer.decreaseScale();break}return}if(S&&v.focus)return;delete v.id,delete v.siblings;const y=x?[w,...x]:[w];for(const l of y){const h=document.querySelector(`[data-element-id="${l}"]`);if(h)h.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:v}));else{var b;(b=this._pdfDocument)===null||b===void 0||b.annotationStorage.setValue(l,v)}}}async _dispatchPageOpen(v){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const w=this._pdfDocument,x=this._visitedPages;if(S&&(this._closeCapability=(0,d.createPromiseCapability)()),!this._closeCapability)return;const L=this._pdfViewer.getPageView(v-1);if((L==null?void 0:L.renderingState)!==c.RenderingStates.FINISHED){this._pageOpenPending.add(v);return}this._pageOpenPending.delete(v);const g=(async()=>{var y,b;const l=await(x.has(v)?null:(y=L.pdfPage)===null||y===void 0?void 0:y.getJSActions());w===this._pdfDocument&&await((b=this._scripting)===null||b===void 0?void 0:b.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:v,actions:l}))})();x.set(v,g)}async _dispatchPageClose(v){var S;const w=this._pdfDocument,x=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(v))return;const L=x.get(v);L&&(x.set(v,null),await L,w===this._pdfDocument&&await((S=this._scripting)===null||S===void 0?void 0:S.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:v})))}async _getDocProperties(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);const{docPropertiesLookup:v}=_(26);return v(this._pdfDocument)}_createScripting(){if(this._destroyCapability=(0,d.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:v}=_(26);return new v(this._sandboxBundleSrc)}async _destroyScripting(){var v;if(!this._scripting){var S;this._pdfDocument=null,(S=this._destroyCapability)===null||S===void 0||S.resolve();return}this._closeCapability&&(await Promise.race([this._closeCapability.promise,new Promise(w=>{setTimeout(w,1e3)})]).catch(w=>{}),this._closeCapability=null),this._pdfDocument=null;try{await this._scripting.destroySandbox()}catch{}for(const[w,x]of this._internalEvents)this._eventBus._off(w,x);this._internalEvents.clear();for(const[w,x]of this._domEvents)window.removeEventListener(w,x,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,(v=this._destroyCapability)===null||v===void 0||v.resolve()}}o.PDFScriptingManager=T},(p,o,_)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GenericScripting=void 0,o.docPropertiesLookup=d;var c=_(3);async function d(m){const v="",S=v.split("#")[0];let{info:w,metadata:x,contentDispositionFilename:L,contentLength:g}=await m.getMetadata();if(!g){const{length:y}=await m.getDownloadInfo();g=y}return{...w,baseURL:S,filesize:g,filename:L||(0,c.getPdfFilenameFromUrl)(v),metadata:x==null?void 0:x.getRaw(),authors:x==null?void 0:x.get("dc:creator"),numPages:m.numPages,URL:v}}class T{constructor(v){this._ready=(0,c.loadScript)(v,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(v){(await this._ready).create(v)}async dispatchEventInSandbox(v){const S=await this._ready;setTimeout(()=>S.dispatchEvent(v),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}o.GenericScripting=T}],t={};function s(p){var o=t[p];if(o!==void 0)return o.exports;var _=t[p]={exports:{}};return e[p](_,_.exports,s),_.exports}var u={};return(()=>{var p=u;Object.defineProperty(p,"__esModule",{value:!0}),Object.defineProperty(p,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return T.AnnotationLayerBuilder}}),Object.defineProperty(p,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return o.DefaultAnnotationLayerFactory}}),Object.defineProperty(p,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return o.DefaultStructTreeLayerFactory}}),Object.defineProperty(p,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return o.DefaultTextLayerFactory}}),Object.defineProperty(p,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return o.DefaultXfaLayerFactory}}),Object.defineProperty(p,"DownloadManager",{enumerable:!0,get:function(){return m.DownloadManager}}),Object.defineProperty(p,"EventBus",{enumerable:!0,get:function(){return v.EventBus}}),Object.defineProperty(p,"GenericL10n",{enumerable:!0,get:function(){return S.GenericL10n}}),Object.defineProperty(p,"LinkTarget",{enumerable:!0,get:function(){return _.LinkTarget}}),Object.defineProperty(p,"NullL10n",{enumerable:!0,get:function(){return w.NullL10n}}),Object.defineProperty(p,"PDFFindController",{enumerable:!0,get:function(){return x.PDFFindController}}),Object.defineProperty(p,"PDFHistory",{enumerable:!0,get:function(){return L.PDFHistory}}),Object.defineProperty(p,"PDFLinkService",{enumerable:!0,get:function(){return _.PDFLinkService}}),Object.defineProperty(p,"PDFPageView",{enumerable:!0,get:function(){return g.PDFPageView}}),Object.defineProperty(p,"PDFScriptingManager",{enumerable:!0,get:function(){return y.PDFScriptingManager}}),Object.defineProperty(p,"PDFSinglePageViewer",{enumerable:!0,get:function(){return d.PDFSinglePageViewer}}),Object.defineProperty(p,"PDFViewer",{enumerable:!0,get:function(){return d.PDFViewer}}),Object.defineProperty(p,"ProgressBar",{enumerable:!0,get:function(){return c.ProgressBar}}),Object.defineProperty(p,"RenderingStates",{enumerable:!0,get:function(){return c.RenderingStates}}),Object.defineProperty(p,"ScrollMode",{enumerable:!0,get:function(){return c.ScrollMode}}),Object.defineProperty(p,"SimpleLinkService",{enumerable:!0,get:function(){return _.SimpleLinkService}}),Object.defineProperty(p,"SpreadMode",{enumerable:!0,get:function(){return c.SpreadMode}}),Object.defineProperty(p,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return b.StructTreeLayerBuilder}}),Object.defineProperty(p,"TextLayerBuilder",{enumerable:!0,get:function(){return l.TextLayerBuilder}}),Object.defineProperty(p,"XfaLayerBuilder",{enumerable:!0,get:function(){return h.XfaLayerBuilder}}),Object.defineProperty(p,"parseQueryString",{enumerable:!0,get:function(){return c.parseQueryString}});var o=s(1),_=s(6),c=s(7),d=s(11),T=s(5),m=s(18),v=s(19),S=s(20),w=s(4),x=s(22),L=s(24),g=s(13),y=s(25),b=s(8),l=s(9),h=s(10)})(),u})())})(pdf_viewer);var pdf_viewerExports=pdf_viewer.exports;const getDocument=a=>(a||{}).ownerDocument||document,getWindow=a=>(getDocument(a)||{}).defaultView||window,isHTMLElement=a=>a instanceof HTMLElement||a instanceof getWindow(a).HTMLElement,isHTMLCanvasElement=a=>a instanceof HTMLCanvasElement||a instanceof getWindow(a).HTMLCanvasElement,asElement=a=>a,getPageFromElement=a=>{const n=asElement(a.closest(".page"));if(!n||!isHTMLElement(n))return null;const e=Number(asElement(n).dataset.pageNumber);return{node:n,number:e}},getPagesFromRange=a=>{const n=a.startContainer.parentElement,e=a.endContainer.parentElement;if(!isHTMLElement(n)||!isHTMLElement(e))return[];const t=getPageFromElement(asElement(n)),s=getPageFromElement(asElement(e));if(!(t!=null&&t.number)||!(s!=null&&s.number))return[];if(t.number===s.number)return[t];if(t.number===s.number-1)return[t,s];const u=[];let p=t.number;const o=t.node.ownerDocument;for(;p<=s.number;){const _=getPageFromElement(o.querySelector(`[data-page-number='${p}'`));_&&u.push(_),p++}return u},findOrCreateContainerLayer=(a,n)=>{const e=getDocument(a);let t=a.querySelector(`.${n}`);return t||(t=e.createElement("div"),t.className=n,a.appendChild(t)),t},viewportToScaled=(a,{width:n,height:e})=>({x1:a.left,y1:a.top,x2:a.left+a.width,y2:a.top+a.height,width:n,height:e,pageNumber:a.pageNumber}),pdfToViewport=(a,n)=>{const[e,t,s,u]=n.convertToViewportRectangle([a.x1,a.y1,a.x2,a.y2]);return{left:Math.min(e,s),top:Math.min(t,u),width:Math.abs(s-e),height:Math.abs(t-u),pageNumber:a.pageNumber}},scaledToViewport=(a,n,e=!1)=>{const{width:t,height:s}=n;if(e)return pdfToViewport(a,n);if(a.x1===void 0)throw new Error("You are using old position format, please update");const u=t*a.x1/a.width,p=s*a.y1/a.height,o=t*a.x2/a.width,_=s*a.y2/a.height;return{left:u,top:p,width:o-u,height:_-p,pageNumber:a.pageNumber}};class MouseSelection extends reactExports.Component{constructor(){super(...arguments);Je(this,"state",{locked:!1,start:null,end:null});Je(this,"root");Je(this,"reset",()=>{const{onDragEnd:e}=this.props;e(),this.setState({start:null,end:null,locked:!1})})}getBoundingRect(e,t){return{left:Math.min(t.x,e.x),top:Math.min(t.y,e.y),width:Math.abs(t.x-e.x),height:Math.abs(t.y-e.y)}}componentDidUpdate(){const{onChange:e}=this.props,{start:t,end:s}=this.state;e(!!(t&&s))}componentDidMount(){if(!this.root)return;const e=this,{onSelection:t,onDragStart:s,onDragEnd:u,shouldStart:p}=this.props,o=asElement(this.root.parentElement);if(!isHTMLElement(o))return;let _=null;const c=(d,T)=>(_||(_=o.getBoundingClientRect()),{x:d-_.left+o.scrollLeft,y:T-_.top+o.scrollTop-window.scrollY});o.addEventListener("mousemove",d=>{const{start:T,locked:m}=this.state;!T||m||e.setState({...this.state,end:c(d.pageX,d.pageY)})}),o.addEventListener("mousedown",d=>{if(!p(d)){this.reset();return}const T=asElement(d.target);if(!isHTMLElement(T))return;s(),this.setState({start:c(d.pageX,d.pageY),end:null,locked:!1});const m=S=>{var g;(g=S.currentTarget)==null||g.removeEventListener("mouseup",m);const{start:w}=this.state;if(!w)return;const x=c(S.pageX,S.pageY),L=e.getBoundingRect(w,x);if(!isHTMLElement(S.target)||!o.contains(asElement(S.target))||!e.shouldRender(L)){e.reset();return}e.setState({end:x,locked:!0},()=>{const{start:y,end:b}=e.state;!y||!b||isHTMLElement(S.target)&&(t(T,L,e.reset),u())})},{ownerDocument:v}=o;v.body&&v.body.addEventListener("mouseup",m)})}shouldRender(e){return e.width>=1&&e.height>=1}render(){const{start:e,end:t}=this.state;return jsxRuntimeExports.jsx("div",{className:"MouseSelection-container",ref:s=>{s&&(this.root=s)},children:e&&t?jsxRuntimeExports.jsx("div",{className:"MouseSelection",style:this.getBoundingRect(e,t)}):null})}}const clamp$1=(a,n,e)=>Math.min(Math.max(a,n),e);class TipContainer extends reactExports.Component{constructor(){super(...arguments);Je(this,"state",{height:0,width:0});Je(this,"node",null);Je(this,"updatePosition",()=>{if(!this.node)return;const{offsetHeight:e,offsetWidth:t}=this.node;this.setState({height:e,width:t})})}componentDidUpdate(e){this.props.children!==e.children&&this.updatePosition()}componentDidMount(){setTimeout(this.updatePosition,0)}render(){const{children:e,style:t,scrollTop:s,pageBoundingRect:u}=this.props,{height:p,width:o}=this.state,_=o===0&&p===0,c=t.top-p-5<s,d=c?t.bottom+5:t.top-p-5,T=clamp$1(t.left-o/2,0,u.width-o),m=$6vYhU$react.Children.map(e,v=>$6vYhU$react.cloneElement(v,{onUpdate:()=>{this.setState({width:0,height:0},()=>{setTimeout(this.updatePosition,0)})},popup:{position:c?"below":"above"}}));return jsxRuntimeExports.jsx("div",{className:"PdfHighlighter__tip-container",style:{visibility:_?"hidden":"visible",top:d,left:T},ref:v=>{this.node=v},children:m})}}var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(a,n,e){var t,s,u,p,o,_,c=0,d=!1,T=!1,m=!0;if(typeof a!="function")throw new TypeError(FUNC_ERROR_TEXT);n=toNumber(n)||0,isObject(e)&&(d=!!e.leading,T="maxWait"in e,u=T?nativeMax(toNumber(e.maxWait)||0,n):u,m="trailing"in e?!!e.trailing:m);function v(h){var A=t,P=s;return t=s=void 0,c=h,p=a.apply(P,A),p}function S(h){return c=h,o=setTimeout(L,n),d?v(h):p}function w(h){var A=h-_,P=h-c,R=n-A;return T?nativeMin(R,u-P):R}function x(h){var A=h-_,P=h-c;return _===void 0||A>=n||A<0||T&&P>=u}function L(){var h=now();if(x(h))return g(h);o=setTimeout(L,w(h))}function g(h){return o=void 0,m&&t?v(h):(t=s=void 0,p)}function y(){o!==void 0&&clearTimeout(o),c=0,t=_=s=o=void 0}function b(){return o===void 0?p:g(now())}function l(){var h=now(),A=x(h);if(t=arguments,s=this,_=h,A){if(o===void 0)return S(_);if(T)return o=setTimeout(L,n),v(_)}return o===void 0&&(o=setTimeout(L,n)),p}return l.cancel=y,l.flush=b,l}function isObject(a){var n=typeof a;return!!a&&(n=="object"||n=="function")}function isObjectLike(a){return!!a&&typeof a=="object"}function isSymbol(a){return typeof a=="symbol"||isObjectLike(a)&&objectToString.call(a)==symbolTag}function toNumber(a){if(typeof a=="number")return a;if(isSymbol(a))return NAN;if(isObject(a)){var n=typeof a.valueOf=="function"?a.valueOf():a;a=isObject(n)?n+"":n}if(typeof a!="string")return a===0?a:+a;a=a.replace(reTrim,"");var e=reIsBinary.test(a);return e||reIsOctal.test(a)?freeParseInt(a.slice(2),e?2:8):reIsBadHex.test(a)?NAN:+a}var lodash_debounce=debounce;const debounce$1=getDefaultExportFromCjs(lodash_debounce),getAreaAsPNG=(a,n)=>{const{left:e,top:t,width:s,height:u}=n,p=a?a.ownerDocument:null,o=p&&p.createElement("canvas");if(!o||!isHTMLCanvasElement(o))return"";o.width=s,o.height=u;const _=o.getContext("2d");if(!_||!a)return"";const c=window.devicePixelRatio;return _.drawImage(a,e*c,t*c,s*c,u*c,0,0,s,u),o.toDataURL("image/png")},getBoundingRect=a=>{const n=Array.from(a).map(d=>{const{left:T,top:m,width:v,height:S,pageNumber:w}=d,x=T,L=T+v,g=m,y=m+S;return{X0:x,X1:L,Y0:g,Y1:y,pageNumber:w}});let e=Number.MAX_SAFE_INTEGER;n.forEach(d=>{e=Math.min(e,d.pageNumber??e)});const t=n.filter(d=>(d.X0>0||d.X1>0||d.Y0>0||d.Y1>0)&&d.pageNumber===e),s=t.reduce((d,T)=>({X0:Math.min(d.X0,T.X0),X1:Math.max(d.X1,T.X1),Y0:Math.min(d.Y0,T.Y0),Y1:Math.max(d.Y1,T.Y1),pageNumber:e}),t[0]),{X0:u,X1:p,Y0:o,Y1:_,pageNumber:c}=s;return{left:u,top:o,width:p-u,height:_-o,pageNumber:c}},sort=a=>a.sort((n,e)=>{const t=(n.pageNumber||0)*n.top-(e.pageNumber||0)*e.top;return t===0?n.left-e.left:t}),overlaps=(a,n)=>a.pageNumber===n.pageNumber&&a.left<=n.left&&n.left<=a.left+a.width,sameLine=(a,n,e=5)=>a.pageNumber===n.pageNumber&&Math.abs(a.top-n.top)<e&&Math.abs(a.height-n.height)<e,inside=(a,n)=>a.pageNumber===n.pageNumber&&a.top>n.top&&a.left>n.left&&a.top+a.height<n.top+n.height&&a.left+a.width<n.left+n.width,nextTo=(a,n,e=10)=>{const t=a.left+a.width,s=n.left+n.width;return a.pageNumber===n.pageNumber&&a.left<=n.left&&t<=s&&n.left-t<=e},extendWidth=(a,n)=>{a.width=Math.max(n.width-a.left+n.left,a.width)},optimizeClientRects=a=>{const n=sort(a),e=new Set,t=n.filter(u=>n.every(p=>!inside(u,p)));let s=0;for(;s<=2;)t.forEach(u=>{t.forEach(p=>{u===p||e.has(u)||e.has(p)||sameLine(u,p)&&(overlaps(u,p)&&(extendWidth(u,p),u.height=Math.max(u.height,p.height),e.add(p)),nextTo(u,p)&&(extendWidth(u,p),e.add(p)))})}),s+=1;return t.filter(u=>!e.has(u))},isClientRectInsidePageRect=(a,n)=>!(a.top<n.top||a.bottom>n.bottom||a.right>n.right||a.left<n.left),getClientRects=(a,n,e=!0)=>{const t=Array.from(a.getClientRects()),s=[];for(const u of t)for(const p of n){const o=p.node.getBoundingClientRect();if(isClientRectInsidePageRect(u,o)&&u.width>0&&u.height>0&&u.width<o.width&&u.height<o.height){const _={top:u.top+p.node.scrollTop-o.top,left:u.left+p.node.scrollLeft-o.left,width:u.width,height:u.height,pageNumber:p.number};s.push(_)}}return e?optimizeClientRects(s):s};function HighlightLayer({highlightsByPage:a,scaledPositionToViewport:n,pageNumber:e,scrolledToHighlightId:t,highlightTransform:s,tip:u,hideTipAndSelection:p,viewer:o,screenshot:_,showTip:c,setState:d}){const T=a[String(e)]||[];return jsxRuntimeExports.jsx("div",{children:T.map(({position:m,id:v,...S},w)=>{const x={id:v,position:n(m),...S};return u&&u.highlight.id===String(v)&&c(u.highlight,u.callback(x)),s(x,w,(g,y)=>{d({tip:{highlight:g,callback:y}}),c(g,y(g))},p,g=>{const y=o.getPageView((g.pageNumber||parseInt(e))-1).viewport;return viewportToScaled(g,y)},g=>_(g,parseInt(e)),t===v)})})}const EMPTY_ID="empty-id";class PdfHighlighter extends reactExports.PureComponent{constructor(e){super(e);Je(this,"state",{ghostHighlight:null,isCollapsed:!0,range:null,scrolledToHighlightId:EMPTY_ID,isAreaSelectionInProgress:!1,tip:null,tipPosition:null,tipChildren:null});Je(this,"eventBus",new pdf_viewerExports.EventBus);Je(this,"linkService",new pdf_viewerExports.PDFLinkService({eventBus:this.eventBus,externalLinkTarget:2}));Je(this,"viewer");Je(this,"resizeObserver",null);Je(this,"containerNode",null);Je(this,"containerNodeRef");Je(this,"highlightRoots",{});Je(this,"unsubscribe",()=>{});Je(this,"attachRef",()=>{var u;const{eventBus:e,resizeObserver:t}=this,s=this.containerNode=this.containerNodeRef.current;if(this.unsubscribe(),s){const{ownerDocument:p}=s;e.on("textlayerrendered",this.onTextLayerRendered),e.on("pagesinit",this.onDocumentReady),p.addEventListener("selectionchange",this.onSelectionChange),p.addEventListener("keydown",this.handleKeyDown),(u=p.defaultView)==null||u.addEventListener("resize",this.debouncedScaleValue),t&&t.observe(s),this.unsubscribe=()=>{var o;e.off("pagesinit",this.onDocumentReady),e.off("textlayerrendered",this.onTextLayerRendered),p.removeEventListener("selectionchange",this.onSelectionChange),p.removeEventListener("keydown",this.handleKeyDown),(o=p.defaultView)==null||o.removeEventListener("resize",this.debouncedScaleValue),t&&t.disconnect()}}});Je(this,"hideTipAndSelection",()=>{this.setState({tipPosition:null,tipChildren:null}),this.setState({ghostHighlight:null,tip:null},()=>this.renderHighlightLayers())});Je(this,"renderTip",()=>{const{tipPosition:e,tipChildren:t}=this.state;if(!e)return null;const{boundingRect:s,pageNumber:u}=e,p={node:this.viewer.getPageView((s.pageNumber||u)-1).div,pageNumber:s.pageNumber||u},o=p.node.getBoundingClientRect(),_={bottom:o.bottom,height:o.height,left:o.left,right:o.right,top:o.top,width:o.width,x:o.x,y:o.y,pageNumber:p.pageNumber};return jsxRuntimeExports.jsx(TipContainer,{scrollTop:this.viewer.container.scrollTop,pageBoundingRect:_,style:{left:p.node.offsetLeft+s.left+s.width/2,top:s.top+p.node.offsetTop,bottom:s.top+p.node.offsetTop+s.height},children:t})});Je(this,"onTextLayerRendered",()=>{this.renderHighlightLayers()});Je(this,"scrollTo",e=>{const{pageNumber:t,boundingRect:s,usePdfCoordinates:u}=e.position;this.viewer.container.removeEventListener("scroll",this.onScroll);const p=this.viewer.getPageView(t-1).viewport;this.viewer.scrollPageIntoView({pageNumber:t,destArray:[null,{name:"XYZ"},...p.convertToPdfPoint(0,scaledToViewport(s,p,u).top-10),0]}),this.setState({scrolledToHighlightId:e.id},()=>this.renderHighlightLayers()),setTimeout(()=>{this.viewer.container.addEventListener("scroll",this.onScroll)},100)});Je(this,"onDocumentReady",()=>{const{scrollRef:e}=this.props;this.handleScaleValue(),e(this.scrollTo)});Je(this,"onSelectionChange",()=>{const e=this.containerNode,t=getWindow(e).getSelection();if(!t)return;const s=t.rangeCount>0?t.getRangeAt(0):null;if(t.isCollapsed){this.setState({isCollapsed:!0});return}!s||!e||!e.contains(s.commonAncestorContainer)||(this.setState({isCollapsed:!1,range:s}),this.debouncedAfterSelection())});Je(this,"onScroll",()=>{const{onScrollChange:e}=this.props;e(),this.setState({scrolledToHighlightId:EMPTY_ID},()=>this.renderHighlightLayers()),this.viewer.container.removeEventListener("scroll",this.onScroll)});Je(this,"onMouseDown",e=>{isHTMLElement(e.target)&&(asElement(e.target).closest(".PdfHighlighter__tip-container")||this.hideTipAndSelection())});Je(this,"handleKeyDown",e=>{e.code==="Escape"&&this.hideTipAndSelection()});Je(this,"afterSelection",()=>{const{onSelectionFinished:e}=this.props,{isCollapsed:t,range:s}=this.state;if(!s||t)return;const u=getPagesFromRange(s);if(!u||u.length===0)return;const p=getClientRects(s,u);if(p.length===0)return;const _={boundingRect:getBoundingRect(p),rects:p,pageNumber:u[0].number},c={text:s.toString()},d=this.viewportPositionToScaled(_);this.setTip(_,e(d,c,()=>this.hideTipAndSelection(),()=>this.setState({ghostHighlight:{position:d}},()=>this.renderHighlightLayers())))});Je(this,"debouncedAfterSelection",debounce$1(this.afterSelection,500));Je(this,"handleScaleValue",()=>{this.viewer&&(this.viewer.currentScaleValue=this.props.pdfScaleValue)});Je(this,"debouncedScaleValue",debounce$1(this.handleScaleValue,500));typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(this.debouncedScaleValue)),this.containerNodeRef=reactExports.createRef()}componentDidMount(){this.init()}componentDidUpdate(e){if(e.pdfDocument!==this.props.pdfDocument){this.init();return}e.highlights!==this.props.highlights&&this.renderHighlightLayers()}init(){const{pdfDocument:e}=this.props;this.attachRef(),this.viewer=this.viewer||new pdf_viewerExports.PDFViewer({container:this.containerNodeRef.current,eventBus:this.eventBus,textLayerMode:2,removePageBorders:!0,linkService:this.linkService,l10n:pdf_viewerExports.NullL10n}),this.linkService.setDocument(e),this.linkService.setViewer(this.viewer),this.viewer.setDocument(e),window.PdfViewer=this}componentWillUnmount(){this.unsubscribe()}findOrCreateHighlightLayer(e){const{textLayer:t}=this.viewer.getPageView(e-1)||{};return t?findOrCreateContainerLayer(t.textLayerDiv,"PdfHighlighter__highlight-layer"):null}groupHighlightsByPage(e){const{ghostHighlight:t}=this.state,s=[...e,t].filter(Boolean),u=new Set;for(const o of s){u.add(o.position.pageNumber);for(const _ of o.position.rects)_.pageNumber&&u.add(_.pageNumber)}const p={};for(const o of u){p[o]=p[o]||[];for(const _ of s){const c={..._,position:{pageNumber:o,boundingRect:_.position.boundingRect,rects:[],usePdfCoordinates:_.position.usePdfCoordinates}};let d=!1;for(const T of _.position.rects)o===(T.pageNumber||_.position.pageNumber)&&(c.position.rects.push(T),d=!0);(d||o===_.position.pageNumber)&&p[o].push(c)}}return p}showTip(e,t){const{isCollapsed:s,ghostHighlight:u,isAreaSelectionInProgress:p}=this.state;!s||u||p||this.setTip(e.position,t)}scaledPositionToViewport({pageNumber:e,boundingRect:t,rects:s,usePdfCoordinates:u}){const p=this.viewer.getPageView(e-1).viewport;return{boundingRect:scaledToViewport(t,p,u),rects:(s||[]).map(o=>scaledToViewport(o,p,u)),pageNumber:e}}viewportPositionToScaled({pageNumber:e,boundingRect:t,rects:s}){const u=this.viewer.getPageView(e-1).viewport;return{boundingRect:viewportToScaled(t,u),rects:(s||[]).map(p=>viewportToScaled(p,u)),pageNumber:e}}screenshot(e,t){const s=this.viewer.getPageView(t-1).canvas;return getAreaAsPNG(s,e)}setTip(e,t){this.setState({tipPosition:e,tipChildren:t})}toggleTextSelection(e){this.viewer.viewer.classList.toggle("PdfHighlighter--disable-selection",e)}render(){const{onSelectionFinished:e,enableAreaSelection:t}=this.props;return jsxRuntimeExports.jsx("div",{onPointerDown:this.onMouseDown,children:jsxRuntimeExports.jsxs("div",{ref:this.containerNodeRef,className:"PdfHighlighter",onContextMenu:s=>s.preventDefault(),children:[jsxRuntimeExports.jsx("div",{className:"pdfViewer"}),this.renderTip(),typeof t=="function"?jsxRuntimeExports.jsx(MouseSelection,{onDragStart:()=>this.toggleTextSelection(!0),onDragEnd:()=>this.toggleTextSelection(!1),onChange:s=>this.setState({isAreaSelectionInProgress:s}),shouldStart:s=>t(s)&&isHTMLElement(s.target)&&!!asElement(s.target).closest(".page"),onSelection:(s,u,p)=>{const o=getPageFromElement(s);if(!o)return;const _={...u,top:u.top-o.node.offsetTop,left:u.left-o.node.offsetLeft,pageNumber:o.number},c={boundingRect:_,rects:[],pageNumber:o.number},d=this.viewportPositionToScaled(c),T=this.screenshot(_,_.pageNumber);this.setTip(c,e(d,{image:T},()=>this.hideTipAndSelection(),()=>{console.log("setting ghost highlight",d),this.setState({ghostHighlight:{position:d,content:{image:T}}},()=>{p(),this.renderHighlightLayers()})}))}}):null]})})}renderHighlightLayers(){const{pdfDocument:e}=this.props;for(let t=1;t<=e.numPages;t++){const s=this.highlightRoots[t];if(s&&s.container.isConnected)this.renderHighlightLayer(s.reactRoot,t);else{const u=this.findOrCreateHighlightLayer(t);if(u){const p=createRoot(u);this.highlightRoots[t]={reactRoot:p,container:u},this.renderHighlightLayer(p,t)}}}}renderHighlightLayer(e,t){const{highlightTransform:s,highlights:u}=this.props,{tip:p,scrolledToHighlightId:o}=this.state;e.render(jsxRuntimeExports.jsx(HighlightLayer,{highlightsByPage:this.groupHighlightsByPage(u),pageNumber:t.toString(),scrolledToHighlightId:o,highlightTransform:s,tip:p,scaledPositionToViewport:this.scaledPositionToViewport.bind(this),hideTipAndSelection:this.hideTipAndSelection.bind(this),viewer:this.viewer,screenshot:this.screenshot.bind(this),showTip:this.showTip.bind(this),setState:this.setState.bind(this)}))}}Je(PdfHighlighter,"defaultProps",{pdfScaleValue:"auto"});const Textarea=reactExports.forwardRef(({className:a,...n},e)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...n}));Textarea.displayName="Textarea";class Highlight extends reactExports.Component{render(){const{position:n,onClick:e,onMouseOver:t,onMouseOut:s,comment:u,isScrolledTo:p}=this.props,{rects:o,boundingRect:_}=n;return jsxRuntimeExports.jsxs("div",{className:`Highlight ${p?"Highlight--scrolledTo":""}`,children:[u?jsxRuntimeExports.jsx("div",{className:"Highlight__emoji",style:{left:20,top:_.top},children:u.emoji}):null,jsxRuntimeExports.jsx("div",{className:"Highlight__parts",children:o.map((c,d)=>jsxRuntimeExports.jsx("div",{onMouseOver:t,onMouseOut:s,onClick:e,style:c,className:"Highlight__part"},d))})]})}}class MouseMonitor extends reactExports.Component{constructor(){super(...arguments);Je(this,"container",null);Je(this,"unsubscribe",()=>{});Je(this,"onMouseMove",e=>{if(!this.container)return;const{onMoveAway:t,paddingX:s,paddingY:u}=this.props,{clientX:p,clientY:o}=e,{left:_,top:c,width:d,height:T}=this.container.getBoundingClientRect(),m=p>_-s&&p<_+d+s,v=o>c-u&&o<c+T+u;m&&v||t()});Je(this,"attachRef",e=>{if(this.container=e,this.unsubscribe(),e){const{ownerDocument:t}=e;t.addEventListener("mousemove",this.onMouseMove),this.unsubscribe=()=>{t.removeEventListener("mousemove",this.onMouseMove)}}})}render(){const{onMoveAway:e,paddingX:t,paddingY:s,children:u,...p}=this.props;return jsxRuntimeExports.jsx("div",{ref:this.attachRef,children:reactExports.cloneElement(u,p)})}}class Popup extends reactExports.Component{constructor(){super(...arguments);Je(this,"state",{mouseIn:!1})}render(){const{onMouseOver:e,popupContent:t,onMouseOut:s}=this.props;return jsxRuntimeExports.jsx("div",{onMouseOver:()=>{this.setState({mouseIn:!0}),e(jsxRuntimeExports.jsx(MouseMonitor,{onMoveAway:()=>{this.state.mouseIn||s()},paddingX:60,paddingY:30,children:t}))},onMouseOut:()=>{this.setState({mouseIn:!1})},children:this.props.children})}}var cjs={exports:{}},Draggable$2={},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function a(t,s,u,p,o,_){if(_!==ReactPropTypesSecret){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}a.isRequired=a;function n(){return a}var e={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:n,element:a,elementType:a,instanceOf:n,node:a,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;function r(a){var n,e,t="";if(typeof a=="string"||typeof a=="number")t+=a;else if(typeof a=="object")if(Array.isArray(a))for(n=0;n<a.length;n++)a[n]&&(e=r(a[n]))&&(t&&(t+=" "),t+=e);else for(n in a)a[n]&&(t&&(t+=" "),t+=n);return t}function clsx(){for(var a,n,e=0,t="";e<arguments.length;)(a=arguments[e++])&&(n=r(a))&&(t&&(t+=" "),t+=n);return t}const clsx_m=Object.freeze(Object.defineProperty({__proto__:null,clsx,default:clsx},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(clsx_m);var domFns={},shims={};Object.defineProperty(shims,"__esModule",{value:!0});shims.dontSetMe=dontSetMe;shims.findInArray=findInArray;shims.int=int;shims.isFunction=isFunction;shims.isNum=isNum;function findInArray(a,n){for(var e=0,t=a.length;e<t;e++)if(n.apply(n,[a[e],e,a]))return a[e]}function isFunction(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Function]"}function isNum(a){return typeof a=="number"&&!isNaN(a)}function int(a){return parseInt(a,10)}function dontSetMe(a,n,e){if(a[n])return new Error("Invalid prop ".concat(n," passed to ").concat(e," - do not set this, set it on the child."))}var getPrefix$1={};Object.defineProperty(getPrefix$1,"__esModule",{value:!0});getPrefix$1.browserPrefixToKey=browserPrefixToKey;getPrefix$1.browserPrefixToStyle=browserPrefixToStyle;getPrefix$1.default=void 0;getPrefix$1.getPrefix=getPrefix;var prefixes=["Moz","Webkit","O","ms"];function getPrefix(){var a,n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var t=(a=window.document)===null||a===void 0||(n=a.documentElement)===null||n===void 0?void 0:n.style;if(!t||e in t)return"";for(var s=0;s<prefixes.length;s++)if(browserPrefixToKey(e,prefixes[s])in t)return prefixes[s];return""}function browserPrefixToKey(a,n){return n?"".concat(n).concat(kebabToTitleCase(a)):a}function browserPrefixToStyle(a,n){return n?"-".concat(n.toLowerCase(),"-").concat(a):a}function kebabToTitleCase(a){for(var n="",e=!0,t=0;t<a.length;t++)e?(n+=a[t].toUpperCase(),e=!1):a[t]==="-"?e=!0:n+=a[t];return n}var _default=getPrefix();getPrefix$1.default=_default;function _typeof$1(a){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$1(a)}Object.defineProperty(domFns,"__esModule",{value:!0});domFns.addClassName=addClassName;domFns.addEvent=addEvent;domFns.addUserSelectStyles=addUserSelectStyles;domFns.createCSSTransform=createCSSTransform;domFns.createSVGTransform=createSVGTransform;domFns.getTouch=getTouch;domFns.getTouchIdentifier=getTouchIdentifier;domFns.getTranslation=getTranslation;domFns.innerHeight=innerHeight;domFns.innerWidth=innerWidth;domFns.matchesSelector=matchesSelector;domFns.matchesSelectorAndParentsTo=matchesSelectorAndParentsTo;domFns.offsetXYFromParent=offsetXYFromParent;domFns.outerHeight=outerHeight;domFns.outerWidth=outerWidth;domFns.removeClassName=removeClassName;domFns.removeEvent=removeEvent;domFns.removeUserSelectStyles=removeUserSelectStyles;var _shims$2=shims,_getPrefix=_interopRequireWildcard$1(getPrefix$1);function _getRequireWildcardCache$1(a){if(typeof WeakMap!="function")return null;var n=new WeakMap,e=new WeakMap;return(_getRequireWildcardCache$1=function(s){return s?e:n})(a)}function _interopRequireWildcard$1(a,n){if(!n&&a&&a.__esModule)return a;if(a===null||_typeof$1(a)!=="object"&&typeof a!="function")return{default:a};var e=_getRequireWildcardCache$1(n);if(e&&e.has(a))return e.get(a);var t={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in a)if(u!=="default"&&Object.prototype.hasOwnProperty.call(a,u)){var p=s?Object.getOwnPropertyDescriptor(a,u):null;p&&(p.get||p.set)?Object.defineProperty(t,u,p):t[u]=a[u]}return t.default=a,e&&e.set(a,t),t}function ownKeys(a,n){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);n&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),e.push.apply(e,t)}return e}function _objectSpread(a){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty$1(a,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))})}return a}function _defineProperty$1(a,n,e){return n in a?Object.defineProperty(a,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[n]=e,a}var matchesSelectorFunc="";function matchesSelector(a,n){return matchesSelectorFunc||(matchesSelectorFunc=(0,_shims$2.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return(0,_shims$2.isFunction)(a[e])})),(0,_shims$2.isFunction)(a[matchesSelectorFunc])?a[matchesSelectorFunc](n):!1}function matchesSelectorAndParentsTo(a,n,e){var t=a;do{if(matchesSelector(t,n))return!0;if(t===e)return!1;t=t.parentNode}while(t);return!1}function addEvent(a,n,e,t){if(a){var s=_objectSpread({capture:!0},t);a.addEventListener?a.addEventListener(n,e,s):a.attachEvent?a.attachEvent("on"+n,e):a["on"+n]=e}}function removeEvent(a,n,e,t){if(a){var s=_objectSpread({capture:!0},t);a.removeEventListener?a.removeEventListener(n,e,s):a.detachEvent?a.detachEvent("on"+n,e):a["on"+n]=null}}function outerHeight(a){var n=a.clientHeight,e=a.ownerDocument.defaultView.getComputedStyle(a);return n+=(0,_shims$2.int)(e.borderTopWidth),n+=(0,_shims$2.int)(e.borderBottomWidth),n}function outerWidth(a){var n=a.clientWidth,e=a.ownerDocument.defaultView.getComputedStyle(a);return n+=(0,_shims$2.int)(e.borderLeftWidth),n+=(0,_shims$2.int)(e.borderRightWidth),n}function innerHeight(a){var n=a.clientHeight,e=a.ownerDocument.defaultView.getComputedStyle(a);return n-=(0,_shims$2.int)(e.paddingTop),n-=(0,_shims$2.int)(e.paddingBottom),n}function innerWidth(a){var n=a.clientWidth,e=a.ownerDocument.defaultView.getComputedStyle(a);return n-=(0,_shims$2.int)(e.paddingLeft),n-=(0,_shims$2.int)(e.paddingRight),n}function offsetXYFromParent(a,n,e){var t=n===n.ownerDocument.body,s=t?{left:0,top:0}:n.getBoundingClientRect(),u=(a.clientX+n.scrollLeft-s.left)/e,p=(a.clientY+n.scrollTop-s.top)/e;return{x:u,y:p}}function createCSSTransform(a,n){var e=getTranslation(a,n,"px");return _defineProperty$1({},(0,_getPrefix.browserPrefixToKey)("transform",_getPrefix.default),e)}function createSVGTransform(a,n){var e=getTranslation(a,n,"");return e}function getTranslation(a,n,e){var t=a.x,s=a.y,u="translate(".concat(t).concat(e,",").concat(s).concat(e,")");if(n){var p="".concat(typeof n.x=="string"?n.x:n.x+e),o="".concat(typeof n.y=="string"?n.y:n.y+e);u="translate(".concat(p,", ").concat(o,")")+u}return u}function getTouch(a,n){return a.targetTouches&&(0,_shims$2.findInArray)(a.targetTouches,function(e){return n===e.identifier})||a.changedTouches&&(0,_shims$2.findInArray)(a.changedTouches,function(e){return n===e.identifier})}function getTouchIdentifier(a){if(a.targetTouches&&a.targetTouches[0])return a.targetTouches[0].identifier;if(a.changedTouches&&a.changedTouches[0])return a.changedTouches[0].identifier}function addUserSelectStyles(a){if(a){var n=a.getElementById("react-draggable-style-el");n||(n=a.createElement("style"),n.type="text/css",n.id="react-draggable-style-el",n.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,n.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,a.getElementsByTagName("head")[0].appendChild(n)),a.body&&addClassName(a.body,"react-draggable-transparent-selection")}}function removeUserSelectStyles(a){if(a)try{if(a.body&&removeClassName(a.body,"react-draggable-transparent-selection"),a.selection)a.selection.empty();else{var n=(a.defaultView||window).getSelection();n&&n.type!=="Caret"&&n.removeAllRanges()}}catch{}}function addClassName(a,n){a.classList?a.classList.add(n):a.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(a.className+=" ".concat(n))}function removeClassName(a,n){a.classList?a.classList.remove(n):a.className=a.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")}var positionFns={};Object.defineProperty(positionFns,"__esModule",{value:!0});positionFns.canDragX=canDragX;positionFns.canDragY=canDragY;positionFns.createCoreData=createCoreData;positionFns.createDraggableData=createDraggableData;positionFns.getBoundPosition=getBoundPosition;positionFns.getControlPosition=getControlPosition;positionFns.snapToGrid=snapToGrid;var _shims$1=shims,_domFns$1=domFns;function getBoundPosition(a,n,e){if(!a.props.bounds)return[n,e];var t=a.props.bounds;t=typeof t=="string"?t:cloneBounds(t);var s=findDOMNode(a);if(typeof t=="string"){var u=s.ownerDocument,p=u.defaultView,o;if(t==="parent"?o=s.parentNode:o=u.querySelector(t),!(o instanceof p.HTMLElement))throw new Error('Bounds selector "'+t+'" could not find an element.');var _=o,c=p.getComputedStyle(s),d=p.getComputedStyle(_);t={left:-s.offsetLeft+(0,_shims$1.int)(d.paddingLeft)+(0,_shims$1.int)(c.marginLeft),top:-s.offsetTop+(0,_shims$1.int)(d.paddingTop)+(0,_shims$1.int)(c.marginTop),right:(0,_domFns$1.innerWidth)(_)-(0,_domFns$1.outerWidth)(s)-s.offsetLeft+(0,_shims$1.int)(d.paddingRight)-(0,_shims$1.int)(c.marginRight),bottom:(0,_domFns$1.innerHeight)(_)-(0,_domFns$1.outerHeight)(s)-s.offsetTop+(0,_shims$1.int)(d.paddingBottom)-(0,_shims$1.int)(c.marginBottom)}}return(0,_shims$1.isNum)(t.right)&&(n=Math.min(n,t.right)),(0,_shims$1.isNum)(t.bottom)&&(e=Math.min(e,t.bottom)),(0,_shims$1.isNum)(t.left)&&(n=Math.max(n,t.left)),(0,_shims$1.isNum)(t.top)&&(e=Math.max(e,t.top)),[n,e]}function snapToGrid(a,n,e){var t=Math.round(n/a[0])*a[0],s=Math.round(e/a[1])*a[1];return[t,s]}function canDragX(a){return a.props.axis==="both"||a.props.axis==="x"}function canDragY(a){return a.props.axis==="both"||a.props.axis==="y"}function getControlPosition(a,n,e){var t=typeof n=="number"?(0,_domFns$1.getTouch)(a,n):null;if(typeof n=="number"&&!t)return null;var s=findDOMNode(e),u=e.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,_domFns$1.offsetXYFromParent)(t||a,u,e.props.scale)}function createCoreData(a,n,e){var t=a.state,s=!(0,_shims$1.isNum)(t.lastX),u=findDOMNode(a);return s?{node:u,deltaX:0,deltaY:0,lastX:n,lastY:e,x:n,y:e}:{node:u,deltaX:n-t.lastX,deltaY:e-t.lastY,lastX:t.lastX,lastY:t.lastY,x:n,y:e}}function createDraggableData(a,n){var e=a.props.scale;return{node:n.node,x:a.state.x+n.deltaX/e,y:a.state.y+n.deltaY/e,deltaX:n.deltaX/e,deltaY:n.deltaY/e,lastX:a.state.x,lastY:a.state.y}}function cloneBounds(a){return{left:a.left,top:a.top,right:a.right,bottom:a.bottom}}function findDOMNode(a){var n=a.findDOMNode();if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var DraggableCore$2={},log$1={};Object.defineProperty(log$1,"__esModule",{value:!0});log$1.default=log;function log(){}function _typeof(a){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(a)}Object.defineProperty(DraggableCore$2,"__esModule",{value:!0});DraggableCore$2.default=void 0;var React=_interopRequireWildcard(reactExports),_propTypes=_interopRequireDefault(propTypesExports),_reactDom=_interopRequireDefault(reactDomExports),_domFns=domFns,_positionFns=positionFns,_shims=shims,_log=_interopRequireDefault(log$1);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _getRequireWildcardCache(a){if(typeof WeakMap!="function")return null;var n=new WeakMap,e=new WeakMap;return(_getRequireWildcardCache=function(s){return s?e:n})(a)}function _interopRequireWildcard(a,n){if(!n&&a&&a.__esModule)return a;if(a===null||_typeof(a)!=="object"&&typeof a!="function")return{default:a};var e=_getRequireWildcardCache(n);if(e&&e.has(a))return e.get(a);var t={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in a)if(u!=="default"&&Object.prototype.hasOwnProperty.call(a,u)){var p=s?Object.getOwnPropertyDescriptor(a,u):null;p&&(p.get||p.set)?Object.defineProperty(t,u,p):t[u]=a[u]}return t.default=a,e&&e.set(a,t),t}function _slicedToArray(a,n){return _arrayWithHoles(a)||_iterableToArrayLimit(a,n)||_unsupportedIterableToArray(a,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(a,n){if(a){if(typeof a=="string")return _arrayLikeToArray(a,n);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray(a,n)}}function _arrayLikeToArray(a,n){(n==null||n>a.length)&&(n=a.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=a[e];return t}function _iterableToArrayLimit(a,n){var e=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(e!=null){var t=[],s=!0,u=!1,p,o;try{for(e=e.call(a);!(s=(p=e.next()).done)&&(t.push(p.value),!(n&&t.length===n));s=!0);}catch(_){u=!0,o=_}finally{try{!s&&e.return!=null&&e.return()}finally{if(u)throw o}}return t}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}function _createClass(a,n,e){return n&&_defineProperties(a.prototype,n),e&&_defineProperties(a,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),n&&_setPrototypeOf(a,n)}function _setPrototypeOf(a,n){return _setPrototypeOf=Object.setPrototypeOf||function(t,s){return t.__proto__=s,t},_setPrototypeOf(a,n)}function _createSuper(a){var n=_isNativeReflectConstruct();return function(){var t=_getPrototypeOf(a),s;if(n){var u=_getPrototypeOf(this).constructor;s=Reflect.construct(t,arguments,u)}else s=t.apply(this,arguments);return _possibleConstructorReturn(this,s)}}function _possibleConstructorReturn(a,n){if(n&&(_typeof(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(a)}function _defineProperty(a,n,e){return n in a?Object.defineProperty(a,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[n]=e,a}var eventsFor={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},dragEventFor=eventsFor.mouse,DraggableCore$1=function(a){_inherits(e,a);var n=_createSuper(e);function e(){var t;_classCallCheck(this,e);for(var s=arguments.length,u=new Array(s),p=0;p<s;p++)u[p]=arguments[p];return t=n.call.apply(n,[this].concat(u)),_defineProperty(_assertThisInitialized(t),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),_defineProperty(_assertThisInitialized(t),"mounted",!1),_defineProperty(_assertThisInitialized(t),"handleDragStart",function(o){if(t.props.onMouseDown(o),!t.props.allowAnyClick&&typeof o.button=="number"&&o.button!==0)return!1;var _=t.findDOMNode();if(!_||!_.ownerDocument||!_.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var c=_.ownerDocument;if(!(t.props.disabled||!(o.target instanceof c.defaultView.Node)||t.props.handle&&!(0,_domFns.matchesSelectorAndParentsTo)(o.target,t.props.handle,_)||t.props.cancel&&(0,_domFns.matchesSelectorAndParentsTo)(o.target,t.props.cancel,_))){o.type==="touchstart"&&o.preventDefault();var d=(0,_domFns.getTouchIdentifier)(o);t.setState({touchIdentifier:d});var T=(0,_positionFns.getControlPosition)(o,d,_assertThisInitialized(t));if(T!=null){var m=T.x,v=T.y,S=(0,_positionFns.createCoreData)(_assertThisInitialized(t),m,v);(0,_log.default)("DraggableCore: handleDragStart: %j",S),(0,_log.default)("calling",t.props.onStart);var w=t.props.onStart(o,S);w===!1||t.mounted===!1||(t.props.enableUserSelectHack&&(0,_domFns.addUserSelectStyles)(c),t.setState({dragging:!0,lastX:m,lastY:v}),(0,_domFns.addEvent)(c,dragEventFor.move,t.handleDrag),(0,_domFns.addEvent)(c,dragEventFor.stop,t.handleDragStop))}}}),_defineProperty(_assertThisInitialized(t),"handleDrag",function(o){var _=(0,_positionFns.getControlPosition)(o,t.state.touchIdentifier,_assertThisInitialized(t));if(_!=null){var c=_.x,d=_.y;if(Array.isArray(t.props.grid)){var T=c-t.state.lastX,m=d-t.state.lastY,v=(0,_positionFns.snapToGrid)(t.props.grid,T,m),S=_slicedToArray(v,2);if(T=S[0],m=S[1],!T&&!m)return;c=t.state.lastX+T,d=t.state.lastY+m}var w=(0,_positionFns.createCoreData)(_assertThisInitialized(t),c,d);(0,_log.default)("DraggableCore: handleDrag: %j",w);var x=t.props.onDrag(o,w);if(x===!1||t.mounted===!1){try{t.handleDragStop(new MouseEvent("mouseup"))}catch{var L=document.createEvent("MouseEvents");L.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.handleDragStop(L)}return}t.setState({lastX:c,lastY:d})}}),_defineProperty(_assertThisInitialized(t),"handleDragStop",function(o){if(t.state.dragging){var _=(0,_positionFns.getControlPosition)(o,t.state.touchIdentifier,_assertThisInitialized(t));if(_!=null){var c=_.x,d=_.y;if(Array.isArray(t.props.grid)){var T=c-t.state.lastX||0,m=d-t.state.lastY||0,v=(0,_positionFns.snapToGrid)(t.props.grid,T,m),S=_slicedToArray(v,2);T=S[0],m=S[1],c=t.state.lastX+T,d=t.state.lastY+m}var w=(0,_positionFns.createCoreData)(_assertThisInitialized(t),c,d),x=t.props.onStop(o,w);if(x===!1||t.mounted===!1)return!1;var L=t.findDOMNode();L&&t.props.enableUserSelectHack&&(0,_domFns.removeUserSelectStyles)(L.ownerDocument),(0,_log.default)("DraggableCore: handleDragStop: %j",w),t.setState({dragging:!1,lastX:NaN,lastY:NaN}),L&&((0,_log.default)("DraggableCore: Removing handlers"),(0,_domFns.removeEvent)(L.ownerDocument,dragEventFor.move,t.handleDrag),(0,_domFns.removeEvent)(L.ownerDocument,dragEventFor.stop,t.handleDragStop))}}}),_defineProperty(_assertThisInitialized(t),"onMouseDown",function(o){return dragEventFor=eventsFor.mouse,t.handleDragStart(o)}),_defineProperty(_assertThisInitialized(t),"onMouseUp",function(o){return dragEventFor=eventsFor.mouse,t.handleDragStop(o)}),_defineProperty(_assertThisInitialized(t),"onTouchStart",function(o){return dragEventFor=eventsFor.touch,t.handleDragStart(o)}),_defineProperty(_assertThisInitialized(t),"onTouchEnd",function(o){return dragEventFor=eventsFor.touch,t.handleDragStop(o)}),t}return _createClass(e,[{key:"componentDidMount",value:function(){this.mounted=!0;var s=this.findDOMNode();s&&(0,_domFns.addEvent)(s,eventsFor.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.findDOMNode();if(s){var u=s.ownerDocument;(0,_domFns.removeEvent)(u,eventsFor.mouse.move,this.handleDrag),(0,_domFns.removeEvent)(u,eventsFor.touch.move,this.handleDrag),(0,_domFns.removeEvent)(u,eventsFor.mouse.stop,this.handleDragStop),(0,_domFns.removeEvent)(u,eventsFor.touch.stop,this.handleDragStop),(0,_domFns.removeEvent)(s,eventsFor.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,_domFns.removeUserSelectStyles)(u)}}},{key:"findDOMNode",value:function(){var s,u,p;return(s=this.props)!==null&&s!==void 0&&s.nodeRef?(u=this.props)===null||u===void 0||(p=u.nodeRef)===null||p===void 0?void 0:p.current:_reactDom.default.findDOMNode(this)}},{key:"render",value:function(){return React.cloneElement(React.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),e}(React.Component);DraggableCore$2.default=DraggableCore$1;_defineProperty(DraggableCore$1,"displayName","DraggableCore");_defineProperty(DraggableCore$1,"propTypes",{allowAnyClick:_propTypes.default.bool,disabled:_propTypes.default.bool,enableUserSelectHack:_propTypes.default.bool,offsetParent:function a(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:_propTypes.default.arrayOf(_propTypes.default.number),handle:_propTypes.default.string,cancel:_propTypes.default.string,nodeRef:_propTypes.default.object,onStart:_propTypes.default.func,onDrag:_propTypes.default.func,onStop:_propTypes.default.func,onMouseDown:_propTypes.default.func,scale:_propTypes.default.number,className:_shims.dontSetMe,style:_shims.dontSetMe,transform:_shims.dontSetMe});_defineProperty(DraggableCore$1,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function a(){},onDrag:function a(){},onStop:function a(){},onMouseDown:function a(){},scale:1});(function(a){function n(ne){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},n(ne)}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),a.default=void 0;var e=S(reactExports),t=m(propTypesExports),s=m(reactDomExports),u=m(require$$3),p=domFns,o=positionFns,_=shims,c=m(DraggableCore$2),d=m(log$1),T=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function m(ne){return ne&&ne.__esModule?ne:{default:ne}}function v(ne){if(typeof WeakMap!="function")return null;var fe=new WeakMap,X=new WeakMap;return(v=function(M){return M?X:fe})(ne)}function S(ne,fe){if(!fe&&ne&&ne.__esModule)return ne;if(ne===null||n(ne)!=="object"&&typeof ne!="function")return{default:ne};var X=v(fe);if(X&&X.has(ne))return X.get(ne);var C={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in ne)if(G!=="default"&&Object.prototype.hasOwnProperty.call(ne,G)){var K=M?Object.getOwnPropertyDescriptor(ne,G):null;K&&(K.get||K.set)?Object.defineProperty(C,G,K):C[G]=ne[G]}return C.default=ne,X&&X.set(ne,C),C}function w(){return w=Object.assign||function(ne){for(var fe=1;fe<arguments.length;fe++){var X=arguments[fe];for(var C in X)Object.prototype.hasOwnProperty.call(X,C)&&(ne[C]=X[C])}return ne},w.apply(this,arguments)}function x(ne,fe){if(ne==null)return{};var X=L(ne,fe),C,M;if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(ne);for(M=0;M<G.length;M++)C=G[M],!(fe.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(ne,C)&&(X[C]=ne[C])}return X}function L(ne,fe){if(ne==null)return{};var X={},C=Object.keys(ne),M,G;for(G=0;G<C.length;G++)M=C[G],!(fe.indexOf(M)>=0)&&(X[M]=ne[M]);return X}function g(ne,fe){var X=Object.keys(ne);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(ne);fe&&(C=C.filter(function(M){return Object.getOwnPropertyDescriptor(ne,M).enumerable})),X.push.apply(X,C)}return X}function y(ne){for(var fe=1;fe<arguments.length;fe++){var X=arguments[fe]!=null?arguments[fe]:{};fe%2?g(Object(X),!0).forEach(function(C){ee(ne,C,X[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(X)):g(Object(X)).forEach(function(C){Object.defineProperty(ne,C,Object.getOwnPropertyDescriptor(X,C))})}return ne}function b(ne,fe){return R(ne)||P(ne,fe)||h(ne,fe)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(ne,fe){if(ne){if(typeof ne=="string")return A(ne,fe);var X=Object.prototype.toString.call(ne).slice(8,-1);if(X==="Object"&&ne.constructor&&(X=ne.constructor.name),X==="Map"||X==="Set")return Array.from(ne);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return A(ne,fe)}}function A(ne,fe){(fe==null||fe>ne.length)&&(fe=ne.length);for(var X=0,C=new Array(fe);X<fe;X++)C[X]=ne[X];return C}function P(ne,fe){var X=ne==null?null:typeof Symbol<"u"&&ne[Symbol.iterator]||ne["@@iterator"];if(X!=null){var C=[],M=!0,G=!1,K,E;try{for(X=X.call(ne);!(M=(K=X.next()).done)&&(C.push(K.value),!(fe&&C.length===fe));M=!0);}catch(O){G=!0,E=O}finally{try{!M&&X.return!=null&&X.return()}finally{if(G)throw E}}return C}}function R(ne){if(Array.isArray(ne))return ne}function k(ne,fe){if(!(ne instanceof fe))throw new TypeError("Cannot call a class as a function")}function F(ne,fe){for(var X=0;X<fe.length;X++){var C=fe[X];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(ne,C.key,C)}}function Y(ne,fe,X){return fe&&F(ne.prototype,fe),X&&F(ne,X),Object.defineProperty(ne,"prototype",{writable:!1}),ne}function B(ne,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),fe&&j(ne,fe)}function j(ne,fe){return j=Object.setPrototypeOf||function(C,M){return C.__proto__=M,C},j(ne,fe)}function $(ne){var fe=I();return function(){var C=z(ne),M;if(fe){var G=z(this).constructor;M=Reflect.construct(C,arguments,G)}else M=C.apply(this,arguments);return U(this,M)}}function U(ne,fe){if(fe&&(n(fe)==="object"||typeof fe=="function"))return fe;if(fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W(ne)}function W(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function z(ne){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(X){return X.__proto__||Object.getPrototypeOf(X)},z(ne)}function ee(ne,fe,X){return fe in ne?Object.defineProperty(ne,fe,{value:X,enumerable:!0,configurable:!0,writable:!0}):ne[fe]=X,ne}var Q=function(ne){B(X,ne);var fe=$(X);function X(C){var M;return k(this,X),M=fe.call(this,C),ee(W(M),"onDragStart",function(G,K){(0,d.default)("Draggable: onDragStart: %j",K);var E=M.props.onStart(G,(0,o.createDraggableData)(W(M),K));if(E===!1)return!1;M.setState({dragging:!0,dragged:!0})}),ee(W(M),"onDrag",function(G,K){if(!M.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",K);var E=(0,o.createDraggableData)(W(M),K),O={x:E.x,y:E.y};if(M.props.bounds){var N=O.x,V=O.y;O.x+=M.state.slackX,O.y+=M.state.slackY;var q=(0,o.getBoundPosition)(W(M),O.x,O.y),J=b(q,2),se=J[0],ue=J[1];O.x=se,O.y=ue,O.slackX=M.state.slackX+(N-O.x),O.slackY=M.state.slackY+(V-O.y),E.x=O.x,E.y=O.y,E.deltaX=O.x-M.state.x,E.deltaY=O.y-M.state.y}var ge=M.props.onDrag(G,E);if(ge===!1)return!1;M.setState(O)}),ee(W(M),"onDragStop",function(G,K){if(!M.state.dragging)return!1;var E=M.props.onStop(G,(0,o.createDraggableData)(W(M),K));if(E===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",K);var O={dragging:!1,slackX:0,slackY:0},N=!!M.props.position;if(N){var V=M.props.position,q=V.x,J=V.y;O.x=q,O.y=J}M.setState(O)}),M.state={dragging:!1,dragged:!1,x:C.position?C.position.x:C.defaultPosition.x,y:C.position?C.position.y:C.defaultPosition.y,prevPropsPosition:y({},C.position),slackX:0,slackY:0,isElementSVG:!1},C.position&&!(C.onDrag||C.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),M}return Y(X,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var M,G,K;return(M=(G=this.props)===null||G===void 0||(K=G.nodeRef)===null||K===void 0?void 0:K.current)!==null&&M!==void 0?M:s.default.findDOMNode(this)}},{key:"render",value:function(){var M,G=this.props;G.axis,G.bounds;var K=G.children,E=G.defaultPosition,O=G.defaultClassName,N=G.defaultClassNameDragging,V=G.defaultClassNameDragged,q=G.position,J=G.positionOffset;G.scale;var se=x(G,T),ue={},ge=null,be=!!q,ve=!be||this.state.dragging,ye=q||E,xe={x:(0,o.canDragX)(this)&&ve?this.state.x:ye.x,y:(0,o.canDragY)(this)&&ve?this.state.y:ye.y};this.state.isElementSVG?ge=(0,p.createSVGTransform)(xe,J):ue=(0,p.createCSSTransform)(xe,J);var De=(0,u.default)(K.props.className||"",O,(M={},ee(M,N,this.state.dragging),ee(M,V,this.state.dragged),M));return e.createElement(c.default,w({},se,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(K),{className:De,style:y(y({},K.props.style),ue),transform:ge}))}}],[{key:"getDerivedStateFromProps",value:function(M,G){var K=M.position,E=G.prevPropsPosition;return K&&(!E||K.x!==E.x||K.y!==E.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:K,prevPropsPosition:E}),{x:K.x,y:K.y,prevPropsPosition:y({},K)}):null}}]),X}(e.Component);a.default=Q,ee(Q,"displayName","Draggable"),ee(Q,"propTypes",y(y({},c.default.propTypes),{},{axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:_.dontSetMe,style:_.dontSetMe,transform:_.dontSetMe})),ee(Q,"defaultProps",y(y({},c.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(Draggable$2);var _require=Draggable$2,Draggable$1=_require.default,DraggableCore=_require.DraggableCore;cjs.exports=Draggable$1;cjs.exports.default=Draggable$1;cjs.exports.DraggableCore=DraggableCore;var cjsExports=cjs.exports;const DraggableRoot=getDefaultExportFromCjs(cjsExports);var __extends$2=function(){var a=function(n,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(t[u]=s[u])},a(n,e)};return function(n,e){a(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),__assign$2=function(){return __assign$2=Object.assign||function(a){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},__assign$2.apply(this,arguments)},styles={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},Resizer=function(a){__extends$2(n,a);function n(){var e=a!==null&&a.apply(this,arguments)||this;return e.onMouseDown=function(t){e.props.onResizeStart(t,e.props.direction)},e.onTouchStart=function(t){e.props.onResizeStart(t,e.props.direction)},e}return n.prototype.render=function(){return reactExports.createElement("div",{className:this.props.className||"",style:__assign$2(__assign$2({position:"absolute",userSelect:"none"},styles[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},n}(reactExports.PureComponent),src={exports:{}};function memoize(a,n){var e=n&&n.cache?n.cache:cacheDefault,t=n&&n.serializer?n.serializer:serializerDefault,s=n&&n.strategy?n.strategy:strategyDefault;return s(a,{cache:e,serializer:t})}function isPrimitive(a){return a==null||typeof a=="number"||typeof a=="boolean"}function monadic(a,n,e,t){var s=isPrimitive(t)?t:e(t),u=n.get(s);return typeof u>"u"&&(u=a.call(this,t),n.set(s,u)),u}function variadic(a,n,e){var t=Array.prototype.slice.call(arguments,3),s=e(t),u=n.get(s);return typeof u>"u"&&(u=a.apply(this,t),n.set(s,u)),u}function assemble(a,n,e,t,s){return e.bind(n,a,t,s)}function strategyDefault(a,n){var e=a.length===1?monadic:variadic;return assemble(a,this,e,n.cache.create(),n.serializer)}function strategyVariadic(a,n){var e=variadic;return assemble(a,this,e,n.cache.create(),n.serializer)}function strategyMonadic(a,n){var e=monadic;return assemble(a,this,e,n.cache.create(),n.serializer)}function serializerDefault(){return JSON.stringify(arguments)}function ObjectWithoutPrototypeCache(){this.cache=Object.create(null)}ObjectWithoutPrototypeCache.prototype.has=function(a){return a in this.cache};ObjectWithoutPrototypeCache.prototype.get=function(a){return this.cache[a]};ObjectWithoutPrototypeCache.prototype.set=function(a,n){this.cache[a]=n};var cacheDefault={create:function a(){return new ObjectWithoutPrototypeCache}};src.exports=memoize;src.exports.strategies={variadic:strategyVariadic,monadic:strategyMonadic};var srcExports=src.exports;const memoize$1=getDefaultExportFromCjs(srcExports);var __extends$1=function(){var a=function(n,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(t[u]=s[u])},a(n,e)};return function(n,e){a(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),__assign$1=function(){return __assign$1=Object.assign||function(a){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},__assign$1.apply(this,arguments)},DEFAULT_SIZE={width:"auto",height:"auto"},clamp=memoize$1(function(a,n,e){return Math.max(Math.min(a,e),n)}),snap=memoize$1(function(a,n){return Math.round(a/n)*n}),hasDirection=memoize$1(function(a,n){return new RegExp(a,"i").test(n)}),isTouchEvent=function(a){return!!(a.touches&&a.touches.length)},isMouseEvent=function(a){return!!((a.clientX||a.clientX===0)&&(a.clientY||a.clientY===0))},findClosestSnap=memoize$1(function(a,n,e){e===void 0&&(e=0);var t=n.reduce(function(u,p,o){return Math.abs(p-a)<Math.abs(n[u]-a)?o:u},0),s=Math.abs(n[t]-a);return e===0||s<e?n[t]:a}),endsWith=memoize$1(function(a,n){return a.substr(a.length-n.length,n.length)===n}),getStringSize=memoize$1(function(a){return a=a.toString(),a==="auto"||endsWith(a,"px")||endsWith(a,"%")||endsWith(a,"vh")||endsWith(a,"vw")||endsWith(a,"vmax")||endsWith(a,"vmin")?a:a+"px"}),getPixelSize=function(a,n,e,t){if(a&&typeof a=="string"){if(endsWith(a,"px"))return Number(a.replace("px",""));if(endsWith(a,"%")){var s=Number(a.replace("%",""))/100;return n*s}if(endsWith(a,"vw")){var s=Number(a.replace("vw",""))/100;return e*s}if(endsWith(a,"vh")){var s=Number(a.replace("vh",""))/100;return t*s}}return a},calculateNewMax=memoize$1(function(a,n,e,t,s,u,p){return t=getPixelSize(t,a.width,n,e),s=getPixelSize(s,a.height,n,e),u=getPixelSize(u,a.width,n,e),p=getPixelSize(p,a.height,n,e),{maxWidth:typeof t>"u"?void 0:Number(t),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof u>"u"?void 0:Number(u),minHeight:typeof p>"u"?void 0:Number(p)}}),definedProps=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],baseClassName="__resizable_base__",Resizable=function(a){__extends$1(n,a);function n(e){var t=a.call(this,e)||this;return t.ratio=1,t.resizable=null,t.parentLeft=0,t.parentTop=0,t.resizableLeft=0,t.resizableRight=0,t.resizableTop=0,t.resizableBottom=0,t.targetLeft=0,t.targetTop=0,t.appendBase=function(){if(!t.resizable||!t.window)return null;var s=t.parentNode;if(!s)return null;var u=t.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(baseClassName):u.className+=baseClassName,s.appendChild(u),u},t.removeBase=function(s){var u=t.parentNode;u&&u.removeChild(s)},t.ref=function(s){s&&(t.resizable=s)},t.state={isResizing:!1,width:typeof(t.propsSize&&t.propsSize.width)>"u"?"auto":t.propsSize&&t.propsSize.width,height:typeof(t.propsSize&&t.propsSize.height)>"u"?"auto":t.propsSize&&t.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},t.onResizeStart=t.onResizeStart.bind(t),t.onMouseMove=t.onMouseMove.bind(t),t.onMouseUp=t.onMouseUp.bind(t),t}return Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||DEFAULT_SIZE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,u=this.resizable.offsetHeight,p=this.resizable.style.position;p!=="relative"&&(this.resizable.style.position="relative"),e=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,t=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:u,this.resizable.style.position=p}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,s=function(o){if(typeof e.state[o]>"u"||e.state[o]==="auto")return"auto";if(e.propsSize&&e.propsSize[o]&&endsWith(e.propsSize[o].toString(),"%")){if(endsWith(e.state[o].toString(),"%"))return e.state[o].toString();var _=e.getParentSize(),c=Number(e.state[o].toString().replace("px","")),d=c/_[o]*100;return d+"%"}return getStringSize(e.state[o])},u=t&&typeof t.width<"u"&&!this.state.isResizing?getStringSize(t.width):s("width"),p=t&&typeof t.height<"u"&&!this.state.isResizing?getStringSize(t.height):s("height");return{width:u,height:p}},enumerable:!1,configurable:!0}),n.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var u={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=s),this.removeBase(e),u},n.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},n.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},n.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:e.flexBasis!=="auto"?e.flexBasis:void 0})}},n.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},n.prototype.createSizeForCssProperty=function(e,t){var s=this.propsSize&&this.propsSize[t];return this.state[t]==="auto"&&this.state.original[t]===e&&(typeof s>"u"||s==="auto")?"auto":e},n.prototype.calculateNewMaxFromBoundary=function(e,t){var s=this.props.boundsByDirection,u=this.state.direction,p=s&&hasDirection("left",u),o=s&&hasDirection("top",u),_,c;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(_=p?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),c=o?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(_=p?this.resizableRight:this.window.innerWidth-this.resizableLeft,c=o?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(_=p?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),c=o?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return _&&Number.isFinite(_)&&(e=e&&e<_?e:_),c&&Number.isFinite(c)&&(t=t&&t<c?t:c),{maxWidth:e,maxHeight:t}},n.prototype.calculateNewSizeFromDirection=function(e,t){var s=this.props.scale||1,u=this.props.resizeRatio||1,p=this.state,o=p.direction,_=p.original,c=this.props,d=c.lockAspectRatio,T=c.lockAspectRatioExtraHeight,m=c.lockAspectRatioExtraWidth,v=_.width,S=_.height,w=T||0,x=m||0;return hasDirection("right",o)&&(v=_.width+(e-_.x)*u/s,d&&(S=(v-x)/this.ratio+w)),hasDirection("left",o)&&(v=_.width-(e-_.x)*u/s,d&&(S=(v-x)/this.ratio+w)),hasDirection("bottom",o)&&(S=_.height+(t-_.y)*u/s,d&&(v=(S-w)*this.ratio+x)),hasDirection("top",o)&&(S=_.height-(t-_.y)*u/s,d&&(v=(S-w)*this.ratio+x)),{newWidth:v,newHeight:S}},n.prototype.calculateNewSizeFromAspectRatio=function(e,t,s,u){var p=this.props,o=p.lockAspectRatio,_=p.lockAspectRatioExtraHeight,c=p.lockAspectRatioExtraWidth,d=typeof u.width>"u"?10:u.width,T=typeof s.width>"u"||s.width<0?e:s.width,m=typeof u.height>"u"?10:u.height,v=typeof s.height>"u"||s.height<0?t:s.height,S=_||0,w=c||0;if(o){var x=(m-S)*this.ratio+w,L=(v-S)*this.ratio+w,g=(d-w)/this.ratio+S,y=(T-w)/this.ratio+S,b=Math.max(d,x),l=Math.min(T,L),h=Math.max(m,g),A=Math.min(v,y);e=clamp(e,b,l),t=clamp(t,h,A)}else e=clamp(e,d,T),t=clamp(t,m,v);return{newWidth:e,newHeight:t}},n.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left,this.targetTop=s.top}if(this.resizable){var u=this.resizable.getBoundingClientRect(),p=u.left,o=u.top,_=u.right,c=u.bottom;this.resizableLeft=p,this.resizableRight=_,this.resizableTop=o,this.resizableBottom=c}},n.prototype.onResizeStart=function(e,t){if(!(!this.resizable||!this.window)){var s=0,u=0;if(e.nativeEvent&&isMouseEvent(e.nativeEvent)?(s=e.nativeEvent.clientX,u=e.nativeEvent.clientY):e.nativeEvent&&isTouchEvent(e.nativeEvent)&&(s=e.nativeEvent.touches[0].clientX,u=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var p=this.props.onResizeStart(e,t,this.resizable);if(p===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var o,_=this.window.getComputedStyle(this.resizable);if(_.flexBasis!=="auto"){var c=this.parentNode;if(c){var d=this.window.getComputedStyle(c).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",o=_.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var T={original:{x:s,y:u,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:__assign$1(__assign$1({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:o};this.setState(T)}},n.prototype.onMouseMove=function(e){if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&isTouchEvent(e))try{e.preventDefault(),e.stopPropagation()}catch{}var t=this.props,s=t.maxWidth,u=t.maxHeight,p=t.minWidth,o=t.minHeight,_=isTouchEvent(e)?e.touches[0].clientX:e.clientX,c=isTouchEvent(e)?e.touches[0].clientY:e.clientY,d=this.state,T=d.direction,m=d.original,v=d.width,S=d.height,w=this.getParentSize(),x=calculateNewMax(w,this.window.innerWidth,this.window.innerHeight,s,u,p,o);s=x.maxWidth,u=x.maxHeight,p=x.minWidth,o=x.minHeight;var L=this.calculateNewSizeFromDirection(_,c),g=L.newHeight,y=L.newWidth,b=this.calculateNewMaxFromBoundary(s,u);this.props.snap&&this.props.snap.x&&(y=findClosestSnap(y,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(g=findClosestSnap(g,this.props.snap.y,this.props.snapGap));var l=this.calculateNewSizeFromAspectRatio(y,g,{width:b.maxWidth,height:b.maxHeight},{width:p,height:o});if(y=l.newWidth,g=l.newHeight,this.props.grid){var h=snap(y,this.props.grid[0]),A=snap(g,this.props.grid[1]),P=this.props.snapGap||0;y=P===0||Math.abs(h-y)<=P?h:y,g=P===0||Math.abs(A-g)<=P?A:g}var R={width:y-m.width,height:g-m.height};if(v&&typeof v=="string"){if(endsWith(v,"%")){var k=y/w.width*100;y=k+"%"}else if(endsWith(v,"vw")){var F=y/this.window.innerWidth*100;y=F+"vw"}else if(endsWith(v,"vh")){var Y=y/this.window.innerHeight*100;y=Y+"vh"}}if(S&&typeof S=="string"){if(endsWith(S,"%")){var k=g/w.height*100;g=k+"%"}else if(endsWith(S,"vw")){var F=g/this.window.innerWidth*100;g=F+"vw"}else if(endsWith(S,"vh")){var Y=g/this.window.innerHeight*100;g=Y+"vh"}}var B={width:this.createSizeForCssProperty(y,"width"),height:this.createSizeForCssProperty(g,"height")};this.flexDir==="row"?B.flexBasis=B.width:this.flexDir==="column"&&(B.flexBasis=B.height),this.setState(B),this.props.onResize&&this.props.onResize(e,T,this.resizable,R)}},n.prototype.onMouseUp=function(e){var t=this.state,s=t.isResizing,u=t.direction,p=t.original;if(!(!s||!this.resizable)){var o={width:this.size.width-p.width,height:this.size.height-p.height};this.props.onResizeStop&&this.props.onResizeStop(e,u,this.resizable,o),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:__assign$1(__assign$1({},this.state.backgroundStyle),{cursor:"auto"})})}},n.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},n.prototype.renderResizer=function(){var e=this,t=this.props,s=t.enable,u=t.handleStyles,p=t.handleClasses,o=t.handleWrapperStyle,_=t.handleWrapperClass,c=t.handleComponent;if(!s)return null;var d=Object.keys(s).map(function(T){return s[T]!==!1?reactExports.createElement(Resizer,{key:T,direction:T,onResizeStart:e.onResizeStart,replaceStyles:u&&u[T],className:p&&p[T]},c&&c[T]?c[T]:null):null});return reactExports.createElement("div",{className:_,style:o},d)},n.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce(function(p,o){return definedProps.indexOf(o)!==-1||(p[o]=e.props[o]),p},{}),s=__assign$1(__assign$1(__assign$1({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var u=this.props.as||"div";return reactExports.createElement(u,__assign$1({ref:this.ref,style:s,className:this.props.className},t),this.state.isResizing&&reactExports.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},n.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},n}(reactExports.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(a,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])},extendStatics(a,n)};function __extends(a,n){extendStatics(a,n);function e(){this.constructor=a}a.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var __assign=function(){return __assign=Object.assign||function(n){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(n[u]=e[u])}return n},__assign.apply(this,arguments)};function __rest(a,n){var e={};for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&n.indexOf(t)<0&&(e[t]=a[t]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(a);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(a,t[s])&&(e[t[s]]=a[t[s]]);return e}var Draggable=DraggableRoot,resizableStyle={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},getEnableResizingByFlag=function(a){return{bottom:a,bottomLeft:a,bottomRight:a,left:a,right:a,top:a,topLeft:a,topRight:a}},Rnd=function(a){__extends(n,a);function n(e){var t=a.call(this,e)||this;return t.resizingPosition={x:0,y:0},t.offsetFromParent={left:0,top:0},t.resizableElement={current:null},t.originalPosition={x:0,y:0},t.refDraggable=function(s){s&&(t.draggable=s)},t.refResizable=function(s){s&&(t.resizable=s,t.resizableElement.current=s.resizable)},t.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:e.maxWidth,maxHeight:e.maxHeight},t.onResizeStart=t.onResizeStart.bind(t),t.onResize=t.onResize.bind(t),t.onResizeStop=t.onResizeStop.bind(t),t.onDragStart=t.onDragStart.bind(t),t.onDrag=t.onDrag.bind(t),t.onDragStop=t.onDragStop.bind(t),t.getMaxSizesFromProps=t.getMaxSizesFromProps.bind(t),t}return n.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,s=e.top,u=this.getDraggablePosition(),p=u.x,o=u.y;this.draggable.setState({x:p-t,y:o-s}),this.forceUpdate()},n.prototype.getDraggablePosition=function(){var e=this.draggable.state,t=e.x,s=e.y;return{x:t,y:s}},n.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},n.prototype.getParentSize=function(){return this.resizable.getParentSize()},n.prototype.getMaxSizesFromProps=function(){var e=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,t=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:e,maxHeight:t}},n.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},n.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},n.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},n.prototype.onDragStart=function(e,t){this.props.onDragStart&&this.props.onDragStart(e,t);var s=this.getDraggablePosition();if(this.originalPosition=s,!!this.props.bounds){var u=this.getParent(),p=this.props.scale,o;if(this.props.bounds==="parent")o=u;else if(this.props.bounds==="body"){var _=u.getBoundingClientRect(),c=_.left,d=_.top,T=document.body.getBoundingClientRect(),m=-(c-u.offsetLeft*p-T.left)/p,v=-(d-u.offsetTop*p-T.top)/p,S=(document.body.offsetWidth-this.resizable.size.width*p)/p+m,w=(document.body.offsetHeight-this.resizable.size.height*p)/p+v;return this.setState({bounds:{top:v,right:S,bottom:w,left:m}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var x=u.getBoundingClientRect(),L=x.left,g=x.top,y=-(L-u.offsetLeft*p)/p,b=-(g-u.offsetTop*p)/p,S=(window.innerWidth-this.resizable.size.width*p)/p+y,w=(window.innerHeight-this.resizable.size.height*p)/p+b;return this.setState({bounds:{top:b,right:S,bottom:w,left:y}})}else typeof this.props.bounds=="string"?o=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(o=this.props.bounds);if(!(!(o instanceof HTMLElement)||!(u instanceof HTMLElement))){var l=o.getBoundingClientRect(),h=l.left,A=l.top,P=u.getBoundingClientRect(),R=P.left,k=P.top,F=(h-R)/p,Y=A-k;if(this.resizable){this.updateOffsetFromParent();var B=this.offsetFromParent;this.setState({bounds:{top:Y-B.top,right:F+(o.offsetWidth-this.resizable.size.width)-B.left/p,bottom:Y+(o.offsetHeight-this.resizable.size.height)-B.top,left:F-B.left/p}})}}}},n.prototype.onDrag=function(e,t){if(this.props.onDrag){var s=this.offsetFromParent,u=s.left,p=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(e,__assign(__assign({},t),{x:t.x-u,y:t.y-p}));if(this.props.dragAxis==="x")return this.props.onDrag(e,__assign(__assign({},t),{x:t.x+u,y:this.originalPosition.y+p,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(e,__assign(__assign({},t),{x:this.originalPosition.x+u,y:t.y+p,deltaX:0}))}},n.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var s=this.offsetFromParent,u=s.left,p=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(e,__assign(__assign({},t),{x:t.x+u,y:t.y+p}));if(this.props.dragAxis==="x")return this.props.onDragStop(e,__assign(__assign({},t),{x:t.x+u,y:this.originalPosition.y+p,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(e,__assign(__assign({},t),{x:this.originalPosition.x+u,y:t.y+p,deltaX:0}))}},n.prototype.onResizeStart=function(e,t,s){e.stopPropagation(),this.setState({resizing:!0});var u=this.props.scale,p=this.offsetFromParent,o=this.getDraggablePosition();if(this.resizingPosition={x:o.x+p.left,y:o.y+p.top},this.originalPosition=o,this.props.bounds){var _=this.getParent(),c=void 0;this.props.bounds==="parent"?c=_:this.props.bounds==="body"?c=document.body:this.props.bounds==="window"?c=window:typeof this.props.bounds=="string"?c=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(c=this.props.bounds);var d=this.getSelfElement();if(d instanceof Element&&(c instanceof HTMLElement||c===window)&&_ instanceof HTMLElement){var T=this.getMaxSizesFromProps(),m=T.maxWidth,v=T.maxHeight,S=this.getParentSize();if(m&&typeof m=="string")if(m.endsWith("%")){var w=Number(m.replace("%",""))/100;m=S.width*w}else m.endsWith("px")&&(m=Number(m.replace("px","")));if(v&&typeof v=="string")if(v.endsWith("%")){var w=Number(v.replace("%",""))/100;v=S.width*w}else v.endsWith("px")&&(v=Number(v.replace("px","")));var x=d.getBoundingClientRect(),L=x.left,g=x.top,y=this.props.bounds==="window"?{left:0,top:0}:c.getBoundingClientRect(),b=y.left,l=y.top,h=this.getOffsetWidth(c),A=this.getOffsetHeight(c),P=t.toLowerCase().endsWith("left"),R=t.toLowerCase().endsWith("right"),k=t.startsWith("top"),F=t.startsWith("bottom");if((P||k)&&this.resizable){var Y=(L-b)/u+this.resizable.size.width;this.setState({maxWidth:Y>Number(m)?m:Y})}if(R||this.props.lockAspectRatio&&!P&&!k){var Y=h+(b-L)/u;this.setState({maxWidth:Y>Number(m)?m:Y})}if((k||P)&&this.resizable){var Y=(g-l)/u+this.resizable.size.height;this.setState({maxHeight:Y>Number(v)?v:Y})}if(F||this.props.lockAspectRatio&&!k&&!P){var Y=A+(l-g)/u;this.setState({maxHeight:Y>Number(v)?v:Y})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,s)},n.prototype.onResize=function(e,t,s,u){var p={x:this.originalPosition.x,y:this.originalPosition.y},o=-u.width,_=-u.height,c=["top","left","topLeft","bottomLeft","topRight"];c.indexOf(t)!==-1&&(t==="bottomLeft"?p.x+=o:(t==="topRight"||(p.x+=o),p.y+=_)),(p.x!==this.draggable.state.x||p.y!==this.draggable.state.y)&&this.draggable.setState(p),this.updateOffsetFromParent();var d=this.offsetFromParent,T=this.getDraggablePosition().x+d.left,m=this.getDraggablePosition().y+d.top;this.resizingPosition={x:T,y:m},this.props.onResize&&this.props.onResize(e,t,s,u,{x:T,y:m})},n.prototype.onResizeStop=function(e,t,s,u){this.setState({resizing:!1});var p=this.getMaxSizesFromProps(),o=p.maxWidth,_=p.maxHeight;this.setState({maxWidth:o,maxHeight:_}),this.props.onResizeStop&&this.props.onResizeStop(e,t,s,u,this.resizingPosition)},n.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},n.prototype.updatePosition=function(e){this.draggable.setState(e)},n.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),s=this.getSelfElement();if(!t||s===null)return{top:0,left:0};var u=t.getBoundingClientRect(),p=u.left,o=u.top,_=s.getBoundingClientRect(),c=this.getDraggablePosition(),d=t.scrollLeft,T=t.scrollTop;this.offsetFromParent={left:_.left-p+d-c.x*e,top:_.top-o+T-c.y*e}},n.prototype.render=function(){var e=this.props,t=e.disableDragging,s=e.style,u=e.dragHandleClassName,p=e.position,o=e.onMouseDown,_=e.onMouseUp,c=e.dragAxis,d=e.dragGrid,T=e.bounds,m=e.enableUserSelectHack,v=e.cancel,S=e.children;e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop;var w=e.resizeHandleStyles,x=e.resizeHandleClasses,L=e.resizeHandleComponent,g=e.enableResizing,y=e.resizeGrid,b=e.resizeHandleWrapperClass,l=e.resizeHandleWrapperStyle,h=e.scale,A=e.allowAnyClick,P=__rest(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),R=this.props.default?__assign({},this.props.default):void 0;delete P.default;var k=t||u?{cursor:"auto"}:{cursor:"move"},F=__assign(__assign(__assign({},resizableStyle),k),s),Y=this.offsetFromParent,B=Y.left,j=Y.top,$;p&&($={x:p.x-B,y:p.y-j});var U=this.state.resizing?void 0:$,W=this.state.resizing?"both":c;return reactExports.createElement(Draggable,{ref:this.refDraggable,handle:u?".".concat(u):void 0,defaultPosition:R,onMouseDown:o,onMouseUp:_,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:W,disabled:t,grid:d,bounds:T?this.state.bounds:void 0,position:U,enableUserSelectHack:m,cancel:v,scale:h,allowAnyClick:A,nodeRef:this.resizableElement},reactExports.createElement(Resizable,__assign({},P,{ref:this.refResizable,defaultSize:R,size:this.props.size,enable:typeof g=="boolean"?getEnableResizingByFlag(g):g,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:F,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:y,handleWrapperClass:b,handleWrapperStyle:l,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:w,handleClasses:x,handleComponent:L,scale:this.props.scale}),S))},n.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},n}(reactExports.PureComponent);class AreaHighlight extends reactExports.Component{render(){const{highlight:n,onChange:e,isScrolledTo:t,...s}=this.props;return jsxRuntimeExports.jsx("div",{className:`AreaHighlight ${t?"AreaHighlight--scrolledTo":""}`,children:jsxRuntimeExports.jsx(Rnd,{className:"AreaHighlight__part",onDragStop:(u,p)=>{const o={...n.position.boundingRect,top:p.y,left:p.x};e(o)},onResizeStop:(u,p,o,_,c)=>{var T;const d={top:c.y,left:c.x,width:o.offsetWidth,height:o.offsetHeight,pageNumber:((T=getPageFromElement(o))==null?void 0:T.number)||-1};e(d)},position:{x:n.position.boundingRect.left,y:n.position.boundingRect.top},size:{width:n.position.boundingRect.width,height:n.position.boundingRect.height},onClick:u=>{u.stopPropagation(),u.preventDefault()},...s})})}}var pdfExports=requirePdf();class PdfLoader extends reactExports.Component{constructor(){super(...arguments);Je(this,"state",{pdfDocument:null,error:null});Je(this,"documentRef",reactExports.createRef())}componentDidMount(){this.load()}componentWillUnmount(){const{pdfDocument:e}=this.state;e&&e.destroy()}componentDidUpdate({url:e}){this.props.url!==e&&this.load()}componentDidCatch(e){const{onError:t}=this.props;t&&t(e),this.setState({pdfDocument:null,error:e})}load(){const{ownerDocument:e=document}=this.documentRef.current||{},{url:t,cMapUrl:s,cMapPacked:u,workerSrc:p}=this.props,{pdfDocument:o}=this.state;this.setState({pdfDocument:null,error:null}),typeof p=="string"&&(pdfExports.GlobalWorkerOptions.workerSrc=p),Promise.resolve().then(()=>o&&o.destroy()).then(()=>{if(t)return pdfExports.getDocument({...this.props,ownerDocument:e,cMapUrl:s,cMapPacked:u}).promise.then(_=>{this.setState({pdfDocument:_})})}).catch(_=>this.componentDidCatch(_))}render(){const{children:e,beforeLoad:t}=this.props,{pdfDocument:s,error:u}=this.state;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{ref:this.documentRef}),u?this.renderError():!s||!e?t:e(s)]})}renderError(){const{errorMessage:e}=this.props;return e?reactExports.cloneElement(e,{error:this.state.error}):null}}Je(PdfLoader,"defaultProps",{workerSrc:"https://unpkg.com/pdfjs-dist@2.16.105/build/pdf.worker.min.js"});function $e42e1063c40fb3ef$export$b9ecd428b558ff10(a,n,{checkForDefaultPrevented:e=!0}={}){return function(s){if(a==null||a(s),e===!1||!s.defaultPrevented)return n==null?void 0:n(s)}}function $c512c27ab02ef895$export$50c7b4e9d9f19c1(a,n=[]){let e=[];function t(u,p){const o=reactExports.createContext(p),_=e.length;e=[...e,p];function c(T){const{scope:m,children:v,...S}=T,w=(m==null?void 0:m[a][_])||o,x=reactExports.useMemo(()=>S,Object.values(S));return reactExports.createElement(w.Provider,{value:x},v)}function d(T,m){const v=(m==null?void 0:m[a][_])||o,S=reactExports.useContext(v);if(S)return S;if(p!==void 0)return p;throw new Error(`\`${T}\` must be used within \`${u}\``)}return c.displayName=u+"Provider",[c,d]}const s=()=>{const u=e.map(p=>reactExports.createContext(p));return function(o){const _=(o==null?void 0:o[a])||u;return reactExports.useMemo(()=>({[`__scope${a}`]:{...o,[a]:_}}),[o,_])}};return s.scopeName=a,[t,$c512c27ab02ef895$var$composeContextScopes(s,...n)]}function $c512c27ab02ef895$var$composeContextScopes(...a){const n=a[0];if(a.length===1)return n;const e=()=>{const t=a.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(u){const p=t.reduce((o,{useScope:_,scopeName:c})=>{const T=_(u)[`__scope${c}`];return{...o,...T}},{});return reactExports.useMemo(()=>({[`__scope${n.scopeName}`]:p}),[p])}};return e.scopeName=n.scopeName,e}const $9f79659886946c16$export$e5c5a5f917a5871c=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{};function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(a){const n=reactExports.useRef(a);return reactExports.useEffect(()=>{n.current=a}),reactExports.useMemo(()=>(...e)=>{var t;return(t=n.current)===null||t===void 0?void 0:t.call(n,...e)},[])}function $fe963b355347cc68$export$3e6543de14f8614f(a,n){return reactExports.useReducer((e,t)=>{const s=n[e][t];return s??e},a)}const $921a889cee6df7e8$export$99c2b779aa4e8b8b=a=>{const{present:n,children:e}=a,t=$921a889cee6df7e8$var$usePresence(n),s=typeof e=="function"?e({present:t.isPresent}):reactExports.Children.only(e),u=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(t.ref,s.ref);return typeof e=="function"||t.isPresent?reactExports.cloneElement(s,{ref:u}):null};$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence";function $921a889cee6df7e8$var$usePresence(a){const[n,e]=reactExports.useState(),t=reactExports.useRef({}),s=reactExports.useRef(a),u=reactExports.useRef("none"),p=a?"mounted":"unmounted",[o,_]=$fe963b355347cc68$export$3e6543de14f8614f(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const c=$921a889cee6df7e8$var$getAnimationName(t.current);u.current=o==="mounted"?c:"none"},[o]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{const c=t.current,d=s.current;if(d!==a){const m=u.current,v=$921a889cee6df7e8$var$getAnimationName(c);a?_("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?_("UNMOUNT"):_(d&&m!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=a}},[a,_]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(n){const c=T=>{const v=$921a889cee6df7e8$var$getAnimationName(t.current).includes(T.animationName);T.target===n&&v&&reactDomExports.flushSync(()=>_("ANIMATION_END"))},d=T=>{T.target===n&&(u.current=$921a889cee6df7e8$var$getAnimationName(t.current))};return n.addEventListener("animationstart",d),n.addEventListener("animationcancel",c),n.addEventListener("animationend",c),()=>{n.removeEventListener("animationstart",d),n.removeEventListener("animationcancel",c),n.removeEventListener("animationend",c)}}else _("ANIMATION_END")},[n,_]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:reactExports.useCallback(c=>{c&&(t.current=getComputedStyle(c)),e(c)},[])}}function $921a889cee6df7e8$var$getAnimationName(a){return(a==null?void 0:a.animationName)||"none"}function $ae6933e535247d3d$export$7d15b64cf5a3a4c4(a,[n,e]){return Math.min(e,Math.max(n,a))}const $f631663db3294ace$var$DirectionContext=reactExports.createContext(void 0);function $f631663db3294ace$export$b39126d51d94e6f3(a){const n=reactExports.useContext($f631663db3294ace$var$DirectionContext);return a||n||"ltr"}function $6c2e24571c90391f$export$3e6543de14f8614f(a,n){return reactExports.useReducer((e,t)=>{const s=n[e][t];return s??e},a)}const $57acba87d6e25586$var$SCROLL_AREA_NAME="ScrollArea",[$57acba87d6e25586$var$createScrollAreaContext,$57acba87d6e25586$export$488468afe3a6f2b1]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($57acba87d6e25586$var$SCROLL_AREA_NAME),[$57acba87d6e25586$var$ScrollAreaProvider,$57acba87d6e25586$var$useScrollAreaContext]=$57acba87d6e25586$var$createScrollAreaContext($57acba87d6e25586$var$SCROLL_AREA_NAME),$57acba87d6e25586$export$ccf8d8d7bbf3c2cc=reactExports.forwardRef((a,n)=>{const{__scopeScrollArea:e,type:t="hover",dir:s,scrollHideDelay:u=600,...p}=a,[o,_]=reactExports.useState(null),[c,d]=reactExports.useState(null),[T,m]=reactExports.useState(null),[v,S]=reactExports.useState(null),[w,x]=reactExports.useState(null),[L,g]=reactExports.useState(0),[y,b]=reactExports.useState(0),[l,h]=reactExports.useState(!1),[A,P]=reactExports.useState(!1),R=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(n,F=>_(F)),k=$f631663db3294ace$export$b39126d51d94e6f3(s);return reactExports.createElement($57acba87d6e25586$var$ScrollAreaProvider,{scope:e,type:t,dir:k,scrollHideDelay:u,scrollArea:o,viewport:c,onViewportChange:d,content:T,onContentChange:m,scrollbarX:v,onScrollbarXChange:S,scrollbarXEnabled:l,onScrollbarXEnabledChange:h,scrollbarY:w,onScrollbarYChange:x,scrollbarYEnabled:A,onScrollbarYEnabledChange:P,onCornerWidthChange:g,onCornerHeightChange:b},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({dir:k},p,{ref:R,style:{position:"relative","--radix-scroll-area-corner-width":L+"px","--radix-scroll-area-corner-height":y+"px",...a.style}})))}),$57acba87d6e25586$var$VIEWPORT_NAME="ScrollAreaViewport",$57acba87d6e25586$export$a21cbf9f11fca853=reactExports.forwardRef((a,n)=>{const{__scopeScrollArea:e,children:t,...s}=a,u=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$VIEWPORT_NAME,e),p=reactExports.useRef(null),o=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(n,p,u.onViewportChange);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({"data-radix-scroll-area-viewport":""},s,{ref:o,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...a.style}}),reactExports.createElement("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"}},t)))}),$57acba87d6e25586$var$SCROLLBAR_NAME="ScrollAreaScrollbar",$57acba87d6e25586$export$2fabd85d0eba3c57=reactExports.forwardRef((a,n)=>{const{forceMount:e,...t}=a,s=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,a.__scopeScrollArea),{onScrollbarXEnabledChange:u,onScrollbarYEnabledChange:p}=s,o=a.orientation==="horizontal";return reactExports.useEffect(()=>(o?u(!0):p(!0),()=>{o?u(!1):p(!1)}),[o,u,p]),s.type==="hover"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarHover,_extends({},t,{ref:n,forceMount:e})):s.type==="scroll"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarScroll,_extends({},t,{ref:n,forceMount:e})):s.type==="auto"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarAuto,_extends({},t,{ref:n,forceMount:e})):s.type==="always"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarVisible,_extends({},t,{ref:n})):null}),$57acba87d6e25586$var$ScrollAreaScrollbarHover=reactExports.forwardRef((a,n)=>{const{forceMount:e,...t}=a,s=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,a.__scopeScrollArea),[u,p]=reactExports.useState(!1);return reactExports.useEffect(()=>{const o=s.scrollArea;let _=0;if(o){const c=()=>{window.clearTimeout(_),p(!0)},d=()=>{_=window.setTimeout(()=>p(!1),s.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(_),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:e||u},reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarAuto,_extends({"data-state":u?"visible":"hidden"},t,{ref:n})))}),$57acba87d6e25586$var$ScrollAreaScrollbarScroll=reactExports.forwardRef((a,n)=>{const{forceMount:e,...t}=a,s=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,a.__scopeScrollArea),u=a.orientation==="horizontal",p=$57acba87d6e25586$var$useDebounceCallback(()=>_("SCROLL_END"),100),[o,_]=$6c2e24571c90391f$export$3e6543de14f8614f("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>_("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,s.scrollHideDelay,_]),reactExports.useEffect(()=>{const c=s.viewport,d=u?"scrollLeft":"scrollTop";if(c){let T=c[d];const m=()=>{const v=c[d];T!==v&&(_("SCROLL"),p()),T=v};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[s.viewport,u,_,p]),reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:e||o!=="hidden"},reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarVisible,_extends({"data-state":o==="hidden"?"hidden":"visible"},t,{ref:n,onPointerEnter:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onPointerEnter,()=>_("POINTER_ENTER")),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onPointerLeave,()=>_("POINTER_LEAVE"))})))}),$57acba87d6e25586$var$ScrollAreaScrollbarAuto=reactExports.forwardRef((a,n)=>{const e=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,a.__scopeScrollArea),{forceMount:t,...s}=a,[u,p]=reactExports.useState(!1),o=a.orientation==="horizontal",_=$57acba87d6e25586$var$useDebounceCallback(()=>{if(e.viewport){const c=e.viewport.offsetWidth<e.viewport.scrollWidth,d=e.viewport.offsetHeight<e.viewport.scrollHeight;p(o?c:d)}},10);return $57acba87d6e25586$var$useResizeObserver(e.viewport,_),$57acba87d6e25586$var$useResizeObserver(e.content,_),reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:t||u},reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarVisible,_extends({"data-state":u?"visible":"hidden"},s,{ref:n})))}),$57acba87d6e25586$var$ScrollAreaScrollbarVisible=reactExports.forwardRef((a,n)=>{const{orientation:e="vertical",...t}=a,s=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,a.__scopeScrollArea),u=reactExports.useRef(null),p=reactExports.useRef(0),[o,_]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=$57acba87d6e25586$var$getThumbRatio(o.viewport,o.content),d={...t,sizes:o,onSizesChange:_,hasThumb:c>0&&c<1,onThumbChange:m=>u.current=m,onThumbPointerUp:()=>p.current=0,onThumbPointerDown:m=>p.current=m};function T(m,v){return $57acba87d6e25586$var$getScrollPositionFromPointer(m,p.current,o,v)}return e==="horizontal"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarX,_extends({},d,{ref:n,onThumbPositionChange:()=>{if(s.viewport&&u.current){const m=s.viewport.scrollLeft,v=$57acba87d6e25586$var$getThumbOffsetFromScroll(m,o,s.dir);u.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=T(m,s.dir))}})):e==="vertical"?reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarY,_extends({},d,{ref:n,onThumbPositionChange:()=>{if(s.viewport&&u.current){const m=s.viewport.scrollTop,v=$57acba87d6e25586$var$getThumbOffsetFromScroll(m,o);u.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=T(m))}})):null}),$57acba87d6e25586$var$ScrollAreaScrollbarX=reactExports.forwardRef((a,n)=>{const{sizes:e,onSizesChange:t,...s}=a,u=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,a.__scopeScrollArea),[p,o]=reactExports.useState(),_=reactExports.useRef(null),c=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(n,_,u.onScrollbarXChange);return reactExports.useEffect(()=>{_.current&&o(getComputedStyle(_.current))},[_]),reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarImpl,_extends({"data-orientation":"horizontal"},s,{ref:c,sizes:e,style:{bottom:0,left:u.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:u.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$57acba87d6e25586$var$getThumbSize(e)+"px",...a.style},onThumbPointerDown:d=>a.onThumbPointerDown(d.x),onDragScroll:d=>a.onDragScroll(d.x),onWheelScroll:(d,T)=>{if(u.viewport){const m=u.viewport.scrollLeft+d.deltaX;a.onWheelScroll(m),$57acba87d6e25586$var$isScrollingWithinScrollbarBounds(m,T)&&d.preventDefault()}},onResize:()=>{_.current&&u.viewport&&p&&t({content:u.viewport.scrollWidth,viewport:u.viewport.offsetWidth,scrollbar:{size:_.current.clientWidth,paddingStart:$57acba87d6e25586$var$toInt(p.paddingLeft),paddingEnd:$57acba87d6e25586$var$toInt(p.paddingRight)}})}}))}),$57acba87d6e25586$var$ScrollAreaScrollbarY=reactExports.forwardRef((a,n)=>{const{sizes:e,onSizesChange:t,...s}=a,u=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,a.__scopeScrollArea),[p,o]=reactExports.useState(),_=reactExports.useRef(null),c=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(n,_,u.onScrollbarYChange);return reactExports.useEffect(()=>{_.current&&o(getComputedStyle(_.current))},[_]),reactExports.createElement($57acba87d6e25586$var$ScrollAreaScrollbarImpl,_extends({"data-orientation":"vertical"},s,{ref:c,sizes:e,style:{top:0,right:u.dir==="ltr"?0:void 0,left:u.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$57acba87d6e25586$var$getThumbSize(e)+"px",...a.style},onThumbPointerDown:d=>a.onThumbPointerDown(d.y),onDragScroll:d=>a.onDragScroll(d.y),onWheelScroll:(d,T)=>{if(u.viewport){const m=u.viewport.scrollTop+d.deltaY;a.onWheelScroll(m),$57acba87d6e25586$var$isScrollingWithinScrollbarBounds(m,T)&&d.preventDefault()}},onResize:()=>{_.current&&u.viewport&&p&&t({content:u.viewport.scrollHeight,viewport:u.viewport.offsetHeight,scrollbar:{size:_.current.clientHeight,paddingStart:$57acba87d6e25586$var$toInt(p.paddingTop),paddingEnd:$57acba87d6e25586$var$toInt(p.paddingBottom)}})}}))}),[$57acba87d6e25586$var$ScrollbarProvider,$57acba87d6e25586$var$useScrollbarContext]=$57acba87d6e25586$var$createScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME),$57acba87d6e25586$var$ScrollAreaScrollbarImpl=reactExports.forwardRef((a,n)=>{const{__scopeScrollArea:e,sizes:t,hasThumb:s,onThumbChange:u,onThumbPointerUp:p,onThumbPointerDown:o,onThumbPositionChange:_,onDragScroll:c,onWheelScroll:d,onResize:T,...m}=a,v=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$SCROLLBAR_NAME,e),[S,w]=reactExports.useState(null),x=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(n,R=>w(R)),L=reactExports.useRef(null),g=reactExports.useRef(""),y=v.viewport,b=t.content-t.viewport,l=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(d),h=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(_),A=$57acba87d6e25586$var$useDebounceCallback(T,10);function P(R){if(L.current){const k=R.clientX-L.current.left,F=R.clientY-L.current.top;c({x:k,y:F})}}return reactExports.useEffect(()=>{const R=k=>{const F=k.target;(S==null?void 0:S.contains(F))&&l(k,b)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[y,S,b,l]),reactExports.useEffect(h,[t,h]),$57acba87d6e25586$var$useResizeObserver(S,A),$57acba87d6e25586$var$useResizeObserver(v.content,A),reactExports.createElement($57acba87d6e25586$var$ScrollbarProvider,{scope:e,scrollbar:S,hasThumb:s,onThumbChange:$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(u),onThumbPointerUp:$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(p),onThumbPositionChange:h,onThumbPointerDown:$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(o)},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({},m,{ref:x,style:{position:"absolute",...m.style},onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),L.current=S.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),P(R))}),onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onPointerMove,P),onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onPointerUp,R=>{const k=R.target;k.hasPointerCapture(R.pointerId)&&k.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=g.current,v.viewport&&(v.viewport.style.scrollBehavior=""),L.current=null})})))}),$57acba87d6e25586$var$THUMB_NAME="ScrollAreaThumb",$57acba87d6e25586$export$9fba1154677d7cd2=reactExports.forwardRef((a,n)=>{const{forceMount:e,...t}=a,s=$57acba87d6e25586$var$useScrollbarContext($57acba87d6e25586$var$THUMB_NAME,a.__scopeScrollArea);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:e||s.hasThumb},reactExports.createElement($57acba87d6e25586$var$ScrollAreaThumbImpl,_extends({ref:n},t)))}),$57acba87d6e25586$var$ScrollAreaThumbImpl=reactExports.forwardRef((a,n)=>{const{__scopeScrollArea:e,style:t,...s}=a,u=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$THUMB_NAME,e),p=$57acba87d6e25586$var$useScrollbarContext($57acba87d6e25586$var$THUMB_NAME,e),{onThumbPositionChange:o}=p,_=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(n,T=>p.onThumbChange(T)),c=reactExports.useRef(),d=$57acba87d6e25586$var$useDebounceCallback(()=>{c.current&&(c.current(),c.current=void 0)},100);return reactExports.useEffect(()=>{const T=u.viewport;if(T){const m=()=>{if(d(),!c.current){const v=$57acba87d6e25586$var$addUnlinkedScrollListener(T,o);c.current=v,o()}};return o(),T.addEventListener("scroll",m),()=>T.removeEventListener("scroll",m)}},[u.viewport,d,o]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({"data-state":p.hasThumb?"visible":"hidden"},s,{ref:_,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...t},onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onPointerDownCapture,T=>{const v=T.target.getBoundingClientRect(),S=T.clientX-v.left,w=T.clientY-v.top;p.onThumbPointerDown({x:S,y:w})}),onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(a.onPointerUp,p.onThumbPointerUp)}))}),$57acba87d6e25586$var$CORNER_NAME="ScrollAreaCorner",$57acba87d6e25586$export$56969d565df7cc4b=reactExports.forwardRef((a,n)=>{const e=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$CORNER_NAME,a.__scopeScrollArea),t=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&t?reactExports.createElement($57acba87d6e25586$var$ScrollAreaCornerImpl,_extends({},a,{ref:n})):null}),$57acba87d6e25586$var$ScrollAreaCornerImpl=reactExports.forwardRef((a,n)=>{const{__scopeScrollArea:e,...t}=a,s=$57acba87d6e25586$var$useScrollAreaContext($57acba87d6e25586$var$CORNER_NAME,e),[u,p]=reactExports.useState(0),[o,_]=reactExports.useState(0),c=!!(u&&o);return $57acba87d6e25586$var$useResizeObserver(s.scrollbarX,()=>{var d;const T=((d=s.scrollbarX)===null||d===void 0?void 0:d.offsetHeight)||0;s.onCornerHeightChange(T),_(T)}),$57acba87d6e25586$var$useResizeObserver(s.scrollbarY,()=>{var d;const T=((d=s.scrollbarY)===null||d===void 0?void 0:d.offsetWidth)||0;s.onCornerWidthChange(T),p(T)}),c?reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends({},t,{ref:n,style:{width:u,height:o,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...a.style}})):null});function $57acba87d6e25586$var$toInt(a){return a?parseInt(a,10):0}function $57acba87d6e25586$var$getThumbRatio(a,n){const e=a/n;return isNaN(e)?0:e}function $57acba87d6e25586$var$getThumbSize(a){const n=$57acba87d6e25586$var$getThumbRatio(a.viewport,a.content),e=a.scrollbar.paddingStart+a.scrollbar.paddingEnd,t=(a.scrollbar.size-e)*n;return Math.max(t,18)}function $57acba87d6e25586$var$getScrollPositionFromPointer(a,n,e,t="ltr"){const s=$57acba87d6e25586$var$getThumbSize(e),u=s/2,p=n||u,o=s-p,_=e.scrollbar.paddingStart+p,c=e.scrollbar.size-e.scrollbar.paddingEnd-o,d=e.content-e.viewport,T=t==="ltr"?[0,d]:[d*-1,0];return $57acba87d6e25586$var$linearScale([_,c],T)(a)}function $57acba87d6e25586$var$getThumbOffsetFromScroll(a,n,e="ltr"){const t=$57acba87d6e25586$var$getThumbSize(n),s=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,u=n.scrollbar.size-s,p=n.content-n.viewport,o=u-t,_=e==="ltr"?[0,p]:[p*-1,0],c=$ae6933e535247d3d$export$7d15b64cf5a3a4c4(a,_);return $57acba87d6e25586$var$linearScale([0,p],[0,o])(c)}function $57acba87d6e25586$var$linearScale(a,n){return e=>{if(a[0]===a[1]||n[0]===n[1])return n[0];const t=(n[1]-n[0])/(a[1]-a[0]);return n[0]+t*(e-a[0])}}function $57acba87d6e25586$var$isScrollingWithinScrollbarBounds(a,n){return a>0&&a<n}const $57acba87d6e25586$var$addUnlinkedScrollListener=(a,n=()=>{})=>{let e={left:a.scrollLeft,top:a.scrollTop},t=0;return function s(){const u={left:a.scrollLeft,top:a.scrollTop},p=e.left!==u.left,o=e.top!==u.top;(p||o)&&n(),e=u,t=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(t)};function $57acba87d6e25586$var$useDebounceCallback(a,n){const e=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(a),t=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(t.current),[]),reactExports.useCallback(()=>{window.clearTimeout(t.current),t.current=window.setTimeout(e,n)},[e,n])}function $57acba87d6e25586$var$useResizeObserver(a,n){const e=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(n);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{let t=0;if(a){const s=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(e)});return s.observe(a),()=>{window.cancelAnimationFrame(t),s.unobserve(a)}}},[a,e])}const $57acba87d6e25586$export$be92b6f5f03c0fe9=$57acba87d6e25586$export$ccf8d8d7bbf3c2cc,$57acba87d6e25586$export$d5c6c08dc2d3ca7=$57acba87d6e25586$export$a21cbf9f11fca853,$57acba87d6e25586$export$ac61190d9fc311a9=$57acba87d6e25586$export$56969d565df7cc4b,ScrollArea=reactExports.forwardRef(({className:a,children:n,...e},t)=>jsxRuntimeExports.jsxs($57acba87d6e25586$export$be92b6f5f03c0fe9,{ref:t,className:cn("relative overflow-hidden",a),...e,children:[jsxRuntimeExports.jsx($57acba87d6e25586$export$d5c6c08dc2d3ca7,{className:"h-full w-full rounded-[inherit]",children:n}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx($57acba87d6e25586$export$ac61190d9fc311a9,{})]}));ScrollArea.displayName=$57acba87d6e25586$export$be92b6f5f03c0fe9.displayName;const ScrollBar=reactExports.forwardRef(({className:a,orientation:n="vertical",...e},t)=>jsxRuntimeExports.jsx($57acba87d6e25586$export$2fabd85d0eba3c57,{ref:t,orientation:n,className:cn("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...e,children:jsxRuntimeExports.jsx($57acba87d6e25586$export$9fba1154677d7cd2,{className:"relative flex-1 rounded-full bg-border"})}));ScrollBar.displayName=$57acba87d6e25586$export$2fabd85d0eba3c57.displayName;const resetHash=()=>{document.location.hash=""},parseIdFromHash=()=>document.location.hash.slice(11),updateHash=a=>{document.location.hash=`highlight-${a.id}`},PdfViewLayout=({children:a})=>jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 relative h-full w-full",children:a}),PdfContainerLayout=({children:a})=>jsxRuntimeExports.jsx("div",{className:" col-span-3 relative h-full border-x ",children:a}),SidebarContainerLayout=({children:a})=>jsxRuntimeExports.jsx("div",{className:"h-full border-r col-span-1",children:a}),HighlightPopup=({comment:a})=>a.text?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{children:[a.emoji," ",a.text]})})}):null,PdfView=a=>{const{reviews:n,url:e,onSelectionFinished:t=()=>null,updateHighlight:s}=a,u=reactExports.useRef({scrollTo:()=>{}}),p=reactExports.useCallback(_=>n.find(c=>c.id===_),[n]),o=reactExports.useCallback(()=>{const _=p(parseIdFromHash());_&&u.current.scrollTo(_)},[p]);return reactExports.useEffect(()=>(window.addEventListener("hashchange",o,!1),()=>{window.removeEventListener("hashchange",o,!1)}),[o]),jsxRuntimeExports.jsx(PdfLoader,{url:e,beforeLoad:jsxRuntimeExports.jsx(Spinner,{}),children:_=>jsxRuntimeExports.jsx(PdfHighlighter,{pdfDocument:_,enableAreaSelection:c=>c.altKey,onScrollChange:resetHash,pdfScaleValue:"page-width",scrollRef:c=>{u.current.scrollTo=c,o()},onSelectionFinished:t,highlightTransform:(c,d,T,m,v,S,w)=>{const L=!(c.content&&c.content.image)?jsxRuntimeExports.jsx(Highlight,{isScrolledTo:w,position:c.position,comment:c.comment}):jsxRuntimeExports.jsx(AreaHighlight,{isScrolledTo:w,highlight:c,onChange:g=>{s&&s(c.id,{boundingRect:v(g)},{image:S(g)})}});return jsxRuntimeExports.jsx(Popup,{popupContent:jsxRuntimeExports.jsx(HighlightPopup,{...c}),onMouseOver:g=>T(c,()=>g),onMouseOut:m,children:L},d)},highlights:n})})};export{$9f79659886946c16$export$e5c5a5f917a5871c as $,PdfViewLayout as P,ScrollArea as S,Textarea as T,$b1b2314f5f9a1d84$export$25bec8c6f54ee79a as a,$e42e1063c40fb3ef$export$b9ecd428b558ff10 as b,$c512c27ab02ef895$export$50c7b4e9d9f19c1 as c,$921a889cee6df7e8$export$99c2b779aa4e8b8b as d,$ae6933e535247d3d$export$7d15b64cf5a3a4c4 as e,$f631663db3294ace$export$b39126d51d94e6f3 as f,PdfContainerLayout as g,PdfView as h,SidebarContainerLayout as i,updateHash as u};
